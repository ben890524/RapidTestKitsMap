const _z=function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))u(v);new MutationObserver(v=>{for(const y of v)if(y.type==="childList")for(const _ of y.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&u(_)}).observe(document,{childList:!0,subtree:!0});function d(v){const y={};return v.integrity&&(y.integrity=v.integrity),v.referrerpolicy&&(y.referrerPolicy=v.referrerpolicy),v.crossorigin==="use-credentials"?y.credentials="include":v.crossorigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function u(v){if(v.ep)return;v.ep=!0;const y=d(v);fetch(v.href,y)}};_z();function wm(l,f){const d=Object.create(null),u=l.split(",");for(let v=0;v<u.length;v++)d[u[v]]=!0;return f?v=>!!d[v.toLowerCase()]:v=>!!d[v]}const Ez="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",xz=wm(Ez),Sz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wz=wm(Sz);function vb(l){return!!l||l===""}function Hg(l){if(nn(l)){const f={};for(let d=0;d<l.length;d++){const u=l[d],v=So(u)?bz(u):Hg(u);if(v)for(const y in v)f[y]=v[y]}return f}else{if(So(l))return l;if(jo(l))return l}}const Oz=/;(?![^(]*\))/g,Tz=/:(.+)/;function bz(l){const f={};return l.split(Oz).forEach(d=>{if(d){const u=d.split(Tz);u.length>1&&(f[u[0].trim()]=u[1].trim())}}),f}function Ff(l){let f="";if(So(l))f=l;else if(nn(l))for(let d=0;d<l.length;d++){const u=Ff(l[d]);u&&(f+=u+" ")}else if(jo(l))for(const d in l)l[d]&&(f+=d+" ");return f.trim()}function Cz(l){if(!l)return null;let{class:f,style:d}=l;return f&&!So(f)&&(l.class=Ff(f)),d&&(l.style=Hg(d)),l}function Az(l,f){if(l.length!==f.length)return!1;let d=!0;for(let u=0;d&&u<l.length;u++)d=jf(l[u],f[u]);return d}function jf(l,f){if(l===f)return!0;let d=aT(l),u=aT(f);if(d||u)return d&&u?l.getTime()===f.getTime():!1;if(d=nn(l),u=nn(f),d||u)return d&&u?Az(l,f):!1;if(d=jo(l),u=jo(f),d||u){if(!d||!u)return!1;const v=Object.keys(l).length,y=Object.keys(f).length;if(v!==y)return!1;for(const _ in l){const O=l.hasOwnProperty(_),b=f.hasOwnProperty(_);if(O&&!b||!O&&b||!jf(l[_],f[_]))return!1}}return String(l)===String(f)}function Om(l,f){return l.findIndex(d=>jf(d,f))}const Wi=l=>So(l)?l:l==null?"":nn(l)||jo(l)&&(l.toString===yb||!Bn(l.toString))?JSON.stringify(l,gb,2):String(l),gb=(l,f)=>f&&f.__v_isRef?gb(l,f.value):Ap(f)?{[`Map(${f.size})`]:[...f.entries()].reduce((d,[u,v])=>(d[`${u} =>`]=v,d),{})}:qh(f)?{[`Set(${f.size})`]:[...f.values()]}:jo(f)&&!nn(f)&&!mb(f)?String(f):f,Gi={},Cp=[],hu=()=>{},Lz=()=>!1,Rz=/^on[^a-z]/,Xg=l=>Rz.test(l),iE=l=>l.startsWith("onUpdate:"),Fo=Object.assign,oE=(l,f)=>{const d=l.indexOf(f);d>-1&&l.splice(d,1)},Pz=Object.prototype.hasOwnProperty,xi=(l,f)=>Pz.call(l,f),nn=Array.isArray,Ap=l=>Tm(l)==="[object Map]",qh=l=>Tm(l)==="[object Set]",aT=l=>l instanceof Date,Bn=l=>typeof l=="function",So=l=>typeof l=="string",aE=l=>typeof l=="symbol",jo=l=>l!==null&&typeof l=="object",sE=l=>jo(l)&&Bn(l.then)&&Bn(l.catch),yb=Object.prototype.toString,Tm=l=>yb.call(l),Iz=l=>Tm(l).slice(8,-1),mb=l=>Tm(l)==="[object Object]",lE=l=>So(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,Ag=wm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bm=l=>{const f=Object.create(null);return d=>f[d]||(f[d]=l(d))},Mz=/-(\w)/g,nl=bm(l=>l.replace(Mz,(f,d)=>d?d.toUpperCase():"")),Nz=/\B([A-Z])/g,Vu=bm(l=>l.replace(Nz,"-$1").toLowerCase()),Kg=bm(l=>l.charAt(0).toUpperCase()+l.slice(1)),Lg=bm(l=>l?`on${Kg(l)}`:""),Gg=(l,f)=>!Object.is(l,f),Lp=(l,f)=>{for(let d=0;d<l.length;d++)l[d](f)},hm=(l,f,d)=>{Object.defineProperty(l,f,{configurable:!0,enumerable:!1,value:d})},Df=l=>{const f=parseFloat(l);return isNaN(f)?l:f};let sT;const Fz=()=>sT||(sT=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Qs;class uE{constructor(f=!1){this.active=!0,this.effects=[],this.cleanups=[],!f&&Qs&&(this.parent=Qs,this.index=(Qs.scopes||(Qs.scopes=[])).push(this)-1)}run(f){if(this.active){const d=Qs;try{return Qs=this,f()}finally{Qs=d}}}on(){Qs=this}off(){Qs=this.parent}stop(f){if(this.active){let d,u;for(d=0,u=this.effects.length;d<u;d++)this.effects[d].stop();for(d=0,u=this.cleanups.length;d<u;d++)this.cleanups[d]();if(this.scopes)for(d=0,u=this.scopes.length;d<u;d++)this.scopes[d].stop(!0);if(this.parent&&!f){const v=this.parent.scopes.pop();v&&v!==this&&(this.parent.scopes[this.index]=v,v.index=this.index)}this.active=!1}}}function jz(l){return new uE(l)}function _b(l,f=Qs){f&&f.active&&f.effects.push(l)}function Dz(){return Qs}function Bz(l){Qs&&Qs.cleanups.push(l)}const cE=l=>{const f=new Set(l);return f.w=0,f.n=0,f},Eb=l=>(l.w&Bf)>0,xb=l=>(l.n&Bf)>0,Gz=({deps:l})=>{if(l.length)for(let f=0;f<l.length;f++)l[f].w|=Bf},Uz=l=>{const{deps:f}=l;if(f.length){let d=0;for(let u=0;u<f.length;u++){const v=f[u];Eb(v)&&!xb(v)?v.delete(l):f[d++]=v,v.w&=~Bf,v.n&=~Bf}f.length=d}},M5=new WeakMap;let Tg=0,Bf=1;const N5=30;let cu;const Hh=Symbol(""),F5=Symbol("");class $g{constructor(f,d=null,u){this.fn=f,this.scheduler=d,this.active=!0,this.deps=[],this.parent=void 0,_b(this,u)}run(){if(!this.active)return this.fn();let f=cu,d=Mf;for(;f;){if(f===this)return;f=f.parent}try{return this.parent=cu,cu=this,Mf=!0,Bf=1<<++Tg,Tg<=N5?Gz(this):lT(this),this.fn()}finally{Tg<=N5&&Uz(this),Bf=1<<--Tg,cu=this.parent,Mf=d,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cu===this?this.deferStop=!0:this.active&&(lT(this),this.onStop&&this.onStop(),this.active=!1)}}function lT(l){const{deps:f}=l;if(f.length){for(let d=0;d<f.length;d++)f[d].delete(l);f.length=0}}function kz(l,f){l.effect&&(l=l.effect.fn);const d=new $g(l);f&&(Fo(d,f),f.scope&&_b(d,f.scope)),(!f||!f.lazy)&&d.run();const u=d.run.bind(d);return u.effect=d,u}function zz(l){l.effect.stop()}let Mf=!0;const Sb=[];function Jh(){Sb.push(Mf),Mf=!1}function Qh(){const l=Sb.pop();Mf=l===void 0?!0:l}function il(l,f,d){if(Mf&&cu){let u=M5.get(l);u||M5.set(l,u=new Map);let v=u.get(d);v||u.set(d,v=cE()),wb(v)}}function wb(l,f){let d=!1;Tg<=N5?xb(l)||(l.n|=Bf,d=!Eb(l)):d=!l.has(cu),d&&(l.add(cu),cu.deps.push(l))}function xc(l,f,d,u,v,y){const _=M5.get(l);if(!_)return;let O=[];if(f==="clear")O=[..._.values()];else if(d==="length"&&nn(l))_.forEach((b,D)=>{(D==="length"||D>=u)&&O.push(b)});else switch(d!==void 0&&O.push(_.get(d)),f){case"add":nn(l)?lE(d)&&O.push(_.get("length")):(O.push(_.get(Hh)),Ap(l)&&O.push(_.get(F5)));break;case"delete":nn(l)||(O.push(_.get(Hh)),Ap(l)&&O.push(_.get(F5)));break;case"set":Ap(l)&&O.push(_.get(Hh));break}if(O.length===1)O[0]&&j5(O[0]);else{const b=[];for(const D of O)D&&b.push(...D);j5(cE(b))}}function j5(l,f){for(const d of nn(l)?l:[...l])(d!==cu||d.allowRecurse)&&(d.scheduler?d.scheduler():d.run())}const Vz=wm("__proto__,__v_isRef,__isVue"),Ob=new Set(Object.getOwnPropertyNames(Symbol).map(l=>Symbol[l]).filter(aE)),Wz=Cm(),Yz=Cm(!1,!0),Hz=Cm(!0),Xz=Cm(!0,!0),uT=Kz();function Kz(){const l={};return["includes","indexOf","lastIndexOf"].forEach(f=>{l[f]=function(...d){const u=_i(this);for(let y=0,_=this.length;y<_;y++)il(u,"get",y+"");const v=u[f](...d);return v===-1||v===!1?u[f](...d.map(_i)):v}}),["push","pop","shift","unshift","splice"].forEach(f=>{l[f]=function(...d){Jh();const u=_i(this)[f].apply(this,d);return Qh(),u}}),l}function Cm(l=!1,f=!1){return function(u,v,y){if(v==="__v_isReactive")return!l;if(v==="__v_isReadonly")return l;if(v==="__v_isShallow")return f;if(v==="__v_raw"&&y===(l?f?Pb:Rb:f?Lb:Ab).get(u))return u;const _=nn(u);if(!l&&_&&xi(uT,v))return Reflect.get(uT,v,y);const O=Reflect.get(u,v,y);return(aE(v)?Ob.has(v):Vz(v))||(l||il(u,"get",v),f)?O:go(O)?!_||!lE(v)?O.value:O:jo(O)?l?hE(O):Sc(O):O}}const $z=Tb(),Zz=Tb(!0);function Tb(l=!1){return function(d,u,v,y){let _=d[u];if(Mp(_)&&go(_)&&!go(v))return!1;if(!l&&!Mp(v)&&(dE(v)||(v=_i(v),_=_i(_)),!nn(d)&&go(_)&&!go(v)))return _.value=v,!0;const O=nn(d)&&lE(u)?Number(u)<d.length:xi(d,u),b=Reflect.set(d,u,v,y);return d===_i(y)&&(O?Gg(v,_)&&xc(d,"set",u,v):xc(d,"add",u,v)),b}}function qz(l,f){const d=xi(l,f);l[f];const u=Reflect.deleteProperty(l,f);return u&&d&&xc(l,"delete",f,void 0),u}function Jz(l,f){const d=Reflect.has(l,f);return(!aE(f)||!Ob.has(f))&&il(l,"has",f),d}function Qz(l){return il(l,"iterate",nn(l)?"length":Hh),Reflect.ownKeys(l)}const bb={get:Wz,set:$z,deleteProperty:qz,has:Jz,ownKeys:Qz},Cb={get:Hz,set(l,f){return!0},deleteProperty(l,f){return!0}},tV=Fo({},bb,{get:Yz,set:Zz}),eV=Fo({},Cb,{get:Xz}),fE=l=>l,Am=l=>Reflect.getPrototypeOf(l);function q0(l,f,d=!1,u=!1){l=l.__v_raw;const v=_i(l),y=_i(f);f!==y&&!d&&il(v,"get",f),!d&&il(v,"get",y);const{has:_}=Am(v),O=u?fE:d?gE:Ug;if(_.call(v,f))return O(l.get(f));if(_.call(v,y))return O(l.get(y));l!==v&&l.get(f)}function J0(l,f=!1){const d=this.__v_raw,u=_i(d),v=_i(l);return l!==v&&!f&&il(u,"has",l),!f&&il(u,"has",v),l===v?d.has(l):d.has(l)||d.has(v)}function Q0(l,f=!1){return l=l.__v_raw,!f&&il(_i(l),"iterate",Hh),Reflect.get(l,"size",l)}function cT(l){l=_i(l);const f=_i(this);return Am(f).has.call(f,l)||(f.add(l),xc(f,"add",l,l)),this}function fT(l,f){f=_i(f);const d=_i(this),{has:u,get:v}=Am(d);let y=u.call(d,l);y||(l=_i(l),y=u.call(d,l));const _=v.call(d,l);return d.set(l,f),y?Gg(f,_)&&xc(d,"set",l,f):xc(d,"add",l,f),this}function hT(l){const f=_i(this),{has:d,get:u}=Am(f);let v=d.call(f,l);v||(l=_i(l),v=d.call(f,l)),u&&u.call(f,l);const y=f.delete(l);return v&&xc(f,"delete",l,void 0),y}function dT(){const l=_i(this),f=l.size!==0,d=l.clear();return f&&xc(l,"clear",void 0,void 0),d}function tm(l,f){return function(u,v){const y=this,_=y.__v_raw,O=_i(_),b=f?fE:l?gE:Ug;return!l&&il(O,"iterate",Hh),_.forEach((D,F)=>u.call(v,b(D),b(F),y))}}function em(l,f,d){return function(...u){const v=this.__v_raw,y=_i(v),_=Ap(y),O=l==="entries"||l===Symbol.iterator&&_,b=l==="keys"&&_,D=v[l](...u),F=d?fE:f?gE:Ug;return!f&&il(y,"iterate",b?F5:Hh),{next(){const{value:L,done:B}=D.next();return B?{value:L,done:B}:{value:O?[F(L[0]),F(L[1])]:F(L),done:B}},[Symbol.iterator](){return this}}}}function wf(l){return function(...f){return l==="delete"?!1:this}}function rV(){const l={get(y){return q0(this,y)},get size(){return Q0(this)},has:J0,add:cT,set:fT,delete:hT,clear:dT,forEach:tm(!1,!1)},f={get(y){return q0(this,y,!1,!0)},get size(){return Q0(this)},has:J0,add:cT,set:fT,delete:hT,clear:dT,forEach:tm(!1,!0)},d={get(y){return q0(this,y,!0)},get size(){return Q0(this,!0)},has(y){return J0.call(this,y,!0)},add:wf("add"),set:wf("set"),delete:wf("delete"),clear:wf("clear"),forEach:tm(!0,!1)},u={get(y){return q0(this,y,!0,!0)},get size(){return Q0(this,!0)},has(y){return J0.call(this,y,!0)},add:wf("add"),set:wf("set"),delete:wf("delete"),clear:wf("clear"),forEach:tm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(y=>{l[y]=em(y,!1,!1),d[y]=em(y,!0,!1),f[y]=em(y,!1,!0),u[y]=em(y,!0,!0)}),[l,d,f,u]}const[nV,iV,oV,aV]=rV();function Lm(l,f){const d=f?l?aV:oV:l?iV:nV;return(u,v,y)=>v==="__v_isReactive"?!l:v==="__v_isReadonly"?l:v==="__v_raw"?u:Reflect.get(xi(d,v)&&v in u?d:u,v,y)}const sV={get:Lm(!1,!1)},lV={get:Lm(!1,!0)},uV={get:Lm(!0,!1)},cV={get:Lm(!0,!0)},Ab=new WeakMap,Lb=new WeakMap,Rb=new WeakMap,Pb=new WeakMap;function fV(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hV(l){return l.__v_skip||!Object.isExtensible(l)?0:fV(Iz(l))}function Sc(l){return Mp(l)?l:Rm(l,!1,bb,sV,Ab)}function Ib(l){return Rm(l,!1,tV,lV,Lb)}function hE(l){return Rm(l,!0,Cb,uV,Rb)}function dV(l){return Rm(l,!0,eV,cV,Pb)}function Rm(l,f,d,u,v){if(!jo(l)||l.__v_raw&&!(f&&l.__v_isReactive))return l;const y=v.get(l);if(y)return y;const _=hV(l);if(_===0)return l;const O=new Proxy(l,_===2?u:d);return v.set(l,O),O}function Xh(l){return Mp(l)?Xh(l.__v_raw):!!(l&&l.__v_isReactive)}function Mp(l){return!!(l&&l.__v_isReadonly)}function dE(l){return!!(l&&l.__v_isShallow)}function pE(l){return Xh(l)||Mp(l)}function _i(l){const f=l&&l.__v_raw;return f?_i(f):l}function vE(l){return hm(l,"__v_skip",!0),l}const Ug=l=>jo(l)?Sc(l):l,gE=l=>jo(l)?hE(l):l;function yE(l){Mf&&cu&&(l=_i(l),wb(l.dep||(l.dep=cE())))}function Pm(l,f){l=_i(l),l.dep&&j5(l.dep)}function go(l){return!!(l&&l.__v_isRef===!0)}function ci(l){return Nb(l,!1)}function Mb(l){return Nb(l,!0)}function Nb(l,f){return go(l)?l:new pV(l,f)}class pV{constructor(f,d){this.__v_isShallow=d,this.dep=void 0,this.__v_isRef=!0,this._rawValue=d?f:_i(f),this._value=d?f:Ug(f)}get value(){return yE(this),this._value}set value(f){f=this.__v_isShallow?f:_i(f),Gg(f,this._rawValue)&&(this._rawValue=f,this._value=this.__v_isShallow?f:Ug(f),Pm(this))}}function vV(l){Pm(l)}function ti(l){return go(l)?l.value:l}const gV={get:(l,f,d)=>ti(Reflect.get(l,f,d)),set:(l,f,d,u)=>{const v=l[f];return go(v)&&!go(d)?(v.value=d,!0):Reflect.set(l,f,d,u)}};function mE(l){return Xh(l)?l:new Proxy(l,gV)}class yV{constructor(f){this.dep=void 0,this.__v_isRef=!0;const{get:d,set:u}=f(()=>yE(this),()=>Pm(this));this._get=d,this._set=u}get value(){return this._get()}set value(f){this._set(f)}}function mV(l){return new yV(l)}function _V(l){const f=nn(l)?new Array(l.length):{};for(const d in l)f[d]=Fb(l,d);return f}class EV{constructor(f,d,u){this._object=f,this._key=d,this._defaultValue=u,this.__v_isRef=!0}get value(){const f=this._object[this._key];return f===void 0?this._defaultValue:f}set value(f){this._object[this._key]=f}}function Fb(l,f,d){const u=l[f];return go(u)?u:new EV(l,f,d)}class xV{constructor(f,d,u,v){this._setter=d,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new $g(f,()=>{this._dirty||(this._dirty=!0,Pm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!v,this.__v_isReadonly=u}get value(){const f=_i(this);return yE(f),(f._dirty||!f._cacheable)&&(f._dirty=!1,f._value=f.effect.run()),f._value}set value(f){this._setter(f)}}function SV(l,f,d=!1){let u,v;const y=Bn(l);return y?(u=l,v=hu):(u=l.get,v=l.set),new xV(u,v,y||!v,d)}const Rg=[];function jb(l,...f){Jh();const d=Rg.length?Rg[Rg.length-1].component:null,u=d&&d.appContext.config.warnHandler,v=wV();if(u)Wu(u,d,11,[l+f.join(""),d&&d.proxy,v.map(({vnode:y})=>`at <${bC(d,y.type)}>`).join(`
`),v]);else{const y=[`[Vue warn]: ${l}`,...f];v.length&&y.push(`
`,...OV(v)),console.warn(...y)}Qh()}function wV(){let l=Rg[Rg.length-1];if(!l)return[];const f=[];for(;l;){const d=f[0];d&&d.vnode===l?d.recurseCount++:f.push({vnode:l,recurseCount:0});const u=l.component&&l.component.parent;l=u&&u.vnode}return f}function OV(l){const f=[];return l.forEach((d,u)=>{f.push(...u===0?[]:[`
`],...TV(d))}),f}function TV({vnode:l,recurseCount:f}){const d=f>0?`... (${f} recursive calls)`:"",u=l.component?l.component.parent==null:!1,v=` at <${bC(l.component,l.type,u)}`,y=">"+d;return l.props?[v,...bV(l.props),y]:[v+y]}function bV(l){const f=[],d=Object.keys(l);return d.slice(0,3).forEach(u=>{f.push(...Db(u,l[u]))}),d.length>3&&f.push(" ..."),f}function Db(l,f,d){return So(f)?(f=JSON.stringify(f),d?f:[`${l}=${f}`]):typeof f=="number"||typeof f=="boolean"||f==null?d?f:[`${l}=${f}`]:go(f)?(f=Db(l,_i(f.value),!0),d?f:[`${l}=Ref<`,f,">"]):Bn(f)?[`${l}=fn${f.name?`<${f.name}>`:""}`]:(f=_i(f),d?f:[`${l}=`,f])}function Wu(l,f,d,u){let v;try{v=u?l(...u):l()}catch(y){td(y,f,d)}return v}function rl(l,f,d,u){if(Bn(l)){const y=Wu(l,f,d,u);return y&&sE(y)&&y.catch(_=>{td(_,f,d)}),y}const v=[];for(let y=0;y<l.length;y++)v.push(rl(l[y],f,d,u));return v}function td(l,f,d,u=!0){const v=f?f.vnode:null;if(f){let y=f.parent;const _=f.proxy,O=d;for(;y;){const D=y.ec;if(D){for(let F=0;F<D.length;F++)if(D[F](l,_,O)===!1)return}y=y.parent}const b=f.appContext.config.errorHandler;if(b){Wu(b,null,10,[l,_,O]);return}}CV(l,d,v,u)}function CV(l,f,d,u=!0){console.error(l)}let dm=!1,D5=!1;const el=[];let _c=0;const Pg=[];let bg=null,wp=0;const Ig=[];let Af=null,Op=0;const Bb=Promise.resolve();let _E=null,B5=null;function Im(l){const f=_E||Bb;return l?f.then(this?l.bind(this):l):f}function AV(l){let f=_c+1,d=el.length;for(;f<d;){const u=f+d>>>1;kg(el[u])<l?f=u+1:d=u}return f}function EE(l){(!el.length||!el.includes(l,dm&&l.allowRecurse?_c+1:_c))&&l!==B5&&(l.id==null?el.push(l):el.splice(AV(l.id),0,l),Gb())}function Gb(){!dm&&!D5&&(D5=!0,_E=Bb.then(kb))}function LV(l){const f=el.indexOf(l);f>_c&&el.splice(f,1)}function Ub(l,f,d,u){nn(l)?d.push(...l):(!f||!f.includes(l,l.allowRecurse?u+1:u))&&d.push(l),Gb()}function RV(l){Ub(l,bg,Pg,wp)}function xE(l){Ub(l,Af,Ig,Op)}function SE(l,f=null){if(Pg.length){for(B5=f,bg=[...new Set(Pg)],Pg.length=0,wp=0;wp<bg.length;wp++)bg[wp]();bg=null,wp=0,B5=null,SE(l,f)}}function pm(l){if(Ig.length){const f=[...new Set(Ig)];if(Ig.length=0,Af){Af.push(...f);return}for(Af=f,Af.sort((d,u)=>kg(d)-kg(u)),Op=0;Op<Af.length;Op++)Af[Op]();Af=null,Op=0}}const kg=l=>l.id==null?1/0:l.id;function kb(l){D5=!1,dm=!0,SE(l),el.sort((d,u)=>kg(d)-kg(u));const f=hu;try{for(_c=0;_c<el.length;_c++){const d=el[_c];d&&d.active!==!1&&Wu(d,null,14)}}finally{_c=0,el.length=0,pm(),dm=!1,_E=null,(el.length||Pg.length||Ig.length)&&kb(l)}}let Tp,rm=[];function zb(l,f){var d,u;Tp=l,Tp?(Tp.enabled=!0,rm.forEach(({event:v,args:y})=>Tp.emit(v,...y)),rm=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((u=(d=window.navigator)===null||d===void 0?void 0:d.userAgent)===null||u===void 0)&&u.includes("jsdom"))?((f.__VUE_DEVTOOLS_HOOK_REPLAY__=f.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(y=>{zb(y,f)}),setTimeout(()=>{Tp||(f.__VUE_DEVTOOLS_HOOK_REPLAY__=null,rm=[])},3e3)):rm=[]}function PV(l,f,...d){if(l.isUnmounted)return;const u=l.vnode.props||Gi;let v=d;const y=f.startsWith("update:"),_=y&&f.slice(7);if(_&&_ in u){const F=`${_==="modelValue"?"model":_}Modifiers`,{number:L,trim:B}=u[F]||Gi;B?v=d.map(H=>H.trim()):L&&(v=d.map(Df))}let O,b=u[O=Lg(f)]||u[O=Lg(nl(f))];!b&&y&&(b=u[O=Lg(Vu(f))]),b&&rl(b,l,6,v);const D=u[O+"Once"];if(D){if(!l.emitted)l.emitted={};else if(l.emitted[O])return;l.emitted[O]=!0,rl(D,l,6,v)}}function Vb(l,f,d=!1){const u=f.emitsCache,v=u.get(l);if(v!==void 0)return v;const y=l.emits;let _={},O=!1;if(!Bn(l)){const b=D=>{const F=Vb(D,f,!0);F&&(O=!0,Fo(_,F))};!d&&f.mixins.length&&f.mixins.forEach(b),l.extends&&b(l.extends),l.mixins&&l.mixins.forEach(b)}return!y&&!O?(u.set(l,null),null):(nn(y)?y.forEach(b=>_[b]=null):Fo(_,y),u.set(l,_),_)}function Mm(l,f){return!l||!Xg(f)?!1:(f=f.slice(2).replace(/Once$/,""),xi(l,f[0].toLowerCase()+f.slice(1))||xi(l,Vu(f))||xi(l,f))}let Va=null,Nm=null;function zg(l){const f=Va;return Va=l,Nm=l&&l.type.__scopeId||null,f}function Hp(l){Nm=l}function Xp(){Nm=null}const IV=l=>Rp;function Rp(l,f=Va,d){if(!f||l._n)return l;const u=(...v)=>{u._d&&V5(-1);const y=zg(f),_=l(...v);return zg(y),u._d&&V5(1),_};return u._n=!0,u._c=!0,u._d=!0,u}function lm(l){const{type:f,vnode:d,proxy:u,withProxy:v,props:y,propsOptions:[_],slots:O,attrs:b,emit:D,render:F,renderCache:L,data:B,setupState:H,ctx:W,inheritAttrs:$}=l;let q,tt;const J=zg(l);try{if(d.shapeFlag&4){const rt=v||u;q=tl(F.call(rt,rt,L,y,H,B,W)),tt=b}else{const rt=f;q=tl(rt.length>1?rt(y,{attrs:b,slots:O,emit:D}):rt(y,null)),tt=f.props?b:NV(b)}}catch(rt){Fg.length=0,td(rt,l,1),q=Li(Wa)}let _t=q;if(tt&&$!==!1){const rt=Object.keys(tt),{shapeFlag:I}=_t;rt.length&&I&7&&(_&&rt.some(iE)&&(tt=FV(tt,_)),_t=wc(_t,tt))}return d.dirs&&(_t.dirs=_t.dirs?_t.dirs.concat(d.dirs):d.dirs),d.transition&&(_t.transition=d.transition),q=_t,zg(J),q}function MV(l){let f;for(let d=0;d<l.length;d++){const u=l[d];if(Gf(u)){if(u.type!==Wa||u.children==="v-if"){if(f)return;f=u}}else return}return f}const NV=l=>{let f;for(const d in l)(d==="class"||d==="style"||Xg(d))&&((f||(f={}))[d]=l[d]);return f},FV=(l,f)=>{const d={};for(const u in l)(!iE(u)||!(u.slice(9)in f))&&(d[u]=l[u]);return d};function jV(l,f,d){const{props:u,children:v,component:y}=l,{props:_,children:O,patchFlag:b}=f,D=y.emitsOptions;if(f.dirs||f.transition)return!0;if(d&&b>=0){if(b&1024)return!0;if(b&16)return u?pT(u,_,D):!!_;if(b&8){const F=f.dynamicProps;for(let L=0;L<F.length;L++){const B=F[L];if(_[B]!==u[B]&&!Mm(D,B))return!0}}}else return(v||O)&&(!O||!O.$stable)?!0:u===_?!1:u?_?pT(u,_,D):!0:!!_;return!1}function pT(l,f,d){const u=Object.keys(f);if(u.length!==Object.keys(l).length)return!0;for(let v=0;v<u.length;v++){const y=u[v];if(f[y]!==l[y]&&!Mm(d,y))return!0}return!1}function wE({vnode:l,parent:f},d){for(;f&&f.subTree===l;)(l=f.vnode).el=d,f=f.parent}const DV=l=>l.__isSuspense,BV={name:"Suspense",__isSuspense:!0,process(l,f,d,u,v,y,_,O,b,D){l==null?UV(f,d,u,v,y,_,O,b,D):kV(l,f,d,u,v,_,O,b,D)},hydrate:zV,create:OE,normalize:VV},GV=BV;function Vg(l,f){const d=l.props&&l.props[f];Bn(d)&&d()}function UV(l,f,d,u,v,y,_,O,b){const{p:D,o:{createElement:F}}=b,L=F("div"),B=l.suspense=OE(l,v,u,f,L,d,y,_,O,b);D(null,B.pendingBranch=l.ssContent,L,null,u,B,y,_),B.deps>0?(Vg(l,"onPending"),Vg(l,"onFallback"),D(null,l.ssFallback,f,d,u,null,y,_),Pp(B,l.ssFallback)):B.resolve()}function kV(l,f,d,u,v,y,_,O,{p:b,um:D,o:{createElement:F}}){const L=f.suspense=l.suspense;L.vnode=f,f.el=l.el;const B=f.ssContent,H=f.ssFallback,{activeBranch:W,pendingBranch:$,isInFallback:q,isHydrating:tt}=L;if($)L.pendingBranch=B,zu(B,$)?(b($,B,L.hiddenContainer,null,v,L,y,_,O),L.deps<=0?L.resolve():q&&(b(W,H,d,u,v,null,y,_,O),Pp(L,H))):(L.pendingId++,tt?(L.isHydrating=!1,L.activeBranch=$):D($,v,L),L.deps=0,L.effects.length=0,L.hiddenContainer=F("div"),q?(b(null,B,L.hiddenContainer,null,v,L,y,_,O),L.deps<=0?L.resolve():(b(W,H,d,u,v,null,y,_,O),Pp(L,H))):W&&zu(B,W)?(b(W,B,d,u,v,L,y,_,O),L.resolve(!0)):(b(null,B,L.hiddenContainer,null,v,L,y,_,O),L.deps<=0&&L.resolve()));else if(W&&zu(B,W))b(W,B,d,u,v,L,y,_,O),Pp(L,B);else if(Vg(f,"onPending"),L.pendingBranch=B,L.pendingId++,b(null,B,L.hiddenContainer,null,v,L,y,_,O),L.deps<=0)L.resolve();else{const{timeout:J,pendingId:_t}=L;J>0?setTimeout(()=>{L.pendingId===_t&&L.fallback(H)},J):J===0&&L.fallback(H)}}function OE(l,f,d,u,v,y,_,O,b,D,F=!1){const{p:L,m:B,um:H,n:W,o:{parentNode:$,remove:q}}=D,tt=Df(l.props&&l.props.timeout),J={vnode:l,parent:f,parentComponent:d,isSVG:_,container:u,hiddenContainer:v,anchor:y,deps:0,pendingId:0,timeout:typeof tt=="number"?tt:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:F,isUnmounted:!1,effects:[],resolve(_t=!1){const{vnode:rt,activeBranch:I,pendingBranch:Et,pendingId:bt,effects:Nt,parentComponent:ct,container:jt}=J;if(J.isHydrating)J.isHydrating=!1;else if(!_t){const Dt=I&&Et.transition&&Et.transition.mode==="out-in";Dt&&(I.transition.afterLeave=()=>{bt===J.pendingId&&B(Et,jt,qt,0)});let{anchor:qt}=J;I&&(qt=W(I),H(I,ct,J,!0)),Dt||B(Et,jt,qt,0)}Pp(J,Et),J.pendingBranch=null,J.isInFallback=!1;let gt=J.parent,St=!1;for(;gt;){if(gt.pendingBranch){gt.effects.push(...Nt),St=!0;break}gt=gt.parent}St||xE(Nt),J.effects=[],Vg(rt,"onResolve")},fallback(_t){if(!J.pendingBranch)return;const{vnode:rt,activeBranch:I,parentComponent:Et,container:bt,isSVG:Nt}=J;Vg(rt,"onFallback");const ct=W(I),jt=()=>{!J.isInFallback||(L(null,_t,bt,ct,Et,null,Nt,O,b),Pp(J,_t))},gt=_t.transition&&_t.transition.mode==="out-in";gt&&(I.transition.afterLeave=jt),J.isInFallback=!0,H(I,Et,null,!0),gt||jt()},move(_t,rt,I){J.activeBranch&&B(J.activeBranch,_t,rt,I),J.container=_t},next(){return J.activeBranch&&W(J.activeBranch)},registerDep(_t,rt){const I=!!J.pendingBranch;I&&J.deps++;const Et=_t.vnode.el;_t.asyncDep.catch(bt=>{td(bt,_t,0)}).then(bt=>{if(_t.isUnmounted||J.isUnmounted||J.pendingId!==_t.suspenseId)return;_t.asyncResolved=!0;const{vnode:Nt}=_t;H5(_t,bt,!1),Et&&(Nt.el=Et);const ct=!Et&&_t.subTree.el;rt(_t,Nt,$(Et||_t.subTree.el),Et?null:W(_t.subTree),J,_,b),ct&&q(ct),wE(_t,Nt.el),I&&--J.deps===0&&J.resolve()})},unmount(_t,rt){J.isUnmounted=!0,J.activeBranch&&H(J.activeBranch,d,_t,rt),J.pendingBranch&&H(J.pendingBranch,d,_t,rt)}};return J}function zV(l,f,d,u,v,y,_,O,b){const D=f.suspense=OE(f,u,d,l.parentNode,document.createElement("div"),null,v,y,_,O,!0),F=b(l,D.pendingBranch=f.ssContent,d,D,y,_);return D.deps===0&&D.resolve(),F}function VV(l){const{shapeFlag:f,children:d}=l,u=f&32;l.ssContent=vT(u?d.default:d),l.ssFallback=u?vT(d.fallback):Li(Wa)}function vT(l){let f;if(Bn(l)){const d=Dp&&l._c;d&&(l._d=!1,ro()),l=l(),d&&(l._d=!0,f=Hu,vC())}return nn(l)&&(l=MV(l)),l=tl(l),f&&!l.dynamicChildren&&(l.dynamicChildren=f.filter(d=>d!==l)),l}function Wb(l,f){f&&f.pendingBranch?nn(l)?f.effects.push(...l):f.effects.push(l):xE(l)}function Pp(l,f){l.activeBranch=f;const{vnode:d,parentComponent:u}=l,v=d.el=f.el;u&&u.subTree===d&&(u.vnode.el=v,wE(u,v))}function Mg(l,f){if(oa){let d=oa.provides;const u=oa.parent&&oa.parent.provides;u===d&&(d=oa.provides=Object.create(u)),d[l]=f}}function Yu(l,f,d=!1){const u=oa||Va;if(u){const v=u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides;if(v&&l in v)return v[l];if(arguments.length>1)return d&&Bn(f)?f.call(u.proxy):f}}function WV(l,f){return Zg(l,null,f)}function Yb(l,f){return Zg(l,null,{flush:"post"})}function YV(l,f){return Zg(l,null,{flush:"sync"})}const gT={};function Ip(l,f,d){return Zg(l,f,d)}function Zg(l,f,{immediate:d,deep:u,flush:v,onTrack:y,onTrigger:_}=Gi){const O=oa;let b,D=!1,F=!1;if(go(l)?(b=()=>l.value,D=dE(l)):Xh(l)?(b=()=>l,u=!0):nn(l)?(F=!0,D=l.some(Xh),b=()=>l.map(tt=>{if(go(tt))return tt.value;if(Xh(tt))return Yh(tt);if(Bn(tt))return Wu(tt,O,2)})):Bn(l)?f?b=()=>Wu(l,O,2):b=()=>{if(!(O&&O.isUnmounted))return L&&L(),rl(l,O,3,[B])}:b=hu,f&&u){const tt=b;b=()=>Yh(tt())}let L,B=tt=>{L=q.onStop=()=>{Wu(tt,O,4)}};if(Bp)return B=hu,f?d&&rl(f,O,3,[b(),F?[]:void 0,B]):b(),hu;let H=F?[]:gT;const W=()=>{if(!!q.active)if(f){const tt=q.run();(u||D||(F?tt.some((J,_t)=>Gg(J,H[_t])):Gg(tt,H)))&&(L&&L(),rl(f,O,3,[tt,H===gT?void 0:H,B]),H=tt)}else q.run()};W.allowRecurse=!!f;let $;v==="sync"?$=W:v==="post"?$=()=>Ta(W,O&&O.suspense):$=()=>{!O||O.isMounted?RV(W):W()};const q=new $g(b,$);return f?d?W():H=q.run():v==="post"?Ta(q.run.bind(q),O&&O.suspense):q.run(),()=>{q.stop(),O&&O.scope&&oE(O.scope.effects,q)}}function HV(l,f,d){const u=this.proxy,v=So(l)?l.includes(".")?Hb(u,l):()=>u[l]:l.bind(u,u);let y;Bn(f)?y=f:(y=f.handler,d=f);const _=oa;Uf(this);const O=Zg(v,y.bind(u),d);return _?Uf(_):Nf(),O}function Hb(l,f){const d=f.split(".");return()=>{let u=l;for(let v=0;v<d.length&&u;v++)u=u[d[v]];return u}}function Yh(l,f){if(!jo(l)||l.__v_skip||(f=f||new Set,f.has(l)))return l;if(f.add(l),go(l))Yh(l.value,f);else if(nn(l))for(let d=0;d<l.length;d++)Yh(l[d],f);else if(qh(l)||Ap(l))l.forEach(d=>{Yh(d,f)});else if(mb(l))for(const d in l)Yh(l[d],f);return l}function TE(){const l={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zf(()=>{l.isMounted=!0}),Jg(()=>{l.isUnmounting=!0}),l}const Il=[Function,Array],XV={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Il,onEnter:Il,onAfterEnter:Il,onEnterCancelled:Il,onBeforeLeave:Il,onLeave:Il,onAfterLeave:Il,onLeaveCancelled:Il,onBeforeAppear:Il,onAppear:Il,onAfterAppear:Il,onAppearCancelled:Il},setup(l,{slots:f}){const d=Vf(),u=TE();let v;return()=>{const y=f.default&&Fm(f.default(),!0);if(!y||!y.length)return;let _=y[0];if(y.length>1){for(const $ of y)if($.type!==Wa){_=$;break}}const O=_i(l),{mode:b}=O;if(u.isLeaving)return _5(_);const D=yT(_);if(!D)return _5(_);const F=Np(D,O,u,d);Zh(D,F);const L=d.subTree,B=L&&yT(L);let H=!1;const{getTransitionKey:W}=D.type;if(W){const $=W();v===void 0?v=$:$!==v&&(v=$,H=!0)}if(B&&B.type!==Wa&&(!zu(D,B)||H)){const $=Np(B,O,u,d);if(Zh(B,$),b==="out-in")return u.isLeaving=!0,$.afterLeave=()=>{u.isLeaving=!1,d.update()},_5(_);b==="in-out"&&D.type!==Wa&&($.delayLeave=(q,tt,J)=>{const _t=Xb(u,B);_t[String(B.key)]=B,q._leaveCb=()=>{tt(),q._leaveCb=void 0,delete F.delayedLeave},F.delayedLeave=J})}return _}}},bE=XV;function Xb(l,f){const{leavingVNodes:d}=l;let u=d.get(f.type);return u||(u=Object.create(null),d.set(f.type,u)),u}function Np(l,f,d,u){const{appear:v,mode:y,persisted:_=!1,onBeforeEnter:O,onEnter:b,onAfterEnter:D,onEnterCancelled:F,onBeforeLeave:L,onLeave:B,onAfterLeave:H,onLeaveCancelled:W,onBeforeAppear:$,onAppear:q,onAfterAppear:tt,onAppearCancelled:J}=f,_t=String(l.key),rt=Xb(d,l),I=(bt,Nt)=>{bt&&rl(bt,u,9,Nt)},Et={mode:y,persisted:_,beforeEnter(bt){let Nt=O;if(!d.isMounted)if(v)Nt=$||O;else return;bt._leaveCb&&bt._leaveCb(!0);const ct=rt[_t];ct&&zu(l,ct)&&ct.el._leaveCb&&ct.el._leaveCb(),I(Nt,[bt])},enter(bt){let Nt=b,ct=D,jt=F;if(!d.isMounted)if(v)Nt=q||b,ct=tt||D,jt=J||F;else return;let gt=!1;const St=bt._enterCb=Dt=>{gt||(gt=!0,Dt?I(jt,[bt]):I(ct,[bt]),Et.delayedLeave&&Et.delayedLeave(),bt._enterCb=void 0)};Nt?(Nt(bt,St),Nt.length<=1&&St()):St()},leave(bt,Nt){const ct=String(l.key);if(bt._enterCb&&bt._enterCb(!0),d.isUnmounting)return Nt();I(L,[bt]);let jt=!1;const gt=bt._leaveCb=St=>{jt||(jt=!0,Nt(),St?I(W,[bt]):I(H,[bt]),bt._leaveCb=void 0,rt[ct]===l&&delete rt[ct])};rt[ct]=l,B?(B(bt,gt),B.length<=1&&gt()):gt()},clone(bt){return Np(bt,f,d,u)}};return Et}function _5(l){if(qg(l))return l=wc(l),l.children=null,l}function yT(l){return qg(l)?l.children?l.children[0]:void 0:l}function Zh(l,f){l.shapeFlag&6&&l.component?Zh(l.component.subTree,f):l.shapeFlag&128?(l.ssContent.transition=f.clone(l.ssContent),l.ssFallback.transition=f.clone(l.ssFallback)):l.transition=f}function Fm(l,f=!1,d){let u=[],v=0;for(let y=0;y<l.length;y++){let _=l[y];const O=d==null?_.key:String(d)+String(_.key!=null?_.key:y);_.type===ao?(_.patchFlag&128&&v++,u=u.concat(Fm(_.children,f,O))):(f||_.type!==Wa)&&u.push(O!=null?wc(_,{key:O}):_)}if(v>1)for(let y=0;y<u.length;y++)u[y].patchFlag=-2;return u}function Ku(l){return Bn(l)?{setup:l,name:l.name}:l}const Fp=l=>!!l.type.__asyncLoader;function KV(l){Bn(l)&&(l={loader:l});const{loader:f,loadingComponent:d,errorComponent:u,delay:v=200,timeout:y,suspensible:_=!0,onError:O}=l;let b=null,D,F=0;const L=()=>(F++,b=null,B()),B=()=>{let H;return b||(H=b=f().catch(W=>{if(W=W instanceof Error?W:new Error(String(W)),O)return new Promise(($,q)=>{O(W,()=>$(L()),()=>q(W),F+1)});throw W}).then(W=>H!==b&&b?b:(W&&(W.__esModule||W[Symbol.toStringTag]==="Module")&&(W=W.default),D=W,W)))};return Ku({name:"AsyncComponentWrapper",__asyncLoader:B,get __asyncResolved(){return D},setup(){const H=oa;if(D)return()=>E5(D,H);const W=J=>{b=null,td(J,H,13,!u)};if(_&&H.suspense||Bp)return B().then(J=>()=>E5(J,H)).catch(J=>(W(J),()=>u?Li(u,{error:J}):null));const $=ci(!1),q=ci(),tt=ci(!!v);return v&&setTimeout(()=>{tt.value=!1},v),y!=null&&setTimeout(()=>{if(!$.value&&!q.value){const J=new Error(`Async component timed out after ${y}ms.`);W(J),q.value=J}},y),B().then(()=>{$.value=!0,H.parent&&qg(H.parent.vnode)&&EE(H.parent.update)}).catch(J=>{W(J),q.value=J}),()=>{if($.value&&D)return E5(D,H);if(q.value&&u)return Li(u,{error:q.value});if(d&&!tt.value)return Li(d)}}})}function E5(l,{vnode:{ref:f,props:d,children:u}}){const v=Li(l,d,u);return v.ref=f,v}const qg=l=>l.type.__isKeepAlive,$V={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(l,{slots:f}){const d=Vf(),u=d.ctx;if(!u.renderer)return f.default;const v=new Map,y=new Set;let _=null;const O=d.suspense,{renderer:{p:b,m:D,um:F,o:{createElement:L}}}=u,B=L("div");u.activate=(J,_t,rt,I,Et)=>{const bt=J.component;D(J,_t,rt,0,O),b(bt.vnode,J,_t,rt,bt,O,I,J.slotScopeIds,Et),Ta(()=>{bt.isDeactivated=!1,bt.a&&Lp(bt.a);const Nt=J.props&&J.props.onVnodeMounted;Nt&&Ls(Nt,bt.parent,J)},O)},u.deactivate=J=>{const _t=J.component;D(J,B,null,1,O),Ta(()=>{_t.da&&Lp(_t.da);const rt=J.props&&J.props.onVnodeUnmounted;rt&&Ls(rt,_t.parent,J),_t.isDeactivated=!0},O)};function H(J){x5(J),F(J,d,O,!0)}function W(J){v.forEach((_t,rt)=>{const I=_m(_t.type);I&&(!J||!J(I))&&$(rt)})}function $(J){const _t=v.get(J);!_||_t.type!==_.type?H(_t):_&&x5(_),v.delete(J),y.delete(J)}Ip(()=>[l.include,l.exclude],([J,_t])=>{J&&W(rt=>Cg(J,rt)),_t&&W(rt=>!Cg(_t,rt))},{flush:"post",deep:!0});let q=null;const tt=()=>{q!=null&&v.set(q,S5(d.subTree))};return zf(tt),Dm(tt),Jg(()=>{v.forEach(J=>{const{subTree:_t,suspense:rt}=d,I=S5(_t);if(J.type===I.type){x5(I);const Et=I.component.da;Et&&Ta(Et,rt);return}H(J)})}),()=>{if(q=null,!f.default)return null;const J=f.default(),_t=J[0];if(J.length>1)return _=null,J;if(!Gf(_t)||!(_t.shapeFlag&4)&&!(_t.shapeFlag&128))return _=null,_t;let rt=S5(_t);const I=rt.type,Et=_m(Fp(rt)?rt.type.__asyncResolved||{}:I),{include:bt,exclude:Nt,max:ct}=l;if(bt&&(!Et||!Cg(bt,Et))||Nt&&Et&&Cg(Nt,Et))return _=rt,_t;const jt=rt.key==null?I:rt.key,gt=v.get(jt);return rt.el&&(rt=wc(rt),_t.shapeFlag&128&&(_t.ssContent=rt)),q=jt,gt?(rt.el=gt.el,rt.component=gt.component,rt.transition&&Zh(rt,rt.transition),rt.shapeFlag|=512,y.delete(jt),y.add(jt)):(y.add(jt),ct&&y.size>parseInt(ct,10)&&$(y.values().next().value)),rt.shapeFlag|=256,_=rt,_t}}},ZV=$V;function Cg(l,f){return nn(l)?l.some(d=>Cg(d,f)):So(l)?l.split(",").includes(f):l.test?l.test(f):!1}function Kb(l,f){Zb(l,"a",f)}function $b(l,f){Zb(l,"da",f)}function Zb(l,f,d=oa){const u=l.__wdc||(l.__wdc=()=>{let v=d;for(;v;){if(v.isDeactivated)return;v=v.parent}return l()});if(jm(f,u,d),d){let v=d.parent;for(;v&&v.parent;)qg(v.parent.vnode)&&qV(u,f,d,v),v=v.parent}}function qV(l,f,d,u){const v=jm(f,l,u,!0);Bm(()=>{oE(u[f],v)},d)}function x5(l){let f=l.shapeFlag;f&256&&(f-=256),f&512&&(f-=512),l.shapeFlag=f}function S5(l){return l.shapeFlag&128?l.ssContent:l}function jm(l,f,d=oa,u=!1){if(d){const v=d[l]||(d[l]=[]),y=f.__weh||(f.__weh=(..._)=>{if(d.isUnmounted)return;Jh(),Uf(d);const O=rl(f,d,l,_);return Nf(),Qh(),O});return u?v.unshift(y):v.push(y),y}}const Oc=l=>(f,d=oa)=>(!Bp||l==="sp")&&jm(l,f,d),qb=Oc("bm"),zf=Oc("m"),Jb=Oc("bu"),Dm=Oc("u"),Jg=Oc("bum"),Bm=Oc("um"),Qb=Oc("sp"),tC=Oc("rtg"),eC=Oc("rtc");function rC(l,f=oa){jm("ec",l,f)}let G5=!0;function JV(l){const f=iC(l),d=l.proxy,u=l.ctx;G5=!1,f.beforeCreate&&mT(f.beforeCreate,l,"bc");const{data:v,computed:y,methods:_,watch:O,provide:b,inject:D,created:F,beforeMount:L,mounted:B,beforeUpdate:H,updated:W,activated:$,deactivated:q,beforeDestroy:tt,beforeUnmount:J,destroyed:_t,unmounted:rt,render:I,renderTracked:Et,renderTriggered:bt,errorCaptured:Nt,serverPrefetch:ct,expose:jt,inheritAttrs:gt,components:St,directives:Dt,filters:qt}=f;if(D&&QV(D,u,null,l.appContext.config.unwrapInjectedRef),_)for(const Tt in _){const Ut=_[Tt];Bn(Ut)&&(u[Tt]=Ut.bind(d))}if(v){const Tt=v.call(d,d);jo(Tt)&&(l.data=Sc(Tt))}if(G5=!0,y)for(const Tt in y){const Ut=y[Tt],Be=Bn(Ut)?Ut.bind(d,d):Bn(Ut.get)?Ut.get.bind(d,d):hu,Ye=!Bn(Ut)&&Bn(Ut.set)?Ut.set.bind(d):hu,Me=fu({get:Be,set:Ye});Object.defineProperty(u,Tt,{enumerable:!0,configurable:!0,get:()=>Me.value,set:ir=>Me.value=ir})}if(O)for(const Tt in O)nC(O[Tt],u,d,Tt);if(b){const Tt=Bn(b)?b.call(d):b;Reflect.ownKeys(Tt).forEach(Ut=>{Mg(Ut,Tt[Ut])})}F&&mT(F,l,"c");function Q(Tt,Ut){nn(Ut)?Ut.forEach(Be=>Tt(Be.bind(d))):Ut&&Tt(Ut.bind(d))}if(Q(qb,L),Q(zf,B),Q(Jb,H),Q(Dm,W),Q(Kb,$),Q($b,q),Q(rC,Nt),Q(eC,Et),Q(tC,bt),Q(Jg,J),Q(Bm,rt),Q(Qb,ct),nn(jt))if(jt.length){const Tt=l.exposed||(l.exposed={});jt.forEach(Ut=>{Object.defineProperty(Tt,Ut,{get:()=>d[Ut],set:Be=>d[Ut]=Be})})}else l.exposed||(l.exposed={});I&&l.render===hu&&(l.render=I),gt!=null&&(l.inheritAttrs=gt),St&&(l.components=St),Dt&&(l.directives=Dt)}function QV(l,f,d=hu,u=!1){nn(l)&&(l=U5(l));for(const v in l){const y=l[v];let _;jo(y)?"default"in y?_=Yu(y.from||v,y.default,!0):_=Yu(y.from||v):_=Yu(y),go(_)&&u?Object.defineProperty(f,v,{enumerable:!0,configurable:!0,get:()=>_.value,set:O=>_.value=O}):f[v]=_}}function mT(l,f,d){rl(nn(l)?l.map(u=>u.bind(f.proxy)):l.bind(f.proxy),f,d)}function nC(l,f,d,u){const v=u.includes(".")?Hb(d,u):()=>d[u];if(So(l)){const y=f[l];Bn(y)&&Ip(v,y)}else if(Bn(l))Ip(v,l.bind(d));else if(jo(l))if(nn(l))l.forEach(y=>nC(y,f,d,u));else{const y=Bn(l.handler)?l.handler.bind(d):f[l.handler];Bn(y)&&Ip(v,y,l)}}function iC(l){const f=l.type,{mixins:d,extends:u}=f,{mixins:v,optionsCache:y,config:{optionMergeStrategies:_}}=l.appContext,O=y.get(f);let b;return O?b=O:!v.length&&!d&&!u?b=f:(b={},v.length&&v.forEach(D=>vm(b,D,_,!0)),vm(b,f,_)),y.set(f,b),b}function vm(l,f,d,u=!1){const{mixins:v,extends:y}=f;y&&vm(l,y,d,!0),v&&v.forEach(_=>vm(l,_,d,!0));for(const _ in f)if(!(u&&_==="expose")){const O=tW[_]||d&&d[_];l[_]=O?O(l[_],f[_]):f[_]}return l}const tW={data:_T,props:zh,emits:zh,methods:zh,computed:zh,beforeCreate:ls,created:ls,beforeMount:ls,mounted:ls,beforeUpdate:ls,updated:ls,beforeDestroy:ls,beforeUnmount:ls,destroyed:ls,unmounted:ls,activated:ls,deactivated:ls,errorCaptured:ls,serverPrefetch:ls,components:zh,directives:zh,watch:rW,provide:_T,inject:eW};function _T(l,f){return f?l?function(){return Fo(Bn(l)?l.call(this,this):l,Bn(f)?f.call(this,this):f)}:f:l}function eW(l,f){return zh(U5(l),U5(f))}function U5(l){if(nn(l)){const f={};for(let d=0;d<l.length;d++)f[l[d]]=l[d];return f}return l}function ls(l,f){return l?[...new Set([].concat(l,f))]:f}function zh(l,f){return l?Fo(Fo(Object.create(null),l),f):f}function rW(l,f){if(!l)return f;if(!f)return l;const d=Fo(Object.create(null),l);for(const u in f)d[u]=ls(l[u],f[u]);return d}function nW(l,f,d,u=!1){const v={},y={};hm(y,Gm,1),l.propsDefaults=Object.create(null),oC(l,f,v,y);for(const _ in l.propsOptions[0])_ in v||(v[_]=void 0);d?l.props=u?v:Ib(v):l.type.props?l.props=v:l.props=y,l.attrs=y}function iW(l,f,d,u){const{props:v,attrs:y,vnode:{patchFlag:_}}=l,O=_i(v),[b]=l.propsOptions;let D=!1;if((u||_>0)&&!(_&16)){if(_&8){const F=l.vnode.dynamicProps;for(let L=0;L<F.length;L++){let B=F[L];if(Mm(l.emitsOptions,B))continue;const H=f[B];if(b)if(xi(y,B))H!==y[B]&&(y[B]=H,D=!0);else{const W=nl(B);v[W]=k5(b,O,W,H,l,!1)}else H!==y[B]&&(y[B]=H,D=!0)}}}else{oC(l,f,v,y)&&(D=!0);let F;for(const L in O)(!f||!xi(f,L)&&((F=Vu(L))===L||!xi(f,F)))&&(b?d&&(d[L]!==void 0||d[F]!==void 0)&&(v[L]=k5(b,O,L,void 0,l,!0)):delete v[L]);if(y!==O)for(const L in y)(!f||!xi(f,L)&&!0)&&(delete y[L],D=!0)}D&&xc(l,"set","$attrs")}function oC(l,f,d,u){const[v,y]=l.propsOptions;let _=!1,O;if(f)for(let b in f){if(Ag(b))continue;const D=f[b];let F;v&&xi(v,F=nl(b))?!y||!y.includes(F)?d[F]=D:(O||(O={}))[F]=D:Mm(l.emitsOptions,b)||(!(b in u)||D!==u[b])&&(u[b]=D,_=!0)}if(y){const b=_i(d),D=O||Gi;for(let F=0;F<y.length;F++){const L=y[F];d[L]=k5(v,b,L,D[L],l,!xi(D,L))}}return _}function k5(l,f,d,u,v,y){const _=l[d];if(_!=null){const O=xi(_,"default");if(O&&u===void 0){const b=_.default;if(_.type!==Function&&Bn(b)){const{propsDefaults:D}=v;d in D?u=D[d]:(Uf(v),u=D[d]=b.call(null,f),Nf())}else u=b}_[0]&&(y&&!O?u=!1:_[1]&&(u===""||u===Vu(d))&&(u=!0))}return u}function aC(l,f,d=!1){const u=f.propsCache,v=u.get(l);if(v)return v;const y=l.props,_={},O=[];let b=!1;if(!Bn(l)){const F=L=>{b=!0;const[B,H]=aC(L,f,!0);Fo(_,B),H&&O.push(...H)};!d&&f.mixins.length&&f.mixins.forEach(F),l.extends&&F(l.extends),l.mixins&&l.mixins.forEach(F)}if(!y&&!b)return u.set(l,Cp),Cp;if(nn(y))for(let F=0;F<y.length;F++){const L=nl(y[F]);ET(L)&&(_[L]=Gi)}else if(y)for(const F in y){const L=nl(F);if(ET(L)){const B=y[F],H=_[L]=nn(B)||Bn(B)?{type:B}:B;if(H){const W=wT(Boolean,H.type),$=wT(String,H.type);H[0]=W>-1,H[1]=$<0||W<$,(W>-1||xi(H,"default"))&&O.push(L)}}}const D=[_,O];return u.set(l,D),D}function ET(l){return l[0]!=="$"}function xT(l){const f=l&&l.toString().match(/^\s*function (\w+)/);return f?f[1]:l===null?"null":""}function ST(l,f){return xT(l)===xT(f)}function wT(l,f){return nn(f)?f.findIndex(d=>ST(d,l)):Bn(f)&&ST(f,l)?0:-1}const sC=l=>l[0]==="_"||l==="$stable",CE=l=>nn(l)?l.map(tl):[tl(l)],oW=(l,f,d)=>{const u=Rp((...v)=>CE(f(...v)),d);return u._c=!1,u},lC=(l,f,d)=>{const u=l._ctx;for(const v in l){if(sC(v))continue;const y=l[v];if(Bn(y))f[v]=oW(v,y,u);else if(y!=null){const _=CE(y);f[v]=()=>_}}},uC=(l,f)=>{const d=CE(f);l.slots.default=()=>d},aW=(l,f)=>{if(l.vnode.shapeFlag&32){const d=f._;d?(l.slots=_i(f),hm(f,"_",d)):lC(f,l.slots={})}else l.slots={},f&&uC(l,f);hm(l.slots,Gm,1)},sW=(l,f,d)=>{const{vnode:u,slots:v}=l;let y=!0,_=Gi;if(u.shapeFlag&32){const O=f._;O?d&&O===1?y=!1:(Fo(v,f),!d&&O===1&&delete v._):(y=!f.$stable,lC(f,v)),_=f}else f&&(uC(l,f),_={default:1});if(y)for(const O in v)!sC(O)&&!(O in _)&&delete v[O]};function Wg(l,f){const d=Va;if(d===null)return l;const u=Um(d)||d.proxy,v=l.dirs||(l.dirs=[]);for(let y=0;y<f.length;y++){let[_,O,b,D=Gi]=f[y];Bn(_)&&(_={mounted:_,updated:_}),_.deep&&Yh(O),v.push({dir:_,instance:u,value:O,oldValue:void 0,arg:b,modifiers:D})}return l}function ku(l,f,d,u){const v=l.dirs,y=f&&f.dirs;for(let _=0;_<v.length;_++){const O=v[_];y&&(O.oldValue=y[_].value);let b=O.dir[u];b&&(Jh(),rl(b,d,8,[l.el,O,l,f]),Qh())}}function cC(){return{app:null,config:{isNativeTag:Lz,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lW=0;function uW(l,f){return function(u,v=null){Bn(u)||(u=Object.assign({},u)),v!=null&&!jo(v)&&(v=null);const y=cC(),_=new Set;let O=!1;const b=y.app={_uid:lW++,_component:u,_props:v,_container:null,_context:y,_instance:null,version:RC,get config(){return y.config},set config(D){},use(D,...F){return _.has(D)||(D&&Bn(D.install)?(_.add(D),D.install(b,...F)):Bn(D)&&(_.add(D),D(b,...F))),b},mixin(D){return y.mixins.includes(D)||y.mixins.push(D),b},component(D,F){return F?(y.components[D]=F,b):y.components[D]},directive(D,F){return F?(y.directives[D]=F,b):y.directives[D]},mount(D,F,L){if(!O){const B=Li(u,v);return B.appContext=y,F&&f?f(B,D):l(B,D,L),O=!0,b._container=D,D.__vue_app__=b,Um(B.component)||B.component.proxy}},unmount(){O&&(l(null,b._container),delete b._container.__vue_app__)},provide(D,F){return y.provides[D]=F,b}};return b}}function gm(l,f,d,u,v=!1){if(nn(l)){l.forEach((B,H)=>gm(B,f&&(nn(f)?f[H]:f),d,u,v));return}if(Fp(u)&&!v)return;const y=u.shapeFlag&4?Um(u.component)||u.component.proxy:u.el,_=v?null:y,{i:O,r:b}=l,D=f&&f.r,F=O.refs===Gi?O.refs={}:O.refs,L=O.setupState;if(D!=null&&D!==b&&(So(D)?(F[D]=null,xi(L,D)&&(L[D]=null)):go(D)&&(D.value=null)),Bn(b))Wu(b,O,12,[_,F]);else{const B=So(b),H=go(b);if(B||H){const W=()=>{if(l.f){const $=B?F[b]:b.value;v?nn($)&&oE($,y):nn($)?$.includes(y)||$.push(y):B?(F[b]=[y],xi(L,b)&&(L[b]=F[b])):(b.value=[y],l.k&&(F[l.k]=b.value))}else B?(F[b]=_,xi(L,b)&&(L[b]=_)):go(b)&&(b.value=_,l.k&&(F[l.k]=_))};_?(W.id=-1,Ta(W,d)):W()}}}let Of=!1;const nm=l=>/svg/.test(l.namespaceURI)&&l.tagName!=="foreignObject",w5=l=>l.nodeType===8;function cW(l){const{mt:f,p:d,o:{patchProp:u,nextSibling:v,parentNode:y,remove:_,insert:O,createComment:b}}=l,D=(q,tt)=>{if(!tt.hasChildNodes()){d(null,q,tt),pm();return}Of=!1,F(tt.firstChild,q,null,null,null),pm(),Of&&console.error("Hydration completed but contains mismatches.")},F=(q,tt,J,_t,rt,I=!1)=>{const Et=w5(q)&&q.data==="[",bt=()=>W(q,tt,J,_t,rt,Et),{type:Nt,ref:ct,shapeFlag:jt}=tt,gt=q.nodeType;tt.el=q;let St=null;switch(Nt){case jp:gt!==3?St=bt():(q.data!==tt.children&&(Of=!0,q.data=tt.children),St=v(q));break;case Wa:gt!==8||Et?St=bt():St=v(q);break;case Kh:if(gt!==1)St=bt();else{St=q;const Dt=!tt.children.length;for(let qt=0;qt<tt.staticCount;qt++)Dt&&(tt.children+=St.outerHTML),qt===tt.staticCount-1&&(tt.anchor=St),St=v(St);return St}break;case ao:Et?St=H(q,tt,J,_t,rt,I):St=bt();break;default:if(jt&1)gt!==1||tt.type.toLowerCase()!==q.tagName.toLowerCase()?St=bt():St=L(q,tt,J,_t,rt,I);else if(jt&6){tt.slotScopeIds=rt;const Dt=y(q);if(f(tt,Dt,null,J,_t,nm(Dt),I),St=Et?$(q):v(q),Fp(tt)){let qt;Et?(qt=Li(ao),qt.anchor=St?St.previousSibling:Dt.lastChild):qt=q.nodeType===3?Xu(""):Li("div"),qt.el=q,tt.component.subTree=qt}}else jt&64?gt!==8?St=bt():St=tt.type.hydrate(q,tt,J,_t,rt,I,l,B):jt&128&&(St=tt.type.hydrate(q,tt,J,_t,nm(y(q)),rt,I,l,F))}return ct!=null&&gm(ct,null,_t,tt),St},L=(q,tt,J,_t,rt,I)=>{I=I||!!tt.dynamicChildren;const{type:Et,props:bt,patchFlag:Nt,shapeFlag:ct,dirs:jt}=tt,gt=Et==="input"&&jt||Et==="option";if(gt||Nt!==-1){if(jt&&ku(tt,null,J,"created"),bt)if(gt||!I||Nt&48)for(const Dt in bt)(gt&&Dt.endsWith("value")||Xg(Dt)&&!Ag(Dt))&&u(q,Dt,null,bt[Dt],!1,void 0,J);else bt.onClick&&u(q,"onClick",null,bt.onClick,!1,void 0,J);let St;if((St=bt&&bt.onVnodeBeforeMount)&&Ls(St,J,tt),jt&&ku(tt,null,J,"beforeMount"),((St=bt&&bt.onVnodeMounted)||jt)&&Wb(()=>{St&&Ls(St,J,tt),jt&&ku(tt,null,J,"mounted")},_t),ct&16&&!(bt&&(bt.innerHTML||bt.textContent))){let Dt=B(q.firstChild,tt,q,J,_t,rt,I);for(;Dt;){Of=!0;const qt=Dt;Dt=Dt.nextSibling,_(qt)}}else ct&8&&q.textContent!==tt.children&&(Of=!0,q.textContent=tt.children)}return q.nextSibling},B=(q,tt,J,_t,rt,I,Et)=>{Et=Et||!!tt.dynamicChildren;const bt=tt.children,Nt=bt.length;for(let ct=0;ct<Nt;ct++){const jt=Et?bt[ct]:bt[ct]=tl(bt[ct]);if(q)q=F(q,jt,_t,rt,I,Et);else{if(jt.type===jp&&!jt.children)continue;Of=!0,d(null,jt,J,null,_t,rt,nm(J),I)}}return q},H=(q,tt,J,_t,rt,I)=>{const{slotScopeIds:Et}=tt;Et&&(rt=rt?rt.concat(Et):Et);const bt=y(q),Nt=B(v(q),tt,bt,J,_t,rt,I);return Nt&&w5(Nt)&&Nt.data==="]"?v(tt.anchor=Nt):(Of=!0,O(tt.anchor=b("]"),bt,Nt),Nt)},W=(q,tt,J,_t,rt,I)=>{if(Of=!0,tt.el=null,I){const Nt=$(q);for(;;){const ct=v(q);if(ct&&ct!==Nt)_(ct);else break}}const Et=v(q),bt=y(q);return _(q),d(null,tt,bt,Et,J,_t,nm(bt),rt),Et},$=q=>{let tt=0;for(;q;)if(q=v(q),q&&w5(q)&&(q.data==="["&&tt++,q.data==="]")){if(tt===0)return v(q);tt--}return q};return[D,F]}const Ta=Wb;function fC(l){return dC(l)}function hC(l){return dC(l,cW)}function dC(l,f){const d=Fz();d.__VUE__=!0;const{insert:u,remove:v,patchProp:y,createElement:_,createText:O,createComment:b,setText:D,setElementText:F,parentNode:L,nextSibling:B,setScopeId:H=hu,cloneNode:W,insertStaticContent:$}=l,q=(Lt,ne,Ct,Wt=null,Bt=null,Jt=null,he=!1,ge=null,He=!!ne.dynamicChildren)=>{if(Lt===ne)return;Lt&&!zu(Lt,ne)&&(Wt=vr(Lt),Sr(Lt,Bt,Jt,!0),Lt=null),ne.patchFlag===-2&&(He=!1,ne.dynamicChildren=null);const{type:et,ref:z,shapeFlag:V}=ne;switch(et){case jp:tt(Lt,ne,Ct,Wt);break;case Wa:J(Lt,ne,Ct,Wt);break;case Kh:Lt==null&&_t(ne,Ct,Wt,he);break;case ao:Dt(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He);break;default:V&1?Et(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He):V&6?qt(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He):(V&64||V&128)&&et.process(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He,_r)}z!=null&&Bt&&gm(z,Lt&&Lt.ref,Jt,ne||Lt,!ne)},tt=(Lt,ne,Ct,Wt)=>{if(Lt==null)u(ne.el=O(ne.children),Ct,Wt);else{const Bt=ne.el=Lt.el;ne.children!==Lt.children&&D(Bt,ne.children)}},J=(Lt,ne,Ct,Wt)=>{Lt==null?u(ne.el=b(ne.children||""),Ct,Wt):ne.el=Lt.el},_t=(Lt,ne,Ct,Wt)=>{[Lt.el,Lt.anchor]=$(Lt.children,ne,Ct,Wt,Lt.el,Lt.anchor)},rt=({el:Lt,anchor:ne},Ct,Wt)=>{let Bt;for(;Lt&&Lt!==ne;)Bt=B(Lt),u(Lt,Ct,Wt),Lt=Bt;u(ne,Ct,Wt)},I=({el:Lt,anchor:ne})=>{let Ct;for(;Lt&&Lt!==ne;)Ct=B(Lt),v(Lt),Lt=Ct;v(ne)},Et=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He)=>{he=he||ne.type==="svg",Lt==null?bt(ne,Ct,Wt,Bt,Jt,he,ge,He):jt(Lt,ne,Bt,Jt,he,ge,He)},bt=(Lt,ne,Ct,Wt,Bt,Jt,he,ge)=>{let He,et;const{type:z,props:V,shapeFlag:at,transition:Ht,patchFlag:ye,dirs:Se}=Lt;if(Lt.el&&W!==void 0&&ye===-1)He=Lt.el=W(Lt.el);else{if(He=Lt.el=_(Lt.type,Jt,V&&V.is,V),at&8?F(He,Lt.children):at&16&&ct(Lt.children,He,null,Wt,Bt,Jt&&z!=="foreignObject",he,ge),Se&&ku(Lt,null,Wt,"created"),V){for(const Or in V)Or!=="value"&&!Ag(Or)&&y(He,Or,null,V[Or],Jt,Lt.children,Wt,Bt,Ze);"value"in V&&y(He,"value",null,V.value),(et=V.onVnodeBeforeMount)&&Ls(et,Wt,Lt)}Nt(He,Lt,Lt.scopeId,he,Wt)}Se&&ku(Lt,null,Wt,"beforeMount");const hr=(!Bt||Bt&&!Bt.pendingBranch)&&Ht&&!Ht.persisted;hr&&Ht.beforeEnter(He),u(He,ne,Ct),((et=V&&V.onVnodeMounted)||hr||Se)&&Ta(()=>{et&&Ls(et,Wt,Lt),hr&&Ht.enter(He),Se&&ku(Lt,null,Wt,"mounted")},Bt)},Nt=(Lt,ne,Ct,Wt,Bt)=>{if(Ct&&H(Lt,Ct),Wt)for(let Jt=0;Jt<Wt.length;Jt++)H(Lt,Wt[Jt]);if(Bt){let Jt=Bt.subTree;if(ne===Jt){const he=Bt.vnode;Nt(Lt,he,he.scopeId,he.slotScopeIds,Bt.parent)}}},ct=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He=0)=>{for(let et=He;et<Lt.length;et++){const z=Lt[et]=ge?Lf(Lt[et]):tl(Lt[et]);q(null,z,ne,Ct,Wt,Bt,Jt,he,ge)}},jt=(Lt,ne,Ct,Wt,Bt,Jt,he)=>{const ge=ne.el=Lt.el;let{patchFlag:He,dynamicChildren:et,dirs:z}=ne;He|=Lt.patchFlag&16;const V=Lt.props||Gi,at=ne.props||Gi;let Ht;Ct&&Uh(Ct,!1),(Ht=at.onVnodeBeforeUpdate)&&Ls(Ht,Ct,ne,Lt),z&&ku(ne,Lt,Ct,"beforeUpdate"),Ct&&Uh(Ct,!0);const ye=Bt&&ne.type!=="foreignObject";if(et?gt(Lt.dynamicChildren,et,ge,Ct,Wt,ye,Jt):he||Be(Lt,ne,ge,null,Ct,Wt,ye,Jt,!1),He>0){if(He&16)St(ge,ne,V,at,Ct,Wt,Bt);else if(He&2&&V.class!==at.class&&y(ge,"class",null,at.class,Bt),He&4&&y(ge,"style",V.style,at.style,Bt),He&8){const Se=ne.dynamicProps;for(let hr=0;hr<Se.length;hr++){const Or=Se[hr],Ar=V[Or],Ln=at[Or];(Ln!==Ar||Or==="value")&&y(ge,Or,Ar,Ln,Bt,Lt.children,Ct,Wt,Ze)}}He&1&&Lt.children!==ne.children&&F(ge,ne.children)}else!he&&et==null&&St(ge,ne,V,at,Ct,Wt,Bt);((Ht=at.onVnodeUpdated)||z)&&Ta(()=>{Ht&&Ls(Ht,Ct,ne,Lt),z&&ku(ne,Lt,Ct,"updated")},Wt)},gt=(Lt,ne,Ct,Wt,Bt,Jt,he)=>{for(let ge=0;ge<ne.length;ge++){const He=Lt[ge],et=ne[ge],z=He.el&&(He.type===ao||!zu(He,et)||He.shapeFlag&70)?L(He.el):Ct;q(He,et,z,null,Wt,Bt,Jt,he,!0)}},St=(Lt,ne,Ct,Wt,Bt,Jt,he)=>{if(Ct!==Wt){for(const ge in Wt){if(Ag(ge))continue;const He=Wt[ge],et=Ct[ge];He!==et&&ge!=="value"&&y(Lt,ge,et,He,he,ne.children,Bt,Jt,Ze)}if(Ct!==Gi)for(const ge in Ct)!Ag(ge)&&!(ge in Wt)&&y(Lt,ge,Ct[ge],null,he,ne.children,Bt,Jt,Ze);"value"in Wt&&y(Lt,"value",Ct.value,Wt.value)}},Dt=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He)=>{const et=ne.el=Lt?Lt.el:O(""),z=ne.anchor=Lt?Lt.anchor:O("");let{patchFlag:V,dynamicChildren:at,slotScopeIds:Ht}=ne;Ht&&(ge=ge?ge.concat(Ht):Ht),Lt==null?(u(et,Ct,Wt),u(z,Ct,Wt),ct(ne.children,Ct,z,Bt,Jt,he,ge,He)):V>0&&V&64&&at&&Lt.dynamicChildren?(gt(Lt.dynamicChildren,at,Ct,Bt,Jt,he,ge),(ne.key!=null||Bt&&ne===Bt.subTree)&&AE(Lt,ne,!0)):Be(Lt,ne,Ct,z,Bt,Jt,he,ge,He)},qt=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He)=>{ne.slotScopeIds=ge,Lt==null?ne.shapeFlag&512?Bt.ctx.activate(ne,Ct,Wt,he,He):Le(ne,Ct,Wt,Bt,Jt,he,He):Q(Lt,ne,He)},Le=(Lt,ne,Ct,Wt,Bt,Jt,he)=>{const ge=Lt.component=xC(Lt,Wt,Bt);if(qg(Lt)&&(ge.ctx.renderer=_r),wC(ge),ge.asyncDep){if(Bt&&Bt.registerDep(ge,Tt),!Lt.el){const He=ge.subTree=Li(Wa);J(null,He,ne,Ct)}return}Tt(ge,Lt,ne,Ct,Bt,Jt,he)},Q=(Lt,ne,Ct)=>{const Wt=ne.component=Lt.component;if(jV(Lt,ne,Ct))if(Wt.asyncDep&&!Wt.asyncResolved){Ut(Wt,ne,Ct);return}else Wt.next=ne,LV(Wt.update),Wt.update();else ne.component=Lt.component,ne.el=Lt.el,Wt.vnode=ne},Tt=(Lt,ne,Ct,Wt,Bt,Jt,he)=>{const ge=()=>{if(Lt.isMounted){let{next:z,bu:V,u:at,parent:Ht,vnode:ye}=Lt,Se=z,hr;Uh(Lt,!1),z?(z.el=ye.el,Ut(Lt,z,he)):z=ye,V&&Lp(V),(hr=z.props&&z.props.onVnodeBeforeUpdate)&&Ls(hr,Ht,z,ye),Uh(Lt,!0);const Or=lm(Lt),Ar=Lt.subTree;Lt.subTree=Or,q(Ar,Or,L(Ar.el),vr(Ar),Lt,Bt,Jt),z.el=Or.el,Se===null&&wE(Lt,Or.el),at&&Ta(at,Bt),(hr=z.props&&z.props.onVnodeUpdated)&&Ta(()=>Ls(hr,Ht,z,ye),Bt)}else{let z;const{el:V,props:at}=ne,{bm:Ht,m:ye,parent:Se}=Lt,hr=Fp(ne);if(Uh(Lt,!1),Ht&&Lp(Ht),!hr&&(z=at&&at.onVnodeBeforeMount)&&Ls(z,Se,ne),Uh(Lt,!0),V&&Er){const Or=()=>{Lt.subTree=lm(Lt),Er(V,Lt.subTree,Lt,Bt,null)};hr?ne.type.__asyncLoader().then(()=>!Lt.isUnmounted&&Or()):Or()}else{const Or=Lt.subTree=lm(Lt);q(null,Or,Ct,Wt,Lt,Bt,Jt),ne.el=Or.el}if(ye&&Ta(ye,Bt),!hr&&(z=at&&at.onVnodeMounted)){const Or=ne;Ta(()=>Ls(z,Se,Or),Bt)}ne.shapeFlag&256&&Lt.a&&Ta(Lt.a,Bt),Lt.isMounted=!0,ne=Ct=Wt=null}},He=Lt.effect=new $g(ge,()=>EE(Lt.update),Lt.scope),et=Lt.update=He.run.bind(He);et.id=Lt.uid,Uh(Lt,!0),et()},Ut=(Lt,ne,Ct)=>{ne.component=Lt;const Wt=Lt.vnode.props;Lt.vnode=ne,Lt.next=null,iW(Lt,ne.props,Wt,Ct),sW(Lt,ne.children,Ct),Jh(),SE(void 0,Lt.update),Qh()},Be=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He=!1)=>{const et=Lt&&Lt.children,z=Lt?Lt.shapeFlag:0,V=ne.children,{patchFlag:at,shapeFlag:Ht}=ne;if(at>0){if(at&128){Me(et,V,Ct,Wt,Bt,Jt,he,ge,He);return}else if(at&256){Ye(et,V,Ct,Wt,Bt,Jt,he,ge,He);return}}Ht&8?(z&16&&Ze(et,Bt,Jt),V!==et&&F(Ct,V)):z&16?Ht&16?Me(et,V,Ct,Wt,Bt,Jt,he,ge,He):Ze(et,Bt,Jt,!0):(z&8&&F(Ct,""),Ht&16&&ct(V,Ct,Wt,Bt,Jt,he,ge,He))},Ye=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He)=>{Lt=Lt||Cp,ne=ne||Cp;const et=Lt.length,z=ne.length,V=Math.min(et,z);let at;for(at=0;at<V;at++){const Ht=ne[at]=He?Lf(ne[at]):tl(ne[at]);q(Lt[at],Ht,Ct,null,Bt,Jt,he,ge,He)}et>z?Ze(Lt,Bt,Jt,!0,!1,V):ct(ne,Ct,Wt,Bt,Jt,he,ge,He,V)},Me=(Lt,ne,Ct,Wt,Bt,Jt,he,ge,He)=>{let et=0;const z=ne.length;let V=Lt.length-1,at=z-1;for(;et<=V&&et<=at;){const Ht=Lt[et],ye=ne[et]=He?Lf(ne[et]):tl(ne[et]);if(zu(Ht,ye))q(Ht,ye,Ct,null,Bt,Jt,he,ge,He);else break;et++}for(;et<=V&&et<=at;){const Ht=Lt[V],ye=ne[at]=He?Lf(ne[at]):tl(ne[at]);if(zu(Ht,ye))q(Ht,ye,Ct,null,Bt,Jt,he,ge,He);else break;V--,at--}if(et>V){if(et<=at){const Ht=at+1,ye=Ht<z?ne[Ht].el:Wt;for(;et<=at;)q(null,ne[et]=He?Lf(ne[et]):tl(ne[et]),Ct,ye,Bt,Jt,he,ge,He),et++}}else if(et>at)for(;et<=V;)Sr(Lt[et],Bt,Jt,!0),et++;else{const Ht=et,ye=et,Se=new Map;for(et=ye;et<=at;et++){const Pn=ne[et]=He?Lf(ne[et]):tl(ne[et]);Pn.key!=null&&Se.set(Pn.key,et)}let hr,Or=0;const Ar=at-ye+1;let Ln=!1,_n=0;const Xn=new Array(Ar);for(et=0;et<Ar;et++)Xn[et]=0;for(et=Ht;et<=V;et++){const Pn=Lt[et];if(Or>=Ar){Sr(Pn,Bt,Jt,!0);continue}let Gn;if(Pn.key!=null)Gn=Se.get(Pn.key);else for(hr=ye;hr<=at;hr++)if(Xn[hr-ye]===0&&zu(Pn,ne[hr])){Gn=hr;break}Gn===void 0?Sr(Pn,Bt,Jt,!0):(Xn[Gn-ye]=et+1,Gn>=_n?_n=Gn:Ln=!0,q(Pn,ne[Gn],Ct,null,Bt,Jt,he,ge,He),Or++)}const Ri=Ln?fW(Xn):Cp;for(hr=Ri.length-1,et=Ar-1;et>=0;et--){const Pn=ye+et,Gn=ne[Pn],pi=Pn+1<z?ne[Pn+1].el:Wt;Xn[et]===0?q(null,Gn,Ct,pi,Bt,Jt,he,ge,He):Ln&&(hr<0||et!==Ri[hr]?ir(Gn,Ct,pi,2):hr--)}}},ir=(Lt,ne,Ct,Wt,Bt=null)=>{const{el:Jt,type:he,transition:ge,children:He,shapeFlag:et}=Lt;if(et&6){ir(Lt.component.subTree,ne,Ct,Wt);return}if(et&128){Lt.suspense.move(ne,Ct,Wt);return}if(et&64){he.move(Lt,ne,Ct,_r);return}if(he===ao){u(Jt,ne,Ct);for(let V=0;V<He.length;V++)ir(He[V],ne,Ct,Wt);u(Lt.anchor,ne,Ct);return}if(he===Kh){rt(Lt,ne,Ct);return}if(Wt!==2&&et&1&&ge)if(Wt===0)ge.beforeEnter(Jt),u(Jt,ne,Ct),Ta(()=>ge.enter(Jt),Bt);else{const{leave:V,delayLeave:at,afterLeave:Ht}=ge,ye=()=>u(Jt,ne,Ct),Se=()=>{V(Jt,()=>{ye(),Ht&&Ht()})};at?at(Jt,ye,Se):Se()}else u(Jt,ne,Ct)},Sr=(Lt,ne,Ct,Wt=!1,Bt=!1)=>{const{type:Jt,props:he,ref:ge,children:He,dynamicChildren:et,shapeFlag:z,patchFlag:V,dirs:at}=Lt;if(ge!=null&&gm(ge,null,Ct,Lt,!0),z&256){ne.ctx.deactivate(Lt);return}const Ht=z&1&&at,ye=!Fp(Lt);let Se;if(ye&&(Se=he&&he.onVnodeBeforeUnmount)&&Ls(Se,ne,Lt),z&6)Te(Lt.component,Ct,Wt);else{if(z&128){Lt.suspense.unmount(Ct,Wt);return}Ht&&ku(Lt,null,ne,"beforeUnmount"),z&64?Lt.type.remove(Lt,ne,Ct,Bt,_r,Wt):et&&(Jt!==ao||V>0&&V&64)?Ze(et,ne,Ct,!1,!0):(Jt===ao&&V&384||!Bt&&z&16)&&Ze(He,ne,Ct),Wt&&$r(Lt)}(ye&&(Se=he&&he.onVnodeUnmounted)||Ht)&&Ta(()=>{Se&&Ls(Se,ne,Lt),Ht&&ku(Lt,null,ne,"unmounted")},Ct)},$r=Lt=>{const{type:ne,el:Ct,anchor:Wt,transition:Bt}=Lt;if(ne===ao){Qt(Ct,Wt);return}if(ne===Kh){I(Lt);return}const Jt=()=>{v(Ct),Bt&&!Bt.persisted&&Bt.afterLeave&&Bt.afterLeave()};if(Lt.shapeFlag&1&&Bt&&!Bt.persisted){const{leave:he,delayLeave:ge}=Bt,He=()=>he(Ct,Jt);ge?ge(Lt.el,Jt,He):He()}else Jt()},Qt=(Lt,ne)=>{let Ct;for(;Lt!==ne;)Ct=B(Lt),v(Lt),Lt=Ct;v(ne)},Te=(Lt,ne,Ct)=>{const{bum:Wt,scope:Bt,update:Jt,subTree:he,um:ge}=Lt;Wt&&Lp(Wt),Bt.stop(),Jt&&(Jt.active=!1,Sr(he,Lt,ne,Ct)),ge&&Ta(ge,ne),Ta(()=>{Lt.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&Lt.asyncDep&&!Lt.asyncResolved&&Lt.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Ze=(Lt,ne,Ct,Wt=!1,Bt=!1,Jt=0)=>{for(let he=Jt;he<Lt.length;he++)Sr(Lt[he],ne,Ct,Wt,Bt)},vr=Lt=>Lt.shapeFlag&6?vr(Lt.component.subTree):Lt.shapeFlag&128?Lt.suspense.next():B(Lt.anchor||Lt.el),Sn=(Lt,ne,Ct)=>{Lt==null?ne._vnode&&Sr(ne._vnode,null,null,!0):q(ne._vnode||null,Lt,ne,null,null,null,Ct),pm(),ne._vnode=Lt},_r={p:q,um:Sr,m:ir,r:$r,mt:Le,mc:ct,pc:Be,pbc:gt,n:vr,o:l};let Fr,Er;return f&&([Fr,Er]=f(_r)),{render:Sn,hydrate:Fr,createApp:uW(Sn,Fr)}}function Uh({effect:l,update:f},d){l.allowRecurse=f.allowRecurse=d}function AE(l,f,d=!1){const u=l.children,v=f.children;if(nn(u)&&nn(v))for(let y=0;y<u.length;y++){const _=u[y];let O=v[y];O.shapeFlag&1&&!O.dynamicChildren&&((O.patchFlag<=0||O.patchFlag===32)&&(O=v[y]=Lf(v[y]),O.el=_.el),d||AE(_,O))}}function fW(l){const f=l.slice(),d=[0];let u,v,y,_,O;const b=l.length;for(u=0;u<b;u++){const D=l[u];if(D!==0){if(v=d[d.length-1],l[v]<D){f[u]=v,d.push(u);continue}for(y=0,_=d.length-1;y<_;)O=y+_>>1,l[d[O]]<D?y=O+1:_=O;D<l[d[y]]&&(y>0&&(f[u]=d[y-1]),d[y]=u)}}for(y=d.length,_=d[y-1];y-- >0;)d[y]=_,_=f[_];return d}const hW=l=>l.__isTeleport,Ng=l=>l&&(l.disabled||l.disabled===""),OT=l=>typeof SVGElement!="undefined"&&l instanceof SVGElement,z5=(l,f)=>{const d=l&&l.to;return So(d)?f?f(d):null:d},dW={__isTeleport:!0,process(l,f,d,u,v,y,_,O,b,D){const{mc:F,pc:L,pbc:B,o:{insert:H,querySelector:W,createText:$,createComment:q}}=D,tt=Ng(f.props);let{shapeFlag:J,children:_t,dynamicChildren:rt}=f;if(l==null){const I=f.el=$(""),Et=f.anchor=$("");H(I,d,u),H(Et,d,u);const bt=f.target=z5(f.props,W),Nt=f.targetAnchor=$("");bt&&(H(Nt,bt),_=_||OT(bt));const ct=(jt,gt)=>{J&16&&F(_t,jt,gt,v,y,_,O,b)};tt?ct(d,Et):bt&&ct(bt,Nt)}else{f.el=l.el;const I=f.anchor=l.anchor,Et=f.target=l.target,bt=f.targetAnchor=l.targetAnchor,Nt=Ng(l.props),ct=Nt?d:Et,jt=Nt?I:bt;if(_=_||OT(Et),rt?(B(l.dynamicChildren,rt,ct,v,y,_,O),AE(l,f,!0)):b||L(l,f,ct,jt,v,y,_,O,!1),tt)Nt||im(f,d,I,D,1);else if((f.props&&f.props.to)!==(l.props&&l.props.to)){const gt=f.target=z5(f.props,W);gt&&im(f,gt,null,D,0)}else Nt&&im(f,Et,bt,D,1)}},remove(l,f,d,u,{um:v,o:{remove:y}},_){const{shapeFlag:O,children:b,anchor:D,targetAnchor:F,target:L,props:B}=l;if(L&&y(F),(_||!Ng(B))&&(y(D),O&16))for(let H=0;H<b.length;H++){const W=b[H];v(W,f,d,!0,!!W.dynamicChildren)}},move:im,hydrate:pW};function im(l,f,d,{o:{insert:u},m:v},y=2){y===0&&u(l.targetAnchor,f,d);const{el:_,anchor:O,shapeFlag:b,children:D,props:F}=l,L=y===2;if(L&&u(_,f,d),(!L||Ng(F))&&b&16)for(let B=0;B<D.length;B++)v(D[B],f,d,2);L&&u(O,f,d)}function pW(l,f,d,u,v,y,{o:{nextSibling:_,parentNode:O,querySelector:b}},D){const F=f.target=z5(f.props,b);if(F){const L=F._lpa||F.firstChild;f.shapeFlag&16&&(Ng(f.props)?(f.anchor=D(_(l),f,O(l),d,u,v,y),f.targetAnchor=L):(f.anchor=_(l),f.targetAnchor=D(L,f,F,d,u,v,y)),F._lpa=f.targetAnchor&&_(f.targetAnchor))}return f.anchor&&_(f.anchor)}const vW=dW,LE="components",gW="directives";function If(l,f){return RE(LE,l,!0,f)||l}const pC=Symbol();function yW(l){return So(l)?RE(LE,l,!1)||l:l||pC}function mW(l){return RE(gW,l)}function RE(l,f,d=!0,u=!1){const v=Va||oa;if(v){const y=v.type;if(l===LE){const O=_m(y);if(O&&(O===f||O===nl(f)||O===Kg(nl(f))))return y}const _=TT(v[l]||y[l],f)||TT(v.appContext[l],f);return!_&&u?y:_}}function TT(l,f){return l&&(l[f]||l[nl(f)]||l[Kg(nl(f))])}const ao=Symbol(void 0),jp=Symbol(void 0),Wa=Symbol(void 0),Kh=Symbol(void 0),Fg=[];let Hu=null;function ro(l=!1){Fg.push(Hu=l?null:[])}function vC(){Fg.pop(),Hu=Fg[Fg.length-1]||null}let Dp=1;function V5(l){Dp+=l}function gC(l){return l.dynamicChildren=Dp>0?Hu||Cp:null,vC(),Dp>0&&Hu&&Hu.push(l),l}function Jo(l,f,d,u,v,y){return gC(Fe(l,f,d,u,v,y,!0))}function Kp(l,f,d,u,v){return gC(Li(l,f,d,u,v,!0))}function Gf(l){return l?l.__v_isVNode===!0:!1}function zu(l,f){return l.type===f.type&&l.key===f.key}function _W(l){}const Gm="__vInternal",yC=({key:l})=>l!=null?l:null,um=({ref:l,ref_key:f,ref_for:d})=>l!=null?So(l)||go(l)||Bn(l)?{i:Va,r:l,k:f,f:!!d}:l:null;function Fe(l,f=null,d=null,u=0,v=null,y=l===ao?0:1,_=!1,O=!1){const b={__v_isVNode:!0,__v_skip:!0,type:l,props:f,key:f&&yC(f),ref:f&&um(f),scopeId:Nm,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:y,patchFlag:u,dynamicProps:v,dynamicChildren:null,appContext:null};return O?(IE(b,d),y&128&&l.normalize(b)):d&&(b.shapeFlag|=So(d)?8:16),Dp>0&&!_&&Hu&&(b.patchFlag>0||y&6)&&b.patchFlag!==32&&Hu.push(b),b}const Li=EW;function EW(l,f=null,d=null,u=0,v=null,y=!1){if((!l||l===pC)&&(l=Wa),Gf(l)){const O=wc(l,f,!0);return d&&IE(O,d),O}if(NW(l)&&(l=l.__vccOpts),f){f=mC(f);let{class:O,style:b}=f;O&&!So(O)&&(f.class=Ff(O)),jo(b)&&(pE(b)&&!nn(b)&&(b=Fo({},b)),f.style=Hg(b))}const _=So(l)?1:DV(l)?128:hW(l)?64:jo(l)?4:Bn(l)?2:0;return Fe(l,f,d,u,v,_,y,!0)}function mC(l){return l?pE(l)||Gm in l?Fo({},l):l:null}function wc(l,f,d=!1){const{props:u,ref:v,patchFlag:y,children:_}=l,O=f?_C(u||{},f):u;return{__v_isVNode:!0,__v_skip:!0,type:l.type,props:O,key:O&&yC(O),ref:f&&f.ref?d&&v?nn(v)?v.concat(um(f)):[v,um(f)]:um(f):v,scopeId:l.scopeId,slotScopeIds:l.slotScopeIds,children:_,target:l.target,targetAnchor:l.targetAnchor,staticCount:l.staticCount,shapeFlag:l.shapeFlag,patchFlag:f&&l.type!==ao?y===-1?16:y|16:y,dynamicProps:l.dynamicProps,dynamicChildren:l.dynamicChildren,appContext:l.appContext,dirs:l.dirs,transition:l.transition,component:l.component,suspense:l.suspense,ssContent:l.ssContent&&wc(l.ssContent),ssFallback:l.ssFallback&&wc(l.ssFallback),el:l.el,anchor:l.anchor}}function Xu(l=" ",f=0){return Li(jp,null,l,f)}function xW(l,f){const d=Li(Kh,null,l);return d.staticCount=f,d}function PE(l="",f=!1){return f?(ro(),Kp(Wa,null,l)):Li(Wa,null,l)}function tl(l){return l==null||typeof l=="boolean"?Li(Wa):nn(l)?Li(ao,null,l.slice()):typeof l=="object"?Lf(l):Li(jp,null,String(l))}function Lf(l){return l.el===null||l.memo?l:wc(l)}function IE(l,f){let d=0;const{shapeFlag:u}=l;if(f==null)f=null;else if(nn(f))d=16;else if(typeof f=="object")if(u&65){const v=f.default;v&&(v._c&&(v._d=!1),IE(l,v()),v._c&&(v._d=!0));return}else{d=32;const v=f._;!v&&!(Gm in f)?f._ctx=Va:v===3&&Va&&(Va.slots._===1?f._=1:(f._=2,l.patchFlag|=1024))}else Bn(f)?(f={default:f,_ctx:Va},d=32):(f=String(f),u&64?(d=16,f=[Xu(f)]):d=8);l.children=f,l.shapeFlag|=d}function _C(...l){const f={};for(let d=0;d<l.length;d++){const u=l[d];for(const v in u)if(v==="class")f.class!==u.class&&(f.class=Ff([f.class,u.class]));else if(v==="style")f.style=Hg([f.style,u.style]);else if(Xg(v)){const y=f[v],_=u[v];_&&y!==_&&!(nn(y)&&y.includes(_))&&(f[v]=y?[].concat(y,_):_)}else v!==""&&(f[v]=u[v])}return f}function Ls(l,f,d,u=null){rl(l,f,7,[d,u])}function $h(l,f,d,u){let v;const y=d&&d[u];if(nn(l)||So(l)){v=new Array(l.length);for(let _=0,O=l.length;_<O;_++)v[_]=f(l[_],_,void 0,y&&y[_])}else if(typeof l=="number"){v=new Array(l);for(let _=0;_<l;_++)v[_]=f(_+1,_,void 0,y&&y[_])}else if(jo(l))if(l[Symbol.iterator])v=Array.from(l,(_,O)=>f(_,O,void 0,y&&y[O]));else{const _=Object.keys(l);v=new Array(_.length);for(let O=0,b=_.length;O<b;O++){const D=_[O];v[O]=f(l[D],D,O,y&&y[O])}}else v=[];return d&&(d[u]=v),v}function SW(l,f){for(let d=0;d<f.length;d++){const u=f[d];if(nn(u))for(let v=0;v<u.length;v++)l[u[v].name]=u[v].fn;else u&&(l[u.name]=u.fn)}return l}function wW(l,f,d={},u,v){if(Va.isCE||Va.parent&&Fp(Va.parent)&&Va.parent.isCE)return Li("slot",f==="default"?null:{name:f},u&&u());let y=l[f];y&&y._c&&(y._d=!1),ro();const _=y&&EC(y(d)),O=Kp(ao,{key:d.key||`_${f}`},_||(u?u():[]),_&&l._===1?64:-2);return!v&&O.scopeId&&(O.slotScopeIds=[O.scopeId+"-s"]),y&&y._c&&(y._d=!0),O}function EC(l){return l.some(f=>Gf(f)?!(f.type===Wa||f.type===ao&&!EC(f.children)):!0)?l:null}function OW(l){const f={};for(const d in l)f[Lg(d)]=l[d];return f}const W5=l=>l?SC(l)?Um(l)||l.proxy:W5(l.parent):null,ym=Fo(Object.create(null),{$:l=>l,$el:l=>l.vnode.el,$data:l=>l.data,$props:l=>l.props,$attrs:l=>l.attrs,$slots:l=>l.slots,$refs:l=>l.refs,$parent:l=>W5(l.parent),$root:l=>W5(l.root),$emit:l=>l.emit,$options:l=>iC(l),$forceUpdate:l=>()=>EE(l.update),$nextTick:l=>Im.bind(l.proxy),$watch:l=>HV.bind(l)}),Y5={get({_:l},f){const{ctx:d,setupState:u,data:v,props:y,accessCache:_,type:O,appContext:b}=l;let D;if(f[0]!=="$"){const H=_[f];if(H!==void 0)switch(H){case 1:return u[f];case 2:return v[f];case 4:return d[f];case 3:return y[f]}else{if(u!==Gi&&xi(u,f))return _[f]=1,u[f];if(v!==Gi&&xi(v,f))return _[f]=2,v[f];if((D=l.propsOptions[0])&&xi(D,f))return _[f]=3,y[f];if(d!==Gi&&xi(d,f))return _[f]=4,d[f];G5&&(_[f]=0)}}const F=ym[f];let L,B;if(F)return f==="$attrs"&&il(l,"get",f),F(l);if((L=O.__cssModules)&&(L=L[f]))return L;if(d!==Gi&&xi(d,f))return _[f]=4,d[f];if(B=b.config.globalProperties,xi(B,f))return B[f]},set({_:l},f,d){const{data:u,setupState:v,ctx:y}=l;return v!==Gi&&xi(v,f)?(v[f]=d,!0):u!==Gi&&xi(u,f)?(u[f]=d,!0):xi(l.props,f)||f[0]==="$"&&f.slice(1)in l?!1:(y[f]=d,!0)},has({_:{data:l,setupState:f,accessCache:d,ctx:u,appContext:v,propsOptions:y}},_){let O;return!!d[_]||l!==Gi&&xi(l,_)||f!==Gi&&xi(f,_)||(O=y[0])&&xi(O,_)||xi(u,_)||xi(ym,_)||xi(v.config.globalProperties,_)},defineProperty(l,f,d){return d.get!=null?l._.accessCache[f]=0:xi(d,"value")&&this.set(l,f,d.value,null),Reflect.defineProperty(l,f,d)}},TW=Fo({},Y5,{get(l,f){if(f!==Symbol.unscopables)return Y5.get(l,f,l)},has(l,f){return f[0]!=="_"&&!xz(f)}}),bW=cC();let CW=0;function xC(l,f,d){const u=l.type,v=(f?f.appContext:l.appContext)||bW,y={uid:CW++,vnode:l,type:u,parent:f,appContext:v,root:null,next:null,subTree:null,effect:null,update:null,scope:new uE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:f?f.provides:Object.create(v.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aC(u,v),emitsOptions:Vb(u,v),emit:null,emitted:null,propsDefaults:Gi,inheritAttrs:u.inheritAttrs,ctx:Gi,data:Gi,props:Gi,attrs:Gi,slots:Gi,refs:Gi,setupState:Gi,setupContext:null,suspense:d,suspenseId:d?d.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return y.ctx={_:y},y.root=f?f.root:y,y.emit=PV.bind(null,y),l.ce&&l.ce(y),y}let oa=null;const Vf=()=>oa||Va,Uf=l=>{oa=l,l.scope.on()},Nf=()=>{oa&&oa.scope.off(),oa=null};function SC(l){return l.vnode.shapeFlag&4}let Bp=!1;function wC(l,f=!1){Bp=f;const{props:d,children:u}=l.vnode,v=SC(l);nW(l,d,v,f),aW(l,u);const y=v?AW(l,f):void 0;return Bp=!1,y}function AW(l,f){const d=l.type;l.accessCache=Object.create(null),l.proxy=vE(new Proxy(l.ctx,Y5));const{setup:u}=d;if(u){const v=l.setupContext=u.length>1?TC(l):null;Uf(l),Jh();const y=Wu(u,l,0,[l.props,v]);if(Qh(),Nf(),sE(y)){if(y.then(Nf,Nf),f)return y.then(_=>{H5(l,_,f)}).catch(_=>{td(_,l,0)});l.asyncDep=y}else H5(l,y,f)}else OC(l,f)}function H5(l,f,d){Bn(f)?l.type.__ssrInlineRender?l.ssrRender=f:l.render=f:jo(f)&&(l.setupState=mE(f)),OC(l,d)}let mm,X5;function LW(l){mm=l,X5=f=>{f.render._rc&&(f.withProxy=new Proxy(f.ctx,TW))}}const RW=()=>!mm;function OC(l,f,d){const u=l.type;if(!l.render){if(!f&&mm&&!u.render){const v=u.template;if(v){const{isCustomElement:y,compilerOptions:_}=l.appContext.config,{delimiters:O,compilerOptions:b}=u,D=Fo(Fo({isCustomElement:y,delimiters:O},_),b);u.render=mm(v,D)}}l.render=u.render||hu,X5&&X5(l)}Uf(l),Jh(),JV(l),Qh(),Nf()}function PW(l){return new Proxy(l.attrs,{get(f,d){return il(l,"get","$attrs"),f[d]}})}function TC(l){const f=u=>{l.exposed=u||{}};let d;return{get attrs(){return d||(d=PW(l))},slots:l.slots,emit:l.emit,expose:f}}function Um(l){if(l.exposed)return l.exposeProxy||(l.exposeProxy=new Proxy(mE(vE(l.exposed)),{get(f,d){if(d in f)return f[d];if(d in ym)return ym[d](l)}}))}const IW=/(?:^|[-_])(\w)/g,MW=l=>l.replace(IW,f=>f.toUpperCase()).replace(/[-_]/g,"");function _m(l){return Bn(l)&&l.displayName||l.name}function bC(l,f,d=!1){let u=_m(f);if(!u&&f.__file){const v=f.__file.match(/([^/\\]+)\.\w+$/);v&&(u=v[1])}if(!u&&l&&l.parent){const v=y=>{for(const _ in y)if(y[_]===f)return _};u=v(l.components||l.parent.type.components)||v(l.appContext.components)}return u?MW(u):d?"App":"Anonymous"}function NW(l){return Bn(l)&&"__vccOpts"in l}const fu=(l,f)=>SV(l,f,Bp);function FW(){return null}function jW(){return null}function DW(l){}function BW(l,f){return null}function GW(){return CC().slots}function UW(){return CC().attrs}function CC(){const l=Vf();return l.setupContext||(l.setupContext=TC(l))}function kW(l,f){const d=nn(l)?l.reduce((u,v)=>(u[v]={},u),{}):l;for(const u in f){const v=d[u];v?nn(v)||Bn(v)?d[u]={type:v,default:f[u]}:v.default=f[u]:v===null&&(d[u]={default:f[u]})}return d}function zW(l,f){const d={};for(const u in l)f.includes(u)||Object.defineProperty(d,u,{enumerable:!0,get:()=>l[u]});return d}function VW(l){const f=Vf();let d=l();return Nf(),sE(d)&&(d=d.catch(u=>{throw Uf(f),u})),[d,()=>Uf(f)]}function km(l,f,d){const u=arguments.length;return u===2?jo(f)&&!nn(f)?Gf(f)?Li(l,null,[f]):Li(l,f):Li(l,null,f):(u>3?d=Array.prototype.slice.call(arguments,2):u===3&&Gf(d)&&(d=[d]),Li(l,f,d))}const AC=Symbol(""),WW=()=>{{const l=Yu(AC);return l||jb("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),l}};function YW(){}function HW(l,f,d,u){const v=d[u];if(v&&LC(v,l))return v;const y=f();return y.memo=l.slice(),d[u]=y}function LC(l,f){const d=l.memo;if(d.length!=f.length)return!1;for(let u=0;u<d.length;u++)if(d[u]!==f[u])return!1;return Dp>0&&Hu&&Hu.push(l),!0}const RC="3.2.33",XW={createComponentInstance:xC,setupComponent:wC,renderComponentRoot:lm,setCurrentRenderingInstance:zg,isVNode:Gf,normalizeVNode:tl},KW=XW,$W=null,ZW=null,qW="http://www.w3.org/2000/svg",Wh=typeof document!="undefined"?document:null,bT=Wh&&Wh.createElement("template"),JW={insert:(l,f,d)=>{f.insertBefore(l,d||null)},remove:l=>{const f=l.parentNode;f&&f.removeChild(l)},createElement:(l,f,d,u)=>{const v=f?Wh.createElementNS(qW,l):Wh.createElement(l,d?{is:d}:void 0);return l==="select"&&u&&u.multiple!=null&&v.setAttribute("multiple",u.multiple),v},createText:l=>Wh.createTextNode(l),createComment:l=>Wh.createComment(l),setText:(l,f)=>{l.nodeValue=f},setElementText:(l,f)=>{l.textContent=f},parentNode:l=>l.parentNode,nextSibling:l=>l.nextSibling,querySelector:l=>Wh.querySelector(l),setScopeId(l,f){l.setAttribute(f,"")},cloneNode(l){const f=l.cloneNode(!0);return"_value"in l&&(f._value=l._value),f},insertStaticContent(l,f,d,u,v,y){const _=d?d.previousSibling:f.lastChild;if(v&&(v===y||v.nextSibling))for(;f.insertBefore(v.cloneNode(!0),d),!(v===y||!(v=v.nextSibling)););else{bT.innerHTML=u?`<svg>${l}</svg>`:l;const O=bT.content;if(u){const b=O.firstChild;for(;b.firstChild;)O.appendChild(b.firstChild);O.removeChild(b)}f.insertBefore(O,d)}return[_?_.nextSibling:f.firstChild,d?d.previousSibling:f.lastChild]}};function QW(l,f,d){const u=l._vtc;u&&(f=(f?[f,...u]:[...u]).join(" ")),f==null?l.removeAttribute("class"):d?l.setAttribute("class",f):l.className=f}function tY(l,f,d){const u=l.style,v=So(d);if(d&&!v){for(const y in d)K5(u,y,d[y]);if(f&&!So(f))for(const y in f)d[y]==null&&K5(u,y,"")}else{const y=u.display;v?f!==d&&(u.cssText=d):f&&l.removeAttribute("style"),"_vod"in l&&(u.display=y)}}const CT=/\s*!important$/;function K5(l,f,d){if(nn(d))d.forEach(u=>K5(l,f,u));else if(d==null&&(d=""),f.startsWith("--"))l.setProperty(f,d);else{const u=eY(l,f);CT.test(d)?l.setProperty(Vu(u),d.replace(CT,""),"important"):l[u]=d}}const AT=["Webkit","Moz","ms"],O5={};function eY(l,f){const d=O5[f];if(d)return d;let u=nl(f);if(u!=="filter"&&u in l)return O5[f]=u;u=Kg(u);for(let v=0;v<AT.length;v++){const y=AT[v]+u;if(y in l)return O5[f]=y}return f}const LT="http://www.w3.org/1999/xlink";function rY(l,f,d,u,v){if(u&&f.startsWith("xlink:"))d==null?l.removeAttributeNS(LT,f.slice(6,f.length)):l.setAttributeNS(LT,f,d);else{const y=wz(f);d==null||y&&!vb(d)?l.removeAttribute(f):l.setAttribute(f,y?"":d)}}function nY(l,f,d,u,v,y,_){if(f==="innerHTML"||f==="textContent"){u&&_(u,v,y),l[f]=d==null?"":d;return}if(f==="value"&&l.tagName!=="PROGRESS"&&!l.tagName.includes("-")){l._value=d;const b=d==null?"":d;(l.value!==b||l.tagName==="OPTION")&&(l.value=b),d==null&&l.removeAttribute(f);return}let O=!1;if(d===""||d==null){const b=typeof l[f];b==="boolean"?d=vb(d):d==null&&b==="string"?(d="",O=!0):b==="number"&&(d=0,O=!0)}try{l[f]=d}catch{}O&&l.removeAttribute(f)}const[PC,iY]=(()=>{let l=Date.now,f=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(l=()=>performance.now());const d=navigator.userAgent.match(/firefox\/(\d+)/i);f=!!(d&&Number(d[1])<=53)}return[l,f]})();let $5=0;const oY=Promise.resolve(),aY=()=>{$5=0},sY=()=>$5||(oY.then(aY),$5=PC());function Ec(l,f,d,u){l.addEventListener(f,d,u)}function lY(l,f,d,u){l.removeEventListener(f,d,u)}function uY(l,f,d,u,v=null){const y=l._vei||(l._vei={}),_=y[f];if(u&&_)_.value=u;else{const[O,b]=cY(f);if(u){const D=y[f]=fY(u,v);Ec(l,O,D,b)}else _&&(lY(l,O,_,b),y[f]=void 0)}}const RT=/(?:Once|Passive|Capture)$/;function cY(l){let f;if(RT.test(l)){f={};let d;for(;d=l.match(RT);)l=l.slice(0,l.length-d[0].length),f[d[0].toLowerCase()]=!0}return[Vu(l.slice(2)),f]}function fY(l,f){const d=u=>{const v=u.timeStamp||PC();(iY||v>=d.attached-1)&&rl(hY(u,d.value),f,5,[u])};return d.value=l,d.attached=sY(),d}function hY(l,f){if(nn(f)){const d=l.stopImmediatePropagation;return l.stopImmediatePropagation=()=>{d.call(l),l._stopped=!0},f.map(u=>v=>!v._stopped&&u&&u(v))}else return f}const PT=/^on[a-z]/,dY=(l,f,d,u,v=!1,y,_,O,b)=>{f==="class"?QW(l,u,v):f==="style"?tY(l,d,u):Xg(f)?iE(f)||uY(l,f,d,u,_):(f[0]==="."?(f=f.slice(1),!0):f[0]==="^"?(f=f.slice(1),!1):pY(l,f,u,v))?nY(l,f,u,y,_,O,b):(f==="true-value"?l._trueValue=u:f==="false-value"&&(l._falseValue=u),rY(l,f,u,v))};function pY(l,f,d,u){return u?!!(f==="innerHTML"||f==="textContent"||f in l&&PT.test(f)&&Bn(d)):f==="spellcheck"||f==="draggable"||f==="translate"||f==="form"||f==="list"&&l.tagName==="INPUT"||f==="type"&&l.tagName==="TEXTAREA"||PT.test(f)&&So(d)?!1:f in l}function IC(l,f){const d=Ku(l);class u extends zm{constructor(y){super(d,y,f)}}return u.def=d,u}const vY=l=>IC(l,WC),gY=typeof HTMLElement!="undefined"?HTMLElement:class{};class zm extends gY{constructor(f,d={},u){super(),this._def=f,this._props=d,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&u?u(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,Im(()=>{this._connected||(q5(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let u=0;u<this.attributes.length;u++)this._setAttr(this.attributes[u].name);new MutationObserver(u=>{for(const v of u)this._setAttr(v.attributeName)}).observe(this,{attributes:!0});const f=u=>{const{props:v,styles:y}=u,_=!nn(v),O=v?_?Object.keys(v):v:[];let b;if(_)for(const D in this._props){const F=v[D];(F===Number||F&&F.type===Number)&&(this._props[D]=Df(this._props[D]),(b||(b=Object.create(null)))[D]=!0)}this._numberProps=b;for(const D of Object.keys(this))D[0]!=="_"&&this._setProp(D,this[D],!0,!1);for(const D of O.map(nl))Object.defineProperty(this,D,{get(){return this._getProp(D)},set(F){this._setProp(D,F)}});this._applyStyles(y),this._update()},d=this._def.__asyncLoader;d?d().then(f):f(this._def)}_setAttr(f){let d=this.getAttribute(f);this._numberProps&&this._numberProps[f]&&(d=Df(d)),this._setProp(nl(f),d,!1)}_getProp(f){return this._props[f]}_setProp(f,d,u=!0,v=!0){d!==this._props[f]&&(this._props[f]=d,v&&this._instance&&this._update(),u&&(d===!0?this.setAttribute(Vu(f),""):typeof d=="string"||typeof d=="number"?this.setAttribute(Vu(f),d+""):d||this.removeAttribute(Vu(f))))}_update(){q5(this._createVNode(),this.shadowRoot)}_createVNode(){const f=Li(this._def,Fo({},this._props));return this._instance||(f.ce=d=>{this._instance=d,d.isCE=!0,d.emit=(v,...y)=>{this.dispatchEvent(new CustomEvent(v,{detail:y}))};let u=this;for(;u=u&&(u.parentNode||u.host);)if(u instanceof zm){d.parent=u._instance;break}}),f}_applyStyles(f){f&&f.forEach(d=>{const u=document.createElement("style");u.textContent=d,this.shadowRoot.appendChild(u)})}}function yY(l="$style"){{const f=Vf();if(!f)return Gi;const d=f.type.__cssModules;if(!d)return Gi;const u=d[l];return u||Gi}}function mY(l){const f=Vf();if(!f)return;const d=()=>Z5(f.subTree,l(f.proxy));Yb(d),zf(()=>{const u=new MutationObserver(d);u.observe(f.subTree.el.parentNode,{childList:!0}),Bm(()=>u.disconnect())})}function Z5(l,f){if(l.shapeFlag&128){const d=l.suspense;l=d.activeBranch,d.pendingBranch&&!d.isHydrating&&d.effects.push(()=>{Z5(d.activeBranch,f)})}for(;l.component;)l=l.component.subTree;if(l.shapeFlag&1&&l.el)IT(l.el,f);else if(l.type===ao)l.children.forEach(d=>Z5(d,f));else if(l.type===Kh){let{el:d,anchor:u}=l;for(;d&&(IT(d,f),d!==u);)d=d.nextSibling}}function IT(l,f){if(l.nodeType===1){const d=l.style;for(const u in f)d.setProperty(`--${u}`,f[u])}}const Tf="transition",xg="animation",ME=(l,{slots:f})=>km(bE,NC(l),f);ME.displayName="Transition";const MC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_Y=ME.props=Fo({},bE.props,MC),kh=(l,f=[])=>{nn(l)?l.forEach(d=>d(...f)):l&&l(...f)},MT=l=>l?nn(l)?l.some(f=>f.length>1):l.length>1:!1;function NC(l){const f={};for(const St in l)St in MC||(f[St]=l[St]);if(l.css===!1)return f;const{name:d="v",type:u,duration:v,enterFromClass:y=`${d}-enter-from`,enterActiveClass:_=`${d}-enter-active`,enterToClass:O=`${d}-enter-to`,appearFromClass:b=y,appearActiveClass:D=_,appearToClass:F=O,leaveFromClass:L=`${d}-leave-from`,leaveActiveClass:B=`${d}-leave-active`,leaveToClass:H=`${d}-leave-to`}=l,W=EY(v),$=W&&W[0],q=W&&W[1],{onBeforeEnter:tt,onEnter:J,onEnterCancelled:_t,onLeave:rt,onLeaveCancelled:I,onBeforeAppear:Et=tt,onAppear:bt=J,onAppearCancelled:Nt=_t}=f,ct=(St,Dt,qt)=>{Vh(St,Dt?F:O),Vh(St,Dt?D:_),qt&&qt()},jt=(St,Dt)=>{Vh(St,H),Vh(St,B),Dt&&Dt()},gt=St=>(Dt,qt)=>{const Le=St?bt:J,Q=()=>ct(Dt,St,qt);kh(Le,[Dt,Q]),NT(()=>{Vh(Dt,St?b:y),mc(Dt,St?F:O),MT(Le)||FT(Dt,u,$,Q)})};return Fo(f,{onBeforeEnter(St){kh(tt,[St]),mc(St,y),mc(St,_)},onBeforeAppear(St){kh(Et,[St]),mc(St,b),mc(St,D)},onEnter:gt(!1),onAppear:gt(!0),onLeave(St,Dt){const qt=()=>jt(St,Dt);mc(St,L),jC(),mc(St,B),NT(()=>{Vh(St,L),mc(St,H),MT(rt)||FT(St,u,q,qt)}),kh(rt,[St,qt])},onEnterCancelled(St){ct(St,!1),kh(_t,[St])},onAppearCancelled(St){ct(St,!0),kh(Nt,[St])},onLeaveCancelled(St){jt(St),kh(I,[St])}})}function EY(l){if(l==null)return null;if(jo(l))return[T5(l.enter),T5(l.leave)];{const f=T5(l);return[f,f]}}function T5(l){return Df(l)}function mc(l,f){f.split(/\s+/).forEach(d=>d&&l.classList.add(d)),(l._vtc||(l._vtc=new Set)).add(f)}function Vh(l,f){f.split(/\s+/).forEach(u=>u&&l.classList.remove(u));const{_vtc:d}=l;d&&(d.delete(f),d.size||(l._vtc=void 0))}function NT(l){requestAnimationFrame(()=>{requestAnimationFrame(l)})}let xY=0;function FT(l,f,d,u){const v=l._endId=++xY,y=()=>{v===l._endId&&u()};if(d)return setTimeout(y,d);const{type:_,timeout:O,propCount:b}=FC(l,f);if(!_)return u();const D=_+"end";let F=0;const L=()=>{l.removeEventListener(D,B),y()},B=H=>{H.target===l&&++F>=b&&L()};setTimeout(()=>{F<b&&L()},O+1),l.addEventListener(D,B)}function FC(l,f){const d=window.getComputedStyle(l),u=W=>(d[W]||"").split(", "),v=u(Tf+"Delay"),y=u(Tf+"Duration"),_=jT(v,y),O=u(xg+"Delay"),b=u(xg+"Duration"),D=jT(O,b);let F=null,L=0,B=0;f===Tf?_>0&&(F=Tf,L=_,B=y.length):f===xg?D>0&&(F=xg,L=D,B=b.length):(L=Math.max(_,D),F=L>0?_>D?Tf:xg:null,B=F?F===Tf?y.length:b.length:0);const H=F===Tf&&/\b(transform|all)(,|$)/.test(d[Tf+"Property"]);return{type:F,timeout:L,propCount:B,hasTransform:H}}function jT(l,f){for(;l.length<f.length;)l=l.concat(l);return Math.max(...f.map((d,u)=>DT(d)+DT(l[u])))}function DT(l){return Number(l.slice(0,-1).replace(",","."))*1e3}function jC(){return document.body.offsetHeight}const DC=new WeakMap,BC=new WeakMap,SY={name:"TransitionGroup",props:Fo({},_Y,{tag:String,moveClass:String}),setup(l,{slots:f}){const d=Vf(),u=TE();let v,y;return Dm(()=>{if(!v.length)return;const _=l.moveClass||`${l.name||"v"}-move`;if(!CY(v[0].el,d.vnode.el,_))return;v.forEach(OY),v.forEach(TY);const O=v.filter(bY);jC(),O.forEach(b=>{const D=b.el,F=D.style;mc(D,_),F.transform=F.webkitTransform=F.transitionDuration="";const L=D._moveCb=B=>{B&&B.target!==D||(!B||/transform$/.test(B.propertyName))&&(D.removeEventListener("transitionend",L),D._moveCb=null,Vh(D,_))};D.addEventListener("transitionend",L)})}),()=>{const _=_i(l),O=NC(_);let b=_.tag||ao;v=y,y=f.default?Fm(f.default()):[];for(let D=0;D<y.length;D++){const F=y[D];F.key!=null&&Zh(F,Np(F,O,u,d))}if(v)for(let D=0;D<v.length;D++){const F=v[D];Zh(F,Np(F,O,u,d)),DC.set(F,F.el.getBoundingClientRect())}return Li(b,null,y)}}},wY=SY;function OY(l){const f=l.el;f._moveCb&&f._moveCb(),f._enterCb&&f._enterCb()}function TY(l){BC.set(l,l.el.getBoundingClientRect())}function bY(l){const f=DC.get(l),d=BC.get(l),u=f.left-d.left,v=f.top-d.top;if(u||v){const y=l.el.style;return y.transform=y.webkitTransform=`translate(${u}px,${v}px)`,y.transitionDuration="0s",l}}function CY(l,f,d){const u=l.cloneNode();l._vtc&&l._vtc.forEach(_=>{_.split(/\s+/).forEach(O=>O&&u.classList.remove(O))}),d.split(/\s+/).forEach(_=>_&&u.classList.add(_)),u.style.display="none";const v=f.nodeType===1?f:f.parentNode;v.appendChild(u);const{hasTransform:y}=FC(u);return v.removeChild(u),y}const kf=l=>{const f=l.props["onUpdate:modelValue"];return nn(f)?d=>Lp(f,d):f};function AY(l){l.target.composing=!0}function BT(l){const f=l.target;f.composing&&(f.composing=!1,LY(f,"input"))}function LY(l,f){const d=document.createEvent("HTMLEvents");d.initEvent(f,!0,!0),l.dispatchEvent(d)}const Em={created(l,{modifiers:{lazy:f,trim:d,number:u}},v){l._assign=kf(v);const y=u||v.props&&v.props.type==="number";Ec(l,f?"change":"input",_=>{if(_.target.composing)return;let O=l.value;d?O=O.trim():y&&(O=Df(O)),l._assign(O)}),d&&Ec(l,"change",()=>{l.value=l.value.trim()}),f||(Ec(l,"compositionstart",AY),Ec(l,"compositionend",BT),Ec(l,"change",BT))},mounted(l,{value:f}){l.value=f==null?"":f},beforeUpdate(l,{value:f,modifiers:{lazy:d,trim:u,number:v}},y){if(l._assign=kf(y),l.composing||document.activeElement===l&&(d||u&&l.value.trim()===f||(v||l.type==="number")&&Df(l.value)===f))return;const _=f==null?"":f;l.value!==_&&(l.value=_)}},NE={deep:!0,created(l,f,d){l._assign=kf(d),Ec(l,"change",()=>{const u=l._modelValue,v=Up(l),y=l.checked,_=l._assign;if(nn(u)){const O=Om(u,v),b=O!==-1;if(y&&!b)_(u.concat(v));else if(!y&&b){const D=[...u];D.splice(O,1),_(D)}}else if(qh(u)){const O=new Set(u);y?O.add(v):O.delete(v),_(O)}else _(GC(l,y))})},mounted:GT,beforeUpdate(l,f,d){l._assign=kf(d),GT(l,f,d)}};function GT(l,{value:f,oldValue:d},u){l._modelValue=f,nn(f)?l.checked=Om(f,u.props.value)>-1:qh(f)?l.checked=f.has(u.props.value):f!==d&&(l.checked=jf(f,GC(l,!0)))}const FE={created(l,{value:f},d){l.checked=jf(f,d.props.value),l._assign=kf(d),Ec(l,"change",()=>{l._assign(Up(l))})},beforeUpdate(l,{value:f,oldValue:d},u){l._assign=kf(u),f!==d&&(l.checked=jf(f,u.props.value))}},Gp={deep:!0,created(l,{value:f,modifiers:{number:d}},u){const v=qh(f);Ec(l,"change",()=>{const y=Array.prototype.filter.call(l.options,_=>_.selected).map(_=>d?Df(Up(_)):Up(_));l._assign(l.multiple?v?new Set(y):y:y[0])}),l._assign=kf(u)},mounted(l,{value:f}){UT(l,f)},beforeUpdate(l,f,d){l._assign=kf(d)},updated(l,{value:f}){UT(l,f)}};function UT(l,f){const d=l.multiple;if(!(d&&!nn(f)&&!qh(f))){for(let u=0,v=l.options.length;u<v;u++){const y=l.options[u],_=Up(y);if(d)nn(f)?y.selected=Om(f,_)>-1:y.selected=f.has(_);else if(jf(Up(y),f)){l.selectedIndex!==u&&(l.selectedIndex=u);return}}!d&&l.selectedIndex!==-1&&(l.selectedIndex=-1)}}function Up(l){return"_value"in l?l._value:l.value}function GC(l,f){const d=f?"_trueValue":"_falseValue";return d in l?l[d]:f}const RY={created(l,f,d){om(l,f,d,null,"created")},mounted(l,f,d){om(l,f,d,null,"mounted")},beforeUpdate(l,f,d,u){om(l,f,d,u,"beforeUpdate")},updated(l,f,d,u){om(l,f,d,u,"updated")}};function om(l,f,d,u,v){let y;switch(l.tagName){case"SELECT":y=Gp;break;case"TEXTAREA":y=Em;break;default:switch(d.props&&d.props.type){case"checkbox":y=NE;break;case"radio":y=FE;break;default:y=Em}}const _=y[v];_&&_(l,f,d,u)}function PY(){Em.getSSRProps=({value:l})=>({value:l}),FE.getSSRProps=({value:l},f)=>{if(f.props&&jf(f.props.value,l))return{checked:!0}},NE.getSSRProps=({value:l},f)=>{if(nn(l)){if(f.props&&Om(l,f.props.value)>-1)return{checked:!0}}else if(qh(l)){if(f.props&&l.has(f.props.value))return{checked:!0}}else if(l)return{checked:!0}}}const IY=["ctrl","shift","alt","meta"],MY={stop:l=>l.stopPropagation(),prevent:l=>l.preventDefault(),self:l=>l.target!==l.currentTarget,ctrl:l=>!l.ctrlKey,shift:l=>!l.shiftKey,alt:l=>!l.altKey,meta:l=>!l.metaKey,left:l=>"button"in l&&l.button!==0,middle:l=>"button"in l&&l.button!==1,right:l=>"button"in l&&l.button!==2,exact:(l,f)=>IY.some(d=>l[`${d}Key`]&&!f.includes(d))},NY=(l,f)=>(d,...u)=>{for(let v=0;v<f.length;v++){const y=MY[f[v]];if(y&&y(d,f))return}return l(d,...u)},FY={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jY=(l,f)=>d=>{if(!("key"in d))return;const u=Vu(d.key);if(f.some(v=>v===u||FY[v]===u))return l(d)},UC={beforeMount(l,{value:f},{transition:d}){l._vod=l.style.display==="none"?"":l.style.display,d&&f?d.beforeEnter(l):Sg(l,f)},mounted(l,{value:f},{transition:d}){d&&f&&d.enter(l)},updated(l,{value:f,oldValue:d},{transition:u}){!f!=!d&&(u?f?(u.beforeEnter(l),Sg(l,!0),u.enter(l)):u.leave(l,()=>{Sg(l,!1)}):Sg(l,f))},beforeUnmount(l,{value:f}){Sg(l,f)}};function Sg(l,f){l.style.display=f?l._vod:"none"}function DY(){UC.getSSRProps=({value:l})=>{if(!l)return{style:{display:"none"}}}}const kC=Fo({patchProp:dY},JW);let jg,kT=!1;function zC(){return jg||(jg=fC(kC))}function VC(){return jg=kT?jg:hC(kC),kT=!0,jg}const q5=(...l)=>{zC().render(...l)},WC=(...l)=>{VC().hydrate(...l)},YC=(...l)=>{const f=zC().createApp(...l),{mount:d}=f;return f.mount=u=>{const v=HC(u);if(!v)return;const y=f._component;!Bn(y)&&!y.render&&!y.template&&(y.template=v.innerHTML),v.innerHTML="";const _=d(v,!1,v instanceof SVGElement);return v instanceof Element&&(v.removeAttribute("v-cloak"),v.setAttribute("data-v-app","")),_},f},BY=(...l)=>{const f=VC().createApp(...l),{mount:d}=f;return f.mount=u=>{const v=HC(u);if(v)return d(v,!0,v instanceof SVGElement)},f};function HC(l){return So(l)?document.querySelector(l):l}let zT=!1;const GY=()=>{zT||(zT=!0,PY(),DY())},UY=()=>{};var kY=Object.freeze(Object.defineProperty({__proto__:null,compile:UY,EffectScope:uE,ReactiveEffect:$g,customRef:mV,effect:kz,effectScope:jz,getCurrentScope:Dz,isProxy:pE,isReactive:Xh,isReadonly:Mp,isRef:go,isShallow:dE,markRaw:vE,onScopeDispose:Bz,proxyRefs:mE,reactive:Sc,readonly:hE,ref:ci,shallowReactive:Ib,shallowReadonly:dV,shallowRef:Mb,stop:zz,toRaw:_i,toRef:Fb,toRefs:_V,triggerRef:vV,unref:ti,camelize:nl,capitalize:Kg,normalizeClass:Ff,normalizeProps:Cz,normalizeStyle:Hg,toDisplayString:Wi,toHandlerKey:Lg,BaseTransition:bE,Comment:Wa,Fragment:ao,KeepAlive:ZV,Static:Kh,Suspense:GV,Teleport:vW,Text:jp,callWithAsyncErrorHandling:rl,callWithErrorHandling:Wu,cloneVNode:wc,compatUtils:ZW,computed:fu,createBlock:Kp,createCommentVNode:PE,createElementBlock:Jo,createElementVNode:Fe,createHydrationRenderer:hC,createPropsRestProxy:zW,createRenderer:fC,createSlots:SW,createStaticVNode:xW,createTextVNode:Xu,createVNode:Li,defineAsyncComponent:KV,defineComponent:Ku,defineEmits:jW,defineExpose:DW,defineProps:FW,get devtools(){return Tp},getCurrentInstance:Vf,getTransitionRawChildren:Fm,guardReactiveProps:mC,h:km,handleError:td,initCustomFormatter:YW,inject:Yu,isMemoSame:LC,isRuntimeOnly:RW,isVNode:Gf,mergeDefaults:kW,mergeProps:_C,nextTick:Im,onActivated:Kb,onBeforeMount:qb,onBeforeUnmount:Jg,onBeforeUpdate:Jb,onDeactivated:$b,onErrorCaptured:rC,onMounted:zf,onRenderTracked:eC,onRenderTriggered:tC,onServerPrefetch:Qb,onUnmounted:Bm,onUpdated:Dm,openBlock:ro,popScopeId:Xp,provide:Mg,pushScopeId:Hp,queuePostFlushCb:xE,registerRuntimeCompiler:LW,renderList:$h,renderSlot:wW,resolveComponent:If,resolveDirective:mW,resolveDynamicComponent:yW,resolveFilter:$W,resolveTransitionHooks:Np,setBlockTracking:V5,setDevtoolsHook:zb,setTransitionHooks:Zh,ssrContextKey:AC,ssrUtils:KW,toHandlers:OW,transformVNodeArgs:_W,useAttrs:UW,useSSRContext:WW,useSlots:GW,useTransitionState:TE,version:RC,warn:jb,watch:Ip,watchEffect:WV,watchPostEffect:Yb,watchSyncEffect:YV,withAsyncContext:VW,withCtx:Rp,withDefaults:BW,withDirectives:Wg,withMemo:HW,withScopeId:IV,Transition:ME,TransitionGroup:wY,VueElement:zm,createApp:YC,createSSRApp:BY,defineCustomElement:IC,defineSSRCustomElement:vY,hydrate:WC,initDirectivesForSSR:GY,render:q5,useCssModule:yY,useCssVars:mY,vModelCheckbox:NE,vModelDynamic:RY,vModelRadio:FE,vModelSelect:Gp,vModelText:Em,vShow:UC,withKeys:jY,withModifiers:NY},Symbol.toStringTag,{value:"Module"}));var $p=(l,f)=>{const d=l.__vccOpts||l;for(const[u,v]of f)d[u]=v;return d};const zY={};function VY(l,f){const d=If("router-view");return ro(),Kp(d)}var WY=$p(zY,[["render",VY]]);/*!
  * vue-router v4.0.15
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const XC=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Zp=l=>XC?Symbol(l):"_vr_"+l,YY=Zp("rvlm"),VT=Zp("rvd"),jE=Zp("r"),KC=Zp("rl"),J5=Zp("rvl"),bp=typeof window!="undefined";function HY(l){return l.__esModule||XC&&l[Symbol.toStringTag]==="Module"}const qi=Object.assign;function b5(l,f){const d={};for(const u in f){const v=f[u];d[u]=Array.isArray(v)?v.map(l):l(v)}return d}const Dg=()=>{},XY=/\/$/,KY=l=>l.replace(XY,"");function C5(l,f,d="/"){let u,v={},y="",_="";const O=f.indexOf("?"),b=f.indexOf("#",O>-1?O:0);return O>-1&&(u=f.slice(0,O),y=f.slice(O+1,b>-1?b:f.length),v=l(y)),b>-1&&(u=u||f.slice(0,b),_=f.slice(b,f.length)),u=JY(u!=null?u:f,d),{fullPath:u+(y&&"?")+y+_,path:u,query:v,hash:_}}function $Y(l,f){const d=f.query?l(f.query):"";return f.path+(d&&"?")+d+(f.hash||"")}function WT(l,f){return!f||!l.toLowerCase().startsWith(f.toLowerCase())?l:l.slice(f.length)||"/"}function ZY(l,f,d){const u=f.matched.length-1,v=d.matched.length-1;return u>-1&&u===v&&kp(f.matched[u],d.matched[v])&&$C(f.params,d.params)&&l(f.query)===l(d.query)&&f.hash===d.hash}function kp(l,f){return(l.aliasOf||l)===(f.aliasOf||f)}function $C(l,f){if(Object.keys(l).length!==Object.keys(f).length)return!1;for(const d in l)if(!qY(l[d],f[d]))return!1;return!0}function qY(l,f){return Array.isArray(l)?YT(l,f):Array.isArray(f)?YT(f,l):l===f}function YT(l,f){return Array.isArray(f)?l.length===f.length&&l.every((d,u)=>d===f[u]):l.length===1&&l[0]===f}function JY(l,f){if(l.startsWith("/"))return l;if(!l)return f;const d=f.split("/"),u=l.split("/");let v=d.length-1,y,_;for(y=0;y<u.length;y++)if(_=u[y],!(v===1||_==="."))if(_==="..")v--;else break;return d.slice(0,v).join("/")+"/"+u.slice(y-(y===u.length?1:0)).join("/")}var Yg;(function(l){l.pop="pop",l.push="push"})(Yg||(Yg={}));var Bg;(function(l){l.back="back",l.forward="forward",l.unknown=""})(Bg||(Bg={}));function QY(l){if(!l)if(bp){const f=document.querySelector("base");l=f&&f.getAttribute("href")||"/",l=l.replace(/^\w+:\/\/[^\/]+/,"")}else l="/";return l[0]!=="/"&&l[0]!=="#"&&(l="/"+l),KY(l)}const tH=/^[^#]+#/;function eH(l,f){return l.replace(tH,"#")+f}function rH(l,f){const d=document.documentElement.getBoundingClientRect(),u=l.getBoundingClientRect();return{behavior:f.behavior,left:u.left-d.left-(f.left||0),top:u.top-d.top-(f.top||0)}}const Vm=()=>({left:window.pageXOffset,top:window.pageYOffset});function nH(l){let f;if("el"in l){const d=l.el,u=typeof d=="string"&&d.startsWith("#"),v=typeof d=="string"?u?document.getElementById(d.slice(1)):document.querySelector(d):d;if(!v)return;f=rH(v,l)}else f=l;"scrollBehavior"in document.documentElement.style?window.scrollTo(f):window.scrollTo(f.left!=null?f.left:window.pageXOffset,f.top!=null?f.top:window.pageYOffset)}function HT(l,f){return(history.state?history.state.position-f:-1)+l}const Q5=new Map;function iH(l,f){Q5.set(l,f)}function oH(l){const f=Q5.get(l);return Q5.delete(l),f}let aH=()=>location.protocol+"//"+location.host;function ZC(l,f){const{pathname:d,search:u,hash:v}=f,y=l.indexOf("#");if(y>-1){let O=v.includes(l.slice(y))?l.slice(y).length:1,b=v.slice(O);return b[0]!=="/"&&(b="/"+b),WT(b,"")}return WT(d,l)+u+v}function sH(l,f,d,u){let v=[],y=[],_=null;const O=({state:B})=>{const H=ZC(l,location),W=d.value,$=f.value;let q=0;if(B){if(d.value=H,f.value=B,_&&_===W){_=null;return}q=$?B.position-$.position:0}else u(H);v.forEach(tt=>{tt(d.value,W,{delta:q,type:Yg.pop,direction:q?q>0?Bg.forward:Bg.back:Bg.unknown})})};function b(){_=d.value}function D(B){v.push(B);const H=()=>{const W=v.indexOf(B);W>-1&&v.splice(W,1)};return y.push(H),H}function F(){const{history:B}=window;!B.state||B.replaceState(qi({},B.state,{scroll:Vm()}),"")}function L(){for(const B of y)B();y=[],window.removeEventListener("popstate",O),window.removeEventListener("beforeunload",F)}return window.addEventListener("popstate",O),window.addEventListener("beforeunload",F),{pauseListeners:b,listen:D,destroy:L}}function XT(l,f,d,u=!1,v=!1){return{back:l,current:f,forward:d,replaced:u,position:window.history.length,scroll:v?Vm():null}}function lH(l){const{history:f,location:d}=window,u={value:ZC(l,d)},v={value:f.state};v.value||y(u.value,{back:null,current:u.value,forward:null,position:f.length-1,replaced:!0,scroll:null},!0);function y(b,D,F){const L=l.indexOf("#"),B=L>-1?(d.host&&document.querySelector("base")?l:l.slice(L))+b:aH()+l+b;try{f[F?"replaceState":"pushState"](D,"",B),v.value=D}catch(H){console.error(H),d[F?"replace":"assign"](B)}}function _(b,D){const F=qi({},f.state,XT(v.value.back,b,v.value.forward,!0),D,{position:v.value.position});y(b,F,!0),u.value=b}function O(b,D){const F=qi({},v.value,f.state,{forward:b,scroll:Vm()});y(F.current,F,!0);const L=qi({},XT(u.value,b,null),{position:F.position+1},D);y(b,L,!1),u.value=b}return{location:u,state:v,push:O,replace:_}}function uH(l){l=QY(l);const f=lH(l),d=sH(l,f.state,f.location,f.replace);function u(y,_=!0){_||d.pauseListeners(),history.go(y)}const v=qi({location:"",base:l,go:u,createHref:eH.bind(null,l)},f,d);return Object.defineProperty(v,"location",{enumerable:!0,get:()=>f.location.value}),Object.defineProperty(v,"state",{enumerable:!0,get:()=>f.state.value}),v}function cH(l){return l=location.host?l||location.pathname+location.search:"",l.includes("#")||(l+="#"),uH(l)}function fH(l){return typeof l=="string"||l&&typeof l=="object"}function qC(l){return typeof l=="string"||typeof l=="symbol"}const bf={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},JC=Zp("nf");var KT;(function(l){l[l.aborted=4]="aborted",l[l.cancelled=8]="cancelled",l[l.duplicated=16]="duplicated"})(KT||(KT={}));function zp(l,f){return qi(new Error,{type:l,[JC]:!0},f)}function Cf(l,f){return l instanceof Error&&JC in l&&(f==null||!!(l.type&f))}const $T="[^/]+?",hH={sensitive:!1,strict:!1,start:!0,end:!0},dH=/[.+*?^${}()[\]/\\]/g;function pH(l,f){const d=qi({},hH,f),u=[];let v=d.start?"^":"";const y=[];for(const D of l){const F=D.length?[]:[90];d.strict&&!D.length&&(v+="/");for(let L=0;L<D.length;L++){const B=D[L];let H=40+(d.sensitive?.25:0);if(B.type===0)L||(v+="/"),v+=B.value.replace(dH,"\\$&"),H+=40;else if(B.type===1){const{value:W,repeatable:$,optional:q,regexp:tt}=B;y.push({name:W,repeatable:$,optional:q});const J=tt||$T;if(J!==$T){H+=10;try{new RegExp(`(${J})`)}catch(rt){throw new Error(`Invalid custom RegExp for param "${W}" (${J}): `+rt.message)}}let _t=$?`((?:${J})(?:/(?:${J}))*)`:`(${J})`;L||(_t=q&&D.length<2?`(?:/${_t})`:"/"+_t),q&&(_t+="?"),v+=_t,H+=20,q&&(H+=-8),$&&(H+=-20),J===".*"&&(H+=-50)}F.push(H)}u.push(F)}if(d.strict&&d.end){const D=u.length-1;u[D][u[D].length-1]+=.7000000000000001}d.strict||(v+="/?"),d.end?v+="$":d.strict&&(v+="(?:/|$)");const _=new RegExp(v,d.sensitive?"":"i");function O(D){const F=D.match(_),L={};if(!F)return null;for(let B=1;B<F.length;B++){const H=F[B]||"",W=y[B-1];L[W.name]=H&&W.repeatable?H.split("/"):H}return L}function b(D){let F="",L=!1;for(const B of l){(!L||!F.endsWith("/"))&&(F+="/"),L=!1;for(const H of B)if(H.type===0)F+=H.value;else if(H.type===1){const{value:W,repeatable:$,optional:q}=H,tt=W in D?D[W]:"";if(Array.isArray(tt)&&!$)throw new Error(`Provided param "${W}" is an array but it is not repeatable (* or + modifiers)`);const J=Array.isArray(tt)?tt.join("/"):tt;if(!J)if(q)B.length<2&&l.length>1&&(F.endsWith("/")?F=F.slice(0,-1):L=!0);else throw new Error(`Missing required param "${W}"`);F+=J}}return F}return{re:_,score:u,keys:y,parse:O,stringify:b}}function vH(l,f){let d=0;for(;d<l.length&&d<f.length;){const u=f[d]-l[d];if(u)return u;d++}return l.length<f.length?l.length===1&&l[0]===40+40?-1:1:l.length>f.length?f.length===1&&f[0]===40+40?1:-1:0}function gH(l,f){let d=0;const u=l.score,v=f.score;for(;d<u.length&&d<v.length;){const y=vH(u[d],v[d]);if(y)return y;d++}return v.length-u.length}const yH={type:0,value:""},mH=/[a-zA-Z0-9_]/;function _H(l){if(!l)return[[]];if(l==="/")return[[yH]];if(!l.startsWith("/"))throw new Error(`Invalid path "${l}"`);function f(H){throw new Error(`ERR (${d})/"${D}": ${H}`)}let d=0,u=d;const v=[];let y;function _(){y&&v.push(y),y=[]}let O=0,b,D="",F="";function L(){!D||(d===0?y.push({type:0,value:D}):d===1||d===2||d===3?(y.length>1&&(b==="*"||b==="+")&&f(`A repeatable param (${D}) must be alone in its segment. eg: '/:ids+.`),y.push({type:1,value:D,regexp:F,repeatable:b==="*"||b==="+",optional:b==="*"||b==="?"})):f("Invalid state to consume buffer"),D="")}function B(){D+=b}for(;O<l.length;){if(b=l[O++],b==="\\"&&d!==2){u=d,d=4;continue}switch(d){case 0:b==="/"?(D&&L(),_()):b===":"?(L(),d=1):B();break;case 4:B(),d=u;break;case 1:b==="("?d=2:mH.test(b)?B():(L(),d=0,b!=="*"&&b!=="?"&&b!=="+"&&O--);break;case 2:b===")"?F[F.length-1]=="\\"?F=F.slice(0,-1)+b:d=3:F+=b;break;case 3:L(),d=0,b!=="*"&&b!=="?"&&b!=="+"&&O--,F="";break;default:f("Unknown state");break}}return d===2&&f(`Unfinished custom RegExp for param "${D}"`),L(),_(),v}function EH(l,f,d){const u=pH(_H(l.path),d),v=qi(u,{record:l,parent:f,children:[],alias:[]});return f&&!v.record.aliasOf==!f.record.aliasOf&&f.children.push(v),v}function xH(l,f){const d=[],u=new Map;f=qT({strict:!1,end:!0,sensitive:!1},f);function v(F){return u.get(F)}function y(F,L,B){const H=!B,W=wH(F);W.aliasOf=B&&B.record;const $=qT(f,F),q=[W];if("alias"in F){const _t=typeof F.alias=="string"?[F.alias]:F.alias;for(const rt of _t)q.push(qi({},W,{components:B?B.record.components:W.components,path:rt,aliasOf:B?B.record:W}))}let tt,J;for(const _t of q){const{path:rt}=_t;if(L&&rt[0]!=="/"){const I=L.record.path,Et=I[I.length-1]==="/"?"":"/";_t.path=L.record.path+(rt&&Et+rt)}if(tt=EH(_t,L,$),B?B.alias.push(tt):(J=J||tt,J!==tt&&J.alias.push(tt),H&&F.name&&!ZT(tt)&&_(F.name)),"children"in W){const I=W.children;for(let Et=0;Et<I.length;Et++)y(I[Et],tt,B&&B.children[Et])}B=B||tt,b(tt)}return J?()=>{_(J)}:Dg}function _(F){if(qC(F)){const L=u.get(F);L&&(u.delete(F),d.splice(d.indexOf(L),1),L.children.forEach(_),L.alias.forEach(_))}else{const L=d.indexOf(F);L>-1&&(d.splice(L,1),F.record.name&&u.delete(F.record.name),F.children.forEach(_),F.alias.forEach(_))}}function O(){return d}function b(F){let L=0;for(;L<d.length&&gH(F,d[L])>=0&&(F.record.path!==d[L].record.path||!QC(F,d[L]));)L++;d.splice(L,0,F),F.record.name&&!ZT(F)&&u.set(F.record.name,F)}function D(F,L){let B,H={},W,$;if("name"in F&&F.name){if(B=u.get(F.name),!B)throw zp(1,{location:F});$=B.record.name,H=qi(SH(L.params,B.keys.filter(J=>!J.optional).map(J=>J.name)),F.params),W=B.stringify(H)}else if("path"in F)W=F.path,B=d.find(J=>J.re.test(W)),B&&(H=B.parse(W),$=B.record.name);else{if(B=L.name?u.get(L.name):d.find(J=>J.re.test(L.path)),!B)throw zp(1,{location:F,currentLocation:L});$=B.record.name,H=qi({},L.params,F.params),W=B.stringify(H)}const q=[];let tt=B;for(;tt;)q.unshift(tt.record),tt=tt.parent;return{name:$,path:W,params:H,matched:q,meta:TH(q)}}return l.forEach(F=>y(F)),{addRoute:y,resolve:D,removeRoute:_,getRoutes:O,getRecordMatcher:v}}function SH(l,f){const d={};for(const u of f)u in l&&(d[u]=l[u]);return d}function wH(l){return{path:l.path,redirect:l.redirect,name:l.name,meta:l.meta||{},aliasOf:void 0,beforeEnter:l.beforeEnter,props:OH(l),children:l.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in l?l.components||{}:{default:l.component}}}function OH(l){const f={},d=l.props||!1;if("component"in l)f.default=d;else for(const u in l.components)f[u]=typeof d=="boolean"?d:d[u];return f}function ZT(l){for(;l;){if(l.record.aliasOf)return!0;l=l.parent}return!1}function TH(l){return l.reduce((f,d)=>qi(f,d.meta),{})}function qT(l,f){const d={};for(const u in l)d[u]=u in f?f[u]:l[u];return d}function QC(l,f){return f.children.some(d=>d===l||QC(l,d))}const tA=/#/g,bH=/&/g,CH=/\//g,AH=/=/g,LH=/\?/g,eA=/\+/g,RH=/%5B/g,PH=/%5D/g,rA=/%5E/g,IH=/%60/g,nA=/%7B/g,MH=/%7C/g,iA=/%7D/g,NH=/%20/g;function DE(l){return encodeURI(""+l).replace(MH,"|").replace(RH,"[").replace(PH,"]")}function FH(l){return DE(l).replace(nA,"{").replace(iA,"}").replace(rA,"^")}function tE(l){return DE(l).replace(eA,"%2B").replace(NH,"+").replace(tA,"%23").replace(bH,"%26").replace(IH,"`").replace(nA,"{").replace(iA,"}").replace(rA,"^")}function jH(l){return tE(l).replace(AH,"%3D")}function DH(l){return DE(l).replace(tA,"%23").replace(LH,"%3F")}function BH(l){return l==null?"":DH(l).replace(CH,"%2F")}function xm(l){try{return decodeURIComponent(""+l)}catch{}return""+l}function GH(l){const f={};if(l===""||l==="?")return f;const u=(l[0]==="?"?l.slice(1):l).split("&");for(let v=0;v<u.length;++v){const y=u[v].replace(eA," "),_=y.indexOf("="),O=xm(_<0?y:y.slice(0,_)),b=_<0?null:xm(y.slice(_+1));if(O in f){let D=f[O];Array.isArray(D)||(D=f[O]=[D]),D.push(b)}else f[O]=b}return f}function JT(l){let f="";for(let d in l){const u=l[d];if(d=jH(d),u==null){u!==void 0&&(f+=(f.length?"&":"")+d);continue}(Array.isArray(u)?u.map(y=>y&&tE(y)):[u&&tE(u)]).forEach(y=>{y!==void 0&&(f+=(f.length?"&":"")+d,y!=null&&(f+="="+y))})}return f}function UH(l){const f={};for(const d in l){const u=l[d];u!==void 0&&(f[d]=Array.isArray(u)?u.map(v=>v==null?null:""+v):u==null?u:""+u)}return f}function wg(){let l=[];function f(u){return l.push(u),()=>{const v=l.indexOf(u);v>-1&&l.splice(v,1)}}function d(){l=[]}return{add:f,list:()=>l,reset:d}}function Rf(l,f,d,u,v){const y=u&&(u.enterCallbacks[v]=u.enterCallbacks[v]||[]);return()=>new Promise((_,O)=>{const b=L=>{L===!1?O(zp(4,{from:d,to:f})):L instanceof Error?O(L):fH(L)?O(zp(2,{from:f,to:L})):(y&&u.enterCallbacks[v]===y&&typeof L=="function"&&y.push(L),_())},D=l.call(u&&u.instances[v],f,d,b);let F=Promise.resolve(D);l.length<3&&(F=F.then(b)),F.catch(L=>O(L))})}function A5(l,f,d,u){const v=[];for(const y of l)for(const _ in y.components){let O=y.components[_];if(!(f!=="beforeRouteEnter"&&!y.instances[_]))if(kH(O)){const D=(O.__vccOpts||O)[f];D&&v.push(Rf(D,d,u,y,_))}else{let b=O();v.push(()=>b.then(D=>{if(!D)return Promise.reject(new Error(`Couldn't resolve component "${_}" at "${y.path}"`));const F=HY(D)?D.default:D;y.components[_]=F;const B=(F.__vccOpts||F)[f];return B&&Rf(B,d,u,y,_)()}))}}return v}function kH(l){return typeof l=="object"||"displayName"in l||"props"in l||"__vccOpts"in l}function QT(l){const f=Yu(jE),d=Yu(KC),u=fu(()=>f.resolve(ti(l.to))),v=fu(()=>{const{matched:b}=u.value,{length:D}=b,F=b[D-1],L=d.matched;if(!F||!L.length)return-1;const B=L.findIndex(kp.bind(null,F));if(B>-1)return B;const H=tb(b[D-2]);return D>1&&tb(F)===H&&L[L.length-1].path!==H?L.findIndex(kp.bind(null,b[D-2])):B}),y=fu(()=>v.value>-1&&YH(d.params,u.value.params)),_=fu(()=>v.value>-1&&v.value===d.matched.length-1&&$C(d.params,u.value.params));function O(b={}){return WH(b)?f[ti(l.replace)?"replace":"push"](ti(l.to)).catch(Dg):Promise.resolve()}return{route:u,href:fu(()=>u.value.href),isActive:y,isExactActive:_,navigate:O}}const zH=Ku({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:QT,setup(l,{slots:f}){const d=Sc(QT(l)),{options:u}=Yu(jE),v=fu(()=>({[eb(l.activeClass,u.linkActiveClass,"router-link-active")]:d.isActive,[eb(l.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:d.isExactActive}));return()=>{const y=f.default&&f.default(d);return l.custom?y:km("a",{"aria-current":d.isExactActive?l.ariaCurrentValue:null,href:d.href,onClick:d.navigate,class:v.value},y)}}}),VH=zH;function WH(l){if(!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&!l.defaultPrevented&&!(l.button!==void 0&&l.button!==0)){if(l.currentTarget&&l.currentTarget.getAttribute){const f=l.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(f))return}return l.preventDefault&&l.preventDefault(),!0}}function YH(l,f){for(const d in f){const u=f[d],v=l[d];if(typeof u=="string"){if(u!==v)return!1}else if(!Array.isArray(v)||v.length!==u.length||u.some((y,_)=>y!==v[_]))return!1}return!0}function tb(l){return l?l.aliasOf?l.aliasOf.path:l.path:""}const eb=(l,f,d)=>l!=null?l:f!=null?f:d,HH=Ku({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(l,{attrs:f,slots:d}){const u=Yu(J5),v=fu(()=>l.route||u.value),y=Yu(VT,0),_=fu(()=>v.value.matched[y]);Mg(VT,y+1),Mg(YY,_),Mg(J5,v);const O=ci();return Ip(()=>[O.value,_.value,l.name],([b,D,F],[L,B,H])=>{D&&(D.instances[F]=b,B&&B!==D&&b&&b===L&&(D.leaveGuards.size||(D.leaveGuards=B.leaveGuards),D.updateGuards.size||(D.updateGuards=B.updateGuards))),b&&D&&(!B||!kp(D,B)||!L)&&(D.enterCallbacks[F]||[]).forEach(W=>W(b))},{flush:"post"}),()=>{const b=v.value,D=_.value,F=D&&D.components[l.name],L=l.name;if(!F)return rb(d.default,{Component:F,route:b});const B=D.props[l.name],H=B?B===!0?b.params:typeof B=="function"?B(b):B:null,$=km(F,qi({},H,f,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(D.instances[L]=null)},ref:O}));return rb(d.default,{Component:$,route:b})||$}}});function rb(l,f){if(!l)return null;const d=l(f);return d.length===1?d[0]:d}const XH=HH;function KH(l){const f=xH(l.routes,l),d=l.parseQuery||GH,u=l.stringifyQuery||JT,v=l.history,y=wg(),_=wg(),O=wg(),b=Mb(bf);let D=bf;bp&&l.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const F=b5.bind(null,Qt=>""+Qt),L=b5.bind(null,BH),B=b5.bind(null,xm);function H(Qt,Te){let Ze,vr;return qC(Qt)?(Ze=f.getRecordMatcher(Qt),vr=Te):vr=Qt,f.addRoute(vr,Ze)}function W(Qt){const Te=f.getRecordMatcher(Qt);Te&&f.removeRoute(Te)}function $(){return f.getRoutes().map(Qt=>Qt.record)}function q(Qt){return!!f.getRecordMatcher(Qt)}function tt(Qt,Te){if(Te=qi({},Te||b.value),typeof Qt=="string"){const Er=C5(d,Qt,Te.path),Lt=f.resolve({path:Er.path},Te),ne=v.createHref(Er.fullPath);return qi(Er,Lt,{params:B(Lt.params),hash:xm(Er.hash),redirectedFrom:void 0,href:ne})}let Ze;if("path"in Qt)Ze=qi({},Qt,{path:C5(d,Qt.path,Te.path).path});else{const Er=qi({},Qt.params);for(const Lt in Er)Er[Lt]==null&&delete Er[Lt];Ze=qi({},Qt,{params:L(Qt.params)}),Te.params=L(Te.params)}const vr=f.resolve(Ze,Te),Sn=Qt.hash||"";vr.params=F(B(vr.params));const _r=$Y(u,qi({},Qt,{hash:FH(Sn),path:vr.path})),Fr=v.createHref(_r);return qi({fullPath:_r,hash:Sn,query:u===JT?UH(Qt.query):Qt.query||{}},vr,{redirectedFrom:void 0,href:Fr})}function J(Qt){return typeof Qt=="string"?C5(d,Qt,b.value.path):qi({},Qt)}function _t(Qt,Te){if(D!==Qt)return zp(8,{from:Te,to:Qt})}function rt(Qt){return bt(Qt)}function I(Qt){return rt(qi(J(Qt),{replace:!0}))}function Et(Qt){const Te=Qt.matched[Qt.matched.length-1];if(Te&&Te.redirect){const{redirect:Ze}=Te;let vr=typeof Ze=="function"?Ze(Qt):Ze;return typeof vr=="string"&&(vr=vr.includes("?")||vr.includes("#")?vr=J(vr):{path:vr},vr.params={}),qi({query:Qt.query,hash:Qt.hash,params:Qt.params},vr)}}function bt(Qt,Te){const Ze=D=tt(Qt),vr=b.value,Sn=Qt.state,_r=Qt.force,Fr=Qt.replace===!0,Er=Et(Ze);if(Er)return bt(qi(J(Er),{state:Sn,force:_r,replace:Fr}),Te||Ze);const Lt=Ze;Lt.redirectedFrom=Te;let ne;return!_r&&ZY(u,vr,Ze)&&(ne=zp(16,{to:Lt,from:vr}),Ye(vr,vr,!0,!1)),(ne?Promise.resolve(ne):ct(Lt,vr)).catch(Ct=>Cf(Ct)?Cf(Ct,2)?Ct:Be(Ct):Tt(Ct,Lt,vr)).then(Ct=>{if(Ct){if(Cf(Ct,2))return bt(qi(J(Ct.to),{state:Sn,force:_r,replace:Fr}),Te||Lt)}else Ct=gt(Lt,vr,!0,Fr,Sn);return jt(Lt,vr,Ct),Ct})}function Nt(Qt,Te){const Ze=_t(Qt,Te);return Ze?Promise.reject(Ze):Promise.resolve()}function ct(Qt,Te){let Ze;const[vr,Sn,_r]=$H(Qt,Te);Ze=A5(vr.reverse(),"beforeRouteLeave",Qt,Te);for(const Er of vr)Er.leaveGuards.forEach(Lt=>{Ze.push(Rf(Lt,Qt,Te))});const Fr=Nt.bind(null,Qt,Te);return Ze.push(Fr),Ep(Ze).then(()=>{Ze=[];for(const Er of y.list())Ze.push(Rf(Er,Qt,Te));return Ze.push(Fr),Ep(Ze)}).then(()=>{Ze=A5(Sn,"beforeRouteUpdate",Qt,Te);for(const Er of Sn)Er.updateGuards.forEach(Lt=>{Ze.push(Rf(Lt,Qt,Te))});return Ze.push(Fr),Ep(Ze)}).then(()=>{Ze=[];for(const Er of Qt.matched)if(Er.beforeEnter&&!Te.matched.includes(Er))if(Array.isArray(Er.beforeEnter))for(const Lt of Er.beforeEnter)Ze.push(Rf(Lt,Qt,Te));else Ze.push(Rf(Er.beforeEnter,Qt,Te));return Ze.push(Fr),Ep(Ze)}).then(()=>(Qt.matched.forEach(Er=>Er.enterCallbacks={}),Ze=A5(_r,"beforeRouteEnter",Qt,Te),Ze.push(Fr),Ep(Ze))).then(()=>{Ze=[];for(const Er of _.list())Ze.push(Rf(Er,Qt,Te));return Ze.push(Fr),Ep(Ze)}).catch(Er=>Cf(Er,8)?Er:Promise.reject(Er))}function jt(Qt,Te,Ze){for(const vr of O.list())vr(Qt,Te,Ze)}function gt(Qt,Te,Ze,vr,Sn){const _r=_t(Qt,Te);if(_r)return _r;const Fr=Te===bf,Er=bp?history.state:{};Ze&&(vr||Fr?v.replace(Qt.fullPath,qi({scroll:Fr&&Er&&Er.scroll},Sn)):v.push(Qt.fullPath,Sn)),b.value=Qt,Ye(Qt,Te,Ze,Fr),Be()}let St;function Dt(){St||(St=v.listen((Qt,Te,Ze)=>{const vr=tt(Qt),Sn=Et(vr);if(Sn){bt(qi(Sn,{replace:!0}),vr).catch(Dg);return}D=vr;const _r=b.value;bp&&iH(HT(_r.fullPath,Ze.delta),Vm()),ct(vr,_r).catch(Fr=>Cf(Fr,12)?Fr:Cf(Fr,2)?(bt(Fr.to,vr).then(Er=>{Cf(Er,20)&&!Ze.delta&&Ze.type===Yg.pop&&v.go(-1,!1)}).catch(Dg),Promise.reject()):(Ze.delta&&v.go(-Ze.delta,!1),Tt(Fr,vr,_r))).then(Fr=>{Fr=Fr||gt(vr,_r,!1),Fr&&(Ze.delta?v.go(-Ze.delta,!1):Ze.type===Yg.pop&&Cf(Fr,20)&&v.go(-1,!1)),jt(vr,_r,Fr)}).catch(Dg)}))}let qt=wg(),Le=wg(),Q;function Tt(Qt,Te,Ze){Be(Qt);const vr=Le.list();return vr.length?vr.forEach(Sn=>Sn(Qt,Te,Ze)):console.error(Qt),Promise.reject(Qt)}function Ut(){return Q&&b.value!==bf?Promise.resolve():new Promise((Qt,Te)=>{qt.add([Qt,Te])})}function Be(Qt){return Q||(Q=!Qt,Dt(),qt.list().forEach(([Te,Ze])=>Qt?Ze(Qt):Te()),qt.reset()),Qt}function Ye(Qt,Te,Ze,vr){const{scrollBehavior:Sn}=l;if(!bp||!Sn)return Promise.resolve();const _r=!Ze&&oH(HT(Qt.fullPath,0))||(vr||!Ze)&&history.state&&history.state.scroll||null;return Im().then(()=>Sn(Qt,Te,_r)).then(Fr=>Fr&&nH(Fr)).catch(Fr=>Tt(Fr,Qt,Te))}const Me=Qt=>v.go(Qt);let ir;const Sr=new Set;return{currentRoute:b,addRoute:H,removeRoute:W,hasRoute:q,getRoutes:$,resolve:tt,options:l,push:rt,replace:I,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:y.add,beforeResolve:_.add,afterEach:O.add,onError:Le.add,isReady:Ut,install(Qt){const Te=this;Qt.component("RouterLink",VH),Qt.component("RouterView",XH),Qt.config.globalProperties.$router=Te,Object.defineProperty(Qt.config.globalProperties,"$route",{enumerable:!0,get:()=>ti(b)}),bp&&!ir&&b.value===bf&&(ir=!0,rt(v.location).catch(Sn=>{}));const Ze={};for(const Sn in bf)Ze[Sn]=fu(()=>b.value[Sn]);Qt.provide(jE,Te),Qt.provide(KC,Sc(Ze)),Qt.provide(J5,b);const vr=Qt.unmount;Sr.add(Qt),Qt.unmount=function(){Sr.delete(Qt),Sr.size<1&&(D=bf,St&&St(),St=null,b.value=bf,ir=!1,Q=!1),vr()}}}}function Ep(l){return l.reduce((f,d)=>f.then(()=>d()),Promise.resolve())}function $H(l,f){const d=[],u=[],v=[],y=Math.max(f.matched.length,l.matched.length);for(let _=0;_<y;_++){const O=f.matched[_];O&&(l.matched.find(D=>kp(D,O))?u.push(O):d.push(O));const b=l.matched[_];b&&(f.matched.find(D=>kp(D,b))||v.push(b))}return[d,u,v]}const ZH=()=>HE.push("/index/textshow"),qH=()=>HE.push("/index/mapshow");const JH=l=>(Hp("data-v-4614c56b"),l=l(),Xp(),l),QH={class:"testKitPage"},tX={class:"testKitPageBar"},eX=JH(()=>Fe("div",{class:"pageTitle"},[Fe("h1",null,"\u73FE\u6709\u5FEB\u7BE9\u8A66\u5291\u5217\u8868")],-1)),rX={class:"pageTabs"},nX={class:"testKitComponent"},iX=Ku({setup(l){const f=ci(""),d=()=>{window.location.href.includes("textshow")&&(f.value="text"),window.location.href.includes("mapshow")&&(f.value="map")},u=()=>{f.value="text",ZH()},v=()=>{f.value="map",qH()};return zf(()=>{d()}),(y,_)=>{const O=If("router-view");return ro(),Jo("div",QH,[Fe("div",tX,[eX,Fe("div",rX,[Fe("div",{class:Ff(["tab",{active:f.value==="text"}]),onClick:_[0]||(_[0]=b=>u())}," \u6587\u5B57\u5217\u8868 ",2),Fe("div",{class:Ff(["tab",{active:f.value==="map"}]),onClick:_[1]||(_[1]=b=>v())}," \u5730\u5716\u986F\u793A ",2)])]),Fe("div",nX,[Li(O)])])}}});var oX=$p(iX,[["__scopeId","data-v-4614c56b"]]),oA=[{countyName:"\u81FA\u5317\u5E02",countySection:["\u4E2D\u6B63\u5340","\u5927\u540C\u5340","\u4E2D\u5C71\u5340","\u677E\u5C71\u5340","\u5927\u5B89\u5340","\u842C\u83EF\u5340","\u4FE1\u7FA9\u5340","\u58EB\u6797\u5340","\u5317\u6295\u5340","\u5167\u6E56\u5340","\u5357\u6E2F\u5340","\u6587\u5C71\u5340"]},{countyName:"\u57FA\u9686\u5E02",countySection:["\u4EC1\u611B\u5340","\u4E2D\u6B63\u5340","\u4FE1\u7FA9\u5340","\u4E2D\u5C71\u5340","\u5B89\u6A02\u5340","\u6696\u6696\u5340","\u4E03\u5835\u5340"]},{countyName:"\u65B0\u5317\u5E02",countySection:["\u677F\u6A4B\u5340","\u65B0\u838A\u5340","\u4E2D\u548C\u5340","\u6C38\u548C\u5340","\u571F\u57CE\u5340","\u6A39\u6797\u5340","\u4E09\u5CFD\u5340","\u9DAF\u6B4C\u5340","\u4E09\u91CD\u5340","\u8606\u6D32\u5340","\u4E94\u80A1\u5340","\u6CF0\u5C71\u5340","\u6797\u53E3\u5340","\u516B\u91CC\u5340","\u6DE1\u6C34\u5340","\u4E09\u829D\u5340","\u77F3\u9580\u5340","\u91D1\u5C71\u5340","\u842C\u91CC\u5340","\u6C50\u6B62\u5340","\u745E\u82B3\u5340","\u8CA2\u5BEE\u5340","\u5E73\u6EAA\u5340","\u96D9\u6EAA\u5340","\u65B0\u5E97\u5340","\u6DF1\u5751\u5340","\u77F3\u7887\u5340","\u576A\u6797\u5340","\u70CF\u4F86\u5340"]},{countyName:"\u5B9C\u862D\u7E23",countySection:["\u5B9C\u862D\u5E02","\u982D\u57CE\u93AE","\u7F85\u6771\u93AE","\u8607\u6FB3\u93AE","\u7901\u6EAA\u9109","\u58EF\u570D\u9109","\u54E1\u5C71\u9109","\u51AC\u5C71\u9109","\u4E94\u7D50\u9109","\u4E09\u661F\u9109","\u5927\u540C\u9109","\u5357\u6FB3\u9109"]},{countyName:"\u6843\u5712\u5E02",countySection:["\u6843\u5712\u5340","\u4E2D\u58E2\u5340","\u5E73\u93AE\u5340","\u516B\u5FB7\u5340","\u694A\u6885\u5340","\u8606\u7AF9\u5340","\u5927\u6EAA\u5340","\u9F8D\u6F6D\u5340","\u9F9C\u5C71\u5340","\u5927\u5712\u5340","\u89C0\u97F3\u5340","\u65B0\u5C4B\u5340","\u5FA9\u8208\u5340"]},{countyName:"\u65B0\u7AF9\u5E02",countySection:["\u6771\u5340","\u5317\u5340","\u9999\u5C71\u5340"]},{countyName:"\u65B0\u7AF9\u7E23",countySection:["\u7AF9\u5317\u5E02","\u7AF9\u6771\u93AE","\u65B0\u57D4\u93AE","\u95DC\u897F\u93AE","\u6E56\u53E3\u9109","\u65B0\u8C50\u9109","\u5CE8\u7709\u9109","\u5BF6\u5C71\u9109","\u5317\u57D4\u9109","\u828E\u6797\u9109","\u6A6B\u5C71\u9109","\u5C16\u77F3\u9109","\u4E94\u5CF0\u9109"]},{countyName:"\u82D7\u6817\u7E23",countySection:["\u82D7\u6817\u5E02","\u982D\u4EFD\u5E02","\u7AF9\u5357\u93AE","\u5F8C\u9F8D\u93AE","\u901A\u9704\u93AE","\u82D1\u88E1\u93AE","\u5353\u862D\u93AE","\u9020\u6A4B\u9109","\u897F\u6E56\u9109","\u982D\u5C4B\u9109","\u516C\u9928\u9109","\u9285\u947C\u9109","\u4E09\u7FA9\u9109","\u5927\u6E56\u9109","\u7345\u6F6D\u9109","\u4E09\u7063\u9109","\u5357\u5E84\u9109","\u6CF0\u5B89\u9109"]},{countyName:"\u81FA\u4E2D\u5E02",countySection:["\u4E2D\u5340","\u6771\u5340","\u5357\u5340","\u897F\u5340","\u5317\u5340","\u5317\u5C6F\u5340","\u897F\u5C6F\u5340","\u5357\u5C6F\u5340","\u592A\u5E73\u5340","\u5927\u91CC\u5340","\u9727\u5CF0\u5340","\u70CF\u65E5\u5340","\u8C50\u539F\u5340","\u540E\u91CC\u5340","\u77F3\u5CA1\u5340","\u6771\u52E2\u5340","\u65B0\u793E\u5340","\u6F6D\u5B50\u5340","\u5927\u96C5\u5340","\u795E\u5CA1\u5340","\u5927\u809A\u5340","\u6C99\u9E7F\u5340","\u9F8D\u4E95\u5340","\u68A7\u68F2\u5340","\u6E05\u6C34\u5340","\u5927\u7532\u5340","\u5916\u57D4\u5340","\u5927\u5B89\u5340","\u548C\u5E73\u5340"]},{countyName:"\u5F70\u5316\u7E23",countySection:["\u5F70\u5316\u5E02","\u54E1\u6797\u5E02","\u548C\u7F8E\u93AE","\u9E7F\u6E2F\u93AE","\u6EAA\u6E56\u93AE","\u4E8C\u6797\u93AE","\u7530\u4E2D\u93AE","\u5317\u6597\u93AE","\u82B1\u58C7\u9109","\u82AC\u5712\u9109","\u5927\u6751\u9109","\u6C38\u9756\u9109","\u4F38\u6E2F\u9109","\u7DDA\u897F\u9109","\u798F\u8208\u9109","\u79C0\u6C34\u9109","\u57D4\u5FC3\u9109","\u57D4\u9E7D\u9109","\u5927\u57CE\u9109","\u82B3\u82D1\u9109","\u7AF9\u5858\u9109","\u793E\u982D\u9109","\u4E8C\u6C34\u9109","\u7530\u5C3E\u9109","\u57E4\u982D\u9109","\u6EAA\u5DDE\u9109"]},{countyName:"\u5357\u6295\u7E23",countySection:["\u5357\u6295\u5E02","\u57D4\u91CC\u93AE","\u8349\u5C6F\u93AE","\u7AF9\u5C71\u93AE","\u96C6\u96C6\u93AE","\u540D\u9593\u9109","\u9E7F\u8C37\u9109","\u4E2D\u5BEE\u9109","\u9B5A\u6C60\u9109","\u570B\u59D3\u9109","\u6C34\u91CC\u9109","\u4FE1\u7FA9\u9109","\u4EC1\u611B\u9109"]},{countyName:"\u96F2\u6797\u7E23",countySection:["\u6597\u516D\u5E02","\u6597\u5357\u93AE","\u864E\u5C3E\u93AE","\u897F\u87BA\u93AE","\u571F\u5EAB\u93AE","\u5317\u6E2F\u93AE","\u6797\u5167\u9109","\u53E4\u5751\u9109","\u5927\u57E4\u9109","\u83BF\u6850\u9109","\u8912\u5FE0\u9109","\u4E8C\u5D19\u9109","\u5D19\u80CC\u9109","\u9EA5\u5BEE\u9109","\u81FA\u897F\u9109","\u6771\u52E2\u9109","\u5143\u9577\u9109","\u56DB\u6E56\u9109","\u53E3\u6E56\u9109","\u6C34\u6797\u9109"]},{countyName:"\u5609\u7FA9\u5E02",countySection:["\u6771\u5340","\u897F\u5340"]},{countyName:"\u5609\u7FA9\u7E23",countySection:["\u592A\u4FDD\u5E02","\u6734\u5B50\u5E02","\u5E03\u888B\u93AE","\u5927\u6797\u93AE","\u6C11\u96C4\u9109","\u6EAA\u53E3\u9109","\u65B0\u6E2F\u9109","\u516D\u8173\u9109","\u6771\u77F3\u9109","\u7FA9\u7AF9\u9109","\u9E7F\u8349\u9109","\u6C34\u4E0A\u9109","\u4E2D\u57D4\u9109","\u7AF9\u5D0E\u9109","\u6885\u5C71\u9109","\u756A\u8DEF\u9109","\u5927\u57D4\u9109","\u963F\u91CC\u5C71\u9109"]},{countyName:"\u81FA\u5357\u5E02",countySection:["\u4E2D\u897F\u5340","\u6771\u5340","\u5357\u5340","\u5317\u5340","\u5B89\u5E73\u5340","\u5B89\u5357\u5340","\u6C38\u5EB7\u5340","\u6B78\u4EC1\u5340","\u65B0\u5316\u5340","\u5DE6\u93AE\u5340","\u7389\u4E95\u5340","\u6960\u897F\u5340","\u5357\u5316\u5340","\u4EC1\u5FB7\u5340","\u95DC\u5EDF\u5340","\u9F8D\u5D0E\u5340","\u5B98\u7530\u5340","\u9EBB\u8C46\u5340","\u4F73\u91CC\u5340","\u897F\u6E2F\u5340","\u4E03\u80A1\u5340","\u5C07\u8ECD\u5340","\u5B78\u7532\u5340","\u5317\u9580\u5340","\u65B0\u71DF\u5340","\u5F8C\u58C1\u5340","\u767D\u6CB3\u5340","\u6771\u5C71\u5340","\u516D\u7532\u5340","\u4E0B\u71DF\u5340","\u67F3\u71DF\u5340","\u9E7D\u6C34\u5340","\u5584\u5316\u5340","\u5927\u5167\u5340","\u5C71\u4E0A\u5340","\u65B0\u5E02\u5340","\u5B89\u5B9A\u5340"]},{countyName:"\u9AD8\u96C4\u5E02",countySection:["\u6960\u6893\u5340","\u5DE6\u71DF\u5340","\u9F13\u5C71\u5340","\u4E09\u6C11\u5340","\u9E7D\u57D5\u5340","\u524D\u91D1\u5340","\u65B0\u8208\u5340","\u82D3\u96C5\u5340","\u524D\u93AE\u5340","\u65D7\u6D25\u5340","\u5C0F\u6E2F\u5340","\u9CF3\u5C71\u5340","\u5927\u5BEE\u5340","\u9CE5\u677E\u5340","\u6797\u5712\u5340","\u4EC1\u6B66\u5340","\u5927\u6A39\u5340","\u5927\u793E\u5340","\u5CA1\u5C71\u5340","\u8DEF\u7AF9\u5340","\u6A4B\u982D\u5340","\u6893\u5B98\u5340","\u5F4C\u9640\u5340","\u6C38\u5B89\u5340","\u71D5\u5DE2\u5340","\u7530\u5BEE\u5340","\u963F\u84EE\u5340","\u8304\u8423\u5340","\u6E56\u5167\u5340","\u65D7\u5C71\u5340","\u7F8E\u6FC3\u5340","\u5167\u9580\u5340","\u6749\u6797\u5340","\u7532\u4ED9\u5340","\u516D\u9F9C\u5340","\u8302\u6797\u5340","\u6843\u6E90\u5340","\u90A3\u746A\u590F\u5340"]},{countyName:"\u81FA\u6771\u7E23",countySection:["\u81FA\u6771\u5E02","\u6210\u529F\u93AE","\u95DC\u5C71\u93AE","\u9577\u6FF1\u9109","\u6C60\u4E0A\u9109","\u6771\u6CB3\u9109","\u9E7F\u91CE\u9109","\u5351\u5357\u9109","\u5927\u6B66\u9109","\u7DA0\u5CF6\u9109","\u592A\u9EBB\u91CC\u9109","\u6D77\u7AEF\u9109","\u5EF6\u5E73\u9109","\u91D1\u5CF0\u9109","\u9054\u4EC1\u9109","\u862D\u5DBC\u9109"]},{countyName:"\u82B1\u84EE\u7E23",countySection:["\u82B1\u84EE\u5E02","\u9CF3\u6797\u93AE","\u7389\u91CC\u93AE","\u65B0\u57CE\u9109","\u5409\u5B89\u9109","\u58FD\u8C50\u9109","\u5149\u5FA9\u9109","\u8C50\u6FF1\u9109","\u745E\u7A57\u9109","\u5BCC\u91CC\u9109","\u79C0\u6797\u9109","\u842C\u69AE\u9109","\u5353\u6EAA\u9109"]},{countyName:"\u5C4F\u6771\u7E23",countySection:["\u5C4F\u6771\u5E02","\u6F6E\u5DDE\u93AE","\u6771\u6E2F\u93AE","\u6046\u6625\u93AE","\u842C\u4E39\u9109","\u9577\u6CBB\u9109","\u9E9F\u6D1B\u9109","\u4E5D\u5982\u9109","\u91CC\u6E2F\u9109","\u9E7D\u57D4\u9109","\u9AD8\u6A39\u9109","\u842C\u5DD2\u9109","\u5167\u57D4\u9109","\u7AF9\u7530\u9109","\u65B0\u57E4\u9109","\u678B\u5BEE\u9109","\u65B0\u5712\u9109","\u5D01\u9802\u9109","\u6797\u908A\u9109","\u5357\u5DDE\u9109","\u4F73\u51AC\u9109","\u7409\u7403\u9109","\u8ECA\u57CE\u9109","\u6EFF\u5DDE\u9109","\u678B\u5C71\u9109","\u9727\u81FA\u9109","\u746A\u5BB6\u9109","\u6CF0\u6B66\u9109","\u4F86\u7FA9\u9109","\u6625\u65E5\u9109","\u7345\u5B50\u9109","\u7261\u4E39\u9109","\u4E09\u5730\u9580\u9109"]},{countyName:"\u6F8E\u6E56\u7E23",countySection:["\u99AC\u516C\u5E02","\u6E56\u897F\u9109","\u767D\u6C99\u9109","\u897F\u5DBC\u9109","\u671B\u5B89\u9109","\u4E03\u7F8E\u9109"]},{countyName:"\u91D1\u9580\u7E23",countySection:["\u91D1\u57CE\u93AE","\u91D1\u6E56\u93AE","\u91D1\u6C99\u93AE","\u91D1\u5BE7\u9109","\u70C8\u5DBC\u9109","\u70CF\u5775\u9109"]},{countyName:"\u9023\u6C5F\u7E23",countySection:["\u5357\u7AFF\u9109","\u5317\u7AFF\u9109","\u8392\u5149\u9109","\u6771\u5F15\u9109"]}];function aX(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function sX(l){if(l.__esModule)return l;var f=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(l).forEach(function(d){var u=Object.getOwnPropertyDescriptor(l,d);Object.defineProperty(f,d,u.get?u:{enumerable:!0,get:function(){return l[d]}})}),f}var BE={exports:{}},aA=function(f,d){return function(){for(var v=new Array(arguments.length),y=0;y<v.length;y++)v[y]=arguments[y];return f.apply(d,v)}},lX=aA,GE=Object.prototype.toString,UE=function(l){return function(f){var d=GE.call(f);return l[d]||(l[d]=d.slice(8,-1).toLowerCase())}}(Object.create(null));function ed(l){return l=l.toLowerCase(),function(d){return UE(d)===l}}function kE(l){return Array.isArray(l)}function Sm(l){return typeof l=="undefined"}function uX(l){return l!==null&&!Sm(l)&&l.constructor!==null&&!Sm(l.constructor)&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}var sA=ed("ArrayBuffer");function cX(l){var f;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?f=ArrayBuffer.isView(l):f=l&&l.buffer&&sA(l.buffer),f}function fX(l){return typeof l=="string"}function hX(l){return typeof l=="number"}function lA(l){return l!==null&&typeof l=="object"}function cm(l){if(UE(l)!=="object")return!1;var f=Object.getPrototypeOf(l);return f===null||f===Object.prototype}var dX=ed("Date"),pX=ed("File"),vX=ed("Blob"),gX=ed("FileList");function zE(l){return GE.call(l)==="[object Function]"}function yX(l){return lA(l)&&zE(l.pipe)}function mX(l){var f="[object FormData]";return l&&(typeof FormData=="function"&&l instanceof FormData||GE.call(l)===f||zE(l.toString)&&l.toString()===f)}var _X=ed("URLSearchParams");function EX(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function xX(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function VE(l,f){if(!(l===null||typeof l=="undefined"))if(typeof l!="object"&&(l=[l]),kE(l))for(var d=0,u=l.length;d<u;d++)f.call(null,l[d],d,l);else for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&f.call(null,l[v],v,l)}function eE(){var l={};function f(v,y){cm(l[y])&&cm(v)?l[y]=eE(l[y],v):cm(v)?l[y]=eE({},v):kE(v)?l[y]=v.slice():l[y]=v}for(var d=0,u=arguments.length;d<u;d++)VE(arguments[d],f);return l}function SX(l,f,d){return VE(f,function(v,y){d&&typeof v=="function"?l[y]=lX(v,d):l[y]=v}),l}function wX(l){return l.charCodeAt(0)===65279&&(l=l.slice(1)),l}function OX(l,f,d,u){l.prototype=Object.create(f.prototype,u),l.prototype.constructor=l,d&&Object.assign(l.prototype,d)}function TX(l,f,d){var u,v,y,_={};f=f||{};do{for(u=Object.getOwnPropertyNames(l),v=u.length;v-- >0;)y=u[v],_[y]||(f[y]=l[y],_[y]=!0);l=Object.getPrototypeOf(l)}while(l&&(!d||d(l,f))&&l!==Object.prototype);return f}function bX(l,f,d){l=String(l),(d===void 0||d>l.length)&&(d=l.length),d-=f.length;var u=l.indexOf(f,d);return u!==-1&&u===d}function CX(l){if(!l)return null;var f=l.length;if(Sm(f))return null;for(var d=new Array(f);f-- >0;)d[f]=l[f];return d}var AX=function(l){return function(f){return l&&f instanceof l}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),ba={isArray:kE,isArrayBuffer:sA,isBuffer:uX,isFormData:mX,isArrayBufferView:cX,isString:fX,isNumber:hX,isObject:lA,isPlainObject:cm,isUndefined:Sm,isDate:dX,isFile:pX,isBlob:vX,isFunction:zE,isStream:yX,isURLSearchParams:_X,isStandardBrowserEnv:xX,forEach:VE,merge:eE,extend:SX,trim:EX,stripBOM:wX,inherits:OX,toFlatObject:TX,kindOf:UE,kindOfTest:ed,endsWith:bX,toArray:CX,isTypedArray:AX,isFileList:gX},xp=ba;function nb(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var uA=function(f,d,u){if(!d)return f;var v;if(u)v=u(d);else if(xp.isURLSearchParams(d))v=d.toString();else{var y=[];xp.forEach(d,function(b,D){b===null||typeof b=="undefined"||(xp.isArray(b)?D=D+"[]":b=[b],xp.forEach(b,function(L){xp.isDate(L)?L=L.toISOString():xp.isObject(L)&&(L=JSON.stringify(L)),y.push(nb(D)+"="+nb(L))}))}),v=y.join("&")}if(v){var _=f.indexOf("#");_!==-1&&(f=f.slice(0,_)),f+=(f.indexOf("?")===-1?"?":"&")+v}return f},LX=ba;function Wm(){this.handlers=[]}Wm.prototype.use=function(f,d,u){return this.handlers.push({fulfilled:f,rejected:d,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1};Wm.prototype.eject=function(f){this.handlers[f]&&(this.handlers[f]=null)};Wm.prototype.forEach=function(f){LX.forEach(this.handlers,function(u){u!==null&&f(u)})};var RX=Wm,PX=ba,IX=function(f,d){PX.forEach(f,function(v,y){y!==d&&y.toUpperCase()===d.toUpperCase()&&(f[d]=v,delete f[y])})},cA=ba;function Vp(l,f,d,u,v){Error.call(this),this.message=l,this.name="AxiosError",f&&(this.code=f),d&&(this.config=d),u&&(this.request=u),v&&(this.response=v)}cA.inherits(Vp,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var fA=Vp.prototype,hA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(l){hA[l]={value:l}});Object.defineProperties(Vp,hA);Object.defineProperty(fA,"isAxiosError",{value:!0});Vp.from=function(l,f,d,u,v,y){var _=Object.create(fA);return cA.toFlatObject(l,_,function(b){return b!==Error.prototype}),Vp.call(_,l.message,f,d,u,v),_.name=l.name,y&&Object.assign(_,y),_};var qp=Vp,dA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uu=ba;function MX(l,f){f=f||new FormData;var d=[];function u(y){return y===null?"":uu.isDate(y)?y.toISOString():uu.isArrayBuffer(y)||uu.isTypedArray(y)?typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function v(y,_){if(uu.isPlainObject(y)||uu.isArray(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+_);d.push(y),uu.forEach(y,function(b,D){if(!uu.isUndefined(b)){var F=_?_+"."+D:D,L;if(b&&!_&&typeof b=="object"){if(uu.endsWith(D,"{}"))b=JSON.stringify(b);else if(uu.endsWith(D,"[]")&&(L=uu.toArray(b))){L.forEach(function(B){!uu.isUndefined(B)&&f.append(F,u(B))});return}}v(b,F)}}),d.pop()}else f.append(_,u(y))}return v(l),f}var pA=MX,L5=qp,NX=function(f,d,u){var v=u.config.validateStatus;!u.status||!v||v(u.status)?f(u):d(new L5("Request failed with status code "+u.status,[L5.ERR_BAD_REQUEST,L5.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))},am=ba,FX=am.isStandardBrowserEnv()?function(){return{write:function(d,u,v,y,_,O){var b=[];b.push(d+"="+encodeURIComponent(u)),am.isNumber(v)&&b.push("expires="+new Date(v).toGMTString()),am.isString(y)&&b.push("path="+y),am.isString(_)&&b.push("domain="+_),O===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(d){var u=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(d){this.write(d,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),jX=function(f){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(f)},DX=function(f,d){return d?f.replace(/\/+$/,"")+"/"+d.replace(/^\/+/,""):f},BX=jX,GX=DX,vA=function(f,d){return f&&!BX(d)?GX(f,d):d},R5=ba,UX=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],kX=function(f){var d={},u,v,y;return f&&R5.forEach(f.split(`
`),function(O){if(y=O.indexOf(":"),u=R5.trim(O.substr(0,y)).toLowerCase(),v=R5.trim(O.substr(y+1)),u){if(d[u]&&UX.indexOf(u)>=0)return;u==="set-cookie"?d[u]=(d[u]?d[u]:[]).concat([v]):d[u]=d[u]?d[u]+", "+v:v}}),d},ib=ba,zX=ib.isStandardBrowserEnv()?function(){var f=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a"),u;function v(y){var _=y;return f&&(d.setAttribute("href",_),_=d.href),d.setAttribute("href",_),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return u=v(window.location.href),function(_){var O=ib.isString(_)?v(_):_;return O.protocol===u.protocol&&O.host===u.host}}():function(){return function(){return!0}}(),rE=qp,VX=ba;function gA(l){rE.call(this,l==null?"canceled":l,rE.ERR_CANCELED),this.name="CanceledError"}VX.inherits(gA,rE,{__CANCEL__:!0});var Ym=gA,WX=function(f){var d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f);return d&&d[1]||""},Og=ba,YX=NX,HX=FX,XX=uA,KX=vA,$X=kX,ZX=zX,qX=dA,yc=qp,JX=Ym,QX=WX,ob=function(f){return new Promise(function(u,v){var y=f.data,_=f.headers,O=f.responseType,b;function D(){f.cancelToken&&f.cancelToken.unsubscribe(b),f.signal&&f.signal.removeEventListener("abort",b)}Og.isFormData(y)&&Og.isStandardBrowserEnv()&&delete _["Content-Type"];var F=new XMLHttpRequest;if(f.auth){var L=f.auth.username||"",B=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";_.Authorization="Basic "+btoa(L+":"+B)}var H=KX(f.baseURL,f.url);F.open(f.method.toUpperCase(),XX(H,f.params,f.paramsSerializer),!0),F.timeout=f.timeout;function W(){if(!!F){var tt="getAllResponseHeaders"in F?$X(F.getAllResponseHeaders()):null,J=!O||O==="text"||O==="json"?F.responseText:F.response,_t={data:J,status:F.status,statusText:F.statusText,headers:tt,config:f,request:F};YX(function(I){u(I),D()},function(I){v(I),D()},_t),F=null}}if("onloadend"in F?F.onloadend=W:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(W)},F.onabort=function(){!F||(v(new yc("Request aborted",yc.ECONNABORTED,f,F)),F=null)},F.onerror=function(){v(new yc("Network Error",yc.ERR_NETWORK,f,F,F)),F=null},F.ontimeout=function(){var J=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",_t=f.transitional||qX;f.timeoutErrorMessage&&(J=f.timeoutErrorMessage),v(new yc(J,_t.clarifyTimeoutError?yc.ETIMEDOUT:yc.ECONNABORTED,f,F)),F=null},Og.isStandardBrowserEnv()){var $=(f.withCredentials||ZX(H))&&f.xsrfCookieName?HX.read(f.xsrfCookieName):void 0;$&&(_[f.xsrfHeaderName]=$)}"setRequestHeader"in F&&Og.forEach(_,function(J,_t){typeof y=="undefined"&&_t.toLowerCase()==="content-type"?delete _[_t]:F.setRequestHeader(_t,J)}),Og.isUndefined(f.withCredentials)||(F.withCredentials=!!f.withCredentials),O&&O!=="json"&&(F.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&F.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&F.upload&&F.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(b=function(tt){!F||(v(!tt||tt&&tt.type?new JX:tt),F.abort(),F=null)},f.cancelToken&&f.cancelToken.subscribe(b),f.signal&&(f.signal.aborted?b():f.signal.addEventListener("abort",b))),y||(y=null);var q=QX(H);if(q&&["http","https","file"].indexOf(q)===-1){v(new yc("Unsupported protocol "+q+":",yc.ERR_BAD_REQUEST,f));return}F.send(y)})},tK=null,ga=ba,ab=IX,sb=qp,eK=dA,rK=pA,nK={"Content-Type":"application/x-www-form-urlencoded"};function lb(l,f){!ga.isUndefined(l)&&ga.isUndefined(l["Content-Type"])&&(l["Content-Type"]=f)}function iK(){var l;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(l=ob),l}function oK(l,f,d){if(ga.isString(l))try{return(f||JSON.parse)(l),ga.trim(l)}catch(u){if(u.name!=="SyntaxError")throw u}return(d||JSON.stringify)(l)}var Hm={transitional:eK,adapter:iK(),transformRequest:[function(f,d){if(ab(d,"Accept"),ab(d,"Content-Type"),ga.isFormData(f)||ga.isArrayBuffer(f)||ga.isBuffer(f)||ga.isStream(f)||ga.isFile(f)||ga.isBlob(f))return f;if(ga.isArrayBufferView(f))return f.buffer;if(ga.isURLSearchParams(f))return lb(d,"application/x-www-form-urlencoded;charset=utf-8"),f.toString();var u=ga.isObject(f),v=d&&d["Content-Type"],y;if((y=ga.isFileList(f))||u&&v==="multipart/form-data"){var _=this.env&&this.env.FormData;return rK(y?{"files[]":f}:f,_&&new _)}else if(u||v==="application/json")return lb(d,"application/json"),oK(f);return f}],transformResponse:[function(f){var d=this.transitional||Hm.transitional,u=d&&d.silentJSONParsing,v=d&&d.forcedJSONParsing,y=!u&&this.responseType==="json";if(y||v&&ga.isString(f)&&f.length)try{return JSON.parse(f)}catch(_){if(y)throw _.name==="SyntaxError"?sb.from(_,sb.ERR_BAD_RESPONSE,this,null,this.response):_}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tK},validateStatus:function(f){return f>=200&&f<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ga.forEach(["delete","get","head"],function(f){Hm.headers[f]={}});ga.forEach(["post","put","patch"],function(f){Hm.headers[f]=ga.merge(nK)});var WE=Hm,aK=ba,sK=WE,lK=function(f,d,u){var v=this||sK;return aK.forEach(u,function(_){f=_.call(v,f,d)}),f},yA=function(f){return!!(f&&f.__CANCEL__)},ub=ba,P5=lK,uK=yA,cK=WE,fK=Ym;function I5(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new fK}var hK=function(f){I5(f),f.headers=f.headers||{},f.data=P5.call(f,f.data,f.headers,f.transformRequest),f.headers=ub.merge(f.headers.common||{},f.headers[f.method]||{},f.headers),ub.forEach(["delete","get","head","post","put","patch","common"],function(v){delete f.headers[v]});var d=f.adapter||cK.adapter;return d(f).then(function(v){return I5(f),v.data=P5.call(f,v.data,v.headers,f.transformResponse),v},function(v){return uK(v)||(I5(f),v&&v.response&&(v.response.data=P5.call(f,v.response.data,v.response.headers,f.transformResponse))),Promise.reject(v)})},Js=ba,mA=function(f,d){d=d||{};var u={};function v(F,L){return Js.isPlainObject(F)&&Js.isPlainObject(L)?Js.merge(F,L):Js.isPlainObject(L)?Js.merge({},L):Js.isArray(L)?L.slice():L}function y(F){if(Js.isUndefined(d[F])){if(!Js.isUndefined(f[F]))return v(void 0,f[F])}else return v(f[F],d[F])}function _(F){if(!Js.isUndefined(d[F]))return v(void 0,d[F])}function O(F){if(Js.isUndefined(d[F])){if(!Js.isUndefined(f[F]))return v(void 0,f[F])}else return v(void 0,d[F])}function b(F){if(F in d)return v(f[F],d[F]);if(F in f)return v(void 0,f[F])}var D={url:_,method:_,data:_,baseURL:O,transformRequest:O,transformResponse:O,paramsSerializer:O,timeout:O,timeoutMessage:O,withCredentials:O,adapter:O,responseType:O,xsrfCookieName:O,xsrfHeaderName:O,onUploadProgress:O,onDownloadProgress:O,decompress:O,maxContentLength:O,maxBodyLength:O,beforeRedirect:O,transport:O,httpAgent:O,httpsAgent:O,cancelToken:O,socketPath:O,responseEncoding:O,validateStatus:b};return Js.forEach(Object.keys(f).concat(Object.keys(d)),function(L){var B=D[L]||y,H=B(L);Js.isUndefined(H)&&B!==b||(u[L]=H)}),u},_A={version:"0.27.2"},dK=_A.version,Pf=qp,YE={};["object","boolean","number","function","string","symbol"].forEach(function(l,f){YE[l]=function(u){return typeof u===l||"a"+(f<1?"n ":" ")+l}});var cb={};YE.transitional=function(f,d,u){function v(y,_){return"[Axios v"+dK+"] Transitional option '"+y+"'"+_+(u?". "+u:"")}return function(y,_,O){if(f===!1)throw new Pf(v(_," has been removed"+(d?" in "+d:"")),Pf.ERR_DEPRECATED);return d&&!cb[_]&&(cb[_]=!0,console.warn(v(_," has been deprecated since v"+d+" and will be removed in the near future"))),f?f(y,_,O):!0}};function pK(l,f,d){if(typeof l!="object")throw new Pf("options must be an object",Pf.ERR_BAD_OPTION_VALUE);for(var u=Object.keys(l),v=u.length;v-- >0;){var y=u[v],_=f[y];if(_){var O=l[y],b=O===void 0||_(O,y,l);if(b!==!0)throw new Pf("option "+y+" must be "+b,Pf.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new Pf("Unknown option "+y,Pf.ERR_BAD_OPTION)}}var vK={assertOptions:pK,validators:YE},EA=ba,gK=uA,fb=RX,hb=hK,Xm=mA,yK=vA,xA=vK,Sp=xA.validators;function Wp(l){this.defaults=l,this.interceptors={request:new fb,response:new fb}}Wp.prototype.request=function(f,d){typeof f=="string"?(d=d||{},d.url=f):d=f||{},d=Xm(this.defaults,d),d.method?d.method=d.method.toLowerCase():this.defaults.method?d.method=this.defaults.method.toLowerCase():d.method="get";var u=d.transitional;u!==void 0&&xA.assertOptions(u,{silentJSONParsing:Sp.transitional(Sp.boolean),forcedJSONParsing:Sp.transitional(Sp.boolean),clarifyTimeoutError:Sp.transitional(Sp.boolean)},!1);var v=[],y=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(d)===!1||(y=y&&H.synchronous,v.unshift(H.fulfilled,H.rejected))});var _=[];this.interceptors.response.forEach(function(H){_.push(H.fulfilled,H.rejected)});var O;if(!y){var b=[hb,void 0];for(Array.prototype.unshift.apply(b,v),b=b.concat(_),O=Promise.resolve(d);b.length;)O=O.then(b.shift(),b.shift());return O}for(var D=d;v.length;){var F=v.shift(),L=v.shift();try{D=F(D)}catch(B){L(B);break}}try{O=hb(D)}catch(B){return Promise.reject(B)}for(;_.length;)O=O.then(_.shift(),_.shift());return O};Wp.prototype.getUri=function(f){f=Xm(this.defaults,f);var d=yK(f.baseURL,f.url);return gK(d,f.params,f.paramsSerializer)};EA.forEach(["delete","get","head","options"],function(f){Wp.prototype[f]=function(d,u){return this.request(Xm(u||{},{method:f,url:d,data:(u||{}).data}))}});EA.forEach(["post","put","patch"],function(f){function d(u){return function(y,_,O){return this.request(Xm(O||{},{method:f,headers:u?{"Content-Type":"multipart/form-data"}:{},url:y,data:_}))}}Wp.prototype[f]=d(),Wp.prototype[f+"Form"]=d(!0)});var mK=Wp,_K=Ym;function Yp(l){if(typeof l!="function")throw new TypeError("executor must be a function.");var f;this.promise=new Promise(function(v){f=v});var d=this;this.promise.then(function(u){if(!!d._listeners){var v,y=d._listeners.length;for(v=0;v<y;v++)d._listeners[v](u);d._listeners=null}}),this.promise.then=function(u){var v,y=new Promise(function(_){d.subscribe(_),v=_}).then(u);return y.cancel=function(){d.unsubscribe(v)},y},l(function(v){d.reason||(d.reason=new _K(v),f(d.reason))})}Yp.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Yp.prototype.subscribe=function(f){if(this.reason){f(this.reason);return}this._listeners?this._listeners.push(f):this._listeners=[f]};Yp.prototype.unsubscribe=function(f){if(!!this._listeners){var d=this._listeners.indexOf(f);d!==-1&&this._listeners.splice(d,1)}};Yp.source=function(){var f,d=new Yp(function(v){f=v});return{token:d,cancel:f}};var EK=Yp,xK=function(f){return function(u){return f.apply(null,u)}},SK=ba,wK=function(f){return SK.isObject(f)&&f.isAxiosError===!0},db=ba,OK=aA,fm=mK,TK=mA,bK=WE;function SA(l){var f=new fm(l),d=OK(fm.prototype.request,f);return db.extend(d,fm.prototype,f),db.extend(d,f),d.create=function(v){return SA(TK(l,v))},d}var Rs=SA(bK);Rs.Axios=fm;Rs.CanceledError=Ym;Rs.CancelToken=EK;Rs.isCancel=yA;Rs.VERSION=_A.version;Rs.toFormData=pA;Rs.AxiosError=qp;Rs.Cancel=Rs.CanceledError;Rs.all=function(f){return Promise.all(f)};Rs.spread=xK;Rs.isAxiosError=wK;BE.exports=Rs;BE.exports.default=Rs;var CK=BE.exports;const AK=CK.create({headers:{"Content-Type":"application/json"}}),wA=()=>AK.get("https://data.nhi.gov.tw/resource/Nhi_Fst/Fstdata.csv"),LK=(l,f)=>l.phone<f.phone?-1:l.phone>f.phone?1:0,RK=async()=>{const f=(await wA()).data.split(`\r
`).slice(1);let d=[];return f.forEach(u=>{const v=u.split(",");if(v[0]){const y={id:v[0],name:v[1],address:v[2],longitude:parseFloat(v[3]),latitude:parseFloat(v[4]),phone:v[5],manufacturer:v[6],stock:v[7],datatime:v[8],remark:v[9]};d.push(y)}}),d},sm=async()=>{const f=(await wA()).data.split(`\r
`).slice(1);let d=[];return f.forEach(u=>{const v=u.split(",");if(v[0]){const y={id:v[0],name:v[1],address:v[2],longitude:parseFloat(v[3]),latitude:parseFloat(v[4]),phone:v[5],manufacturer:v[6],stock:v[7],datatime:v[8],remark:v[9]};d.push(y)}}),d.sort(LK),d};var nE="./assets/GoogleMapsIcon.ff5a594e.svg";const Ca=l=>(Hp("data-v-dcd572f4"),l=l(),Xp(),l),PK={class:"openDataElement"},IK={key:0,class:"openDataTable mobile"},MK=Ca(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u540D\u7A31",-1)),NK=Ca(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u5730\u5740",-1)),FK={class:"tdIcon"},jK=["href"],DK=["src"],BK=Ca(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u4EE3\u78BC",-1)),GK=Ca(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u96FB\u8A71",-1)),UK=Ca(()=>Fe("th",null,"\u66F4\u65B0\u6642\u9593",-1)),kK=Ca(()=>Fe("th",null,"\u5EE0\u724C",-1)),zK={class:"important"},VK=Ca(()=>Fe("th",null,"\u5269\u9918\u5B58\u8CA8\u6578\u91CF",-1)),WK={class:"important"},YK=Ca(()=>Fe("th",null,"\u5099\u8A3B",-1)),HK={key:1,class:"openDataTable browser"},XK=Ca(()=>Fe("th",{colspan:"4",class:"openDataLeft"},"\u91AB\u4E8B\u6A5F\u69CB\u540D\u7A31",-1)),KK=Ca(()=>Fe("th",{class:"openDataRight"},"\u91AB\u4E8B\u6A5F\u69CB\u4EE3\u78BC",-1)),$K={colspan:"4",class:"openDataLeft"},ZK=Ca(()=>Fe("th",{class:"openDataRight"},"\u91AB\u4E8B\u6A5F\u69CB\u96FB\u8A71",-1)),qK=Ca(()=>Fe("th",{colspan:"4",class:"openDataLeft"},"\u91AB\u4E8B\u6A5F\u69CB\u5730\u5740",-1)),JK=Ca(()=>Fe("th",{class:"openDataRight"},"\u91AB\u4E8B\u6A5F\u69CB\u5730\u5716",-1)),QK={class:"tdIcon"},t$=["href"],e$=Xu(" Link "),r$=["src"],n$={colspan:"4",class:"openDataLeft"},i$=Ca(()=>Fe("th",{class:"openDataRight"},"\u4F86\u6E90\u8CC7\u6599\u6642\u9593",-1)),o$=Ca(()=>Fe("th",{colspan:"4",class:"openDataLeft"},"\u5EE0\u724C",-1)),a$={colspan:"2",class:"important"},s$=Ca(()=>Fe("th",{colspan:"4",class:"openDataLeft"},"\u5269\u9918\u5B58\u8CA8\u6578\u91CF",-1)),l$={colspan:"2",class:"important"},u$=Ca(()=>Fe("th",{colspan:"4",class:"openDataLeft"},"\u5099\u8A3B",-1)),c$={colspan:"2"},f$=Ku({props:{openDataElement:{type:Object,required:!0},openDataRefreshTime:{type:String,required:!0},isMobileOrBrowser:{type:String,required:!0}},setup(l){return(f,d)=>(ro(),Jo("div",PK,[l.isMobileOrBrowser==="Mobile"?(ro(),Jo("table",IK,[Fe("tr",null,[MK,Fe("td",null,Wi(l.openDataElement.name),1)]),Fe("tr",null,[NK,Fe("td",null,[Fe("div",FK,[Xu(Wi(l.openDataElement.address)+" ",1),Fe("a",{class:"googleMapsIcon",target:"_blank",href:`https://www.google.com/maps?q=${l.openDataElement.name}+${l.openDataElement.address}`},[Fe("img",{src:ti(nE),alt:""},null,8,DK)],8,jK)])])]),Fe("tr",null,[BK,Fe("td",null,Wi(l.openDataElement.id),1)]),Fe("tr",null,[GK,Fe("td",null,Wi(l.openDataElement.phone),1)]),Fe("tr",null,[UK,Fe("td",null,Wi(l.openDataRefreshTime),1)]),Fe("tr",null,[kK,Fe("td",zK,Wi(l.openDataElement.manufacturer),1)]),Fe("tr",null,[VK,Fe("td",WK,Wi(l.openDataElement.stock)+" \u4EFD",1)]),Fe("tr",null,[YK,Fe("td",null,Wi(l.openDataElement.remark),1)])])):l.isMobileOrBrowser==="Browser"?(ro(),Jo("table",HK,[Fe("tr",null,[XK,KK,Fe("td",null,Wi(l.openDataElement.id),1)]),Fe("tr",null,[Fe("td",$K,Wi(l.openDataElement.name),1),ZK,Fe("td",null,Wi(l.openDataElement.phone),1)]),Fe("tr",null,[qK,JK,Fe("td",QK,[Fe("a",{class:"googleMapsIcon",target:"_blank",href:`https://www.google.com/maps?q=${l.openDataElement.name}+${l.openDataElement.address}`},[e$,Fe("img",{src:ti(nE),alt:""},null,8,r$)],8,t$)])]),Fe("tr",null,[Fe("td",n$,Wi(l.openDataElement.address),1),i$,Fe("td",null,Wi(l.openDataRefreshTime),1)]),Fe("tr",null,[o$,Fe("td",a$,Wi(l.openDataElement.manufacturer),1)]),Fe("tr",null,[s$,Fe("td",l$,Wi(l.openDataElement.stock)+" \u4EFD",1)]),Fe("tr",null,[u$,Fe("td",c$,Wi(l.openDataElement.remark),1)])])):PE("",!0)]))}});var h$=$p(f$,[["__scopeId","data-v-dcd572f4"]]),pb="./assets/spinner.74655b0b.gif";const OA=l=>(Hp("data-v-06ac758d"),l=l(),Xp(),l),d$={key:0,class:"loadingScreen"},p$={class:"loadingSpinner"},v$={class:"loadingSpinnerImg"},g$=["src"],y$=OA(()=>Fe("div",{class:"autoUpdateNotice"},[Xu("\u8ACB\u7A0D\u5F8C"),Fe("br"),Xu("\u521D\u59CB\u5316\u8CC7\u6599\u4E2D...")],-1)),m$={key:1,class:"loadingScreen"},_$={class:"loadingSpinner"},E$={class:"loadingSpinnerImg"},x$=["src"],S$=OA(()=>Fe("div",{class:"autoUpdateNotice"},[Xu(" \u6BCF\u5206\u9418\u81EA\u52D5\u66F4\u65B0"),Fe("br"),Xu(" \u81EA\u52D5\u66F4\u65B0\u8CC7\u6599\u4E2D... ")],-1)),w$=Ku({props:{isNowLoading:{type:Boolean,required:!0},isNowAutoUpdating:{type:Boolean,required:!1}},setup(l){return(f,d)=>l.isNowLoading?(ro(),Jo("div",d$,[Fe("div",p$,[Fe("div",v$,[Fe("img",{src:ti(pb),alt:""},null,8,g$)]),y$])])):l.isNowAutoUpdating?(ro(),Jo("div",m$,[Fe("div",_$,[Fe("div",E$,[Fe("img",{src:ti(pb),alt:""},null,8,x$)]),S$])])):PE("",!0)}});var TA=$p(w$,[["__scopeId","data-v-06ac758d"]]);const Qg=l=>(Hp("data-v-0d9274ea"),l=l(),Xp(),l),O$={class:"textShowPage"},T$={class:"textShowFilterBar"},b$={class:"filter"},C$={class:"filterItem"},A$=Qg(()=>Fe("span",null,"\u7E23\u5E02\uFF1A",-1)),L$={class:"filterItemSelect"},R$=Qg(()=>Fe("option",{value:"-1",selected:""},"\u8ACB\u9078\u64C7",-1)),P$=["value"],I$={class:"filterItem"},M$=Qg(()=>Fe("span",null,"\u5340\u57DF\uFF1A",-1)),N$={class:"filterItemSelect"},F$=Qg(()=>Fe("option",{value:"-1",selected:""},"\u8ACB\u9078\u64C7",-1)),j$=["value"],D$={class:"button"},B$={class:"textShowItemCount"},G$={class:"textShow",id:"textShow"},U$={key:0,class:"filterNoTarget"},k$=Qg(()=>Fe("span",null,"\u6240\u67E5\u5340\u57DF\u7121\u5EAB\u5B58\uFF01",-1)),z$=[k$],V$=Ku({setup(l){const f=ci(-1),d=ci(""),u=Sc(oA),v=ci(6e4);let y=ci("Mobile"),_=ci([]),O=ci([]),b=ci([]),D=ci(""),F=ci(-1),L=ci(-1),B=ci({countyName:"",countySection:[]}),H=ci(""),W=ci(!1),$=ci(!1),q=ci(0);const tt=()=>{F.value=f.value},J=()=>{L.value=f.value},_t=async()=>{_.value=await sm(),O.value=_.value},rt=()=>{B.value={countyName:"",countySection:[]}},I=()=>{H.value=d.value},Et=()=>{W.value=!0},bt=()=>{W.value=!1},Nt=()=>{$.value=!0},ct=()=>{$.value=!1},jt=()=>{const Ye=new Date;D.value=`${Ye.toDateString()} ${Ye.toTimeString().substring(0,8)}`},gt=()=>{F.value>-1?(B.value=u[F.value],J()):(tt(),J(),I())},St=()=>{O.value=_.value.filter(Ye=>Ye.address.includes(H.value))},Dt=()=>{F.value!==f.value&&L.value!==f.value&&(Et(),H.value=`${u[F.value].countyName}${u[F.value].countySection[L.value]}`,St(),bt())},qt=async()=>{Et(),tt(),J(),rt(),I(),await _t(),bt()},Le=()=>{O.value=b.value},Q=async()=>{Nt(),_.value=await sm(),b.value=await sm(),jt(),b.value=b.value.filter(Ye=>Ye.address.includes(H.value)),JSON.stringify(O.value)!==JSON.stringify(b.value)&&Le(),ct()},Tt=()=>{q.value=window.setInterval(async()=>await Q(),v.value)},Ut=()=>{window.clearInterval(q.value)},Be=()=>{window.innerWidth>=768?y.value="Browser":y.value="Mobile",console.log(window.innerWidth),console.log(y.value)};return zf(async()=>{Be(),window.addEventListener("resize",Be),Et(),_.value=await sm(),O.value=_.value,jt(),jt(),bt(),Tt()}),Jg(()=>{Ut(),window.removeEventListener("resize",Be)}),(Ye,Me)=>(ro(),Jo(ao,null,[Fe("div",O$,[Fe("div",T$,[Fe("div",b$,[Fe("div",C$,[A$,Fe("div",L$,[Wg(Fe("select",{name:"county",id:"county",onChange:Me[0]||(Me[0]=ir=>gt()),"onUpdate:modelValue":Me[1]||(Me[1]=ir=>go(F)?F.value=ir:F=ir)},[R$,(ro(!0),Jo(ao,null,$h(ti(u),(ir,Sr)=>(ro(),Jo("option",{key:ir.countyName,value:Sr},Wi(ir.countyName),9,P$))),128))],544),[[Gp,ti(F)]])])]),Fe("div",I$,[M$,Fe("div",N$,[Wg(Fe("select",{name:"section",id:"section","onUpdate:modelValue":Me[2]||(Me[2]=ir=>go(L)?L.value=ir:L=ir)},[F$,(ro(!0),Jo(ao,null,$h(ti(B).countySection,(ir,Sr)=>(ro(),Jo("option",{value:Sr},Wi(ir),9,j$))),256))],512),[[Gp,ti(L)]])])])]),Fe("div",D$,[Fe("button",{onClick:Me[3]||(Me[3]=ir=>Dt())},"\u78BA\u8A8D\u7BE9\u9078"),Fe("button",{onClick:Me[4]||(Me[4]=ir=>qt())},"\u986F\u793A\u5168\u90E8")])]),Fe("div",B$,[Fe("span",null,"\u5171 "+Wi(ti(O).length)+" \u7B46\u8CC7\u6599",1)]),Fe("div",G$,[ti(O).length===0?(ro(),Jo("div",U$,z$)):(ro(!0),Jo(ao,{key:1},$h(ti(O),ir=>(ro(),Kp(h$,{key:ir.id,openDataElement:ir,openDataRefreshTime:ti(D),isMobileOrBrowser:ti(y)},null,8,["openDataElement","openDataRefreshTime","isMobileOrBrowser"]))),128))])]),Li(TA,{isNowLoading:ti(W),isNowAutoUpdating:ti($)},null,8,["isNowLoading","isNowAutoUpdating"])],64))}});var W$=$p(V$,[["__scopeId","data-v-0d9274ea"]]),Y$=[{longitudeAndLatitude:[[121.5199,25.0421],[121.5113,25.0627],[121.5427,25.0792],[121.5639,25.0542],[121.5434,25.0249],[121.497,25.0263],[121.572,25.0409],[121.5246,25.095],[121.515,25.1152],[121.5909,25.0689],[121.6112,25.0312],[121.5713,24.9929]]},{longitudeAndLatitude:[[121.7452,25.1187],[121.7737,25.149],[121.7822,25.1284],[121.7252,25.1526],[121.7024,25.1474],[121.748,25.0836],[121.6853,25.1144]]},{longitudeAndLatitude:[[121.4618,25.0114],[121.4178,25.0266],[121.4853,24.9962],[121.5145,25.0103],[121.438,24.9684],[121.4199,24.9816],[121.3745,24.9359],[121.3427,24.9615],[121.4867,25.0615],[121.4715,25.0869],[121.4387,25.0848],[121.4328,25.0582],[121.3881,25.079],[121.3983,25.1444],[121.4434,25.172],[121.5024,25.2593],[121.5671,25.2908],[121.6368,25.2224],[121.6397,25.1676],[121.6397,25.0616],[121.8221,25.103],[121.946,25.0169],[121.7409,25.0248],[121.8221,24.9972],[121.5395,24.9783],[121.6169,25.0034],[121.6453,25.0099],[121.7108,24.9351],[121.5498,24.8664]]},{longitudeAndLatitude:[[121.7537,24.7591],[121.8235,24.8576],[121.7708,24.6756],[121.8533,24.5942],[121.7697,24.8214],[121.7993,24.7696],[121.6625,24.7381],[121.7641,24.655],[121.805,24.6888],[121.6625,24.6745],[121.5142,24.5498],[121.6739,24.4066]]},{longitudeAndLatitude:[[121.297,24.9934],[121.2054,24.9722],[121.2054,24.9296],[121.2912,24.9469],[121.1367,24.9242],[121.297,25.0784],[121.297,24.8658],[121.2054,24.8445],[121.3656,25.0199],[121.1939,25.0493],[121.1138,25.0359],[121.0679,24.9827],[121.377,24.7091]]},{longitudeAndLatitude:[[120.9675,24.8138],[120.9475,24.8239],[120.9303,24.7798]]},{longitudeAndLatitude:[[120.9934,24.8347],[121.045,24.7749],[121.0908,24.8496],[121.1481,24.8045],[121.045,24.8814],[120.9991,24.9133],[120.9991,24.6788],[120.9991,24.7428],[121.0563,24.6998],[121.108,24.7658],[121.1367,24.7113],[121.2959,24.6119],[121.1195,24.6298]]},{longitudeAndLatitude:[[120.8154,24.5712],[120.9025,24.6884],[120.8786,24.7009],[120.7906,24.6144],[120.6804,24.4893],[120.6539,24.4402],[120.8255,24.3113],[120.8614,24.6248],[120.7609,24.5274],[120.8545,24.5766],[120.8212,24.5111],[120.7925,24.4482],[120.7695,24.3893],[120.8729,24.3981],[120.9303,24.5239],[120.9303,24.6305],[121.0106,24.5803],[121.0335,24.3832]]},{longitudeAndLatitude:[[120.6818,24.1403],[120.6944,24.1428],[120.6624,24.1208],[120.6631,24.1431],[120.6833,24.1573],[120.686,24.1815],[120.6424,24.177],[120.6085,24.1471],[120.717,24.1241],[120.6812,24.1047],[120.735,24.0443],[120.638,24.1078],[120.7235,24.2521],[120.7224,24.3089],[120.7772,24.2742],[120.8272,24.26],[120.8154,24.1867],[120.7063,24.2164],[120.6545,24.2225],[120.6818,24.2499],[120.5624,24.1359],[120.5855,24.2378],[120.5058,24.2101],[120.5387,24.2491],[120.5713,24.2755],[120.6488,24.3788],[120.6533,24.3318],[120.5912,24.3702],[121.3084,24.3207]]},{longitudeAndLatitude:[[120.5624,24.0717],[120.5855,23.9596],[120.4984,24.1123],[120.4473,24.0755],[120.4934,23.9583],[120.4012,23.9141],[120.5855,23.8525],[120.5337,23.8692],[120.5624,24.0288],[120.6284,24.0136],[120.5662,23.9891],[120.5452,23.9202],[120.4934,24.1725],[120.4622,24.1317],[120.4242,24.0377],[120.5106,24.0349],[120.5593,23.943],[120.4473,23.9898],[120.309,23.8484],[120.3551,23.9456],[120.4242,23.8448],[120.5827,23.8992],[120.6161,23.8115],[120.5222,23.9038],[120.4703,23.8777],[120.5164,23.8248]]},{longitudeAndLatitude:[[120.6775,23.918],[120.9647,23.9933],[120.7235,23.9934],[120.689,23.7122],[120.7925,23.828],[120.6775,23.8538],[120.781,23.7348],[120.781,23.9059],[120.9188,23.8754],[120.8729,24.0564],[120.8614,23.792],[120.9876,23.668],[121.1252,24.0214]]},{longitudeAndLatitude:[[120.5409,23.7078],[120.4761,23.6771],[120.4242,23.7162],[120.4473,23.7755],[120.3551,23.6883],[120.2859,23.5959],[120.6085,23.7619],[120.5637,23.645],[120.4242,23.6519],[120.5394,23.7769],[120.3103,23.6944],[120.4062,23.8156],[120.3532,23.7602],[120.2563,23.7485],[120.1936,23.723],[120.257,23.6933],[120.332,23.6289],[120.1936,23.6371],[120.1631,23.6178],[120.2448,23.5723]]},{longitudeAndLatitude:[[120.4761,23.4853],[120.4242,23.4804]]},{longitudeAndLatitude:[[120.3837,23.4964],[120.257,23.4464],[120.1705,23.3628],[120.4542,23.6041],[120.4404,23.5204],[120.4012,23.5926],[120.3551,23.5381],[120.2873,23.5298],[120.1705,23.4702],[120.2167,23.353],[120.309,23.4193],[120.4002,23.4287],[120.5509,23.3996],[120.6085,23.505],[120.689,23.541],[120.6085,23.4407],[120.597,23.304],[120.781,23.4355]]},{longitudeAndLatitude:[[120.1965,22.9948],[120.2224,22.9813],[120.1878,22.9564],[120.208,23.0085],[120.1647,22.9934],[120.1358,23.058],[120.2628,23.0212],[120.2859,22.9519],[120.332,23.0281],[120.4242,23.0301],[120.4703,23.1061],[120.5164,23.182],[120.5624,23.1079],[120.2512,22.9473],[120.332,22.9637],[120.3781,22.954],[120.3551,23.1949],[120.2397,23.1763],[120.1705,23.1694],[120.1993,23.1258],[120.1012,23.1195],[120.1012,23.2055],[120.1705,23.2554],[120.1243,23.2866],[120.309,23.312],[120.3551,23.3665],[120.4588,23.3336],[120.4473,23.2825],[120.332,23.2427],[120.2686,23.2293],[120.3551,23.2807],[120.2397,23.2622],[120.309,23.1403],[120.4012,23.1422],[120.3724,23.0893],[120.2919,23.078],[120.2334,23.0908]]},{longitudeAndLatitude:[[120.3032,22.7175],[120.2917,22.6877],[120.2686,22.6496],[120.3263,22.6483],[120.2837,22.6235],[120.2953,22.6253],[120.3061,22.6284],[120.3263,22.6269],[120.3147,22.5971],[120.2659,22.6142],[120.3608,22.5553],[120.3493,22.6114],[120.4012,22.5845],[120.3724,22.6602],[120.4012,22.4987],[120.3424,22.7058],[120.4242,22.7084],[120.3608,22.7377],[120.2859,22.8016],[120.2628,22.8494],[120.309,22.7539],[120.257,22.7486],[120.2455,22.7832],[120.2397,22.8113],[120.3781,22.7824],[120.4012,22.8633],[120.332,22.8779],[120.2109,22.8763],[120.2224,22.8954],[120.4703,22.8702],[120.5509,22.8854],[120.4703,22.956],[120.5624,23.0008],[120.6315,23.1146],[120.6545,23.0026],[120.735,22.9319],[120.8499,23.2281],[120.735,23.2743]]},{longitudeAndLatitude:[[121.1438,22.7613],[121.3656,23.1262],[121.1646,23.0496],[121.4342,23.3452],[121.2162,23.1207],[121.2855,23.0692],[121.1596,22.9581],[121.0834,22.7848],[120.9073,22.4142],[121.4856,22.6581],[121.0045,22.6102],[121.1757,23.1306],[121.0335,22.932],[120.8729,22.5604],[120.8269,22.3991],[121.5416,22.0269]]},{longitudeAndLatitude:[[121.6112,23.9911],[121.4499,23.7447],[121.3158,23.3326],[121.6044,24.0327],[121.5842,23.9732],[121.5598,23.8593],[121.4228,23.6351],[121.5027,23.5852],[121.4113,23.5206],[121.2855,23.1544],[121.537,24.2259],[121.3084,23.7246],[121.2168,23.404]]},{longitudeAndLatitude:[[120.4703,22.6558],[120.5624,22.5294],[120.4703,22.4629],[120.7448,22.0008],[120.4703,22.5915],[120.5624,22.7008],[120.526,22.6515],[120.4892,22.7336],[120.5164,22.7962],[120.5624,22.7437],[120.6004,22.8255],[120.6085,22.584],[120.5663,22.6151],[120.5327,22.5939],[120.5855,22.4818],[120.5855,22.3961],[120.4422,22.4774],[120.5101,22.5126],[120.5147,22.4347],[120.5164,22.4747],[120.5394,22.4271],[120.3695,22.3416],[120.7465,22.0843],[120.8384,22.0439],[120.6574,22.2606],[120.781,22.751],[120.6379,22.6904],[120.6348,22.578],[120.6247,22.4922],[120.689,22.3852],[120.735,22.2472],[120.781,22.152],[120.689,22.8133]]},{longitudeAndLatitude:[[119.5775,23.5706],[119.6615,23.5774],[119.5949,23.664],[119.5137,23.6055],[119.5021,23.3597],[119.4353,23.2088]]},{longitudeAndLatitude:[[118.3155,24.4321],[118.428,24.4377],[118.428,24.4811],[118.3059,24.4566],[118.2475,24.4289],[119.4542,24.9912]]},{longitudeAndLatitude:[[119.9307,26.1534],[119.9983,26.2246],[119.9723,25.9605],[120.4905,26.3657]]}],H$="./assets/pin.b7a79f12.png";const du=l=>(Hp("data-v-1271c816"),l=l(),Xp(),l),X$={class:"mapShowPage"},K$={class:"mapShowFilterBar"},$$={class:"filter"},Z$={class:"filterItem"},q$=du(()=>Fe("span",null,"\u7E23\u5E02\uFF1A",-1)),J$={class:"filterItemSelect"},Q$=du(()=>Fe("option",{value:"-1",selected:""},"\u8ACB\u9078\u64C7",-1)),tZ=["value"],eZ={class:"filterItem"},rZ=du(()=>Fe("span",null,"\u5340\u57DF\uFF1A",-1)),nZ={class:"filterItemSelect"},iZ=du(()=>Fe("option",{value:"-1",selected:""},"\u8ACB\u9078\u64C7",-1)),oZ=["value"],aZ={class:"button"},sZ=["onClick"],lZ=["src"],uZ={class:"showTargetDataDetail"},cZ={class:"openDataTable mobile"},fZ=du(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u540D\u7A31",-1)),hZ=du(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u5730\u5740",-1)),dZ={class:"tdIcon"},pZ=["href"],vZ=["src"],gZ=du(()=>Fe("th",null,"\u91AB\u4E8B\u6A5F\u69CB\u96FB\u8A71",-1)),yZ=du(()=>Fe("th",null,"\u66F4\u65B0\u6642\u9593",-1)),mZ=du(()=>Fe("th",null,"\u5EE0\u724C",-1)),_Z={class:"important"},EZ=du(()=>Fe("th",null,"\u5269\u9918\u5B58\u8CA8\u6578\u91CF",-1)),xZ={class:"important"},SZ=du(()=>Fe("th",null,"\u5099\u8A3B",-1)),wZ=Ku({setup(l){const f=ci(-1),d=Sc(oA),u=Sc(Y$),v=ci([121.512,25.04]),y=ci("EPSG:4326"),_=ci(17),O=ci(0),b=ci({id:"",name:"",address:"",longitude:0,latitude:0,phone:"",manufacturer:"",stock:"",datatime:"",remark:""}),D=.0021;let F=ci(""),L=ci(-1),B=ci(-1),H=ci({countyName:"",countySection:[]}),W=ci([121.512,25.04]),$=ci([]),q=ci(v),tt=ci(!1),J=ci(!1),_t=ci(b.value);const rt=()=>{J.value=!0},I=()=>{J.value=!1},Et=()=>{const Be=new Date;F.value=`${Be.toDateString()} ${Be.toTimeString().substring(0,8)}`},bt=()=>{L.value=f.value},Nt=()=>{B.value=f.value},ct=()=>{W.value=v.value},jt=Be=>{_t.value=Be},gt=()=>{q.value=v.value},St=()=>{_t.value=b.value},Dt=()=>{tt.value=!0},qt=()=>{St(),tt.value=!1},Le=Be=>{q.value=[Be.longitude,Be.latitude-D],_.value=17,jt(Be),Dt()},Q=()=>{L.value>-1?(H.value=d[L.value],Nt()):(bt(),Nt(),ct())},Tt=()=>{L.value!==f.value&&B.value!==f.value&&(W.value=u[L.value].longitudeAndLatitude[B.value],q.value=W.value,qt())},Ut=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(Be=>{q.value=[Be.coords.longitude,Be.coords.latitude]},()=>{gt()})};return zf(async()=>{Ut(),rt(),$.value=await RK(),Et(),I(),navigator.geolocation.getCurrentPosition}),(Be,Ye)=>{const Me=If("ol-view"),ir=If("ol-source-osm"),Sr=If("ol-tile-layer"),$r=If("ol-overlay"),Qt=If("ol-map");return ro(),Jo(ao,null,[Fe("div",X$,[Fe("div",K$,[Fe("div",$$,[Fe("div",Z$,[q$,Fe("div",J$,[Wg(Fe("select",{name:"county",id:"county",onChange:Ye[0]||(Ye[0]=Te=>Q()),"onUpdate:modelValue":Ye[1]||(Ye[1]=Te=>go(L)?L.value=Te:L=Te)},[Q$,(ro(!0),Jo(ao,null,$h(ti(d),(Te,Ze)=>(ro(),Jo("option",{key:Te.countyName,value:Ze},Wi(Te.countyName),9,tZ))),128))],544),[[Gp,ti(L)]])])]),Fe("div",eZ,[rZ,Fe("div",nZ,[Wg(Fe("select",{name:"section",id:"section","onUpdate:modelValue":Ye[2]||(Ye[2]=Te=>go(B)?B.value=Te:B=Te)},[iZ,(ro(!0),Jo(ao,null,$h(ti(H).countySection,(Te,Ze)=>(ro(),Jo("option",{value:Ze},Wi(Te),9,oZ))),256))],512),[[Gp,ti(B)]])])])]),Fe("div",aZ,[Fe("button",{onClick:Ye[3]||(Ye[3]=Te=>Tt())},"\u78BA\u8A8D\u79FB\u52D5")])]),Li(Qt,{class:"mapShow",loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0},{default:Rp(()=>[Li(Me,{ref:"view",center:ti(q),rotation:O.value,zoom:_.value,projection:y.value,minZoom:10,maxZoom:20},null,8,["center","rotation","zoom","projection"]),Li(Sr,null,{default:Rp(()=>[Li(ir)]),_:1}),(ro(!0),Jo(ao,null,$h(ti($),Te=>(ro(),Kp($r,{position:[Te.longitude,Te.latitude]},{default:Rp(()=>[Fe("div",{class:"mapPin",onClick:Ze=>Le(Te)},[Fe("img",{src:ti(H$),alt:""},null,8,lZ)],8,sZ)]),_:2},1032,["position"]))),256))]),_:1}),Fe("div",{class:Ff(["openDataElementDetail",{active:ti(tt)}])},[Fe("div",{class:"closeOpenDataElementDetail"},[Fe("span",{onClick:qt},"\u2716")]),Fe("div",uZ,[Fe("table",cZ,[Fe("tr",null,[fZ,Fe("td",null,Wi(ti(_t).name),1)]),Fe("tr",null,[hZ,Fe("td",null,[Fe("div",dZ,[Xu(Wi(ti(_t).address)+" ",1),Fe("a",{class:"googleMapsIcon",target:"_blank",href:`https://www.google.com/maps?q=${ti(_t).name}+${ti(_t).address}`},[Fe("img",{src:ti(nE),alt:""},null,8,vZ)],8,pZ)])])]),Fe("tr",null,[gZ,Fe("td",null,Wi(ti(_t).phone),1)]),Fe("tr",null,[yZ,Fe("td",null,Wi(ti(F)),1)]),Fe("tr",null,[mZ,Fe("td",_Z,Wi(ti(_t).manufacturer),1)]),Fe("tr",null,[EZ,Fe("td",xZ,Wi(ti(_t).stock)+" \u4EFD ",1)]),Fe("tr",null,[SZ,Fe("td",null,Wi(ti(_t).remark),1)])])])],2)]),Li(TA,{isNowLoading:ti(J)},null,8,["isNowLoading"])],64)}}});var OZ=$p(wZ,[["__scopeId","data-v-1271c816"]]);const TZ=[{path:"/",redirect:"/index"},{path:"/index",name:"TestKitPage",component:oX,children:[{path:"textshow",component:W$},{path:"mapshow",component:OZ}]},{path:"/:pathMatch(.*)*",redirect:"/index"}],HE=KH({history:cH(),routes:TZ});var bA={exports:{}},bZ=sX(kY);(function(l){l.exports=function(f){function d(L){for(var B=L[0],H=L[1],W,$,q=0,tt=[];q<B.length;q++)$=B[q],Object.prototype.hasOwnProperty.call(v,$)&&v[$]&&tt.push(v[$][0]),v[$]=0;for(W in H)Object.prototype.hasOwnProperty.call(H,W)&&(f[W]=H[W]);for(F&&F(L);tt.length;)tt.shift()()}var u={},v={0:0};function y(L){return _.p+"vue3-openlayers.common."+({}[L]||L)+".js"}function _(L){if(u[L])return u[L].exports;var B=u[L]={i:L,l:!1,exports:{}};return f[L].call(B.exports,B,B.exports,_),B.l=!0,B.exports}_.e=function(B){var H=[],W=v[B];if(W!==0)if(W)H.push(W[2]);else{var $=new Promise(function(rt,I){W=v[B]=[rt,I]});H.push(W[2]=$);var q=document.createElement("script"),tt;q.charset="utf-8",q.timeout=120,_.nc&&q.setAttribute("nonce",_.nc),q.src=y(B);var J=new Error;tt=function(rt){q.onerror=q.onload=null,clearTimeout(_t);var I=v[B];if(I!==0){if(I){var Et=rt&&(rt.type==="load"?"missing":rt.type),bt=rt&&rt.target&&rt.target.src;J.message="Loading chunk "+B+` failed.
(`+Et+": "+bt+")",J.name="ChunkLoadError",J.type=Et,J.request=bt,I[1](J)}v[B]=void 0}};var _t=setTimeout(function(){tt({type:"timeout",target:q})},12e4);q.onerror=q.onload=tt,document.head.appendChild(q)}return Promise.all(H)},_.m=f,_.c=u,_.d=function(L,B,H){_.o(L,B)||Object.defineProperty(L,B,{enumerable:!0,get:H})},_.r=function(L){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},_.t=function(L,B){if(B&1&&(L=_(L)),B&8||B&4&&typeof L=="object"&&L&&L.__esModule)return L;var H=Object.create(null);if(_.r(H),Object.defineProperty(H,"default",{enumerable:!0,value:L}),B&2&&typeof L!="string")for(var W in L)_.d(H,W,function($){return L[$]}.bind(null,W));return H},_.n=function(L){var B=L&&L.__esModule?function(){return L.default}:function(){return L};return _.d(B,"a",B),B},_.o=function(L,B){return Object.prototype.hasOwnProperty.call(L,B)},_.p="",_.oe=function(L){throw console.error(L),L};var O=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers=(typeof self!="undefined"?self:this).webpackJsonpvue3_openlayers||[],b=O.push.bind(O);O.push=d,O=O.slice();for(var D=0;D<O.length;D++)d(O[D]);var F=b;return _(_.s="fb15")}({"00b4":function(f,d,u){u("ac1f");var v=u("23e7"),y=u("da84"),_=u("c65b"),O=u("e330"),b=u("1626"),D=u("861d"),F=function(){var H=!1,W=/[ac]/;return W.exec=function(){return H=!0,/./.exec.apply(this,arguments)},W.test("abc")===!0&&H}(),L=y.Error,B=O(/./.test);v({target:"RegExp",proto:!0,forced:!F},{test:function(H){var W=this.exec;if(!b(W))return B(this,H);var $=_(W,this,H);if($!==null&&!D($))throw new L("RegExp exec method returned something other than an Object or null");return!!$}})},"00ee":function(f,d,u){var v=u("b622"),y=v("toStringTag"),_={};_[y]="z",f.exports=String(_)==="[object z]"},"01d4":function(f,d,u){d.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0366":function(f,d,u){var v=u("e330"),y=u("59ed"),_=u("40d5"),O=v(v.bind);f.exports=function(b,D){return y(b),D===void 0?b:_?O(b,D):function(){return b.apply(D,arguments)}}},"04d1":function(f,d,u){var v=u("342f"),y=v.match(/firefox\/(\d+)/i);f.exports=!!y&&+y[1]},"0538":function(f,d,u){var v=u("da84"),y=u("e330"),_=u("59ed"),O=u("861d"),b=u("1a2d"),D=u("f36a"),F=u("40d5"),L=v.Function,B=y([].concat),H=y([].join),W={},$=function(q,tt,J){if(!b(W,tt)){for(var _t=[],rt=0;rt<tt;rt++)_t[rt]="a["+rt+"]";W[tt]=L("C,a","return new C("+H(_t,",")+")")}return W[tt](q,J)};f.exports=F?L.bind:function(tt){var J=_(this),_t=J.prototype,rt=D(arguments,1),I=function(){var bt=B(rt,D(arguments));return this instanceof I?$(J,bt.length,bt):J.apply(tt,bt)};return O(_t)&&(I.prototype=_t),I}},"057f":function(f,d,u){var v=u("c6b6"),y=u("fc6a"),_=u("241c").f,O=u("4dae"),b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],D=function(F){try{return _(F)}catch{return O(b)}};f.exports.f=function(L){return b&&v(L)=="Window"?D(L):_(y(L))}},"06cf":function(f,d,u){var v=u("83ab"),y=u("c65b"),_=u("d1e7"),O=u("5c6c"),b=u("fc6a"),D=u("a04b"),F=u("1a2d"),L=u("0cfb"),B=Object.getOwnPropertyDescriptor;d.f=v?B:function(W,$){if(W=b(W),$=D($),L)try{return B(W,$)}catch{}if(F(W,$))return O(!y(_.f,W,$),W[$])}},"07ac":function(f,d,u){var v=u("23e7"),y=u("6f53").values;v({target:"Object",stat:!0},{values:function(O){return y(O)}})},"07fa":function(f,d,u){var v=u("50c4");f.exports=function(y){return v(y.length)}},"0999":function(f,d,u){u.d(d,"a",function(){return y}),u.d(d,"c",function(){return _}),u.d(d,"b",function(){return O}),u.d(d,"g",function(){return b}),u.d(d,"e",function(){return D}),u.d(d,"d",function(){return F}),u.d(d,"f",function(){return L});var v=u("617d");function y(B,H,W,$){var q;return W&&W.length?q=W.shift():v.g?q=new OffscreenCanvas(B||300,H||300):q=document.createElement("canvas"),B&&(q.width=B),H&&(q.height=H),q.getContext("2d",$)}function _(B){var H=B.offsetWidth,W=getComputedStyle(B);return H+=parseInt(W.marginLeft,10)+parseInt(W.marginRight,10),H}function O(B){var H=B.offsetHeight,W=getComputedStyle(B);return H+=parseInt(W.marginTop,10)+parseInt(W.marginBottom,10),H}function b(B,H){var W=H.parentNode;W&&W.replaceChild(B,H)}function D(B){return B&&B.parentNode?B.parentNode.removeChild(B):null}function F(B){for(;B.lastChild;)B.removeChild(B.lastChild)}function L(B,H){for(var W=B.childNodes,$=0;;++$){var q=W[$],tt=H[$];if(!q&&!tt)break;if(q!==tt){if(!q){B.appendChild(tt);continue}if(!tt){B.removeChild(q),--$;continue}B.insertBefore(tt,q)}}}},"0b42":function(f,d,u){var v=u("da84"),y=u("e8b5"),_=u("68ee"),O=u("861d"),b=u("b622"),D=b("species"),F=v.Array;f.exports=function(L){var B;return y(L)&&(B=L.constructor,_(B)&&(B===F||y(B.prototype))?B=void 0:O(B)&&(B=B[D],B===null&&(B=void 0))),B===void 0?F:B}},"0cb2":function(f,d,u){var v=u("e330"),y=u("7b0b"),_=Math.floor,O=v("".charAt),b=v("".replace),D=v("".slice),F=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,L=/\$([$&'`]|\d{1,2})/g;f.exports=function(B,H,W,$,q,tt){var J=W+B.length,_t=$.length,rt=L;return q!==void 0&&(q=y(q),rt=F),b(tt,rt,function(I,Et){var bt;switch(O(Et,0)){case"$":return"$";case"&":return B;case"`":return D(H,0,W);case"'":return D(H,J);case"<":bt=q[D(Et,1,-1)];break;default:var Nt=+Et;if(Nt===0)return I;if(Nt>_t){var ct=_(Nt/10);return ct===0?I:ct<=_t?$[ct-1]===void 0?O(Et,1):$[ct-1]+O(Et,1):I}bt=$[Nt-1]}return bt===void 0?"":bt})}},"0cfb":function(f,d,u){var v=u("83ab"),y=u("d039"),_=u("cc12");f.exports=!v&&!y(function(){return Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a!=7})},"0d51":function(f,d,u){var v=u("da84"),y=v.String;f.exports=function(_){try{return y(_)}catch{return"Object"}}},"0ec0":function(f,d,u){var v=u("da5c"),y=u("cef7"),_=u("57cb"),O=u("38f3"),b=function(){var F=function(L,B){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,W){H.__proto__=W}||function(H,W){for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(H[$]=W[$])},F(L,B)};return function(L,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");F(L,B);function H(){this.constructor=L}L.prototype=B===null?Object.create(B):(H.prototype=B.prototype,new H)}}(),D=function(F){b(L,F);function L(B){var H=F.call(this)||this;return H.eventTarget_=B,H.pendingRemovals_=null,H.dispatching_=null,H.listeners_=null,H}return L.prototype.addEventListener=function(B,H){if(!(!B||!H)){var W=this.listeners_||(this.listeners_={}),$=W[B]||(W[B]=[]);$.indexOf(H)===-1&&$.push(H)}},L.prototype.dispatchEvent=function(B){var H=typeof B=="string"?new y.a(B):B,W=H.type;H.target||(H.target=this.eventTarget_||this);var $=this.listeners_&&this.listeners_[W],q;if($){var tt=this.dispatching_||(this.dispatching_={}),J=this.pendingRemovals_||(this.pendingRemovals_={});W in tt||(tt[W]=0,J[W]=0),++tt[W];for(var _t=0,rt=$.length;_t<rt;++_t)if("handleEvent"in $[_t]?q=$[_t].handleEvent(H):q=$[_t].call(this,H),q===!1||H.propagationStopped){q=!1;break}if(--tt[W],tt[W]===0){var I=J[W];for(delete J[W];I--;)this.removeEventListener(W,_.c);delete tt[W]}return q}},L.prototype.disposeInternal=function(){this.listeners_&&Object(O.b)(this.listeners_)},L.prototype.getListeners=function(B){return this.listeners_&&this.listeners_[B]||void 0},L.prototype.hasListener=function(B){return this.listeners_?B?B in this.listeners_:Object.keys(this.listeners_).length>0:!1},L.prototype.removeEventListener=function(B,H){var W=this.listeners_&&this.listeners_[B];if(W){var $=W.indexOf(H);$!==-1&&(this.pendingRemovals_&&B in this.pendingRemovals_?(W[$]=_.c,++this.pendingRemovals_[B]):(W.splice($,1),W.length===0&&delete this.listeners_[B]))}},L}(v.a);d.a=D},"107c":function(f,d,u){var v=u("d039"),y=u("da84"),_=y.RegExp;f.exports=v(function(){var O=_("(?<a>b)","g");return O.exec("b").groups.a!=="b"||"b".replace(O,"$<a>c")!=="bc"})},"1300":function(f,d,u){u.d(d,"b",function(){return v}),u.d(d,"c",function(){return _}),u.d(d,"a",function(){return O});function v(){return function(){throw new Error("Unimplemented abstract method.")}()}var y=0;function _(b){return b.ol_uid||(b.ol_uid=String(++y))}var O="6.12.0"},"14c3":function(f,d,u){var v=u("da84"),y=u("c65b"),_=u("825a"),O=u("1626"),b=u("c6b6"),D=u("9263"),F=v.TypeError;f.exports=function(L,B){var H=L.exec;if(O(H)){var W=y(H,L,B);return W!==null&&_(W),W}if(b(L)==="RegExp")return y(D,L,B);throw F("RegExp#exec called on incompatible receiver")}},"159b":function(f,d,u){var v=u("da84"),y=u("fdbc"),_=u("785a"),O=u("17c2"),b=u("9112"),D=function(L){if(L&&L.forEach!==O)try{b(L,"forEach",O)}catch{L.forEach=O}};for(var F in y)y[F]&&D(v[F]&&v[F].prototype);D(_)},"1626":function(f,d){f.exports=function(u){return typeof u=="function"}},"17c2":function(f,d,u){var v=u("b727").forEach,y=u("a640"),_=y("forEach");f.exports=_?[].forEach:function(b){return v(this,b,arguments.length>1?arguments[1]:void 0)}},"1a2d":function(f,d,u){var v=u("e330"),y=u("7b0b"),_=v({}.hasOwnProperty);f.exports=Object.hasOwn||function(b,D){return _(y(b),D)}},"1be4":function(f,d,u){var v=u("d066");f.exports=v("document","documentElement")},"1c7e":function(f,d,u){var v=u("b622"),y=v("iterator"),_=!1;try{var O=0,b={next:function(){return{done:!!O++}},return:function(){_=!0}};b[y]=function(){return this},Array.from(b,function(){throw 2})}catch{}f.exports=function(D,F){if(!F&&!_)return!1;var L=!1;try{var B={};B[y]=function(){return{next:function(){return{done:L=!0}}}},D(B)}catch{}return L}},"1d80":function(f,d,u){var v=u("da84"),y=v.TypeError;f.exports=function(_){if(_==null)throw y("Can't call method on "+_);return _}},"1dde":function(f,d,u){var v=u("d039"),y=u("b622"),_=u("2d00"),O=y("species");f.exports=function(b){return _>=51||!v(function(){var D=[],F=D.constructor={};return F[O]=function(){return{foo:1}},D[b](Boolean).foo!==1})}},"1e8d":function(f,d,u){u.d(d,"a",function(){return y}),u.d(d,"b",function(){return _}),u.d(d,"c",function(){return O});var v=u("38f3");function y(b,D,F,L,B){if(L&&L!==b&&(F=F.bind(L)),B){var H=F;F=function(){b.removeEventListener(D,F),H.apply(this,arguments)}}var W={target:b,type:D,listener:F};return b.addEventListener(D,F),W}function _(b,D,F,L){return y(b,D,F,L,!0)}function O(b){b&&b.target&&(b.target.removeEventListener(b.type,b.listener),Object(v.b)(b))}},"1fb5":function(f,d,u){d.byteLength=L,d.toByteArray=H,d.fromByteArray=q;for(var v=[],y=[],_=typeof Uint8Array!="undefined"?Uint8Array:Array,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,D=O.length;b<D;++b)v[b]=O[b],y[O.charCodeAt(b)]=b;y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63;function F(tt){var J=tt.length;if(J%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _t=tt.indexOf("=");_t===-1&&(_t=J);var rt=_t===J?0:4-_t%4;return[_t,rt]}function L(tt){var J=F(tt),_t=J[0],rt=J[1];return(_t+rt)*3/4-rt}function B(tt,J,_t){return(J+_t)*3/4-_t}function H(tt){var J,_t=F(tt),rt=_t[0],I=_t[1],Et=new _(B(tt,rt,I)),bt=0,Nt=I>0?rt-4:rt,ct;for(ct=0;ct<Nt;ct+=4)J=y[tt.charCodeAt(ct)]<<18|y[tt.charCodeAt(ct+1)]<<12|y[tt.charCodeAt(ct+2)]<<6|y[tt.charCodeAt(ct+3)],Et[bt++]=J>>16&255,Et[bt++]=J>>8&255,Et[bt++]=J&255;return I===2&&(J=y[tt.charCodeAt(ct)]<<2|y[tt.charCodeAt(ct+1)]>>4,Et[bt++]=J&255),I===1&&(J=y[tt.charCodeAt(ct)]<<10|y[tt.charCodeAt(ct+1)]<<4|y[tt.charCodeAt(ct+2)]>>2,Et[bt++]=J>>8&255,Et[bt++]=J&255),Et}function W(tt){return v[tt>>18&63]+v[tt>>12&63]+v[tt>>6&63]+v[tt&63]}function $(tt,J,_t){for(var rt,I=[],Et=J;Et<_t;Et+=3)rt=(tt[Et]<<16&16711680)+(tt[Et+1]<<8&65280)+(tt[Et+2]&255),I.push(W(rt));return I.join("")}function q(tt){for(var J,_t=tt.length,rt=_t%3,I=[],Et=16383,bt=0,Nt=_t-rt;bt<Nt;bt+=Et)I.push($(tt,bt,bt+Et>Nt?Nt:bt+Et));return rt===1?(J=tt[_t-1],I.push(v[J>>2]+v[J<<4&63]+"==")):rt===2&&(J=(tt[_t-2]<<8)+tt[_t-1],I.push(v[J>>10]+v[J>>4&63]+v[J<<2&63]+"=")),I.join("")}},"21a6":function(f,d,u){(function(v){var y,_,O;(function(b,D){_=[],y=D,O=typeof y=="function"?y.apply(d,_):y,O!==void 0&&(f.exports=O)})(this,function(){function b($,q){return typeof q=="undefined"?q={autoBom:!1}:typeof q!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),q={autoBom:!q}),q.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test($.type)?new Blob(["\uFEFF",$],{type:$.type}):$}function D($,q,tt){var J=new XMLHttpRequest;J.open("GET",$),J.responseType="blob",J.onload=function(){W(J.response,q,tt)},J.onerror=function(){console.error("could not download file")},J.send()}function F($){var q=new XMLHttpRequest;q.open("HEAD",$,!1);try{q.send()}catch{}return 200<=q.status&&299>=q.status}function L($){try{$.dispatchEvent(new MouseEvent("click"))}catch{var q=document.createEvent("MouseEvents");q.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),$.dispatchEvent(q)}}var B=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof v=="object"&&v.global===v?v:void 0,H=B.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),W=B.saveAs||(typeof window!="object"||window!==B?function(){}:"download"in HTMLAnchorElement.prototype&&!H?function($,q,tt){var J=B.URL||B.webkitURL,_t=document.createElement("a");q=q||$.name||"download",_t.download=q,_t.rel="noopener",typeof $=="string"?(_t.href=$,_t.origin===location.origin?L(_t):F(_t.href)?D($,q,tt):L(_t,_t.target="_blank")):(_t.href=J.createObjectURL($),setTimeout(function(){J.revokeObjectURL(_t.href)},4e4),setTimeout(function(){L(_t)},0))}:"msSaveOrOpenBlob"in navigator?function($,q,tt){if(q=q||$.name||"download",typeof $!="string")navigator.msSaveOrOpenBlob(b($,tt),q);else if(F($))D($,q,tt);else{var J=document.createElement("a");J.href=$,J.target="_blank",setTimeout(function(){L(J)})}}:function($,q,tt,J){if(J=J||open("","_blank"),J&&(J.document.title=J.document.body.innerText="downloading..."),typeof $=="string")return D($,q,tt);var _t=$.type==="application/octet-stream",rt=/constructor/i.test(B.HTMLElement)||B.safari,I=/CriOS\/[\d]+/.test(navigator.userAgent);if((I||_t&&rt||H)&&typeof FileReader!="undefined"){var Et=new FileReader;Et.onloadend=function(){var ct=Et.result;ct=I?ct:ct.replace(/^data:[^;]*;/,"data:attachment/file;"),J?J.location.href=ct:location=ct,J=null},Et.readAsDataURL($)}else{var bt=B.URL||B.webkitURL,Nt=bt.createObjectURL($);J?J.location=Nt:location.href=Nt,J=null,setTimeout(function(){bt.revokeObjectURL(Nt)},4e4)}});B.saveAs=W.saveAs=W,f.exports=W})}).call(this,u("c8ba"))},"23cb":function(f,d,u){var v=u("5926"),y=Math.max,_=Math.min;f.exports=function(O,b){var D=v(O);return D<0?y(D+b,0):_(D,b)}},"23e7":function(f,d,u){var v=u("da84"),y=u("06cf").f,_=u("9112"),O=u("6eeb"),b=u("ce4e"),D=u("e893"),F=u("94ca");f.exports=function(L,B){var H=L.target,W=L.global,$=L.stat,q,tt,J,_t,rt,I;if(W?tt=v:$?tt=v[H]||b(H,{}):tt=(v[H]||{}).prototype,tt)for(J in B){if(rt=B[J],L.noTargetGet?(I=y(tt,J),_t=I&&I.value):_t=tt[J],q=F(W?J:H+($?".":"#")+J,L.forced),!q&&_t!==void 0){if(typeof rt==typeof _t)continue;D(rt,_t)}(L.sham||_t&&_t.sham)&&_(rt,"sham",!0),O(tt,J,rt,L)}}},"241c":function(f,d,u){var v=u("ca84"),y=u("7839"),_=y.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(b){return v(b,_)}},"2532":function(f,d,u){var v=u("23e7"),y=u("e330"),_=u("5a34"),O=u("1d80"),b=u("577e"),D=u("ab13"),F=y("".indexOf);v({target:"String",proto:!0,forced:!D("includes")},{includes:function(B){return!!~F(b(O(this)),b(_(B)),arguments.length>1?arguments[1]:void 0)}})},"25a5":function(f,d,u){(function(v,y){f.exports=y()})(this,function(){function v(rt,I,Et,bt,Nt){(function ct(jt,gt,St,Dt,qt){for(;Dt>St;){if(Dt-St>600){var Le=Dt-St+1,Q=gt-St+1,Tt=Math.log(Le),Ut=.5*Math.exp(2*Tt/3),Be=.5*Math.sqrt(Tt*Ut*(Le-Ut)/Le)*(Q-Le/2<0?-1:1),Ye=Math.max(St,Math.floor(gt-Q*Ut/Le+Be)),Me=Math.min(Dt,Math.floor(gt+(Le-Q)*Ut/Le+Be));ct(jt,gt,Ye,Me,qt)}var ir=jt[gt],Sr=St,$r=Dt;for(y(jt,St,gt),qt(jt[Dt],ir)>0&&y(jt,St,Dt);Sr<$r;){for(y(jt,Sr,$r),Sr++,$r--;qt(jt[Sr],ir)<0;)Sr++;for(;qt(jt[$r],ir)>0;)$r--}qt(jt[St],ir)===0?y(jt,St,$r):y(jt,++$r,Dt),$r<=gt&&(St=$r+1),gt<=$r&&(Dt=$r-1)}})(rt,I,Et||0,bt||rt.length-1,Nt||_)}function y(rt,I,Et){var bt=rt[I];rt[I]=rt[Et],rt[Et]=bt}function _(rt,I){return rt<I?-1:rt>I?1:0}var O=function(rt){rt===void 0&&(rt=9),this._maxEntries=Math.max(4,rt),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function b(rt,I,Et){if(!Et)return I.indexOf(rt);for(var bt=0;bt<I.length;bt++)if(Et(rt,I[bt]))return bt;return-1}function D(rt,I){F(rt,0,rt.children.length,I,rt)}function F(rt,I,Et,bt,Nt){Nt||(Nt=J(null)),Nt.minX=1/0,Nt.minY=1/0,Nt.maxX=-1/0,Nt.maxY=-1/0;for(var ct=I;ct<Et;ct++){var jt=rt.children[ct];L(Nt,rt.leaf?bt(jt):jt)}return Nt}function L(rt,I){return rt.minX=Math.min(rt.minX,I.minX),rt.minY=Math.min(rt.minY,I.minY),rt.maxX=Math.max(rt.maxX,I.maxX),rt.maxY=Math.max(rt.maxY,I.maxY),rt}function B(rt,I){return rt.minX-I.minX}function H(rt,I){return rt.minY-I.minY}function W(rt){return(rt.maxX-rt.minX)*(rt.maxY-rt.minY)}function $(rt){return rt.maxX-rt.minX+(rt.maxY-rt.minY)}function q(rt,I){return rt.minX<=I.minX&&rt.minY<=I.minY&&I.maxX<=rt.maxX&&I.maxY<=rt.maxY}function tt(rt,I){return I.minX<=rt.maxX&&I.minY<=rt.maxY&&I.maxX>=rt.minX&&I.maxY>=rt.minY}function J(rt){return{children:rt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _t(rt,I,Et,bt,Nt){for(var ct=[I,Et];ct.length;)if(!((Et=ct.pop())-(I=ct.pop())<=bt)){var jt=I+Math.ceil((Et-I)/bt/2)*bt;v(rt,jt,I,Et,Nt),ct.push(I,jt,jt,Et)}}return O.prototype.all=function(){return this._all(this.data,[])},O.prototype.search=function(rt){var I=this.data,Et=[];if(!tt(rt,I))return Et;for(var bt=this.toBBox,Nt=[];I;){for(var ct=0;ct<I.children.length;ct++){var jt=I.children[ct],gt=I.leaf?bt(jt):jt;tt(rt,gt)&&(I.leaf?Et.push(jt):q(rt,gt)?this._all(jt,Et):Nt.push(jt))}I=Nt.pop()}return Et},O.prototype.collides=function(rt){var I=this.data;if(!tt(rt,I))return!1;for(var Et=[];I;){for(var bt=0;bt<I.children.length;bt++){var Nt=I.children[bt],ct=I.leaf?this.toBBox(Nt):Nt;if(tt(rt,ct)){if(I.leaf||q(rt,ct))return!0;Et.push(Nt)}}I=Et.pop()}return!1},O.prototype.load=function(rt){if(!rt||!rt.length)return this;if(rt.length<this._minEntries){for(var I=0;I<rt.length;I++)this.insert(rt[I]);return this}var Et=this._build(rt.slice(),0,rt.length-1,0);if(this.data.children.length)if(this.data.height===Et.height)this._splitRoot(this.data,Et);else{if(this.data.height<Et.height){var bt=this.data;this.data=Et,Et=bt}this._insert(Et,this.data.height-Et.height-1,!0)}else this.data=Et;return this},O.prototype.insert=function(rt){return rt&&this._insert(rt,this.data.height-1),this},O.prototype.clear=function(){return this.data=J([]),this},O.prototype.remove=function(rt,I){if(!rt)return this;for(var Et,bt,Nt,ct=this.data,jt=this.toBBox(rt),gt=[],St=[];ct||gt.length;){if(ct||(ct=gt.pop(),bt=gt[gt.length-1],Et=St.pop(),Nt=!0),ct.leaf){var Dt=b(rt,ct.children,I);if(Dt!==-1)return ct.children.splice(Dt,1),gt.push(ct),this._condense(gt),this}Nt||ct.leaf||!q(ct,jt)?bt?(Et++,ct=bt.children[Et],Nt=!1):ct=null:(gt.push(ct),St.push(Et),Et=0,bt=ct,ct=ct.children[0])}return this},O.prototype.toBBox=function(rt){return rt},O.prototype.compareMinX=function(rt,I){return rt.minX-I.minX},O.prototype.compareMinY=function(rt,I){return rt.minY-I.minY},O.prototype.toJSON=function(){return this.data},O.prototype.fromJSON=function(rt){return this.data=rt,this},O.prototype._all=function(rt,I){for(var Et=[];rt;)rt.leaf?I.push.apply(I,rt.children):Et.push.apply(Et,rt.children),rt=Et.pop();return I},O.prototype._build=function(rt,I,Et,bt){var Nt,ct=Et-I+1,jt=this._maxEntries;if(ct<=jt)return D(Nt=J(rt.slice(I,Et+1)),this.toBBox),Nt;bt||(bt=Math.ceil(Math.log(ct)/Math.log(jt)),jt=Math.ceil(ct/Math.pow(jt,bt-1))),(Nt=J([])).leaf=!1,Nt.height=bt;var gt=Math.ceil(ct/jt),St=gt*Math.ceil(Math.sqrt(jt));_t(rt,I,Et,St,this.compareMinX);for(var Dt=I;Dt<=Et;Dt+=St){var qt=Math.min(Dt+St-1,Et);_t(rt,Dt,qt,gt,this.compareMinY);for(var Le=Dt;Le<=qt;Le+=gt){var Q=Math.min(Le+gt-1,qt);Nt.children.push(this._build(rt,Le,Q,bt-1))}}return D(Nt,this.toBBox),Nt},O.prototype._chooseSubtree=function(rt,I,Et,bt){for(;bt.push(I),!I.leaf&&bt.length-1!==Et;){for(var Nt=1/0,ct=1/0,jt=void 0,gt=0;gt<I.children.length;gt++){var St=I.children[gt],Dt=W(St),qt=(Le=rt,Q=St,(Math.max(Q.maxX,Le.maxX)-Math.min(Q.minX,Le.minX))*(Math.max(Q.maxY,Le.maxY)-Math.min(Q.minY,Le.minY))-Dt);qt<ct?(ct=qt,Nt=Dt<Nt?Dt:Nt,jt=St):qt===ct&&Dt<Nt&&(Nt=Dt,jt=St)}I=jt||I.children[0]}var Le,Q;return I},O.prototype._insert=function(rt,I,Et){var bt=Et?rt:this.toBBox(rt),Nt=[],ct=this._chooseSubtree(bt,this.data,I,Nt);for(ct.children.push(rt),L(ct,bt);I>=0&&Nt[I].children.length>this._maxEntries;)this._split(Nt,I),I--;this._adjustParentBBoxes(bt,Nt,I)},O.prototype._split=function(rt,I){var Et=rt[I],bt=Et.children.length,Nt=this._minEntries;this._chooseSplitAxis(Et,Nt,bt);var ct=this._chooseSplitIndex(Et,Nt,bt),jt=J(Et.children.splice(ct,Et.children.length-ct));jt.height=Et.height,jt.leaf=Et.leaf,D(Et,this.toBBox),D(jt,this.toBBox),I?rt[I-1].children.push(jt):this._splitRoot(Et,jt)},O.prototype._splitRoot=function(rt,I){this.data=J([rt,I]),this.data.height=rt.height+1,this.data.leaf=!1,D(this.data,this.toBBox)},O.prototype._chooseSplitIndex=function(rt,I,Et){for(var bt,Nt,ct,jt,gt,St,Dt,qt=1/0,Le=1/0,Q=I;Q<=Et-I;Q++){var Tt=F(rt,0,Q,this.toBBox),Ut=F(rt,Q,Et,this.toBBox),Be=(Nt=Tt,ct=Ut,jt=void 0,gt=void 0,St=void 0,Dt=void 0,jt=Math.max(Nt.minX,ct.minX),gt=Math.max(Nt.minY,ct.minY),St=Math.min(Nt.maxX,ct.maxX),Dt=Math.min(Nt.maxY,ct.maxY),Math.max(0,St-jt)*Math.max(0,Dt-gt)),Ye=W(Tt)+W(Ut);Be<qt?(qt=Be,bt=Q,Le=Ye<Le?Ye:Le):Be===qt&&Ye<Le&&(Le=Ye,bt=Q)}return bt||Et-I},O.prototype._chooseSplitAxis=function(rt,I,Et){var bt=rt.leaf?this.compareMinX:B,Nt=rt.leaf?this.compareMinY:H;this._allDistMargin(rt,I,Et,bt)<this._allDistMargin(rt,I,Et,Nt)&&rt.children.sort(bt)},O.prototype._allDistMargin=function(rt,I,Et,bt){rt.children.sort(bt);for(var Nt=this.toBBox,ct=F(rt,0,I,Nt),jt=F(rt,Et-I,Et,Nt),gt=$(ct)+$(jt),St=I;St<Et-I;St++){var Dt=rt.children[St];L(ct,rt.leaf?Nt(Dt):Dt),gt+=$(ct)}for(var qt=Et-I-1;qt>=I;qt--){var Le=rt.children[qt];L(jt,rt.leaf?Nt(Le):Le),gt+=$(jt)}return gt},O.prototype._adjustParentBBoxes=function(rt,I,Et){for(var bt=Et;bt>=0;bt--)L(I[bt],rt)},O.prototype._condense=function(rt){for(var I=rt.length-1,Et=void 0;I>=0;I--)rt[I].children.length===0?I>0?(Et=rt[I-1].children).splice(Et.indexOf(rt[I]),1):this.clear():D(rt[I],this.toBBox)},O})},"2a62":function(f,d,u){var v=u("c65b"),y=u("825a"),_=u("dc4a");f.exports=function(O,b,D){var F,L;y(O);try{if(F=_(O,"return"),!F){if(b==="throw")throw D;return D}F=v(F,O)}catch(B){L=!0,F=B}if(b==="throw")throw D;if(L)throw F;return y(F),D}},"2ba4":function(f,d,u){var v=u("40d5"),y=Function.prototype,_=y.apply,O=y.call;f.exports=typeof Reflect=="object"&&Reflect.apply||(v?O.bind(_):function(){return O.apply(_,arguments)})},"2d00":function(f,d,u){var v=u("da84"),y=u("342f"),_=v.process,O=v.Deno,b=_&&_.versions||O&&O.version,D=b&&b.v8,F,L;D&&(F=D.split("."),L=F[0]>0&&F[0]<4?1:+(F[0]+F[1])),!L&&y&&(F=y.match(/Edge\/(\d+)/),(!F||F[1]>=74)&&(F=y.match(/Chrome\/(\d+)/),F&&(L=+F[1]))),f.exports=L},"3410":function(f,d,u){var v=u("23e7"),y=u("d039"),_=u("7b0b"),O=u("e163"),b=u("e177"),D=y(function(){O(1)});v({target:"Object",stat:!0,forced:D,sham:!b},{getPrototypeOf:function(L){return O(_(L))}})},"342f":function(f,d,u){var v=u("d066");f.exports=v("navigator","userAgent")||""},"35a1":function(f,d,u){var v=u("f5df"),y=u("dc4a"),_=u("3f8c"),O=u("b622"),b=O("iterator");f.exports=function(D){if(D!=null)return y(D,b)||y(D,"@@iterator")||_[v(D)]}},"35a7":function(f,d,u){u.d(d,"b",function(){return D});var v=u("0ec0"),y=u("01d4"),_=u("1e8d"),O=function(){var F=function(L,B){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,W){H.__proto__=W}||function(H,W){for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(H[$]=W[$])},F(L,B)};return function(L,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");F(L,B);function H(){this.constructor=L}L.prototype=B===null?Object.create(B):(H.prototype=B.prototype,new H)}}(),b=function(F){O(L,F);function L(){var B=F.call(this)||this;return B.on=B.onInternal,B.once=B.onceInternal,B.un=B.unInternal,B.revision_=0,B}return L.prototype.changed=function(){++this.revision_,this.dispatchEvent(y.a.CHANGE)},L.prototype.getRevision=function(){return this.revision_},L.prototype.onInternal=function(B,H){if(Array.isArray(B)){for(var W=B.length,$=new Array(W),q=0;q<W;++q)$[q]=Object(_.a)(this,B[q],H);return $}else return Object(_.a)(this,B,H)},L.prototype.onceInternal=function(B,H){var W;if(Array.isArray(B)){var $=B.length;W=new Array($);for(var q=0;q<$;++q)W[q]=Object(_.b)(this,B[q],H)}else W=Object(_.b)(this,B,H);return H.ol_key=W,W},L.prototype.unInternal=function(B,H){var W=H.ol_key;if(W)D(W);else if(Array.isArray(B))for(var $=0,q=B.length;$<q;++$)this.removeEventListener(B[$],H);else this.removeEventListener(B,H)},L}(v.a);b.prototype.on,b.prototype.once,b.prototype.un;function D(F){if(Array.isArray(F))for(var L=0,B=F.length;L<B;++L)Object(_.c)(F[L]);else Object(_.c)(F)}d.a=b},"37e8":function(f,d,u){var v=u("83ab"),y=u("aed9"),_=u("9bf2"),O=u("825a"),b=u("fc6a"),D=u("df75");d.f=v&&!y?Object.defineProperties:function(L,B){O(L);for(var H=b(B),W=D(B),$=W.length,q=0,tt;$>q;)_.f(L,tt=W[q++],H[tt]);return L}},"38f3":function(f,d,u){u.d(d,"a",function(){return v}),u.d(d,"b",function(){return y}),u.d(d,"c",function(){return _}),u.d(d,"d",function(){return O});var v=typeof Object.assign=="function"?Object.assign:function(b,D){if(b==null)throw new TypeError("Cannot convert undefined or null to object");for(var F=Object(b),L=1,B=arguments.length;L<B;++L){var H=arguments[L];if(H!=null)for(var W in H)H.hasOwnProperty(W)&&(F[W]=H[W])}return F};function y(b){for(var D in b)delete b[D]}var _=typeof Object.values=="function"?Object.values:function(b){var D=[];for(var F in b)D.push(b[F]);return D};function O(b){var D;for(D in b)return!1;return!D}},"3900":function(f,d,u){u.r(d);var v=u("e269"),y=u("592d"),_=u("57cb"),O=u("1e8d"),b=u("0999"),D=function(){var L=function(B,H){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,$){W.__proto__=$}||function(W,$){for(var q in $)Object.prototype.hasOwnProperty.call($,q)&&(W[q]=$[q])},L(B,H)};return function(B,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");L(B,H);function W(){this.constructor=B}B.prototype=H===null?Object.create(H):(W.prototype=H.prototype,new W)}}(),F=function(L){D(B,L);function B(H){var W=L.call(this)||this,$=H.element;return $&&!H.target&&!$.style.pointerEvents&&($.style.pointerEvents="auto"),W.element=$||null,W.target_=null,W.map_=null,W.listenerKeys=[],H.render&&(W.render=H.render),H.target&&W.setTarget(H.target),W}return B.prototype.disposeInternal=function(){Object(b.e)(this.element),L.prototype.disposeInternal.call(this)},B.prototype.getMap=function(){return this.map_},B.prototype.setMap=function(H){this.map_&&Object(b.e)(this.element);for(var W=0,$=this.listenerKeys.length;W<$;++W)Object(O.c)(this.listenerKeys[W]);if(this.listenerKeys.length=0,this.map_=H,this.map_){var q=this.target_?this.target_:H.getOverlayContainerStopEvent();q.appendChild(this.element),this.render!==_.c&&this.listenerKeys.push(Object(O.a)(H,y.a.POSTRENDER,this.render,this)),H.render()}},B.prototype.render=function(H){},B.prototype.setTarget=function(H){this.target_=typeof H=="string"?document.getElementById(H):H},B}(v.a);d.default=F},"3a9b":function(f,d,u){var v=u("e330");f.exports=v({}.isPrototypeOf)},"3bbe":function(f,d,u){var v=u("da84"),y=u("1626"),_=v.String,O=v.TypeError;f.exports=function(b){if(typeof b=="object"||y(b))return b;throw O("Can't set "+_(b)+" as a prototype")}},"3ca3":function(f,d,u){var v=u("6547").charAt,y=u("577e"),_=u("69f3"),O=u("7dd0"),b="String Iterator",D=_.set,F=_.getterFor(b);O(String,"String",function(L){D(this,{type:b,string:y(L),index:0})},function(){var B=F(this),H=B.string,W=B.index,$;return W>=H.length?{value:void 0,done:!0}:($=v(H,W),B.index+=$.length,{value:$,done:!1})})},"3f8c":function(f,d){f.exports={}},"408a":function(f,d,u){var v=u("e330");f.exports=v(1 .valueOf)},"40d5":function(f,d,u){var v=u("d039");f.exports=!v(function(){var y=function(){}.bind();return typeof y!="function"||y.hasOwnProperty("prototype")})},"428f":function(f,d,u){var v=u("da84");f.exports=v},"44ad":function(f,d,u){var v=u("da84"),y=u("e330"),_=u("d039"),O=u("c6b6"),b=v.Object,D=y("".split);f.exports=_(function(){return!b("z").propertyIsEnumerable(0)})?function(F){return O(F)=="String"?D(F,""):b(F)}:b},"44d2":function(f,d,u){var v=u("b622"),y=u("7c73"),_=u("9bf2"),O=v("unscopables"),b=Array.prototype;b[O]==null&&_.f(b,O,{configurable:!0,value:y(null)}),f.exports=function(D){b[O][D]=!0}},"44e7":function(f,d,u){var v=u("861d"),y=u("c6b6"),_=u("b622"),O=_("match");f.exports=function(b){var D;return v(b)&&((D=b[O])!==void 0?!!D:y(b)=="RegExp")}},"485a":function(f,d,u){var v=u("da84"),y=u("c65b"),_=u("1626"),O=u("861d"),b=v.TypeError;f.exports=function(D,F){var L,B;if(F==="string"&&_(L=D.toString)&&!O(B=y(L,D))||_(L=D.valueOf)&&!O(B=y(L,D))||F!=="string"&&_(L=D.toString)&&!O(B=y(L,D)))return B;throw b("Can't convert object to primitive value")}},"4930":function(f,d,u){var v=u("2d00"),y=u("d039");f.exports=!!Object.getOwnPropertySymbols&&!y(function(){var _=Symbol();return!String(_)||!(Object(_)instanceof Symbol)||!Symbol.sham&&v&&v<41})},"4ae1":function(f,d,u){var v=u("23e7"),y=u("d066"),_=u("2ba4"),O=u("0538"),b=u("5087"),D=u("825a"),F=u("861d"),L=u("7c73"),B=u("d039"),H=y("Reflect","construct"),W=Object.prototype,$=[].push,q=B(function(){function _t(){}return!(H(function(){},[],_t)instanceof _t)}),tt=!B(function(){H(function(){})}),J=q||tt;v({target:"Reflect",stat:!0,forced:J,sham:J},{construct:function(rt,I){b(rt),D(I);var Et=arguments.length<3?rt:b(arguments[2]);if(tt&&!q)return H(rt,I,Et);if(rt==Et){switch(I.length){case 0:return new rt;case 1:return new rt(I[0]);case 2:return new rt(I[0],I[1]);case 3:return new rt(I[0],I[1],I[2]);case 4:return new rt(I[0],I[1],I[2],I[3])}var bt=[null];return _($,bt,I),new(_(O,rt,bt))}var Nt=Et.prototype,ct=L(F(Nt)?Nt:W),jt=_(rt,ct,I);return F(jt)?jt:ct}})},"4d64":function(f,d,u){var v=u("fc6a"),y=u("23cb"),_=u("07fa"),O=function(b){return function(D,F,L){var B=v(D),H=_(B),W=y(L,H),$;if(b&&F!=F){for(;H>W;)if($=B[W++],$!=$)return!0}else for(;H>W;W++)if((b||W in B)&&B[W]===F)return b||W||0;return!b&&-1}};f.exports={includes:O(!0),indexOf:O(!1)}},"4dae":function(f,d,u){var v=u("da84"),y=u("23cb"),_=u("07fa"),O=u("8418"),b=v.Array,D=Math.max;f.exports=function(F,L,B){for(var H=_(F),W=y(L,H),$=y(B===void 0?H:B,H),q=b(D($-W,0)),tt=0;W<$;W++,tt++)O(q,tt,F[W]);return q.length=tt,q}},"4de4":function(f,d,u){var v=u("23e7"),y=u("b727").filter,_=u("1dde"),O=_("filter");v({target:"Array",proto:!0,forced:!O},{filter:function(D){return y(this,D,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(f,d,u){var v=u("da84"),y=u("0366"),_=u("c65b"),O=u("7b0b"),b=u("9bdd"),D=u("e95a"),F=u("68ee"),L=u("07fa"),B=u("8418"),H=u("9a1f"),W=u("35a1"),$=v.Array;f.exports=function(tt){var J=O(tt),_t=F(this),rt=arguments.length,I=rt>1?arguments[1]:void 0,Et=I!==void 0;Et&&(I=y(I,rt>2?arguments[2]:void 0));var bt=W(J),Nt=0,ct,jt,gt,St,Dt,qt;if(bt&&!(this==$&&D(bt)))for(St=H(J,bt),Dt=St.next,jt=_t?new this:[];!(gt=_(Dt,St)).done;Nt++)qt=Et?b(St,I,[gt.value,Nt],!0):gt.value,B(jt,Nt,qt);else for(ct=L(J),jt=_t?new this(ct):$(ct);ct>Nt;Nt++)qt=Et?I(J[Nt],Nt):J[Nt],B(jt,Nt,qt);return jt.length=Nt,jt}},"4e82":function(f,d,u){var v=u("23e7"),y=u("e330"),_=u("59ed"),O=u("7b0b"),b=u("07fa"),D=u("577e"),F=u("d039"),L=u("addb"),B=u("a640"),H=u("04d1"),W=u("d998"),$=u("2d00"),q=u("512c"),tt=[],J=y(tt.sort),_t=y(tt.push),rt=F(function(){tt.sort(void 0)}),I=F(function(){tt.sort(null)}),Et=B("sort"),bt=!F(function(){if($)return $<70;if(!(H&&H>3)){if(W)return!0;if(q)return q<603;var jt="",gt,St,Dt,qt;for(gt=65;gt<76;gt++){switch(St=String.fromCharCode(gt),gt){case 66:case 69:case 70:case 72:Dt=3;break;case 68:case 71:Dt=4;break;default:Dt=2}for(qt=0;qt<47;qt++)tt.push({k:St+qt,v:Dt})}for(tt.sort(function(Le,Q){return Q.v-Le.v}),qt=0;qt<tt.length;qt++)St=tt[qt].k.charAt(0),jt.charAt(jt.length-1)!==St&&(jt+=St);return jt!=="DGBEFHACIJK"}}),Nt=rt||!I||!Et||!bt,ct=function(jt){return function(gt,St){return St===void 0?-1:gt===void 0?1:jt!==void 0?+jt(gt,St)||0:D(gt)>D(St)?1:-1}};v({target:"Array",proto:!0,forced:Nt},{sort:function(gt){gt!==void 0&&_(gt);var St=O(this);if(bt)return gt===void 0?J(St):J(St,gt);var Dt=[],qt=b(St),Le,Q;for(Q=0;Q<qt;Q++)Q in St&&_t(Dt,St[Q]);for(L(Dt,ct(gt)),Le=Dt.length,Q=0;Q<Le;)St[Q]=Dt[Q++];for(;Q<qt;)delete St[Q++];return St}})},"5087":function(f,d,u){var v=u("da84"),y=u("68ee"),_=u("0d51"),O=v.TypeError;f.exports=function(b){if(y(b))return b;throw O(_(b)+" is not a constructor")}},"50c4":function(f,d,u){var v=u("5926"),y=Math.min;f.exports=function(_){return _>0?y(v(_),9007199254740991):0}},"512c":function(f,d,u){var v=u("342f"),y=v.match(/AppleWebKit\/(\d+)\./);f.exports=!!y&&+y[1]},"5319":function(f,d,u){var v=u("2ba4"),y=u("c65b"),_=u("e330"),O=u("d784"),b=u("d039"),D=u("825a"),F=u("1626"),L=u("5926"),B=u("50c4"),H=u("577e"),W=u("1d80"),$=u("8aa5"),q=u("dc4a"),tt=u("0cb2"),J=u("14c3"),_t=u("b622"),rt=_t("replace"),I=Math.max,Et=Math.min,bt=_([].concat),Nt=_([].push),ct=_("".indexOf),jt=_("".slice),gt=function(Le){return Le===void 0?Le:String(Le)},St=function(){return"a".replace(/./,"$0")==="$0"}(),Dt=function(){return/./[rt]?/./[rt]("a","$0")==="":!1}(),qt=!b(function(){var Le=/./;return Le.exec=function(){var Q=[];return Q.groups={a:"7"},Q},"".replace(Le,"$<a>")!=="7"});O("replace",function(Le,Q,Tt){var Ut=Dt?"$":"$0";return[function(Ye,Me){var ir=W(this),Sr=Ye==null?void 0:q(Ye,rt);return Sr?y(Sr,Ye,ir,Me):y(Q,H(ir),Ye,Me)},function(Be,Ye){var Me=D(this),ir=H(Be);if(typeof Ye=="string"&&ct(Ye,Ut)===-1&&ct(Ye,"$<")===-1){var Sr=Tt(Q,Me,ir,Ye);if(Sr.done)return Sr.value}var $r=F(Ye);$r||(Ye=H(Ye));var Qt=Me.global;if(Qt){var Te=Me.unicode;Me.lastIndex=0}for(var Ze=[];;){var vr=J(Me,ir);if(vr===null||(Nt(Ze,vr),!Qt))break;var Sn=H(vr[0]);Sn===""&&(Me.lastIndex=$(ir,B(Me.lastIndex),Te))}for(var _r="",Fr=0,Er=0;Er<Ze.length;Er++){vr=Ze[Er];for(var Lt=H(vr[0]),ne=I(Et(L(vr.index),ir.length),0),Ct=[],Wt=1;Wt<vr.length;Wt++)Nt(Ct,gt(vr[Wt]));var Bt=vr.groups;if($r){var Jt=bt([Lt],Ct,ne,ir);Bt!==void 0&&Nt(Jt,Bt);var he=H(v(Ye,void 0,Jt))}else he=tt(Lt,ir,ne,Ct,Bt,Ye);ne>=Fr&&(_r+=jt(ir,Fr,ne)+he,Fr=ne+Lt.length)}return _r+jt(ir,Fr)}]},!qt||!St||Dt)},"5692":function(f,d,u){var v=u("c430"),y=u("c6cd");(f.exports=function(_,O){return y[_]||(y[_]=O!==void 0?O:{})})("versions",[]).push({version:"3.20.3",mode:v?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(f,d,u){var v=u("d066"),y=u("e330"),_=u("241c"),O=u("7418"),b=u("825a"),D=y([].concat);f.exports=v("Reflect","ownKeys")||function(L){var B=_.f(b(L)),H=O.f;return H?D(B,H(L)):B}},"577e":function(f,d,u){var v=u("da84"),y=u("f5df"),_=v.String;f.exports=function(O){if(y(O)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return _(O)}},"57cb":function(f,d,u){u.d(d,"b",function(){return y}),u.d(d,"a",function(){return _}),u.d(d,"c",function(){return O}),u.d(d,"d",function(){return b});var v=u("9f5e");function y(){return!0}function _(){return!1}function O(){}function b(D){var F=!1,L,B,H;return function(){var W=Array.prototype.slice.call(arguments);return(!F||this!==H||!Object(v.b)(W,B))&&(F=!0,H=this,B=W,L=D.apply(this,arguments)),L}}},"5899":function(f,d){f.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},"58a8":function(f,d,u){var v=u("e330"),y=u("1d80"),_=u("577e"),O=u("5899"),b=v("".replace),D="["+O+"]",F=RegExp("^"+D+D+"*"),L=RegExp(D+D+"*$"),B=function(H){return function(W){var $=_(y(W));return H&1&&($=b($,F,"")),H&2&&($=b($,L,"")),$}};f.exports={start:B(1),end:B(2),trim:B(3)}},"5926":function(f,d){var u=Math.ceil,v=Math.floor;f.exports=function(y){var _=+y;return _!==_||_===0?0:(_>0?v:u)(_)}},"592d":function(f,d,u){d.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"59ed":function(f,d,u){var v=u("da84"),y=u("1626"),_=u("0d51"),O=v.TypeError;f.exports=function(b){if(y(b))return b;throw O(_(b)+" is not a function")}},"5a34":function(f,d,u){var v=u("da84"),y=u("44e7"),_=v.TypeError;f.exports=function(O){if(y(O))throw _("The method doesn't accept regular expressions");return O}},"5bc0":function(f,d,u){},"5c6c":function(f,d){f.exports=function(u,v){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:v}}},"5e77":function(f,d,u){var v=u("83ab"),y=u("1a2d"),_=Function.prototype,O=v&&Object.getOwnPropertyDescriptor,b=y(_,"name"),D=b&&function(){}.name==="something",F=b&&(!v||v&&O(_,"name").configurable);f.exports={EXISTS:b,PROPER:D,CONFIGURABLE:F}},"617d":function(f,d,u){u.d(d,"b",function(){return y}),u.d(d,"f",function(){return _}),u.d(d,"d",function(){return O}),u.d(d,"a",function(){return b}),u.d(d,"g",function(){return D}),u.d(d,"c",function(){return F}),u.d(d,"e",function(){return L});var v=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",y=v.indexOf("firefox")!==-1;v.indexOf("safari")!==-1&&v.indexOf("chrom")==-1;var _=v.indexOf("webkit")!==-1&&v.indexOf("edge")==-1,O=v.indexOf("macintosh")!==-1,b=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,D=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,F=typeof Image!="undefined"&&Image.prototype.decode,L=function(){var B=!1;try{var H=Object.defineProperty({},"passive",{get:function(){B=!0}});window.addEventListener("_",null,H),window.removeEventListener("_",null,H)}catch{}return B}()},"6547":function(f,d,u){var v=u("e330"),y=u("5926"),_=u("577e"),O=u("1d80"),b=v("".charAt),D=v("".charCodeAt),F=v("".slice),L=function(B){return function(H,W){var $=_(O(H)),q=y(W),tt=$.length,J,_t;return q<0||q>=tt?B?"":void 0:(J=D($,q),J<55296||J>56319||q+1===tt||(_t=D($,q+1))<56320||_t>57343?B?b($,q):J:B?F($,q,q+2):(J-55296<<10)+(_t-56320)+65536)}};f.exports={codeAt:L(!1),charAt:L(!0)}},"658f":function(f,d,u){/*!
  * ol-contextmenu - v4.1.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Sat Aug 15 2020 10:43:26 GMT-0300 (Brasilia Standard Time)
  */(function(v,y){f.exports=y(u("3900"))})(this,function(v){function y(gt){return gt&&typeof gt=="object"&&"default"in gt?gt:{default:gt}}var _=y(v),O="ol-ctx-menu",b={namespace:O,container:O+"-container",separator:O+"-separator",submenu:O+"-submenu",hidden:O+"-hidden",icon:O+"-icon",zoomIn:O+"-zoom-in",zoomOut:O+"-zoom-out",unselectable:"ol-unselectable"},D=b,F="beforeopen",L="open",B="close",H="contextmenu",W={width:150,scrollAt:4,eventType:H,defaultItems:!0},$=[{text:"Zoom In",classname:b.zoomIn+" "+b.icon,callback:function(gt,St){var Dt=St.getView();Dt.animate({zoom:+Dt.getZoom()+1,duration:700,center:gt.coordinate})}},{text:"Zoom Out",classname:b.zoomOut+" "+b.icon,callback:function(gt,St){var Dt=St.getView();Dt.animate({zoom:+Dt.getZoom()-1,duration:700,center:gt.coordinate})}}];function q(gt,St){if(St===void 0&&(St="Assertion failed"),!gt)throw typeof Error!="undefined"?new Error(St):St}function tt(gt){return/^\d+$/.test(gt)}function J(gt,St){return gt.classList?gt.classList.contains(St):Et(St).test(gt.className)}function _t(gt,St,Dt){St===void 0&&(St=window.document);var qt=Array.prototype.slice,Le=[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(gt))switch(gt[0]){case"#":Le=[rt(gt.substr(1))];break;case".":Le=qt.call(St.getElementsByClassName(gt.substr(1).replace(/\./g," ")));break;default:Le=qt.call(St.getElementsByTagName(gt))}else Le=qt.call(St.querySelectorAll(gt));return Dt?Le:Le[0]}function rt(gt){return gt=gt[0]==="#"?gt.substr(1,gt.length):gt,document.getElementById(gt)}function I(gt){var St=document.createDocumentFragment(),Dt=document.createElement("div");for(Dt.innerHTML=gt;Dt.firstChild;)St.appendChild(Dt.firstChild);return St}function Et(gt){return new RegExp("(^|\\s+) "+gt+" (\\s+|$)")}function bt(gt,St,Dt){gt.classList?gt.classList.add(St):gt.className=(gt.className+" "+St).trim(),Dt&&tt(Dt)&&window.setTimeout(function(){return Nt(gt,St)},Dt)}function Nt(gt,St,Dt){gt.classList?gt.classList.remove(St):gt.className=gt.className.replace(Et(St)," ").trim(),Dt&&tt(Dt)&&window.setTimeout(function(){return bt(gt,St)},Dt)}var ct=function(gt){return this.Base=gt,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:gt.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this};ct.prototype.init=function(gt){this.map=gt,this.viewport=gt.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},ct.prototype.getItemsLength=function(){var gt=this,St=0;return Object.keys(this.items).forEach(function(Dt){gt.items[Dt].submenu||gt.items[Dt].separator||St++}),St},ct.prototype.getPixelClicked=function(){return this.pixelClicked},ct.prototype.getCoordinateClicked=function(){return this.coordinateClicked},ct.prototype.positionContainer=function(gt){var St=this,Dt=this.Base.container,qt=this.map.getSize(),Le=qt[1]-gt[1],Q=qt[0]-gt[0],Tt=Dt.offsetWidth,Ut=Math.round(this.lineHeight*this.getItemsLength()),Be=_t("li."+D.submenu+">div",Dt,!0);Q>=Tt?(Dt.style.right="auto",Dt.style.left=gt[0]+5+"px"):(Dt.style.left="auto",Dt.style.right="15px"),Le>=Ut?(Dt.style.bottom="auto",Dt.style.top=gt[1]-10+"px"):(Dt.style.top="auto",Dt.style.bottom=0),function Ye(Me,ir,Sr){if(Array.isArray(Me))Me.forEach(function(Te){return Ye(Te,ir,Sr)});else for(var $r=Array.isArray(ir)?ir:ir.split(/\s+/),Qt=$r.length;Qt--;)J(Me,$r[Qt])&&Nt(Me,$r[Qt],Sr)}(Dt,D.hidden),Be.length&&(this.submenu.lastLeft=Q<2*Tt?"-"+Tt+"px":this.submenu.left,Be.forEach(function(Ye){var Me,ir,Sr,$r={w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight},Qt=(ir=(Me=Ye).getBoundingClientRect(),Sr=document.documentElement,{left:ir.left+window.pageXOffset-Sr.clientLeft,top:ir.top+window.pageYOffset-Sr.clientTop,width:Me.offsetWidth,height:Me.offsetHeight}),Te=Qt.height,Ze=Le-Te;Ze<0&&(Ze=Te-($r.h-Qt.top),Ye.style.top="-"+Ze+"px"),Ye.style.left=St.submenu.lastLeft}))},ct.prototype.openMenu=function(gt,St){this.Base.dispatchEvent({type:L,pixel:gt,coordinate:St}),this.opened=!0,this.positionContainer(gt)},ct.prototype.closeMenu=function(){this.opened=!1,function gt(St,Dt,qt){if(Array.isArray(St))St.forEach(function(Tt){return gt(Tt,Dt)});else for(var Le=Array.isArray(Dt)?Dt:Dt.split(/\s+/),Q=Le.length;Q--;)J(St,Le[Q])||bt(St,Le[Q],qt)}(this.Base.container,D.hidden),this.Base.dispatchEvent({type:B})},ct.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)},ct.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)},ct.prototype.handleEvent=function(gt){var St=this;this.coordinateClicked=this.map.getEventCoordinate(gt),this.pixelClicked=this.map.getEventPixel(gt),this.Base.dispatchEvent({type:F,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===H&&(gt.stopPropagation(),gt.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),gt.target.addEventListener("pointerdown",{handleEvent:function(Dt){St.opened&&(St.closeMenu(),Dt.stopPropagation(),gt.target.removeEventListener(Dt.type,this,!1))}},!1))},ct.prototype.handleMapMoveEvent=function(gt){this.closeMenu()},ct.prototype.setItemListener=function(gt,St){var Dt,qt=this;gt&&typeof this.items[St].callback=="function"&&(Dt=this.items[St].callback,gt.addEventListener("click",function(Le){Le.preventDefault();var Q={coordinate:qt.getCoordinateClicked(),data:qt.items[St].data||null};qt.closeMenu(),Dt(Q,qt.map)},!1))};var jt=function(gt){return this.Base=gt,this.Base.container=this.container=this.createContainer(!0),this};return jt.prototype.createContainer=function(gt){var St=document.createElement("div"),Dt=document.createElement("ul"),qt=[D.container,D.unselectable];return gt&&qt.push(D.hidden),St.className=qt.join(" "),St.style.width=parseInt(this.Base.options.width,10)+"px",St.appendChild(Dt),St},jt.prototype.createMenu=function(){var gt=[];if("items"in this.Base.options?gt=this.Base.options.defaultItems?this.Base.options.items.concat($):this.Base.options.items:this.Base.options.defaultItems&&(gt=$),gt.length===0)return!1;gt.forEach(this.addMenuEntry,this)},jt.prototype.addMenuEntry=function(gt){var St,Dt=this;if(gt.items&&Array.isArray(gt.items)){gt.classname=gt.classname||"",St=D.submenu,~gt.classname.indexOf(St)||(gt.classname=gt.classname.length?" "+D.submenu:D.submenu);var qt=this.generateHtmlAndPublish(this.container,gt),Le=this.createContainer();Le.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,qt.appendChild(Le),gt.items.forEach(function(Q){Dt.generateHtmlAndPublish(Le,Q,!0)})}else this.generateHtmlAndPublish(this.container,gt)},jt.prototype.generateHtmlAndPublish=function(gt,St,Dt){var qt,Le,Q="_"+Math.random().toString(36).substr(2,9),Tt=!1;return typeof St=="string"&&St.trim()==="-"?(qt=I('<li id="'+Q+'" class="'+D.separator+'"><hr></li>'),Le=[].slice.call(qt.childNodes,0)[0],gt.firstChild.appendChild(qt),Tt=!0):(St.classname=St.classname||"",qt=I("<span>"+St.text+"</span>"),Le=document.createElement("li"),St.icon&&(St.classname===""?St.classname=D.icon:St.classname.indexOf(D.icon)===-1&&(St.classname+=" "+D.icon),Le.setAttribute("style","background-image:url("+St.icon+")")),Le.id=Q,Le.className=St.classname,Le.appendChild(qt),gt.firstChild.appendChild(Le)),this.Base.Internal.items[Q]={id:Q,submenu:Dt||0,separator:Tt,callback:St.callback,data:St.data||null},this.Base.Internal.setItemListener(Le,Q),Le},jt.prototype.removeMenuEntry=function(gt){var St=_t("#"+gt,this.container.firstChild);St&&this.container.firstChild.removeChild(St),delete this.Base.Internal.items[gt]},jt.prototype.cloneAndGetLineHeight=function(){var gt=this.container.cloneNode(),St=I("<span>Foo</span>"),Dt=I("<span>Foo</span>"),qt=document.createElement("li"),Le=document.createElement("li");qt.appendChild(St),Le.appendChild(Dt),gt.appendChild(qt),gt.appendChild(Le),this.container.parentNode.appendChild(gt);var Q=gt.offsetHeight/2;return this.container.parentNode.removeChild(gt),Q},function(gt){function St(Dt){Dt===void 0&&(Dt={}),q(typeof Dt=="object","@param `opt_options` should be object type!"),this.options=function(qt,Le){var Q={};for(var Tt in qt)Q[Tt]=qt[Tt];for(var Ut in Le)Q[Ut]=Le[Ut];return Q}(W,Dt),this.disabled=!1,this.Internal=new ct(this),this.Html=new jt(this),gt.call(this,{element:this.container})}return gt&&(St.__proto__=gt),St.prototype=Object.create(gt&&gt.prototype),St.prototype.constructor=St,St.prototype.clear=function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)},St.prototype.close=function(){this.Internal.closeMenu()},St.prototype.enable=function(){this.disabled=!1},St.prototype.disable=function(){this.disabled=!0},St.prototype.getDefaultItems=function(){return $},St.prototype.countItems=function(){return Object.keys(this.Internal.items).length},St.prototype.extend=function(Dt){q(Array.isArray(Dt),"@param `arr` should be an Array."),Dt.forEach(this.push,this)},St.prototype.isOpen=function(){return this.Internal.opened},St.prototype.updatePosition=function(Dt){q(Array.isArray(Dt),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(Dt)},St.prototype.pop=function(){var Dt=Object.keys(this.Internal.items);this.Html.removeMenuEntry(Dt[Dt.length-1])},St.prototype.push=function(Dt){q(Dt!=null,"@param `item` must be informed."),this.Html.addMenuEntry(Dt)},St.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},St.prototype.setMap=function(Dt){gt.prototype.setMap.call(this,Dt),Dt?this.Internal.init(Dt,this):this.Internal.removeListeners()},St}(_.default)})},"65f0":function(f,d,u){var v=u("0b42");f.exports=function(y,_){return new(v(y))(_===0?0:_)}},"68ee":function(f,d,u){var v=u("e330"),y=u("d039"),_=u("1626"),O=u("f5df"),b=u("d066"),D=u("8925"),F=function(){},L=[],B=b("Reflect","construct"),H=/^\s*(?:class|function)\b/,W=v(H.exec),$=!H.exec(F),q=function(_t){if(!_(_t))return!1;try{return B(F,L,_t),!0}catch{return!1}},tt=function(_t){if(!_(_t))return!1;switch(O(_t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $||!!W(H,D(_t))}catch{return!0}};tt.sham=!0,f.exports=!B||y(function(){var J;return q(q.call)||!q(Object)||!q(function(){J=!0})||J})?tt:q},"69f3":function(f,d,u){var v=u("7f9a"),y=u("da84"),_=u("e330"),O=u("861d"),b=u("9112"),D=u("1a2d"),F=u("c6cd"),L=u("f772"),B=u("d012"),H="Object already initialized",W=y.TypeError,$=y.WeakMap,q,tt,J,_t=function(jt){return J(jt)?tt(jt):q(jt,{})},rt=function(jt){return function(gt){var St;if(!O(gt)||(St=tt(gt)).type!==jt)throw W("Incompatible receiver, "+jt+" required");return St}};if(v||F.state){var I=F.state||(F.state=new $),Et=_(I.get),bt=_(I.has),Nt=_(I.set);q=function(jt,gt){if(bt(I,jt))throw new W(H);return gt.facade=jt,Nt(I,jt,gt),gt},tt=function(jt){return Et(I,jt)||{}},J=function(jt){return bt(I,jt)}}else{var ct=L("state");B[ct]=!0,q=function(jt,gt){if(D(jt,ct))throw new W(H);return gt.facade=jt,b(jt,ct,gt),gt},tt=function(jt){return D(jt,ct)?jt[ct]:{}},J=function(jt){return D(jt,ct)}}f.exports={set:q,get:tt,has:J,enforce:_t,getterFor:rt}},"6b0d":function(f,d,u){Object.defineProperty(d,"__esModule",{value:!0}),d.default=(v,y)=>{const _=v.__vccOpts||v;for(const[O,b]of y)_[O]=b;return _}},"6eeb":function(f,d,u){var v=u("da84"),y=u("1626"),_=u("1a2d"),O=u("9112"),b=u("ce4e"),D=u("8925"),F=u("69f3"),L=u("5e77").CONFIGURABLE,B=F.get,H=F.enforce,W=String(String).split("String");(f.exports=function($,q,tt,J){var _t=J?!!J.unsafe:!1,rt=J?!!J.enumerable:!1,I=J?!!J.noTargetGet:!1,Et=J&&J.name!==void 0?J.name:q,bt;if(y(tt)&&(String(Et).slice(0,7)==="Symbol("&&(Et="["+String(Et).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!_(tt,"name")||L&&tt.name!==Et)&&O(tt,"name",Et),bt=H(tt),bt.source||(bt.source=W.join(typeof Et=="string"?Et:""))),$===v){rt?$[q]=tt:b(q,tt);return}else _t?!I&&$[q]&&(rt=!0):delete $[q];rt?$[q]=tt:O($,q,tt)})(Function.prototype,"toString",function(){return y(this)&&B(this).source||D(this)})},"6f53":function(f,d,u){var v=u("83ab"),y=u("e330"),_=u("df75"),O=u("fc6a"),b=u("d1e7").f,D=y(b),F=y([].push),L=function(B){return function(H){for(var W=O(H),$=_(W),q=$.length,tt=0,J=[],_t;q>tt;)_t=$[tt++],(!v||D(W,_t))&&F(J,B?[_t,W[_t]]:W[_t]);return J}};f.exports={entries:L(!0),values:L(!1)}},"7037":function(f,d,u){u("a4d3"),u("e01a"),u("d3b7"),u("d28b"),u("e260"),u("3ca3"),u("ddb0");function v(y){return f.exports=v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f.exports.__esModule=!0,f.exports.default=f.exports,v(y)}f.exports=v,f.exports.__esModule=!0,f.exports.default=f.exports},"7156":function(f,d,u){var v=u("1626"),y=u("861d"),_=u("d2bb");f.exports=function(O,b,D){var F,L;return _&&v(F=b.constructor)&&F!==D&&y(L=F.prototype)&&L!==D.prototype&&_(O,L),O}},"72ba":function(f,d,u){u.d(d,"b",function(){return Lt}),u.d(d,"a",function(){return ne});var v=Uint8Array,y=Uint16Array,_=Uint32Array,O=new v([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b=new v([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D=new v([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),F=function(Ct,Wt){for(var Bt=new y(31),Jt=0;Jt<31;++Jt)Bt[Jt]=Wt+=1<<Ct[Jt-1];for(var he=new _(Bt[30]),Jt=1;Jt<30;++Jt)for(var ge=Bt[Jt];ge<Bt[Jt+1];++ge)he[ge]=ge-Bt[Jt]<<5|Jt;return[Bt,he]},L=F(O,2),B=L[0],H=L[1];B[28]=258,H[258]=28;for(var W=F(b,0),$=W[0],q=W[1],tt=new y(32768),J=0;J<32768;++J){var _t=(J&43690)>>>1|(J&21845)<<1;_t=(_t&52428)>>>2|(_t&13107)<<2,_t=(_t&61680)>>>4|(_t&3855)<<4,tt[J]=((_t&65280)>>>8|(_t&255)<<8)>>>1}for(var rt=function(Ct,Wt,Bt){for(var Jt=Ct.length,he=0,ge=new y(Wt);he<Jt;++he)++ge[Ct[he]-1];var He=new y(Wt);for(he=0;he<Wt;++he)He[he]=He[he-1]+ge[he-1]<<1;var et;if(Bt){et=new y(1<<Wt);var z=15-Wt;for(he=0;he<Jt;++he)if(Ct[he])for(var V=he<<4|Ct[he],at=Wt-Ct[he],Ht=He[Ct[he]-1]++<<at,ye=Ht|(1<<at)-1;Ht<=ye;++Ht)et[tt[Ht]>>>z]=V}else for(et=new y(Jt),he=0;he<Jt;++he)et[he]=tt[He[Ct[he]-1]++]>>>15-Ct[he];return et},I=new v(288),J=0;J<144;++J)I[J]=8;for(var J=144;J<256;++J)I[J]=9;for(var J=256;J<280;++J)I[J]=7;for(var J=280;J<288;++J)I[J]=8;for(var Et=new v(32),J=0;J<32;++J)Et[J]=5;var bt=rt(I,9,0),Nt=rt(I,9,1),ct=rt(Et,5,0),jt=rt(Et,5,1),gt=function(Ct){for(var Wt=Ct[0],Bt=1;Bt<Ct.length;++Bt)Ct[Bt]>Wt&&(Wt=Ct[Bt]);return Wt},St=function(Ct,Wt,Bt){var Jt=Wt/8>>0;return(Ct[Jt]|Ct[Jt+1]<<8)>>>(Wt&7)&Bt},Dt=function(Ct,Wt){var Bt=Wt/8>>0;return(Ct[Bt]|Ct[Bt+1]<<8|Ct[Bt+2]<<16)>>>(Wt&7)},qt=function(Ct){return(Ct/8>>0)+(Ct&7&&1)},Le=function(Ct,Wt,Bt){(Wt==null||Wt<0)&&(Wt=0),(Bt==null||Bt>Ct.length)&&(Bt=Ct.length);var Jt=new(Ct instanceof y?y:Ct instanceof _?_:v)(Bt-Wt);return Jt.set(Ct.subarray(Wt,Bt)),Jt},Q=function(Ct,Wt,Bt){var Jt=Ct.length,he=!Wt||Bt,ge=!Bt||Bt.i;Bt||(Bt={}),Wt||(Wt=new v(Jt*3));var He=function(pu){var al=Wt.length;if(pu>al){var Ml=new v(Math.max(al*2,pu));Ml.set(Wt),Wt=Ml}},et=Bt.f||0,z=Bt.p||0,V=Bt.b||0,at=Bt.l,Ht=Bt.d,ye=Bt.m,Se=Bt.n,hr=Jt*8;do{if(!at){Bt.f=et=St(Ct,z,1);var Or=St(Ct,z+1,3);if(z+=3,Or)if(Or==1)at=Nt,Ht=jt,ye=9,Se=5;else if(Or==2){var Xn=St(Ct,z,31)+257,Ri=St(Ct,z+10,15)+4,Pn=Xn+St(Ct,z+5,31)+1;z+=14;for(var Gn=new v(Pn),pi=new v(19),zr=0;zr<Ri;++zr)pi[D[zr]]=St(Ct,z+zr*3,7);z+=Ri*3;var Ji=gt(pi),Kn=(1<<Ji)-1;if(!ge&&z+Pn*(Ji+7)>hr)break;for(var aa=rt(pi,Ji,1),zr=0;zr<Pn;){var no=aa[St(Ct,z,Kn)];z+=no&15;var Ar=no>>>4;if(Ar<16)Gn[zr++]=Ar;else{var Pi=0,Ur=0;for(Ar==16?(Ur=3+St(Ct,z,3),z+=2,Pi=Gn[zr-1]):Ar==17?(Ur=3+St(Ct,z,7),z+=3):Ar==18&&(Ur=11+St(Ct,z,127),z+=7);Ur--;)Gn[zr++]=Pi}}var Ge=Gn.subarray(0,Xn),Pr=Gn.subarray(Xn);ye=gt(Ge),Se=gt(Pr),at=rt(Ge,ye,1),Ht=rt(Pr,Se,1)}else throw"invalid block type";else{var Ar=qt(z)+4,Ln=Ct[Ar-4]|Ct[Ar-3]<<8,_n=Ar+Ln;if(_n>Jt){if(ge)throw"unexpected EOF";break}he&&He(V+Ln),Wt.set(Ct.subarray(Ar,_n),V),Bt.b=V+=Ln,Bt.p=z=_n*8;continue}if(z>hr)throw"unexpected EOF"}he&&He(V+131072);for(var on=(1<<ye)-1,In=(1<<Se)-1,qn=ye+Se+18;ge||z+qn<hr;){var Pi=at[Dt(Ct,z)&on],wo=Pi>>>4;if(z+=Pi&15,z>hr)throw"unexpected EOF";if(!Pi)throw"invalid length/literal";if(wo<256)Wt[V++]=wo;else if(wo==256){at=null;break}else{var fn=wo-254;if(wo>264){var zr=wo-257,vi=O[zr];fn=St(Ct,z,(1<<vi)-1)+B[zr],z+=vi}var Do=Ht[Dt(Ct,z)&In],Ho=Do>>>4;if(!Do)throw"invalid distance";z+=Do&15;var Pr=$[Ho];if(Ho>3){var vi=b[Ho];Pr+=Dt(Ct,z)&(1<<vi)-1,z+=vi}if(z>hr)throw"unexpected EOF";he&&He(V+131072);for(var Bo=V+fn;V<Bo;V+=4)Wt[V]=Wt[V-Pr],Wt[V+1]=Wt[V+1-Pr],Wt[V+2]=Wt[V+2-Pr],Wt[V+3]=Wt[V+3-Pr];V=Bo}}Bt.l=at,Bt.p=z,Bt.b=V,at&&(et=1,Bt.m=ye,Bt.d=Ht,Bt.n=Se)}while(!et);return V==Wt.length?Wt:Le(Wt,0,V)},Tt=function(Ct,Wt,Bt){Bt<<=Wt&7;var Jt=Wt/8>>0;Ct[Jt]|=Bt,Ct[Jt+1]|=Bt>>>8},Ut=function(Ct,Wt,Bt){Bt<<=Wt&7;var Jt=Wt/8>>0;Ct[Jt]|=Bt,Ct[Jt+1]|=Bt>>>8,Ct[Jt+2]|=Bt>>>16},Be=function(Ct,Wt){for(var Bt=[],Jt=0;Jt<Ct.length;++Jt)Ct[Jt]&&Bt.push({s:Jt,f:Ct[Jt]});var he=Bt.length,ge=Bt.slice();if(!he)return[new v(0),0];if(he==1){var He=new v(Bt[0].s+1);return He[Bt[0].s]=1,[He,1]}Bt.sort(function(Pn,Gn){return Pn.f-Gn.f}),Bt.push({s:-1,f:25001});var et=Bt[0],z=Bt[1],V=0,at=1,Ht=2;for(Bt[0]={s:-1,f:et.f+z.f,l:et,r:z};at!=he-1;)et=Bt[Bt[V].f<Bt[Ht].f?V++:Ht++],z=Bt[V!=at&&Bt[V].f<Bt[Ht].f?V++:Ht++],Bt[at++]={s:-1,f:et.f+z.f,l:et,r:z};for(var ye=ge[0].s,Jt=1;Jt<he;++Jt)ge[Jt].s>ye&&(ye=ge[Jt].s);var Se=new y(ye+1),hr=Ye(Bt[at-1],Se,0);if(hr>Wt){var Jt=0,Or=0,Ar=hr-Wt,Ln=1<<Ar;for(ge.sort(function(Gn,pi){return Se[pi.s]-Se[Gn.s]||Gn.f-pi.f});Jt<he;++Jt){var _n=ge[Jt].s;if(Se[_n]>Wt)Or+=Ln-(1<<hr-Se[_n]),Se[_n]=Wt;else break}for(Or>>>=Ar;Or>0;){var Xn=ge[Jt].s;Se[Xn]<Wt?Or-=1<<Wt-Se[Xn]++-1:++Jt}for(;Jt>=0&&Or;--Jt){var Ri=ge[Jt].s;Se[Ri]==Wt&&(--Se[Ri],++Or)}hr=Wt}return[new v(Se),hr]},Ye=function(Ct,Wt,Bt){return Ct.s==-1?Math.max(Ye(Ct.l,Wt,Bt+1),Ye(Ct.r,Wt,Bt+1)):Wt[Ct.s]=Bt},Me=function(Ct){for(var Wt=Ct.length;Wt&&!Ct[--Wt];);for(var Bt=new y(++Wt),Jt=0,he=Ct[0],ge=1,He=function(z){Bt[Jt++]=z},et=1;et<=Wt;++et)if(Ct[et]==he&&et!=Wt)++ge;else{if(!he&&ge>2){for(;ge>138;ge-=138)He(32754);ge>2&&(He(ge>10?ge-11<<5|28690:ge-3<<5|12305),ge=0)}else if(ge>3){for(He(he),--ge;ge>6;ge-=6)He(8304);ge>2&&(He(ge-3<<5|8208),ge=0)}for(;ge--;)He(he);ge=1,he=Ct[et]}return[Bt.subarray(0,Jt),Wt]},ir=function(Ct,Wt){for(var Bt=0,Jt=0;Jt<Wt.length;++Jt)Bt+=Ct[Jt]*Wt[Jt];return Bt},Sr=function(Ct,Wt,Bt){var Jt=Bt.length,he=qt(Wt+2);Ct[he]=Jt&255,Ct[he+1]=Jt>>>8,Ct[he+2]=Ct[he]^255,Ct[he+3]=Ct[he+1]^255;for(var ge=0;ge<Jt;++ge)Ct[he+ge+4]=Bt[ge];return(he+4+Jt)*8},$r=function(Ct,Wt,Bt,Jt,he,ge,He,et,z,V,at){Tt(Wt,at++,Bt),++he[256];for(var Ht=Be(he,15),ye=Ht[0],Se=Ht[1],hr=Be(ge,15),Or=hr[0],Ar=hr[1],Ln=Me(ye),_n=Ln[0],Xn=Ln[1],Ri=Me(Or),Pn=Ri[0],Gn=Ri[1],pi=new y(19),zr=0;zr<_n.length;++zr)pi[_n[zr]&31]++;for(var zr=0;zr<Pn.length;++zr)pi[Pn[zr]&31]++;for(var Ji=Be(pi,7),Kn=Ji[0],aa=Ji[1],no=19;no>4&&!Kn[D[no-1]];--no);var Pi=V+5<<3,Ur=ir(he,I)+ir(ge,Et)+He,Ge=ir(he,ye)+ir(ge,Or)+He+14+3*no+ir(pi,Kn)+(2*pi[16]+3*pi[17]+7*pi[18]);if(Pi<=Ur&&Pi<=Ge)return Sr(Wt,at,Ct.subarray(z,z+V));var Pr,on,In,qn;if(Tt(Wt,at,1+(Ge<Ur)),at+=2,Ge<Ur){Pr=rt(ye,Se,0),on=ye,In=rt(Or,Ar,0),qn=Or;var wo=rt(Kn,aa,0);Tt(Wt,at,Xn-257),Tt(Wt,at+5,Gn-1),Tt(Wt,at+10,no-4),at+=14;for(var zr=0;zr<no;++zr)Tt(Wt,at+3*zr,Kn[D[zr]]);at+=3*no;for(var fn=[_n,Pn],vi=0;vi<2;++vi)for(var Do=fn[vi],zr=0;zr<Do.length;++zr){var Ho=Do[zr]&31;Tt(Wt,at,wo[Ho]),at+=Kn[Ho],Ho>15&&(Tt(Wt,at,Do[zr]>>>5&127),at+=Do[zr]>>>12)}}else Pr=bt,on=I,In=ct,qn=Et;for(var zr=0;zr<et;++zr)if(Jt[zr]>255){var Ho=Jt[zr]>>>18&31;Ut(Wt,at,Pr[Ho+257]),at+=on[Ho+257],Ho>7&&(Tt(Wt,at,Jt[zr]>>>23&31),at+=O[Ho]);var Bo=Jt[zr]&31;Ut(Wt,at,In[Bo]),at+=qn[Bo],Bo>3&&(Ut(Wt,at,Jt[zr]>>>5&8191),at+=b[Bo])}else Ut(Wt,at,Pr[Jt[zr]]),at+=on[Jt[zr]];return Ut(Wt,at,Pr[256]),at+on[256]},Qt=new _([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Te=new v(0),Ze=function(Ct,Wt,Bt,Jt,he,ge){var He=Ct.length,et=new v(Jt+He+5*(1+Math.floor(He/7e3))+he),z=et.subarray(Jt,et.length-he),V=0;if(!Wt||He<8)for(var at=0;at<=He;at+=65535){var Ht=at+65535;Ht<He?V=Sr(z,V,Ct.subarray(at,Ht)):(z[at]=ge,V=Sr(z,V,Ct.subarray(at,He)))}else{for(var ye=Qt[Wt-1],Se=ye>>>13,hr=ye&8191,Or=(1<<Bt)-1,Ar=new y(32768),Ln=new y(Or+1),_n=Math.ceil(Bt/3),Xn=2*_n,Ri=function(Tc){return(Ct[Tc]^Ct[Tc+1]<<_n^Ct[Tc+2]<<Xn)&Or},Pn=new _(25e3),Gn=new y(288),pi=new y(32),zr=0,Ji=0,at=0,Kn=0,aa=0,no=0;at<He;++at){var Pi=Ri(at),Ur=at&32767,Ge=Ln[Pi];if(Ar[Ur]=Ge,Ln[Pi]=Ur,aa<=at){var Pr=He-at;if((zr>7e3||Kn>24576)&&Pr>423){V=$r(Ct,z,0,Pn,Gn,pi,Ji,Kn,no,at-no,V),Kn=zr=Ji=0,no=at;for(var on=0;on<286;++on)Gn[on]=0;for(var on=0;on<30;++on)pi[on]=0}var In=2,qn=0,wo=hr,fn=Ur-Ge&32767;if(Pr>2&&Pi==Ri(at-fn))for(var vi=Math.min(Se,Pr)-1,Do=Math.min(32767,at),Ho=Math.min(258,Pr);fn<=Do&&--wo&&Ur!=Ge;){if(Ct[at+In]==Ct[at+In-fn]){for(var Bo=0;Bo<Ho&&Ct[at+Bo]==Ct[at+Bo-fn];++Bo);if(Bo>In){if(In=Bo,qn=fn,Bo>vi)break;for(var pu=Math.min(fn,Bo-2),al=0,on=0;on<pu;++on){var Ml=at-fn+on+32768&32767,Fi=Ar[Ml],rd=Ml-Fi+32768&32767;rd>al&&(al=rd,Ge=Ml)}}}Ur=Ge,Ge=Ar[Ur],fn+=Ur-Ge+32768&32767}if(qn){Pn[Kn++]=268435456|H[In]<<18|q[qn];var Wf=H[In]&31,$u=q[qn]&31;Ji+=O[Wf]+b[$u],++Gn[257+Wf],++pi[$u],aa=at+In,++zr}else Pn[Kn++]=Ct[at],++Gn[Ct[at]]}}V=$r(Ct,z,ge,Pn,Gn,pi,Ji,Kn,no,at-no,V),ge||(V=Sr(z,V,Te))}return Le(et,0,Jt+qt(V)+he)},vr=function(){var Ct=1,Wt=0;return{p:function(Bt){for(var Jt=Ct,he=Wt,ge=Bt.length,He=0;He!=ge;){for(var et=Math.min(He+5552,ge);He<et;++He)Jt+=Bt[He],he+=Jt;Jt%=65521,he%=65521}Ct=Jt,Wt=he},d:function(){return(Ct>>>8<<16|(Wt&255)<<8|Wt>>>8)+((Ct&255)<<23)*2}}},Sn=function(Ct,Wt,Bt,Jt,he){return Ze(Ct,Wt.level==null?6:Wt.level,Wt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Ct.length)))*1.5):12+Wt.mem,Bt,Jt,!he)},_r=function(Ct,Wt,Bt){for(;Bt;++Wt)Ct[Wt]=Bt,Bt>>>=8},Fr=function(Ct,Wt){var Bt=Wt.level,Jt=Bt==0?0:Bt<6?1:Bt==9?3:2;Ct[0]=120,Ct[1]=Jt<<6|(Jt?32-2*Jt:1)},Er=function(Ct){if((Ct[0]&15)!=8||Ct[0]>>>4>7||(Ct[0]<<8|Ct[1])%31)throw"invalid zlib data";if(Ct[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Lt(Ct,Wt){Wt===void 0&&(Wt={});var Bt=vr();Bt.p(Ct);var Jt=Sn(Ct,Wt,2,4);return Fr(Jt,Wt),_r(Jt,Jt.length-4,Bt.d()),Jt}function ne(Ct,Wt){return Q((Er(Ct),Ct.subarray(2,-4)),Wt)}},"7418":function(f,d){d.f=Object.getOwnPropertySymbols},"746f":function(f,d,u){var v=u("428f"),y=u("1a2d"),_=u("e538"),O=u("9bf2").f;f.exports=function(b){var D=v.Symbol||(v.Symbol={});y(D,b)||O(D,b,{value:_.f(b)})}},"7839":function(f,d){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(f,d,u){var v=u("cc12"),y=v("span").classList,_=y&&y.constructor&&y.constructor.prototype;f.exports=_===Object.prototype?void 0:_},"7915":function(f,d,u){f.exports=y;var v=u("9152");function y(Q){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(Q)?Q:new Uint8Array(Q||0),this.pos=0,this.type=0,this.length=this.buf.length}y.Varint=0,y.Fixed64=1,y.Bytes=2,y.Fixed32=5;var _=(1<<16)*(1<<16),O=1/_,b=12,D=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");y.prototype={destroy:function(){this.buf=null},readFields:function(Q,Tt,Ut){for(Ut=Ut||this.length;this.pos<Ut;){var Be=this.readVarint(),Ye=Be>>3,Me=this.pos;this.type=Be&7,Q(Ye,Tt,this),this.pos===Me&&this.skip(Be)}return Tt},readMessage:function(Q,Tt){return this.readFields(Q,Tt,this.readVarint()+this.pos)},readFixed32:function(){var Q=jt(this.buf,this.pos);return this.pos+=4,Q},readSFixed32:function(){var Q=St(this.buf,this.pos);return this.pos+=4,Q},readFixed64:function(){var Q=jt(this.buf,this.pos)+jt(this.buf,this.pos+4)*_;return this.pos+=8,Q},readSFixed64:function(){var Q=jt(this.buf,this.pos)+St(this.buf,this.pos+4)*_;return this.pos+=8,Q},readFloat:function(){var Q=v.read(this.buf,this.pos,!0,23,4);return this.pos+=4,Q},readDouble:function(){var Q=v.read(this.buf,this.pos,!0,52,8);return this.pos+=8,Q},readVarint:function(Q){var Tt=this.buf,Ut,Be;return Be=Tt[this.pos++],Ut=Be&127,Be<128||(Be=Tt[this.pos++],Ut|=(Be&127)<<7,Be<128)||(Be=Tt[this.pos++],Ut|=(Be&127)<<14,Be<128)||(Be=Tt[this.pos++],Ut|=(Be&127)<<21,Be<128)?Ut:(Be=Tt[this.pos],Ut|=(Be&15)<<28,F(Ut,Q,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var Q=this.readVarint();return Q%2===1?(Q+1)/-2:Q/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var Q=this.readVarint()+this.pos,Tt=this.pos;return this.pos=Q,Q-Tt>=b&&D?qt(this.buf,Tt,Q):Dt(this.buf,Tt,Q)},readBytes:function(){var Q=this.readVarint()+this.pos,Tt=this.buf.subarray(this.pos,Q);return this.pos=Q,Tt},readPackedVarint:function(Q,Tt){if(this.type!==y.Bytes)return Q.push(this.readVarint(Tt));var Ut=L(this);for(Q=Q||[];this.pos<Ut;)Q.push(this.readVarint(Tt));return Q},readPackedSVarint:function(Q){if(this.type!==y.Bytes)return Q.push(this.readSVarint());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readSVarint());return Q},readPackedBoolean:function(Q){if(this.type!==y.Bytes)return Q.push(this.readBoolean());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readBoolean());return Q},readPackedFloat:function(Q){if(this.type!==y.Bytes)return Q.push(this.readFloat());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readFloat());return Q},readPackedDouble:function(Q){if(this.type!==y.Bytes)return Q.push(this.readDouble());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readDouble());return Q},readPackedFixed32:function(Q){if(this.type!==y.Bytes)return Q.push(this.readFixed32());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readFixed32());return Q},readPackedSFixed32:function(Q){if(this.type!==y.Bytes)return Q.push(this.readSFixed32());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readSFixed32());return Q},readPackedFixed64:function(Q){if(this.type!==y.Bytes)return Q.push(this.readFixed64());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readFixed64());return Q},readPackedSFixed64:function(Q){if(this.type!==y.Bytes)return Q.push(this.readSFixed64());var Tt=L(this);for(Q=Q||[];this.pos<Tt;)Q.push(this.readSFixed64());return Q},skip:function(Q){var Tt=Q&7;if(Tt===y.Varint)for(;this.buf[this.pos++]>127;);else if(Tt===y.Bytes)this.pos=this.readVarint()+this.pos;else if(Tt===y.Fixed32)this.pos+=4;else if(Tt===y.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+Tt)},writeTag:function(Q,Tt){this.writeVarint(Q<<3|Tt)},realloc:function(Q){for(var Tt=this.length||16;Tt<this.pos+Q;)Tt*=2;if(Tt!==this.length){var Ut=new Uint8Array(Tt);Ut.set(this.buf),this.buf=Ut,this.length=Tt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(Q){this.realloc(4),gt(this.buf,Q,this.pos),this.pos+=4},writeSFixed32:function(Q){this.realloc(4),gt(this.buf,Q,this.pos),this.pos+=4},writeFixed64:function(Q){this.realloc(8),gt(this.buf,Q&-1,this.pos),gt(this.buf,Math.floor(Q*O),this.pos+4),this.pos+=8},writeSFixed64:function(Q){this.realloc(8),gt(this.buf,Q&-1,this.pos),gt(this.buf,Math.floor(Q*O),this.pos+4),this.pos+=8},writeVarint:function(Q){if(Q=+Q||0,Q>268435455||Q<0){H(Q,this);return}this.realloc(4),this.buf[this.pos++]=Q&127|(Q>127?128:0),!(Q<=127)&&(this.buf[this.pos++]=(Q>>>=7)&127|(Q>127?128:0),!(Q<=127)&&(this.buf[this.pos++]=(Q>>>=7)&127|(Q>127?128:0),!(Q<=127)&&(this.buf[this.pos++]=Q>>>7&127)))},writeSVarint:function(Q){this.writeVarint(Q<0?-Q*2-1:Q*2)},writeBoolean:function(Q){this.writeVarint(Boolean(Q))},writeString:function(Q){Q=String(Q),this.realloc(Q.length*4),this.pos++;var Tt=this.pos;this.pos=Le(this.buf,Q,this.pos);var Ut=this.pos-Tt;Ut>=128&&q(Tt,Ut,this),this.pos=Tt-1,this.writeVarint(Ut),this.pos+=Ut},writeFloat:function(Q){this.realloc(4),v.write(this.buf,Q,this.pos,!0,23,4),this.pos+=4},writeDouble:function(Q){this.realloc(8),v.write(this.buf,Q,this.pos,!0,52,8),this.pos+=8},writeBytes:function(Q){var Tt=Q.length;this.writeVarint(Tt),this.realloc(Tt);for(var Ut=0;Ut<Tt;Ut++)this.buf[this.pos++]=Q[Ut]},writeRawMessage:function(Q,Tt){this.pos++;var Ut=this.pos;Q(Tt,this);var Be=this.pos-Ut;Be>=128&&q(Ut,Be,this),this.pos=Ut-1,this.writeVarint(Be),this.pos+=Be},writeMessage:function(Q,Tt,Ut){this.writeTag(Q,y.Bytes),this.writeRawMessage(Tt,Ut)},writePackedVarint:function(Q,Tt){Tt.length&&this.writeMessage(Q,tt,Tt)},writePackedSVarint:function(Q,Tt){Tt.length&&this.writeMessage(Q,J,Tt)},writePackedBoolean:function(Q,Tt){Tt.length&&this.writeMessage(Q,I,Tt)},writePackedFloat:function(Q,Tt){Tt.length&&this.writeMessage(Q,_t,Tt)},writePackedDouble:function(Q,Tt){Tt.length&&this.writeMessage(Q,rt,Tt)},writePackedFixed32:function(Q,Tt){Tt.length&&this.writeMessage(Q,Et,Tt)},writePackedSFixed32:function(Q,Tt){Tt.length&&this.writeMessage(Q,bt,Tt)},writePackedFixed64:function(Q,Tt){Tt.length&&this.writeMessage(Q,Nt,Tt)},writePackedSFixed64:function(Q,Tt){Tt.length&&this.writeMessage(Q,ct,Tt)},writeBytesField:function(Q,Tt){this.writeTag(Q,y.Bytes),this.writeBytes(Tt)},writeFixed32Field:function(Q,Tt){this.writeTag(Q,y.Fixed32),this.writeFixed32(Tt)},writeSFixed32Field:function(Q,Tt){this.writeTag(Q,y.Fixed32),this.writeSFixed32(Tt)},writeFixed64Field:function(Q,Tt){this.writeTag(Q,y.Fixed64),this.writeFixed64(Tt)},writeSFixed64Field:function(Q,Tt){this.writeTag(Q,y.Fixed64),this.writeSFixed64(Tt)},writeVarintField:function(Q,Tt){this.writeTag(Q,y.Varint),this.writeVarint(Tt)},writeSVarintField:function(Q,Tt){this.writeTag(Q,y.Varint),this.writeSVarint(Tt)},writeStringField:function(Q,Tt){this.writeTag(Q,y.Bytes),this.writeString(Tt)},writeFloatField:function(Q,Tt){this.writeTag(Q,y.Fixed32),this.writeFloat(Tt)},writeDoubleField:function(Q,Tt){this.writeTag(Q,y.Fixed64),this.writeDouble(Tt)},writeBooleanField:function(Q,Tt){this.writeVarintField(Q,Boolean(Tt))}};function F(Q,Tt,Ut){var Be=Ut.buf,Ye,Me;if(Me=Be[Ut.pos++],Ye=(Me&112)>>4,Me<128||(Me=Be[Ut.pos++],Ye|=(Me&127)<<3,Me<128)||(Me=Be[Ut.pos++],Ye|=(Me&127)<<10,Me<128)||(Me=Be[Ut.pos++],Ye|=(Me&127)<<17,Me<128)||(Me=Be[Ut.pos++],Ye|=(Me&127)<<24,Me<128)||(Me=Be[Ut.pos++],Ye|=(Me&1)<<31,Me<128))return B(Q,Ye,Tt);throw new Error("Expected varint not more than 10 bytes")}function L(Q){return Q.type===y.Bytes?Q.readVarint()+Q.pos:Q.pos+1}function B(Q,Tt,Ut){return Ut?Tt*4294967296+(Q>>>0):(Tt>>>0)*4294967296+(Q>>>0)}function H(Q,Tt){var Ut,Be;if(Q>=0?(Ut=Q%4294967296|0,Be=Q/4294967296|0):(Ut=~(-Q%4294967296),Be=~(-Q/4294967296),Ut^4294967295?Ut=Ut+1|0:(Ut=0,Be=Be+1|0)),Q>=18446744073709552e3||Q<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Tt.realloc(10),W(Ut,Be,Tt),$(Be,Tt)}function W(Q,Tt,Ut){Ut.buf[Ut.pos++]=Q&127|128,Q>>>=7,Ut.buf[Ut.pos++]=Q&127|128,Q>>>=7,Ut.buf[Ut.pos++]=Q&127|128,Q>>>=7,Ut.buf[Ut.pos++]=Q&127|128,Q>>>=7,Ut.buf[Ut.pos]=Q&127}function $(Q,Tt){var Ut=(Q&7)<<4;Tt.buf[Tt.pos++]|=Ut|((Q>>>=3)?128:0),Q&&(Tt.buf[Tt.pos++]=Q&127|((Q>>>=7)?128:0),Q&&(Tt.buf[Tt.pos++]=Q&127|((Q>>>=7)?128:0),Q&&(Tt.buf[Tt.pos++]=Q&127|((Q>>>=7)?128:0),Q&&(Tt.buf[Tt.pos++]=Q&127|((Q>>>=7)?128:0),Q&&(Tt.buf[Tt.pos++]=Q&127)))))}function q(Q,Tt,Ut){var Be=Tt<=16383?1:Tt<=2097151?2:Tt<=268435455?3:Math.floor(Math.log(Tt)/(Math.LN2*7));Ut.realloc(Be);for(var Ye=Ut.pos-1;Ye>=Q;Ye--)Ut.buf[Ye+Be]=Ut.buf[Ye]}function tt(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeVarint(Q[Ut])}function J(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeSVarint(Q[Ut])}function _t(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeFloat(Q[Ut])}function rt(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeDouble(Q[Ut])}function I(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeBoolean(Q[Ut])}function Et(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeFixed32(Q[Ut])}function bt(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeSFixed32(Q[Ut])}function Nt(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeFixed64(Q[Ut])}function ct(Q,Tt){for(var Ut=0;Ut<Q.length;Ut++)Tt.writeSFixed64(Q[Ut])}function jt(Q,Tt){return(Q[Tt]|Q[Tt+1]<<8|Q[Tt+2]<<16)+Q[Tt+3]*16777216}function gt(Q,Tt,Ut){Q[Ut]=Tt,Q[Ut+1]=Tt>>>8,Q[Ut+2]=Tt>>>16,Q[Ut+3]=Tt>>>24}function St(Q,Tt){return(Q[Tt]|Q[Tt+1]<<8|Q[Tt+2]<<16)+(Q[Tt+3]<<24)}function Dt(Q,Tt,Ut){for(var Be="",Ye=Tt;Ye<Ut;){var Me=Q[Ye],ir=null,Sr=Me>239?4:Me>223?3:Me>191?2:1;if(Ye+Sr>Ut)break;var $r,Qt,Te;Sr===1?Me<128&&(ir=Me):Sr===2?($r=Q[Ye+1],($r&192)===128&&(ir=(Me&31)<<6|$r&63,ir<=127&&(ir=null))):Sr===3?($r=Q[Ye+1],Qt=Q[Ye+2],($r&192)===128&&(Qt&192)===128&&(ir=(Me&15)<<12|($r&63)<<6|Qt&63,(ir<=2047||ir>=55296&&ir<=57343)&&(ir=null))):Sr===4&&($r=Q[Ye+1],Qt=Q[Ye+2],Te=Q[Ye+3],($r&192)===128&&(Qt&192)===128&&(Te&192)===128&&(ir=(Me&15)<<18|($r&63)<<12|(Qt&63)<<6|Te&63,(ir<=65535||ir>=1114112)&&(ir=null))),ir===null?(ir=65533,Sr=1):ir>65535&&(ir-=65536,Be+=String.fromCharCode(ir>>>10&1023|55296),ir=56320|ir&1023),Be+=String.fromCharCode(ir),Ye+=Sr}return Be}function qt(Q,Tt,Ut){return D.decode(Q.subarray(Tt,Ut))}function Le(Q,Tt,Ut){for(var Be=0,Ye,Me;Be<Tt.length;Be++){if(Ye=Tt.charCodeAt(Be),Ye>55295&&Ye<57344)if(Me)if(Ye<56320){Q[Ut++]=239,Q[Ut++]=191,Q[Ut++]=189,Me=Ye;continue}else Ye=Me-55296<<10|Ye-56320|65536,Me=null;else{Ye>56319||Be+1===Tt.length?(Q[Ut++]=239,Q[Ut++]=191,Q[Ut++]=189):Me=Ye;continue}else Me&&(Q[Ut++]=239,Q[Ut++]=191,Q[Ut++]=189,Me=null);Ye<128?Q[Ut++]=Ye:(Ye<2048?Q[Ut++]=Ye>>6|192:(Ye<65536?Q[Ut++]=Ye>>12|224:(Q[Ut++]=Ye>>18|240,Q[Ut++]=Ye>>12&63|128),Q[Ut++]=Ye>>6&63|128),Q[Ut++]=Ye&63|128)}return Ut}},"7b0b":function(f,d,u){var v=u("da84"),y=u("1d80"),_=v.Object;f.exports=function(O){return _(y(O))}},"7b4f":function(f,d,u){d.a={PROPERTYCHANGE:"propertychange"}},"7c73":function(f,d,u){var v=u("825a"),y=u("37e8"),_=u("7839"),O=u("d012"),b=u("1be4"),D=u("cc12"),F=u("f772"),L=">",B="<",H="prototype",W="script",$=F("IE_PROTO"),q=function(){},tt=function(Et){return B+W+L+Et+B+"/"+W+L},J=function(Et){Et.write(tt("")),Et.close();var bt=Et.parentWindow.Object;return Et=null,bt},_t=function(){var Et=D("iframe"),bt="java"+W+":",Nt;return Et.style.display="none",b.appendChild(Et),Et.src=String(bt),Nt=Et.contentWindow.document,Nt.open(),Nt.write(tt("document.F=Object")),Nt.close(),Nt.F},rt,I=function(){try{rt=new ActiveXObject("htmlfile")}catch{}I=typeof document!="undefined"?document.domain&&rt?J(rt):_t():J(rt);for(var Et=_.length;Et--;)delete I[H][_[Et]];return I()};O[$]=!0,f.exports=Object.create||function(bt,Nt){var ct;return bt!==null?(q[H]=v(bt),ct=new q,q[H]=null,ct[$]=bt):ct=I(),Nt===void 0?ct:y.f(ct,Nt)}},"7d05":function(f,d,u){},"7dd0":function(f,d,u){var v=u("23e7"),y=u("c65b"),_=u("c430"),O=u("5e77"),b=u("1626"),D=u("9ed3"),F=u("e163"),L=u("d2bb"),B=u("d44e"),H=u("9112"),W=u("6eeb"),$=u("b622"),q=u("3f8c"),tt=u("ae93"),J=O.PROPER,_t=O.CONFIGURABLE,rt=tt.IteratorPrototype,I=tt.BUGGY_SAFARI_ITERATORS,Et=$("iterator"),bt="keys",Nt="values",ct="entries",jt=function(){return this};f.exports=function(gt,St,Dt,qt,Le,Q,Tt){D(Dt,St,qt);var Ut=function(vr){if(vr===Le&&Sr)return Sr;if(!I&&vr in Me)return Me[vr];switch(vr){case bt:return function(){return new Dt(this,vr)};case Nt:return function(){return new Dt(this,vr)};case ct:return function(){return new Dt(this,vr)}}return function(){return new Dt(this)}},Be=St+" Iterator",Ye=!1,Me=gt.prototype,ir=Me[Et]||Me["@@iterator"]||Le&&Me[Le],Sr=!I&&ir||Ut(Le),$r=St=="Array"&&Me.entries||ir,Qt,Te,Ze;if($r&&(Qt=F($r.call(new gt)),Qt!==Object.prototype&&Qt.next&&(!_&&F(Qt)!==rt&&(L?L(Qt,rt):b(Qt[Et])||W(Qt,Et,jt)),B(Qt,Be,!0,!0),_&&(q[Be]=jt))),J&&Le==Nt&&ir&&ir.name!==Nt&&(!_&&_t?H(Me,"name",Nt):(Ye=!0,Sr=function(){return y(ir,this)})),Le)if(Te={values:Ut(Nt),keys:Q?Sr:Ut(bt),entries:Ut(ct)},Tt)for(Ze in Te)(I||Ye||!(Ze in Me))&&W(Me,Ze,Te[Ze]);else v({target:St,proto:!0,forced:I||Ye},Te);return(!_||Tt)&&Me[Et]!==Sr&&W(Me,Et,Sr,{name:Le}),q[St]=Sr,Te}},"7f9a":function(f,d,u){var v=u("da84"),y=u("1626"),_=u("8925"),O=v.WeakMap;f.exports=y(O)&&/native code/.test(_(O))},"7fd1":function(f,d,u){(function(v){u.d(d,"a",function(){return y});function y(){var _='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};';return new Worker(typeof Blob=="undefined"?"data:application/javascript;base64,"+v.from(_,"binary").toString("base64"):URL.createObjectURL(new Blob([_],{type:"application/javascript"})))}}).call(this,u("b639").Buffer)},"825a":function(f,d,u){var v=u("da84"),y=u("861d"),_=v.String,O=v.TypeError;f.exports=function(b){if(y(b))return b;throw O(_(b)+" is not an object")}},"83ab":function(f,d,u){var v=u("d039");f.exports=!v(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"8418":function(f,d,u){var v=u("a04b"),y=u("9bf2"),_=u("5c6c");f.exports=function(O,b,D){var F=v(b);F in O?y.f(O,F,_(0,D)):O[F]=D}},"861d":function(f,d,u){var v=u("1626");f.exports=function(y){return typeof y=="object"?y!==null:v(y)}},"872d":function(f,d,u){},"8875":function(f,d,u){var v,y,_;(function(O,b){y=[],v=b,_=typeof v=="function"?v.apply(d,y):v,_!==void 0&&(f.exports=_)})(typeof self!="undefined"?self:this,function(){function O(){var b=Object.getOwnPropertyDescriptor(document,"currentScript");if(!b&&"currentScript"in document&&document.currentScript||b&&b.get!==O&&document.currentScript)return document.currentScript;try{throw new Error}catch(rt){var D=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,F=/@([^@]*):(\d+):(\d+)\s*$/ig,L=D.exec(rt.stack)||F.exec(rt.stack),B=L&&L[1]||!1,H=L&&L[2]||!1,W=document.location.href.replace(document.location.hash,""),$,q,tt,J=document.getElementsByTagName("script");B===W&&($=document.documentElement.outerHTML,q=new RegExp("(?:[^\\n]+?\\n){0,"+(H-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),tt=$.replace(q,"$1").trim());for(var _t=0;_t<J.length;_t++)if(J[_t].readyState==="interactive"||J[_t].src===B||B===W&&J[_t].innerHTML&&J[_t].innerHTML.trim()===tt)return J[_t];return null}}return O})},"8925":function(f,d,u){var v=u("e330"),y=u("1626"),_=u("c6cd"),O=v(Function.toString);y(_.inspectSource)||(_.inspectSource=function(b){return O(b)}),f.exports=_.inspectSource},"8aa5":function(f,d,u){var v=u("6547").charAt;f.exports=function(y,_,O){return _+(O?v(y,_).length:1)}},"8baf":function(f,d,u){(function(v){u.d(d,"a",function(){return Qt});var y=u("7037"),_=u.n(y),O=u("72ba");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.0 Built on 2021-12-21T09:44:51.866Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var b=function(){return typeof window!="undefined"?window:typeof v!="undefined"?v:typeof self!="undefined"?self:this}();function D(){b.console&&typeof b.console.log=="function"&&b.console.log.apply(b.console,arguments)}var F={log:D,warn:function(T){b.console&&(typeof b.console.warn=="function"?b.console.warn.apply(b.console,arguments):D.call(null,arguments))},error:function(T){b.console&&(typeof b.console.error=="function"?b.console.error.apply(b.console,arguments):D(T))}};function L(T,E,x){var C=new XMLHttpRequest;C.open("GET",T),C.responseType="blob",C.onload=function(){q(C.response,E,x)},C.onerror=function(){F.error("could not download file")},C.send()}function B(T){var E=new XMLHttpRequest;E.open("HEAD",T,!1);try{E.send()}catch{}return E.status>=200&&E.status<=299}function H(T){try{T.dispatchEvent(new MouseEvent("click"))}catch{var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),T.dispatchEvent(E)}}var W,$,q=b.saveAs||((typeof window=="undefined"?"undefined":_()(window))!=="object"||window!==b?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(T,E,x){var C=b.URL||b.webkitURL,j=document.createElement("a");E=E||T.name||"download",j.download=E,j.rel="noopener",typeof T=="string"?(j.href=T,j.origin!==location.origin?B(j.href)?L(T,E,x):H(j,j.target="_blank"):H(j)):(j.href=C.createObjectURL(T),setTimeout(function(){C.revokeObjectURL(j.href)},4e4),setTimeout(function(){H(j)},0))}:"msSaveOrOpenBlob"in navigator?function(T,E,x){if(E=E||T.name||"download",typeof T=="string")if(B(T))L(T,E,x);else{var C=document.createElement("a");C.href=T,C.target="_blank",setTimeout(function(){H(C)})}else navigator.msSaveOrOpenBlob(function(j,A){return A===void 0?A={autoBom:!1}:_()(A)!=="object"&&(F.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(j.type)?new Blob([String.fromCharCode(65279),j],{type:j.type}):j}(T,x),E)}:function(T,E,x,C){if((C=C||open("","_blank"))&&(C.document.title=C.document.body.innerText="downloading..."),typeof T=="string")return L(T,E,x);var j=T.type==="application/octet-stream",A=/constructor/i.test(b.HTMLElement)||b.safari,G=/CriOS\/[\d]+/.test(navigator.userAgent);if((G||j&&A)&&(typeof FileReader=="undefined"?"undefined":_()(FileReader))==="object"){var k=new FileReader;k.onloadend=function(){var vt=k.result;vt=G?vt:vt.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=vt:location=vt,C=null},k.readAsDataURL(T)}else{var Y=b.URL||b.webkitURL,it=Y.createObjectURL(T);C?C.location=it:location.href=it,C=null,setTimeout(function(){Y.revokeObjectURL(it)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tt(T){var E;T=T||"",this.ok=!1,T.charAt(0)=="#"&&(T=T.substr(1,6)),T={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[T=(T=T.replace(/ /g,"")).toLowerCase()]||T;for(var x=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(k){return[parseInt(k[1]),parseInt(k[2]),parseInt(k[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(k){return[parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(k){return[parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16)]}}],C=0;C<x.length;C++){var j=x[C].re,A=x[C].process,G=j.exec(T);G&&(E=A(G),this.r=E[0],this.g=E[1],this.b=E[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var k=this.r.toString(16),Y=this.g.toString(16),it=this.b.toString(16);return k.length==1&&(k="0"+k),Y.length==1&&(Y="0"+Y),it.length==1&&(it="0"+it),"#"+k+Y+it}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function J(T,E){var x=T[0],C=T[1],j=T[2],A=T[3];x=rt(x,C,j,A,E[0],7,-680876936),A=rt(A,x,C,j,E[1],12,-389564586),j=rt(j,A,x,C,E[2],17,606105819),C=rt(C,j,A,x,E[3],22,-1044525330),x=rt(x,C,j,A,E[4],7,-176418897),A=rt(A,x,C,j,E[5],12,1200080426),j=rt(j,A,x,C,E[6],17,-1473231341),C=rt(C,j,A,x,E[7],22,-45705983),x=rt(x,C,j,A,E[8],7,1770035416),A=rt(A,x,C,j,E[9],12,-1958414417),j=rt(j,A,x,C,E[10],17,-42063),C=rt(C,j,A,x,E[11],22,-1990404162),x=rt(x,C,j,A,E[12],7,1804603682),A=rt(A,x,C,j,E[13],12,-40341101),j=rt(j,A,x,C,E[14],17,-1502002290),x=I(x,C=rt(C,j,A,x,E[15],22,1236535329),j,A,E[1],5,-165796510),A=I(A,x,C,j,E[6],9,-1069501632),j=I(j,A,x,C,E[11],14,643717713),C=I(C,j,A,x,E[0],20,-373897302),x=I(x,C,j,A,E[5],5,-701558691),A=I(A,x,C,j,E[10],9,38016083),j=I(j,A,x,C,E[15],14,-660478335),C=I(C,j,A,x,E[4],20,-405537848),x=I(x,C,j,A,E[9],5,568446438),A=I(A,x,C,j,E[14],9,-1019803690),j=I(j,A,x,C,E[3],14,-187363961),C=I(C,j,A,x,E[8],20,1163531501),x=I(x,C,j,A,E[13],5,-1444681467),A=I(A,x,C,j,E[2],9,-51403784),j=I(j,A,x,C,E[7],14,1735328473),x=Et(x,C=I(C,j,A,x,E[12],20,-1926607734),j,A,E[5],4,-378558),A=Et(A,x,C,j,E[8],11,-2022574463),j=Et(j,A,x,C,E[11],16,1839030562),C=Et(C,j,A,x,E[14],23,-35309556),x=Et(x,C,j,A,E[1],4,-1530992060),A=Et(A,x,C,j,E[4],11,1272893353),j=Et(j,A,x,C,E[7],16,-155497632),C=Et(C,j,A,x,E[10],23,-1094730640),x=Et(x,C,j,A,E[13],4,681279174),A=Et(A,x,C,j,E[0],11,-358537222),j=Et(j,A,x,C,E[3],16,-722521979),C=Et(C,j,A,x,E[6],23,76029189),x=Et(x,C,j,A,E[9],4,-640364487),A=Et(A,x,C,j,E[12],11,-421815835),j=Et(j,A,x,C,E[15],16,530742520),x=bt(x,C=Et(C,j,A,x,E[2],23,-995338651),j,A,E[0],6,-198630844),A=bt(A,x,C,j,E[7],10,1126891415),j=bt(j,A,x,C,E[14],15,-1416354905),C=bt(C,j,A,x,E[5],21,-57434055),x=bt(x,C,j,A,E[12],6,1700485571),A=bt(A,x,C,j,E[3],10,-1894986606),j=bt(j,A,x,C,E[10],15,-1051523),C=bt(C,j,A,x,E[1],21,-2054922799),x=bt(x,C,j,A,E[8],6,1873313359),A=bt(A,x,C,j,E[15],10,-30611744),j=bt(j,A,x,C,E[6],15,-1560198380),C=bt(C,j,A,x,E[13],21,1309151649),x=bt(x,C,j,A,E[4],6,-145523070),A=bt(A,x,C,j,E[11],10,-1120210379),j=bt(j,A,x,C,E[2],15,718787259),C=bt(C,j,A,x,E[9],21,-343485551),T[0]=Le(x,T[0]),T[1]=Le(C,T[1]),T[2]=Le(j,T[2]),T[3]=Le(A,T[3])}function _t(T,E,x,C,j,A){return E=Le(Le(E,T),Le(C,A)),Le(E<<j|E>>>32-j,x)}function rt(T,E,x,C,j,A,G){return _t(E&x|~E&C,T,E,j,A,G)}function I(T,E,x,C,j,A,G){return _t(E&C|x&~C,T,E,j,A,G)}function Et(T,E,x,C,j,A,G){return _t(E^x^C,T,E,j,A,G)}function bt(T,E,x,C,j,A,G){return _t(x^(E|~C),T,E,j,A,G)}function Nt(T){var E,x=T.length,C=[1732584193,-271733879,-1732584194,271733878];for(E=64;E<=T.length;E+=64)J(C,ct(T.substring(E-64,E)));T=T.substring(E-64);var j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(E=0;E<T.length;E++)j[E>>2]|=T.charCodeAt(E)<<(E%4<<3);if(j[E>>2]|=128<<(E%4<<3),E>55)for(J(C,j),E=0;E<16;E++)j[E]=0;return j[14]=8*x,J(C,j),C}function ct(T){var E,x=[];for(E=0;E<64;E+=4)x[E>>2]=T.charCodeAt(E)+(T.charCodeAt(E+1)<<8)+(T.charCodeAt(E+2)<<16)+(T.charCodeAt(E+3)<<24);return x}W=b.atob.bind(b),$=b.btoa.bind(b);var jt="0123456789abcdef".split("");function gt(T){for(var E="",x=0;x<4;x++)E+=jt[T>>8*x+4&15]+jt[T>>8*x&15];return E}function St(T){return String.fromCharCode((255&T)>>0,(65280&T)>>8,(16711680&T)>>16,(4278190080&T)>>24)}function Dt(T){return Nt(T).map(St).join("")}var qt=function(T){for(var E=0;E<T.length;E++)T[E]=gt(T[E]);return T.join("")}(Nt("hello"))!="5d41402abc4b2a76b9719d911017c592";function Le(T,E){if(qt){var x=(65535&T)+(65535&E);return(T>>16)+(E>>16)+(x>>16)<<16|65535&x}return T+E&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Q(T,E){var x,C,j,A;if(T!==x){for(var G=(j=T,A=1+(256/T.length>>0),new Array(A+1).join(j)),k=[],Y=0;Y<256;Y++)k[Y]=Y;var it=0;for(Y=0;Y<256;Y++){var vt=k[Y];it=(it+vt+G.charCodeAt(Y))%256,k[Y]=k[it],k[it]=vt}x=T,C=k}else k=C;var mt=E.length,Ot=0,K=0,zt="";for(Y=0;Y<mt;Y++)K=(K+(vt=k[Ot=(Ot+1)%256]))%256,k[Ot]=k[K],k[K]=vt,G=k[(k[Ot]+k[K])%256],zt+=String.fromCharCode(E.charCodeAt(Y)^G);return zt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Tt={print:4,modify:8,copy:16,"annot-forms":32};function Ut(T,E,x,C){this.v=1,this.r=2;var j=192;T.forEach(function(k){if(Tt.perm!==void 0)throw new Error("Invalid permission: "+k);j+=Tt[k]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var A=(E+this.padding).substr(0,32),G=(x+this.padding).substr(0,32);this.O=this.processOwnerPassword(A,G),this.P=-(1+(255^j)),this.encryptionKey=Dt(A+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(C)).substr(0,5),this.U=Q(this.encryptionKey,this.padding)}function Be(T){if(/[^\u0000-\u00ff]/.test(T))throw new Error("Invalid PDF Name Object: "+T+", Only accept ASCII characters.");for(var E="",x=T.length,C=0;C<x;C++){var j=T.charCodeAt(C);j<33||j===35||j===37||j===40||j===41||j===47||j===60||j===62||j===91||j===93||j===123||j===125||j>126?E+="#"+("0"+j.toString(16)).slice(-2):E+=T[C]}return E}function Ye(T){if(_()(T)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var E={};this.subscribe=function(x,C,j){if(j=j||!1,typeof x!="string"||typeof C!="function"||typeof j!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");E.hasOwnProperty(x)||(E[x]={});var A=Math.random().toString(35);return E[x][A]=[C,!!j],A},this.unsubscribe=function(x){for(var C in E)if(E[C][x])return delete E[C][x],Object.keys(E[C]).length===0&&delete E[C],!0;return!1},this.publish=function(x){if(E.hasOwnProperty(x)){var C=Array.prototype.slice.call(arguments,1),j=[];for(var A in E[x]){var G=E[x][A];try{G[0].apply(T,C)}catch(k){b.console&&F.error("jsPDF PubSub Error",k.message,k)}G[1]&&j.push(A)}j.length&&j.forEach(this.unsubscribe)}},this.getTopics=function(){return E}}function Me(T){if(!(this instanceof Me))return new Me(T);var E="opacity,stroke-opacity".split(",");for(var x in T)T.hasOwnProperty(x)&&E.indexOf(x)>=0&&(this[x]=T[x]);this.id="",this.objectNumber=-1}function ir(T,E){this.gState=T,this.matrix=E,this.id="",this.objectNumber=-1}function Sr(T,E,x,C,j){if(!(this instanceof Sr))return new Sr(T,E,x,C,j);this.type=T==="axial"?2:3,this.coords=E,this.colors=x,ir.call(this,C,j)}function $r(T,E,x,C,j){if(!(this instanceof $r))return new $r(T,E,x,C,j);this.boundingBox=T,this.xStep=E,this.yStep=x,this.stream="",this.cloneIndex=0,ir.call(this,C,j)}function Qt(T){var E,x=typeof arguments[0]=="string"?arguments[0]:"p",C=arguments[1],j=arguments[2],A=arguments[3],G=[],k=1,Y=16,it="S",vt=null;_()(T=T||{})==="object"&&(x=T.orientation,C=T.unit||C,j=T.format||j,A=T.compress||T.compressPdf||A,(vt=T.encryption||null)!==null&&(vt.userPassword=vt.userPassword||"",vt.ownerPassword=vt.ownerPassword||"",vt.userPermissions=vt.userPermissions||[]),k=typeof T.userUnit=="number"?Math.abs(T.userUnit):1,T.precision!==void 0&&(E=T.precision),T.floatPrecision!==void 0&&(Y=T.floatPrecision),it=T.defaultPathOperation||"S"),G=T.filters||(A===!0?["FlateEncode"]:G),C=C||"mm",x=(""+(x||"P")).toLowerCase();var mt=T.putOnlyUsedFonts||!1,Ot={},K={internal:{},__private__:{}};K.__private__.PubSub=Ye;var zt="1.3",Mt=K.__private__.getPdfVersion=function(){return zt};K.__private__.setPdfVersion=function(P){zt=P};var te={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};K.__private__.getPageFormats=function(){return te};var wt=K.__private__.getPageFormat=function(P){return te[P]};j=j||"a4";var Yt={COMPAT:"compat",ADVANCED:"advanced"},xe=Yt.COMPAT;function ze(){this.saveGraphicsState(),Gt(new un(Dr,0,0,-Dr,0,kl()*Dr).toString()+" cm"),this.setFontSize(this.getFontSize()/Dr),it="n",xe=Yt.ADVANCED}function tr(){this.restoreGraphicsState(),it="S",xe=Yt.COMPAT}var xr=K.__private__.combineFontStyleAndFontWeight=function(P,ot){if(P=="bold"&&ot=="normal"||P=="bold"&&ot==400||P=="normal"&&ot=="italic"||P=="bold"&&ot=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ot&&(P=ot==400||ot==="normal"?P==="italic"?"italic":"normal":ot!=700&&ot!=="bold"||P!=="normal"?(ot==700?"bold":ot)+""+P:"bold"),P};K.advancedAPI=function(P){var ot=xe===Yt.COMPAT;return ot&&ze.call(this),typeof P!="function"||(P(this),ot&&tr.call(this)),this},K.compatAPI=function(P){var ot=xe===Yt.ADVANCED;return ot&&tr.call(this),typeof P!="function"||(P(this),ot&&ze.call(this)),this},K.isAdvancedAPI=function(){return xe===Yt.ADVANCED};var Ue,pe=function(P){if(xe!==Yt.ADVANCED)throw new Error(P+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},lr=K.roundToPrecision=K.__private__.roundToPrecision=function(P,ot){var It=E||ot;if(isNaN(P)||isNaN(It))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return P.toFixed(It).replace(/0+$/,"")};Ue=K.hpf=K.__private__.hpf=typeof Y=="number"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return lr(P,Y)}:Y==="smart"?function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return lr(P,P>-1&&P<1?16:5)}:function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.hpf");return lr(P,16)};var er=K.f2=K.__private__.f2=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f2");return lr(P,2)},Rt=K.__private__.f3=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.f3");return lr(P,3)},Pt=K.scale=K.__private__.scale=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.scale");return xe===Yt.COMPAT?P*Dr:xe===Yt.ADVANCED?P:void 0},ue=function(P){return xe===Yt.COMPAT?kl()-P:xe===Yt.ADVANCED?P:void 0},oe=function(P){return Pt(ue(P))};K.__private__.setPrecision=K.setPrecision=function(P){typeof parseInt(P,10)=="number"&&(E=parseInt(P,10))};var $e,Xe="00000000000000000000000000000000",or=K.__private__.getFileId=function(){return Xe},Re=K.__private__.setFileId=function(P){return Xe=P!==void 0&&/^[a-fA-F0-9]{32}$/.test(P)?P.toUpperCase():Xe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),vt!==null&&(Ki=new Ut(vt.userPermissions,vt.userPassword,vt.ownerPassword,Xe)),Xe};K.setFileId=function(P){return Re(P),this},K.getFileId=function(){return or()};var je=K.__private__.convertDateToPDFDate=function(P){var ot=P.getTimezoneOffset(),It=ot<0?"+":"-",re=Math.floor(Math.abs(ot/60)),me=Math.abs(ot%60),ke=[It,Kt(re),"'",Kt(me),"'"].join("");return["D:",P.getFullYear(),Kt(P.getMonth()+1),Kt(P.getDate()),Kt(P.getHours()),Kt(P.getMinutes()),Kt(P.getSeconds()),ke].join("")},Je=K.__private__.convertPDFDateToDate=function(P){var ot=parseInt(P.substr(2,4),10),It=parseInt(P.substr(6,2),10)-1,re=parseInt(P.substr(8,2),10),me=parseInt(P.substr(10,2),10),ke=parseInt(P.substr(12,2),10),cr=parseInt(P.substr(14,2),10);return new Date(ot,It,re,me,ke,cr,0)},Kr=K.__private__.setCreationDate=function(P){var ot;if(P===void 0&&(P=new Date),P instanceof Date)ot=je(P);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(P))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ot=P}return $e=ot},ft=K.__private__.getCreationDate=function(P){var ot=$e;return P==="jsDate"&&(ot=Je($e)),ot};K.setCreationDate=function(P){return Kr(P),this},K.getCreationDate=function(P){return ft(P)};var Ft,Kt=K.__private__.padd2=function(P){return("0"+parseInt(P)).slice(-2)},fe=K.__private__.padd2Hex=function(P){return("00"+(P=P.toString())).substr(P.length)},ve=0,be=[],Pe=[],Ie=0,mr=[],yr=[],Mr=!1,Wr=Pe,mn=function(){ve=0,Ie=0,Pe=[],be=[],mr=[],Fl=Lr(),Ns=Lr()};K.__private__.setCustomOutputDestination=function(P){Mr=!0,Wr=P};var We=function(P){Mr||(Wr=P)};K.__private__.resetCustomOutputDestination=function(){Mr=!1,Wr=Pe};var Gt=K.__private__.out=function(P){return P=P.toString(),Ie+=P.length+1,Wr.push(P),Wr},Un=K.__private__.write=function(P){return Gt(arguments.length===1?P.toString():Array.prototype.join.call(arguments," "))},tn=K.__private__.getArrayBuffer=function(P){for(var ot=P.length,It=new ArrayBuffer(ot),re=new Uint8Array(It);ot--;)re[ot]=P.charCodeAt(ot);return It},dr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];K.__private__.getStandardFonts=function(){return dr};var wr=T.fontSize||16;K.__private__.setFontSize=K.setFontSize=function(P){return wr=xe===Yt.ADVANCED?P/Dr:P,this};var kr,jr=K.__private__.getFontSize=K.getFontSize=function(){return xe===Yt.COMPAT?wr:wr*Dr},ln=T.R2L||!1;K.__private__.setR2L=K.setR2L=function(P){return ln=P,this},K.__private__.getR2L=K.getR2L=function(){return ln};var Mn,Yn=K.__private__.setZoomMode=function(P){var ot=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*%$/.test(P))kr=P;else if(isNaN(P)){if(ot.indexOf(P)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+P+'" is not recognized.');kr=P}else kr=parseInt(P,10)};K.__private__.getZoomMode=function(){return kr};var Jn,fi=K.__private__.setPageMode=function(P){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(P)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+P+'" is not recognized.');Mn=P};K.__private__.getPageMode=function(){return Mn};var En=K.__private__.setLayoutMode=function(P){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(P)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+P+'" is not recognized.');Jn=P};K.__private__.getLayoutMode=function(){return Jn},K.__private__.setDisplayMode=K.setDisplayMode=function(P,ot,It){return Yn(P),En(ot),fi(It),this};var wn={title:"",subject:"",author:"",keywords:"",creator:""};K.__private__.getDocumentProperty=function(P){if(Object.keys(wn).indexOf(P)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wn[P]},K.__private__.getDocumentProperties=function(){return wn},K.__private__.setDocumentProperties=K.setProperties=K.setDocumentProperties=function(P){for(var ot in wn)wn.hasOwnProperty(ot)&&P[ot]&&(wn[ot]=P[ot]);return this},K.__private__.setDocumentProperty=function(P,ot){if(Object.keys(wn).indexOf(P)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wn[P]=ot};var Qn,Dr,sa,hn,cs,hi={},Yi={},ll=[],di={},Zu={},so={},Aa={},Nl=null,lo=0,dn=[],Yr=new Ye(K),la=T.hotfixes||[],Qo={},ul={},cl=[],un=function P(ot,It,re,me,ke,cr){if(!(this instanceof P))return new P(ot,It,re,me,ke,cr);isNaN(ot)&&(ot=1),isNaN(It)&&(It=0),isNaN(re)&&(re=0),isNaN(me)&&(me=1),isNaN(ke)&&(ke=0),isNaN(cr)&&(cr=0),this._matrix=[ot,It,re,me,ke,cr]};Object.defineProperty(un.prototype,"sx",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(un.prototype,"shy",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(un.prototype,"shx",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(un.prototype,"sy",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(un.prototype,"tx",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(un.prototype,"ty",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(un.prototype,"a",{get:function(){return this._matrix[0]},set:function(P){this._matrix[0]=P}}),Object.defineProperty(un.prototype,"b",{get:function(){return this._matrix[1]},set:function(P){this._matrix[1]=P}}),Object.defineProperty(un.prototype,"c",{get:function(){return this._matrix[2]},set:function(P){this._matrix[2]=P}}),Object.defineProperty(un.prototype,"d",{get:function(){return this._matrix[3]},set:function(P){this._matrix[3]=P}}),Object.defineProperty(un.prototype,"e",{get:function(){return this._matrix[4]},set:function(P){this._matrix[4]=P}}),Object.defineProperty(un.prototype,"f",{get:function(){return this._matrix[5]},set:function(P){this._matrix[5]=P}}),Object.defineProperty(un.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(un.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(un.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(un.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),un.prototype.join=function(P){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ue).join(P)},un.prototype.multiply=function(P){var ot=P.sx*this.sx+P.shy*this.shx,It=P.sx*this.shy+P.shy*this.sy,re=P.shx*this.sx+P.sy*this.shx,me=P.shx*this.shy+P.sy*this.sy,ke=P.tx*this.sx+P.ty*this.shx+this.tx,cr=P.tx*this.shy+P.ty*this.sy+this.ty;return new un(ot,It,re,me,ke,cr)},un.prototype.decompose=function(){var P=this.sx,ot=this.shy,It=this.shx,re=this.sy,me=this.tx,ke=this.ty,cr=Math.sqrt(P*P+ot*ot),Nr=(P/=cr)*It+(ot/=cr)*re;It-=P*Nr,re-=ot*Nr;var cn=Math.sqrt(It*It+re*re);return Nr/=cn,P*(re/=cn)<ot*(It/=cn)&&(P=-P,ot=-ot,Nr=-Nr,cr=-cr),{scale:new un(cr,0,0,cn,0,0),translate:new un(1,0,0,1,me,ke),rotate:new un(P,ot,-ot,P,0,0),skew:new un(1,0,Nr,1,0,0)}},un.prototype.toString=function(P){return this.join(" ")},un.prototype.inversed=function(){var P=this.sx,ot=this.shy,It=this.shx,re=this.sy,me=this.tx,ke=this.ty,cr=1/(P*re-ot*It),Nr=re*cr,cn=-ot*cr,Hn=-It*cr,Nn=P*cr;return new un(Nr,cn,Hn,Nn,-Nr*me-Hn*ke,-cn*me-Nn*ke)},un.prototype.applyToPoint=function(P){var ot=P.x*this.sx+P.y*this.shx+this.tx,It=P.x*this.shy+P.y*this.sy+this.ty;return new kc(ot,It)},un.prototype.applyToRectangle=function(P){var ot=this.applyToPoint(P),It=this.applyToPoint(new kc(P.x+P.w,P.y+P.h));return new Su(ot.x,ot.y,It.x-ot.x,It.y-ot.y)},un.prototype.clone=function(){var P=this.sx,ot=this.shy,It=this.shx,re=this.sy,me=this.tx,ke=this.ty;return new un(P,ot,It,re,me,ke)},K.Matrix=un;var wi=K.matrixMult=function(P,ot){return ot.multiply(P)},Xa=new un(1,0,0,1,0,0);K.unitMatrix=K.identityMatrix=Xa;var La=function(P,ot){if(!Zu[P]){var It=(ot instanceof Sr?"Sh":"P")+(Object.keys(di).length+1).toString(10);ot.id=It,Zu[P]=It,di[It]=ot,Yr.publish("addPattern",ot)}};K.ShadingPattern=Sr,K.TilingPattern=$r,K.addShadingPattern=function(P,ot){return pe("addShadingPattern()"),La(P,ot),this},K.beginTilingPattern=function(P){pe("beginTilingPattern()"),yd(P.boundingBox[0],P.boundingBox[1],P.boundingBox[2]-P.boundingBox[0],P.boundingBox[3]-P.boundingBox[1],P.matrix)},K.endTilingPattern=function(P,ot){pe("endTilingPattern()"),ot.stream=yr[Ft].join(`
`),La(P,ot),Yr.publish("endTilingPattern",ot),cl.pop().restore()};var Uo=K.__private__.newObject=function(){var P=Lr();return Ka(P,!0),P},Lr=K.__private__.newObjectDeferred=function(){return ve++,be[ve]=function(){return Ie},ve},Ka=function(P,ot){return ot=typeof ot=="boolean"&&ot,be[P]=Ie,ot&&Gt(P+" 0 obj"),P},Cc=K.__private__.newAdditionalObject=function(){var P={objId:Lr(),content:""};return mr.push(P),P},Fl=Lr(),Ns=Lr(),$t=K.__private__.decodeColorString=function(P){var ot=P.split(" ");if(ot.length!==2||ot[1]!=="g"&&ot[1]!=="G")ot.length===5&&(ot[4]==="k"||ot[4]==="K")&&(ot=[(1-ot[0])*(1-ot[3]),(1-ot[1])*(1-ot[3]),(1-ot[2])*(1-ot[3]),"r"]);else{var It=parseFloat(ot[0]);ot=[It,It,It,"r"]}for(var re="#",me=0;me<3;me++)re+=("0"+Math.floor(255*parseFloat(ot[me])).toString(16)).slice(-2);return re},ua=K.__private__.encodeColorString=function(P){var ot;typeof P=="string"&&(P={ch1:P});var It=P.ch1,re=P.ch2,me=P.ch3,ke=P.ch4,cr=P.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof It=="string"&&It.charAt(0)!=="#"){var Nr=new tt(It);if(Nr.ok)It=Nr.toHex();else if(!/^\d*\.?\d*$/.test(It))throw new Error('Invalid color "'+It+'" passed to jsPDF.encodeColorString.')}if(typeof It=="string"&&/^#[0-9A-Fa-f]{3}$/.test(It)&&(It="#"+It[1]+It[1]+It[2]+It[2]+It[3]+It[3]),typeof It=="string"&&/^#[0-9A-Fa-f]{6}$/.test(It)){var cn=parseInt(It.substr(1),16);It=cn>>16&255,re=cn>>8&255,me=255&cn}if(re===void 0||ke===void 0&&It===re&&re===me)if(typeof It=="string")ot=It+" "+cr[0];else switch(P.precision){case 2:ot=er(It/255)+" "+cr[0];break;case 3:default:ot=Rt(It/255)+" "+cr[0]}else if(ke===void 0||_()(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return ot=["1.","1.","1.",cr[1]].join(" ");if(typeof It=="string")ot=[It,re,me,cr[1]].join(" ");else switch(P.precision){case 2:ot=[er(It/255),er(re/255),er(me/255),cr[1]].join(" ");break;default:case 3:ot=[Rt(It/255),Rt(re/255),Rt(me/255),cr[1]].join(" ")}}else if(typeof It=="string")ot=[It,re,me,ke,cr[2]].join(" ");else switch(P.precision){case 2:ot=[er(It),er(re),er(me),er(ke),cr[2]].join(" ");break;case 3:default:ot=[Rt(It),Rt(re),Rt(me),Rt(ke),cr[2]].join(" ")}return ot},To=K.__private__.getFilters=function(){return G},Hi=K.__private__.putStream=function(P){var ot=(P=P||{}).data||"",It=P.filters||To(),re=P.alreadyAppliedFilters||[],me=P.addLength1||!1,ke=ot.length,cr=P.objectId,Nr=function(Qi){return Qi};if(vt!==null&&cr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");vt!==null&&(Nr=Ki.encryptor(cr,0));var cn={};It===!0&&(It=["FlateEncode"]);var Hn=P.additionalKeyValues||[],Nn=(cn=Qt.API.processDataByFilters!==void 0?Qt.API.processDataByFilters(ot,It):{data:ot,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(cn.data.length!==0&&(Hn.push({key:"Length",value:cn.data.length}),me===!0&&Hn.push({key:"Length1",value:ke})),Nn.length!=0)if(Nn.split("/").length-1==1)Hn.push({key:"Filter",value:Nn});else{Hn.push({key:"Filter",value:"["+Nn+"]"});for(var $n=0;$n<Hn.length;$n+=1)if(Hn[$n].key==="DecodeParms"){for(var ta=[],co=0;co<cn.reverseChain.split("/").length-1;co+=1)ta.push("null");ta.push(Hn[$n].value),Hn[$n].value="["+ta.join(" ")+"]"}}Gt("<<");for(var bo=0;bo<Hn.length;bo++)Gt("/"+Hn[bo].key+" "+Hn[bo].value);Gt(">>"),cn.data.length!==0&&(Gt("stream"),Gt(Nr(cn.data)),Gt("endstream"))},si=K.__private__.putPage=function(P){var ot=P.number,It=P.data,re=P.objId,me=P.contentsObjId;Ka(re,!0),Gt("<</Type /Page"),Gt("/Parent "+P.rootDictionaryObjId+" 0 R"),Gt("/Resources "+P.resourceDictionaryObjId+" 0 R"),Gt("/MediaBox ["+parseFloat(Ue(P.mediaBox.bottomLeftX))+" "+parseFloat(Ue(P.mediaBox.bottomLeftY))+" "+Ue(P.mediaBox.topRightX)+" "+Ue(P.mediaBox.topRightY)+"]"),P.cropBox!==null&&Gt("/CropBox ["+Ue(P.cropBox.bottomLeftX)+" "+Ue(P.cropBox.bottomLeftY)+" "+Ue(P.cropBox.topRightX)+" "+Ue(P.cropBox.topRightY)+"]"),P.bleedBox!==null&&Gt("/BleedBox ["+Ue(P.bleedBox.bottomLeftX)+" "+Ue(P.bleedBox.bottomLeftY)+" "+Ue(P.bleedBox.topRightX)+" "+Ue(P.bleedBox.topRightY)+"]"),P.trimBox!==null&&Gt("/TrimBox ["+Ue(P.trimBox.bottomLeftX)+" "+Ue(P.trimBox.bottomLeftY)+" "+Ue(P.trimBox.topRightX)+" "+Ue(P.trimBox.topRightY)+"]"),P.artBox!==null&&Gt("/ArtBox ["+Ue(P.artBox.bottomLeftX)+" "+Ue(P.artBox.bottomLeftY)+" "+Ue(P.artBox.topRightX)+" "+Ue(P.artBox.topRightY)+"]"),typeof P.userUnit=="number"&&P.userUnit!==1&&Gt("/UserUnit "+P.userUnit),Yr.publish("putPage",{objId:re,pageContext:dn[ot],pageNumber:ot,page:It}),Gt("/Contents "+me+" 0 R"),Gt(">>"),Gt("endobj");var ke=It.join(`
`);return xe===Yt.ADVANCED&&(ke+=`
Q`),Ka(me,!0),Hi({data:ke,filters:To(),objectId:me}),Gt("endobj"),re},ko=K.__private__.putPages=function(){var P,ot,It=[];for(P=1;P<=lo;P++)dn[P].objId=Lr(),dn[P].contentsObjId=Lr();for(P=1;P<=lo;P++)It.push(si({number:P,data:yr[P],objId:dn[P].objId,contentsObjId:dn[P].contentsObjId,mediaBox:dn[P].mediaBox,cropBox:dn[P].cropBox,bleedBox:dn[P].bleedBox,trimBox:dn[P].trimBox,artBox:dn[P].artBox,userUnit:dn[P].userUnit,rootDictionaryObjId:Fl,resourceDictionaryObjId:Ns}));Ka(Fl,!0),Gt("<</Type /Pages");var re="/Kids [";for(ot=0;ot<lo;ot++)re+=It[ot]+" 0 R ";Gt(re+"]"),Gt("/Count "+lo),Gt(">>"),Gt("endobj"),Yr.publish("postPutPages")},Ac=function(P){Yr.publish("putFont",{font:P,out:Gt,newObject:Uo,putStream:Hi}),P.isAlreadyPutted!==!0&&(P.objectNumber=Uo(),Gt("<<"),Gt("/Type /Font"),Gt("/BaseFont /"+Be(P.postScriptName)),Gt("/Subtype /Type1"),typeof P.encoding=="string"&&Gt("/Encoding /"+P.encoding),Gt("/FirstChar 32"),Gt("/LastChar 255"),Gt(">>"),Gt("endobj"))},yu=function(){for(var P in hi)hi.hasOwnProperty(P)&&(mt===!1||mt===!0&&Ot.hasOwnProperty(P))&&Ac(hi[P])},Lc=function(P){P.objectNumber=Uo();var ot=[];ot.push({key:"Type",value:"/XObject"}),ot.push({key:"Subtype",value:"/Form"}),ot.push({key:"BBox",value:"["+[Ue(P.x),Ue(P.y),Ue(P.x+P.width),Ue(P.y+P.height)].join(" ")+"]"}),ot.push({key:"Matrix",value:"["+P.matrix.toString()+"]"});var It=P.pages[1].join(`
`);Hi({data:It,additionalKeyValues:ot,objectId:P.objectNumber}),Gt("endobj")},Ra=function(){for(var P in Qo)Qo.hasOwnProperty(P)&&Lc(Qo[P])},sd=function(P,ot){var It,re=[],me=1/(ot-1);for(It=0;It<1;It+=me)re.push(It);if(re.push(1),P[0].offset!=0){var ke={offset:0,color:P[0].color};P.unshift(ke)}if(P[P.length-1].offset!=1){var cr={offset:1,color:P[P.length-1].color};P.push(cr)}for(var Nr="",cn=0,Hn=0;Hn<re.length;Hn++){for(It=re[Hn];It>P[cn+1].offset;)cn++;var Nn=P[cn].offset,$n=(It-Nn)/(P[cn+1].offset-Nn),ta=P[cn].color,co=P[cn+1].color;Nr+=fe(Math.round((1-$n)*ta[0]+$n*co[0]).toString(16))+fe(Math.round((1-$n)*ta[1]+$n*co[1]).toString(16))+fe(Math.round((1-$n)*ta[2]+$n*co[2]).toString(16))}return Nr.trim()},qu=function(P,ot){ot||(ot=21);var It=Uo(),re=sd(P.colors,ot),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+ot+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hi({data:re,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:It}),Gt("endobj"),P.objectNumber=Uo(),Gt("<< /ShadingType "+P.type),Gt("/ColorSpace /DeviceRGB");var ke="/Coords ["+Ue(parseFloat(P.coords[0]))+" "+Ue(parseFloat(P.coords[1]))+" ";P.type===2?ke+=Ue(parseFloat(P.coords[2]))+" "+Ue(parseFloat(P.coords[3])):ke+=Ue(parseFloat(P.coords[2]))+" "+Ue(parseFloat(P.coords[3]))+" "+Ue(parseFloat(P.coords[4]))+" "+Ue(parseFloat(P.coords[5])),Gt(ke+="]"),P.matrix&&Gt("/Matrix ["+P.matrix.toString()+"]"),Gt("/Function "+It+" 0 R"),Gt("/Extend [true true]"),Gt(">>"),Gt("endobj")},mu=function(P,ot){var It=Lr(),re=Uo();ot.push({resourcesOid:It,objectOid:re}),P.objectNumber=re;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+P.boundingBox.map(Ue).join(" ")+"]"}),me.push({key:"XStep",value:Ue(P.xStep)}),me.push({key:"YStep",value:Ue(P.yStep)}),me.push({key:"Resources",value:It+" 0 R"}),P.matrix&&me.push({key:"Matrix",value:"["+P.matrix.toString()+"]"}),Hi({data:P.stream,additionalKeyValues:me,objectId:P.objectNumber}),Gt("endobj")},Rc=function(P){var ot;for(ot in di)di.hasOwnProperty(ot)&&(di[ot]instanceof Sr?qu(di[ot]):di[ot]instanceof $r&&mu(di[ot],P))},ld=function(P){for(var ot in P.objectNumber=Uo(),Gt("<<"),P)switch(ot){case"opacity":Gt("/ca "+er(P[ot]));break;case"stroke-opacity":Gt("/CA "+er(P[ot]))}Gt(">>"),Gt("endobj")},Pc=function(){var P;for(P in so)so.hasOwnProperty(P)&&ld(so[P])},fl=function(){for(var P in Gt("/XObject <<"),Qo)Qo.hasOwnProperty(P)&&Qo[P].objectNumber>=0&&Gt("/"+P+" "+Qo[P].objectNumber+" 0 R");Yr.publish("putXobjectDict"),Gt(">>")},ud=function(){Ki.oid=Uo(),Gt("<<"),Gt("/Filter /Standard"),Gt("/V "+Ki.v),Gt("/R "+Ki.r),Gt("/U <"+Ki.toHexString(Ki.U)+">"),Gt("/O <"+Ki.toHexString(Ki.O)+">"),Gt("/P "+Ki.P),Gt(">>"),Gt("endobj")},cd=function(){for(var P in Gt("/Font <<"),hi)hi.hasOwnProperty(P)&&(mt===!1||mt===!0&&Ot.hasOwnProperty(P))&&Gt("/"+P+" "+hi[P].objectNumber+" 0 R");Gt(">>")},nv=function(){if(Object.keys(di).length>0){for(var P in Gt("/Shading <<"),di)di.hasOwnProperty(P)&&di[P]instanceof Sr&&di[P].objectNumber>=0&&Gt("/"+P+" "+di[P].objectNumber+" 0 R");Yr.publish("putShadingPatternDict"),Gt(">>")}},Ic=function(P){if(Object.keys(di).length>0){for(var ot in Gt("/Pattern <<"),di)di.hasOwnProperty(ot)&&di[ot]instanceof K.TilingPattern&&di[ot].objectNumber>=0&&di[ot].objectNumber<P&&Gt("/"+ot+" "+di[ot].objectNumber+" 0 R");Yr.publish("putTilingPatternDict"),Gt(">>")}},iv=function(){if(Object.keys(so).length>0){var P;for(P in Gt("/ExtGState <<"),so)so.hasOwnProperty(P)&&so[P].objectNumber>=0&&Gt("/"+P+" "+so[P].objectNumber+" 0 R");Yr.publish("putGStateDict"),Gt(">>")}},uo=function(P){Ka(P.resourcesOid,!0),Gt("<<"),Gt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cd(),nv(),Ic(P.objectOid),iv(),fl(),Gt(">>"),Gt("endobj")},fd=function(){var P=[];yu(),Pc(),Ra(),Rc(P),Yr.publish("putResources"),P.forEach(uo),uo({resourcesOid:Ns,objectOid:Number.MAX_SAFE_INTEGER}),Yr.publish("postPutResources")},hl=function(){Yr.publish("putAdditionalObjects");for(var P=0;P<mr.length;P++){var ot=mr[P];Ka(ot.objId,!0),Gt(ot.content),Gt("endobj")}Yr.publish("postPutAdditionalObjects")},Yf=function(P){Yi[P.fontName]=Yi[P.fontName]||{},Yi[P.fontName][P.fontStyle]=P.id},Ju=function(P,ot,It,re,me){var ke={id:"F"+(Object.keys(hi).length+1).toString(10),postScriptName:P,fontName:ot,fontStyle:It,encoding:re,isStandardFont:me||!1,metadata:{}};return Yr.publish("addFont",{font:ke,instance:this}),hi[ke.id]=ke,Yf(ke),ke.id},ov=function(P){for(var ot=0,It=dr.length;ot<It;ot++){var re=Ju.call(this,P[ot][0],P[ot][1],P[ot][2],dr[ot][3],!0);mt===!1&&(Ot[re]=!0);var me=P[ot][0].split("-");Yf({id:re,fontName:me[0],fontStyle:me[1]||""})}Yr.publish("addFonts",{fonts:hi,dictionary:Yi})},Fs=function(P){return P.foo=function(){try{return P.apply(this,arguments)}catch(re){var ot=re.stack||"";~ot.indexOf(" at ")&&(ot=ot.split(" at ")[1]);var It="Error in function "+ot.split(`
`)[0].split("<")[0]+": "+re.message;if(!b.console)throw new Error(It);b.console.error(It,re),b.alert&&alert(It)}},P.foo.bar=P,P.foo},js=function(P,ot){var It,re,me,ke,cr,Nr,cn,Hn,Nn;if(me=(ot=ot||{}).sourceEncoding||"Unicode",cr=ot.outputEncoding,(ot.autoencode||cr)&&hi[Qn].metadata&&hi[Qn].metadata[me]&&hi[Qn].metadata[me].encoding&&(ke=hi[Qn].metadata[me].encoding,!cr&&hi[Qn].encoding&&(cr=hi[Qn].encoding),!cr&&ke.codePages&&(cr=ke.codePages[0]),typeof cr=="string"&&(cr=ke[cr]),cr)){for(cn=!1,Nr=[],It=0,re=P.length;It<re;It++)(Hn=cr[P.charCodeAt(It)])?Nr.push(String.fromCharCode(Hn)):Nr.push(P[It]),Nr[It].charCodeAt(0)>>8&&(cn=!0);P=Nr.join("")}for(It=P.length;cn===void 0&&It!==0;)P.charCodeAt(It-1)>>8&&(cn=!0),It--;if(!cn)return P;for(Nr=ot.noBOM?[]:[254,255],It=0,re=P.length;It<re;It++){if((Nn=(Hn=P.charCodeAt(It))>>8)>>8)throw new Error("Character at position "+It+" of string '"+P+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nr.push(Nn),Nr.push(Hn-(Nn<<8))}return String.fromCharCode.apply(void 0,Nr)},zo=K.__private__.pdfEscape=K.pdfEscape=function(P,ot){return js(P,ot).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mc=K.__private__.beginPage=function(P){yr[++lo]=[],dn[lo]={objId:0,contentsObjId:0,userUnit:Number(k),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(P[0]),topRightY:Number(P[1])}},hd(lo),We(yr[Ft])},Hf=function(P,ot){var It,re,me;switch(x=ot||x,typeof P=="string"&&(It=wt(P.toLowerCase()),Array.isArray(It)&&(re=It[0],me=It[1])),Array.isArray(P)&&(re=P[0]*Dr,me=P[1]*Dr),isNaN(re)&&(re=j[0],me=j[1]),(re>14400||me>14400)&&(F.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),me=Math.min(14400,me)),j=[re,me],x.substr(0,1)){case"l":me>re&&(j=[me,re]);break;case"p":re>me&&(j=[me,re])}Mc(j),Jf(qf),Gt($a),Uc!==0&&Gt(Uc+" J"),eh!==0&&Gt(eh+" j"),Yr.publish("addPage",{pageNumber:lo})},Nc=function(P){P>0&&P<=lo&&(yr.splice(P,1),dn.splice(P,1),lo--,Ft>lo&&(Ft=lo),this.setPage(Ft))},hd=function(P){P>0&&P<=lo&&(Ft=P)},Xf=K.__private__.getNumberOfPages=K.getNumberOfPages=function(){return yr.length-1},Qu=function(P,ot,It){var re,me=void 0;return It=It||{},P=P!==void 0?P:hi[Qn].fontName,ot=ot!==void 0?ot:hi[Qn].fontStyle,re=P.toLowerCase(),Yi[re]!==void 0&&Yi[re][ot]!==void 0?me=Yi[re][ot]:Yi[P]!==void 0&&Yi[P][ot]!==void 0?me=Yi[P][ot]:It.disableWarning===!1&&F.warn("Unable to look up font label for font '"+P+"', '"+ot+"'. Refer to getFontList() for available fonts."),me||It.noFallback||(me=Yi.times[ot])==null&&(me=Yi.times.normal),me},dd=K.__private__.putInfo=function(){var P=Uo(),ot=function(re){return re};for(var It in vt!==null&&(ot=Ki.encryptor(P,0)),Gt("<<"),Gt("/Producer ("+zo(ot("jsPDF "+Qt.version))+")"),wn)wn.hasOwnProperty(It)&&wn[It]&&Gt("/"+It.substr(0,1).toUpperCase()+It.substr(1)+" ("+zo(ot(wn[It]))+")");Gt("/CreationDate ("+zo(ot($e))+")"),Gt(">>"),Gt("endobj")},Kf=K.__private__.putCatalog=function(P){var ot=(P=P||{}).rootDictionaryObjId||Fl;switch(Uo(),Gt("<<"),Gt("/Type /Catalog"),Gt("/Pages "+ot+" 0 R"),kr||(kr="fullwidth"),kr){case"fullwidth":Gt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Gt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Gt("/OpenAction [3 0 R /Fit]");break;case"original":Gt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var It=""+kr;It.substr(It.length-1)==="%"&&(kr=parseInt(kr)/100),typeof kr=="number"&&Gt("/OpenAction [3 0 R /XYZ null null "+er(kr)+"]")}switch(Jn||(Jn="continuous"),Jn){case"continuous":Gt("/PageLayout /OneColumn");break;case"single":Gt("/PageLayout /SinglePage");break;case"two":case"twoleft":Gt("/PageLayout /TwoColumnLeft");break;case"tworight":Gt("/PageLayout /TwoColumnRight")}Mn&&Gt("/PageMode /"+Mn),Yr.publish("putCatalog"),Gt(">>"),Gt("endobj")},an=K.__private__.putTrailer=function(){Gt("trailer"),Gt("<<"),Gt("/Size "+(ve+1)),Gt("/Root "+ve+" 0 R"),Gt("/Info "+(ve-1)+" 0 R"),vt!==null&&Gt("/Encrypt "+Ki.oid+" 0 R"),Gt("/ID [ <"+Xe+"> <"+Xe+"> ]"),Gt(">>")},Fc=K.__private__.putHeader=function(){Gt("%PDF-"+zt),Gt("%\xBA\xDF\xAC\xE0")},$f=K.__private__.putXRef=function(){var P="0000000000";Gt("xref"),Gt("0 "+(ve+1)),Gt("0000000000 65535 f ");for(var ot=1;ot<=ve;ot++)typeof be[ot]=="function"?Gt((P+be[ot]()).slice(-10)+" 00000 n "):be[ot]!==void 0?Gt((P+be[ot]).slice(-10)+" 00000 n "):Gt("0000000000 00000 n ")},jl=K.__private__.buildDocument=function(){mn(),We(Pe),Yr.publish("buildDocument"),Fc(),ko(),hl(),fd(),vt!==null&&ud(),dd(),Kf();var P=Ie;return $f(),an(),Gt("startxref"),Gt(""+P),Gt("%%EOF"),We(yr[Ft]),Pe.join(`
`)},_u=K.__private__.getBlob=function(P){return new Blob([tn(P)],{type:"application/pdf"})},tc=K.output=K.__private__.output=Fs(function(P,ot){switch(typeof(ot=ot||{})=="string"?ot={filename:ot}:ot.filename=ot.filename||"generated.pdf",P){case void 0:return jl();case"save":K.save(ot.filename);break;case"arraybuffer":return tn(jl());case"blob":return _u(jl());case"bloburi":case"bloburl":if(b.URL!==void 0&&typeof b.URL.createObjectURL=="function")return b.URL&&b.URL.createObjectURL(_u(jl()))||void 0;F.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var It="",re=jl();try{It=$(re)}catch{It=$(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+ot.filename+";base64,"+It;case"pdfobjectnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(ot.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ot)+");<\/script></body></html>",ke=b.open();return ke!==null&&ke.document.write(me),ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ot.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ot.filename+'" width="500px" height="400px" /></body></html>',Nr=b.open();if(Nr!==null){Nr.document.write(cr);var cn=this;Nr.document.documentElement.querySelector("#pdfViewer").onload=function(){Nr.document.title=ot.filename,Nr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cn.output("bloburl"))}}return Nr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(b)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ot)+'"></iframe></body></html>',Nn=b.open();if(Nn!==null&&(Nn.document.write(Hn),Nn.document.title=ot.filename),Nn||typeof safari=="undefined")return Nn;break;case"datauri":case"dataurl":return b.document.location.href=this.output("datauristring",ot);default:return null}}),pd=function(P){return Array.isArray(la)===!0&&la.indexOf(P)>-1};switch(C){case"pt":Dr=1;break;case"mm":Dr=72/25.4;break;case"cm":Dr=72/2.54;break;case"in":Dr=72;break;case"px":Dr=pd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dr=12;break;case"ex":Dr=6;break;default:if(typeof C!="number")throw new Error("Invalid unit: "+C);Dr=C}var Ki=null;Kr(),Re();var Dl=function(P){return vt!==null?Ki.encryptor(P,0):function(ot){return ot}},Eu=K.__private__.getPageInfo=K.getPageInfo=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dn[P].objId,pageNumber:P,pageContext:dn[P]}},pn=K.__private__.getPageInfoByObjId=function(P){if(isNaN(P)||P%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ot in dn)if(dn[ot].objId===P)break;return Eu(ot)},jc=K.__private__.getCurrentPageInfo=K.getCurrentPageInfo=function(){return{objId:dn[Ft].objId,pageNumber:Ft,pageContext:dn[Ft]}};K.addPage=function(){return Hf.apply(this,arguments),this},K.setPage=function(){return hd.apply(this,arguments),We.call(this,yr[Ft]),this},K.insertPage=function(P){return this.addPage(),this.movePage(Ft,P),this},K.movePage=function(P,ot){var It,re;if(P>ot){It=yr[P],re=dn[P];for(var me=P;me>ot;me--)yr[me]=yr[me-1],dn[me]=dn[me-1];yr[ot]=It,dn[ot]=re,this.setPage(ot)}else if(P<ot){It=yr[P],re=dn[P];for(var ke=P;ke<ot;ke++)yr[ke]=yr[ke+1],dn[ke]=dn[ke+1];yr[ot]=It,dn[ot]=re,this.setPage(ot)}return this},K.deletePage=function(){return Nc.apply(this,arguments),this},K.__private__.text=K.text=function(P,ot,It,re,me){var ke,cr,Nr,cn,Hn,Nn,$n,ta,co,bo=(re=re||{}).scope||this;if(typeof P=="number"&&typeof ot=="number"&&(typeof It=="string"||Array.isArray(It))){var Qi=It;It=ot,ot=P,P=Qi}if(arguments[3]instanceof un?(pe("The transform parameter of text() with a Matrix value"),co=me):(Nr=arguments[4],cn=arguments[5],_()($n=arguments[3])==="object"&&$n!==null||(typeof Nr=="string"&&(cn=Nr,Nr=null),typeof $n=="string"&&(cn=$n,$n=null),typeof $n=="number"&&(Nr=$n,$n=null),re={flags:$n,angle:Nr,align:cn})),isNaN(ot)||isNaN(It)||P==null)throw new Error("Invalid arguments passed to jsPDF.text");if(P.length===0)return bo;var fo="",Za=!1,Ia=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Gl,gl=bo.internal.scaleFactor;function md(ji){return ji=ji.split("	").join(Array(re.TabLen||9).join(" ")),zo(ji,$n)}function ih(ji){for(var ui,ho=ji.concat(),Co=[],_l=ho.length;_l--;)typeof(ui=ho.shift())=="string"?Co.push(ui):Array.isArray(ji)&&(ui.length===1||ui[1]===void 0&&ui[2]===void 0)?Co.push(ui[0]):Co.push([ui[0],ui[1],ui[2]]);return Co}function oh(ji,ui){var ho;if(typeof ji=="string")ho=ui(ji)[0];else if(Array.isArray(ji)){for(var Co,_l,to=ji.concat(),Hc=[],uh=to.length;uh--;)typeof(Co=to.shift())=="string"?Hc.push(ui(Co)[0]):Array.isArray(Co)&&typeof Co[0]=="string"&&(_l=ui(Co[0],Co[1],Co[2]),Hc.push([_l[0],_l[1],_l[2]]));ho=Hc}return ho}var Bs=!1,ah=!0;if(typeof P=="string")Bs=!0;else if(Array.isArray(P)){var sh=P.concat();cr=[];for(var kn,Ma=sh.length;Ma--;)(typeof(kn=sh.shift())!="string"||Array.isArray(kn)&&typeof kn[0]!="string")&&(ah=!1);Bs=ah}if(Bs===!1)throw new Error('Type of text must be string or Array. "'+P+'" is not recognized.');typeof P=="string"&&(P=P.match(/[\r?\n]/)?P.split(/\r\n|\r|\n/g):[P]);var fs=wr/bo.internal.scaleFactor,Ou=fs*(Ia-1);switch(re.baseline){case"bottom":It-=Ou;break;case"top":It+=fs-Ou;break;case"hanging":It+=fs-2*Ou;break;case"middle":It+=fs/2-Ou}if((Nn=re.maxWidth||0)>0&&(typeof P=="string"?P=bo.splitTextToSize(P,Nn):Object.prototype.toString.call(P)==="[object Array]"&&(P=P.reduce(function(ji,ui){return ji.concat(bo.splitTextToSize(ui,Nn))},[]))),ke={text:P,x:ot,y:It,options:re,mutex:{pdfEscape:zo,activeFontKey:Qn,fonts:hi,activeFontSize:wr}},Yr.publish("preProcessText",ke),P=ke.text,Nr=(re=ke.options).angle,!(co instanceof un)&&Nr&&typeof Nr=="number"){Nr*=Math.PI/180,re.rotationDirection===0&&(Nr=-Nr),xe===Yt.ADVANCED&&(Nr=-Nr);var zc=Math.cos(Nr),ic=Math.sin(Nr);co=new un(zc,ic,-ic,zc,0,0)}else Nr&&Nr instanceof un&&(co=Nr);xe!==Yt.ADVANCED||co||(co=Xa),(Hn=re.charSpace||xu)!==void 0&&(fo+=Ue(Pt(Hn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ta=re.horizontalScale)!==void 0&&(fo+=Ue(100*ta)+` Tz
`),re.lang;var _a=-1,_d=re.renderingMode!==void 0?re.renderingMode:re.stroke,Tu=bo.internal.getCurrentPageInfo().pageContext;switch(_d){case 0:case!1:case"fill":_a=0;break;case 1:case!0:case"stroke":_a=1;break;case 2:case"fillThenStroke":_a=2;break;case 3:case"invisible":_a=3;break;case 4:case"fillAndAddForClipping":_a=4;break;case 5:case"strokeAndAddPathForClipping":_a=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_a=6;break;case 7:case"addToPathForClipping":_a=7}var Ed=Tu.usedRenderingMode!==void 0?Tu.usedRenderingMode:-1;_a!==-1?fo+=_a+` Tr
`:Ed!==-1&&(fo+=`0 Tr
`),_a!==-1&&(Tu.usedRenderingMode=_a),cn=re.align||"left";var Gs,Vc=wr*Ia,fv=bo.internal.pageSize.getWidth(),hv=hi[Qn];Hn=re.charSpace||xu,Nn=re.maxWidth||0,$n=Object.assign({autoencode:!0,noBOM:!0},re.flags);var Us=[];if(Object.prototype.toString.call(P)==="[object Array]"){var qa;cr=ih(P),cn!=="left"&&(Gs=cr.map(function(ji){return bo.getStringUnitWidth(ji,{font:hv,charSpace:Hn,fontSize:wr,doKerning:!1})*wr/gl}));var ks,yl=0;if(cn==="right"){ot-=Gs[0],P=[],Ma=cr.length;for(var zs=0;zs<Ma;zs++)zs===0?(ks=Ul(ot),qa=pl(It)):(ks=Pt(yl-Gs[zs]),qa=-Vc),P.push([cr[zs],ks,qa]),yl=Gs[zs]}else if(cn==="center"){ot-=Gs[0]/2,P=[],Ma=cr.length;for(var zl=0;zl<Ma;zl++)zl===0?(ks=Ul(ot),qa=pl(It)):(ks=Pt((yl-Gs[zl])/2),qa=-Vc),P.push([cr[zl],ks,qa]),yl=Gs[zl]}else if(cn==="left"){P=[],Ma=cr.length;for(var Vl=0;Vl<Ma;Vl++)P.push(cr[Vl])}else{if(cn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');P=[],Ma=cr.length,Nn=Nn!==0?Nn:fv;for(var li=0;li<Ma;li++)qa=li===0?pl(It):-Vc,ks=li===0?Ul(ot):0,li<Ma-1?Us.push(Ue(Pt((Nn-Gs[li])/(cr[li].split(" ").length-1)))):Us.push(0),P.push([cr[li],ks,qa])}}var Wc=typeof re.R2L=="boolean"?re.R2L:ln;Wc===!0&&(P=oh(P,function(ji,ui,ho){return[ji.split("").reverse().join(""),ui,ho]})),ke={text:P,x:ot,y:It,options:re,mutex:{pdfEscape:zo,activeFontKey:Qn,fonts:hi,activeFontSize:wr}},Yr.publish("postProcessText",ke),P=ke.text,Za=ke.mutex.isHex||!1;var hs=hi[Qn].encoding;hs!=="WinAnsiEncoding"&&hs!=="StandardEncoding"||(P=oh(P,function(ji,ui,ho){return[md(ji),ui,ho]})),cr=ih(P),P=[];for(var Wl,Vs,Yl,Hl=0,Yc=1,ml=Array.isArray(cr[0])?Yc:Hl,bu="",lh=function(ji,ui,ho){var Co="";return ho instanceof un?(ho=typeof re.angle=="number"?wi(ho,new un(1,0,0,1,ji,ui)):wi(new un(1,0,0,1,ji,ui),ho),xe===Yt.ADVANCED&&(ho=wi(new un(1,0,0,-1,0,0),ho)),Co=ho.join(" ")+` Tm
`):Co=Ue(ji)+" "+Ue(ui)+` Td
`,Co},ds=0;ds<cr.length;ds++){switch(bu="",ml){case Yc:Yl=(Za?"<":"(")+cr[ds][0]+(Za?">":")"),Wl=parseFloat(cr[ds][1]),Vs=parseFloat(cr[ds][2]);break;case Hl:Yl=(Za?"<":"(")+cr[ds]+(Za?">":")"),Wl=Ul(ot),Vs=pl(It)}Us!==void 0&&Us[ds]!==void 0&&(bu=Us[ds]+` Tw
`),ds===0?P.push(bu+lh(Wl,Vs,co)+Yl):ml===Hl?P.push(bu+Yl):ml===Yc&&P.push(bu+lh(Wl,Vs,co)+Yl)}P=ml===Hl?P.join(` Tj
T* `):P.join(` Tj
`),P+=` Tj
`;var Xl=`BT
/`;return Xl+=Qn+" "+wr+` Tf
`,Xl+=Ue(wr*Ia)+` TL
`,Xl+=gr+`
`,Xl+=fo,Xl+=P,Gt(Xl+="ET"),Ot[Qn]=!0,bo};var av=K.__private__.clip=K.clip=function(P){return Gt(P==="evenodd"?"W*":"W"),this};K.clipEvenOdd=function(){return av("evenodd")},K.__private__.discardPath=K.discardPath=function(){return Gt("n"),this};var ca=K.__private__.isValidStyle=function(P){var ot=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(P)!==-1&&(ot=!0),ot};K.__private__.setDefaultPathOperation=K.setDefaultPathOperation=function(P){return ca(P)&&(it=P),this};var dl=K.__private__.getStyle=K.getStyle=function(P){var ot=it;switch(P){case"D":case"S":ot="S";break;case"F":ot="f";break;case"FD":case"DF":ot="B";break;case"f":case"f*":case"B":case"B*":ot=P}return ot},Ii=K.close=function(){return Gt("h"),this};K.stroke=function(){return Gt("S"),this},K.fill=function(P){return Bl("f",P),this},K.fillEvenOdd=function(P){return Bl("f*",P),this},K.fillStroke=function(P){return Bl("B",P),this},K.fillStrokeEvenOdd=function(P){return Bl("B*",P),this};var Bl=function(P,ot){_()(ot)==="object"?vd(ot,P):Gt(P)},fa=function(P){P===null||xe===Yt.ADVANCED&&P===void 0||(P=dl(P),Gt(P))};function sv(P,ot,It,re,me){var ke=new $r(ot||this.boundingBox,It||this.xStep,re||this.yStep,this.gState,me||this.matrix);ke.stream=this.stream;var cr=P+"$$"+this.cloneIndex+++"$$";return La(cr,ke),ke}var vd=function(P,ot){var It=Zu[P.key],re=di[It];if(re instanceof Sr)Gt("q"),Gt(lv(ot)),re.gState&&K.setGState(re.gState),Gt(P.matrix.toString()+" cm"),Gt("/"+It+" sh"),Gt("Q");else if(re instanceof $r){var me=new un(1,0,0,-1,0,kl());P.matrix&&(me=me.multiply(P.matrix||Xa),It=sv.call(re,P.key,P.boundingBox,P.xStep,P.yStep,me).id),Gt("q"),Gt("/Pattern cs"),Gt("/"+It+" scn"),re.gState&&K.setGState(re.gState),Gt(ot),Gt("Q")}},lv=function(P){switch(P){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Dc=K.moveTo=function(P,ot){return Gt(Ue(Pt(P))+" "+Ue(oe(ot))+" m"),this},ec=K.lineTo=function(P,ot){return Gt(Ue(Pt(P))+" "+Ue(oe(ot))+" l"),this},br=K.curveTo=function(P,ot,It,re,me,ke){return Gt([Ue(Pt(P)),Ue(oe(ot)),Ue(Pt(It)),Ue(oe(re)),Ue(Pt(me)),Ue(oe(ke)),"c"].join(" ")),this};K.__private__.line=K.line=function(P,ot,It,re,me){if(isNaN(P)||isNaN(ot)||isNaN(It)||isNaN(re)||!ca(me))throw new Error("Invalid arguments passed to jsPDF.line");return xe===Yt.COMPAT?this.lines([[It-P,re-ot]],P,ot,[1,1],me||"S"):this.lines([[It-P,re-ot]],P,ot,[1,1]).stroke()},K.__private__.lines=K.lines=function(P,ot,It,re,me,ke){var cr,Nr,cn,Hn,Nn,$n,ta,co,bo,Qi,fo,Za;if(typeof P=="number"&&(Za=It,It=ot,ot=P,P=Za),re=re||[1,1],ke=ke||!1,isNaN(ot)||isNaN(It)||!Array.isArray(P)||!Array.isArray(re)||!ca(me)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Dc(ot,It),cr=re[0],Nr=re[1],Hn=P.length,Qi=ot,fo=It,cn=0;cn<Hn;cn++)(Nn=P[cn]).length===2?(Qi=Nn[0]*cr+Qi,fo=Nn[1]*Nr+fo,ec(Qi,fo)):($n=Nn[0]*cr+Qi,ta=Nn[1]*Nr+fo,co=Nn[2]*cr+Qi,bo=Nn[3]*Nr+fo,Qi=Nn[4]*cr+Qi,fo=Nn[5]*Nr+fo,br($n,ta,co,bo,Qi,fo));return ke&&Ii(),fa(me),this},K.path=function(P){for(var ot=0;ot<P.length;ot++){var It=P[ot],re=It.c;switch(It.op){case"m":Dc(re[0],re[1]);break;case"l":ec(re[0],re[1]);break;case"c":br.apply(this,re);break;case"h":Ii()}}return this},K.__private__.rect=K.rect=function(P,ot,It,re,me){if(isNaN(P)||isNaN(ot)||isNaN(It)||isNaN(re)||!ca(me))throw new Error("Invalid arguments passed to jsPDF.rect");return xe===Yt.COMPAT&&(re=-re),Gt([Ue(Pt(P)),Ue(oe(ot)),Ue(Pt(It)),Ue(Pt(re)),"re"].join(" ")),fa(me),this},K.__private__.triangle=K.triangle=function(P,ot,It,re,me,ke,cr){if(isNaN(P)||isNaN(ot)||isNaN(It)||isNaN(re)||isNaN(me)||isNaN(ke)||!ca(cr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[It-P,re-ot],[me-It,ke-re],[P-me,ot-ke]],P,ot,[1,1],cr,!0),this},K.__private__.roundedRect=K.roundedRect=function(P,ot,It,re,me,ke,cr){if(isNaN(P)||isNaN(ot)||isNaN(It)||isNaN(re)||isNaN(me)||isNaN(ke)||!ca(cr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nr=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*It),ke=Math.min(ke,.5*re),this.lines([[It-2*me,0],[me*Nr,0,me,ke-ke*Nr,me,ke],[0,re-2*ke],[0,ke*Nr,-me*Nr,ke,-me,ke],[2*me-It,0],[-me*Nr,0,-me,-ke*Nr,-me,-ke],[0,2*ke-re],[0,-ke*Nr,me*Nr,-ke,me,-ke]],P+me,ot,[1,1],cr,!0),this},K.__private__.ellipse=K.ellipse=function(P,ot,It,re,me){if(isNaN(P)||isNaN(ot)||isNaN(It)||isNaN(re)||!ca(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*It,cr=4/3*(Math.SQRT2-1)*re;return Dc(P+It,ot),br(P+It,ot-cr,P+ke,ot-re,P,ot-re),br(P-ke,ot-re,P-It,ot-cr,P-It,ot),br(P-It,ot+cr,P-ke,ot+re,P,ot+re),br(P+ke,ot+re,P+It,ot+cr,P+It,ot),fa(me),this},K.__private__.circle=K.circle=function(P,ot,It,re){if(isNaN(P)||isNaN(ot)||isNaN(It)||!ca(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(P,ot,It,It,re)},K.setFont=function(P,ot,It){return It&&(ot=xr(ot,It)),Qn=Qu(P,ot,{disableWarning:!1}),this};var Zf=K.__private__.getFont=K.getFont=function(){return hi[Qu.apply(K,arguments)]};K.__private__.getFontList=K.getFontList=function(){var P,ot,It={};for(P in Yi)if(Yi.hasOwnProperty(P))for(ot in It[P]=[],Yi[P])Yi[P].hasOwnProperty(ot)&&It[P].push(ot);return It},K.addFont=function(P,ot,It,re,me){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(It=xr(It,re)),me=me||"Identity-H",Ju.call(this,P,ot,It,me)};var Gl,qf=T.lineWidth||.200025,Bc=K.__private__.getLineWidth=K.getLineWidth=function(){return qf},Jf=K.__private__.setLineWidth=K.setLineWidth=function(P){return qf=P,Gt(Ue(Pt(P))+" w"),this};K.__private__.setLineDash=Qt.API.setLineDash=Qt.API.setLineDashPattern=function(P,ot){if(P=P||[],ot=ot||0,isNaN(ot)||!Array.isArray(P))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return P=P.map(function(It){return Ue(Pt(It))}).join(" "),ot=Ue(Pt(ot)),Gt("["+P+"] "+ot+" d"),this};var Gc=K.__private__.getLineHeight=K.getLineHeight=function(){return wr*Gl};K.__private__.getLineHeight=K.getLineHeight=function(){return wr*Gl};var Qf=K.__private__.setLineHeightFactor=K.setLineHeightFactor=function(P){return typeof(P=P||1.15)=="number"&&(Gl=P),this},gd=K.__private__.getLineHeightFactor=K.getLineHeightFactor=function(){return Gl};Qf(T.lineHeight);var Ul=K.__private__.getHorizontalCoordinate=function(P){return Pt(P)},pl=K.__private__.getVerticalCoordinate=function(P){return xe===Yt.ADVANCED?P:dn[Ft].mediaBox.topRightY-dn[Ft].mediaBox.bottomLeftY-Pt(P)},Pa=K.__private__.getHorizontalCoordinateString=K.getHorizontalCoordinateString=function(P){return Ue(Ul(P))},Ds=K.__private__.getVerticalCoordinateString=K.getVerticalCoordinateString=function(P){return Ue(pl(P))},$a=T.strokeColor||"0 G";K.__private__.getStrokeColor=K.getDrawColor=function(){return $t($a)},K.__private__.setStrokeColor=K.setDrawColor=function(P,ot,It,re){return $a=ua({ch1:P,ch2:ot,ch3:It,ch4:re,pdfColorType:"draw",precision:2}),Gt($a),this};var th=T.fillColor||"0 g";K.__private__.getFillColor=K.getFillColor=function(){return $t(th)},K.__private__.setFillColor=K.setFillColor=function(P,ot,It,re){return th=ua({ch1:P,ch2:ot,ch3:It,ch4:re,pdfColorType:"fill",precision:2}),Gt(th),this};var gr=T.textColor||"0 g",vl=K.__private__.getTextColor=K.getTextColor=function(){return $t(gr)};K.__private__.setTextColor=K.setTextColor=function(P,ot,It,re){return gr=ua({ch1:P,ch2:ot,ch3:It,ch4:re,pdfColorType:"text",precision:3}),this};var xu=T.charSpace,uv=K.__private__.getCharSpace=K.getCharSpace=function(){return parseFloat(xu||0)};K.__private__.setCharSpace=K.setCharSpace=function(P){if(isNaN(P))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xu=P,this};var Uc=0;K.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},K.__private__.setLineCap=K.setLineCap=function(P){var ot=K.CapJoinStyles[P];if(ot===void 0)throw new Error("Line cap style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=ot,Gt(ot+" J"),this};var eh=0;K.__private__.setLineJoin=K.setLineJoin=function(P){var ot=K.CapJoinStyles[P];if(ot===void 0)throw new Error("Line join style of '"+P+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eh=ot,Gt(ot+" j"),this},K.__private__.setLineMiterLimit=K.__private__.setMiterLimit=K.setLineMiterLimit=K.setMiterLimit=function(P){if(P=P||0,isNaN(P))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Gt(Ue(Pt(P))+" M"),this},K.GState=Me,K.setGState=function(P){(P=typeof P=="string"?so[Aa[P]]:rh(null,P)).equals(Nl)||(Gt("/"+P.id+" gs"),Nl=P)};var rh=function(P,ot){if(!P||!Aa[P]){var It=!1;for(var re in so)if(so.hasOwnProperty(re)&&so[re].equals(ot)){It=!0;break}if(It)ot=so[re];else{var me="GS"+(Object.keys(so).length+1).toString(10);so[me]=ot,ot.id=me}return P&&(Aa[P]=ot.id),Yr.publish("addGState",ot),ot}};K.addGState=function(P,ot){return rh(P,ot),this},K.saveGraphicsState=function(){return Gt("q"),ll.push({key:Qn,size:wr,color:gr}),this},K.restoreGraphicsState=function(){Gt("Q");var P=ll.pop();return Qn=P.key,wr=P.size,gr=P.color,Nl=null,this},K.setCurrentTransformationMatrix=function(P){return Gt(P.toString()+" cm"),this},K.comment=function(P){return Gt("#"+P),this};var kc=function(P,ot){var It=P||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return It},set:function(ke){isNaN(ke)||(It=parseFloat(ke))}});var re=ot||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(ke){isNaN(ke)||(re=parseFloat(ke))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(ke){me=ke.toString()}}),this},Su=function(P,ot,It,re){kc.call(this,P,ot),this.type="rect";var me=It||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(cr){isNaN(cr)||(me=parseFloat(cr))}});var ke=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(cr){isNaN(cr)||(ke=parseFloat(cr))}}),this},nh=function(){this.page=lo,this.currentPage=Ft,this.pages=yr.slice(0),this.pagesContext=dn.slice(0),this.x=sa,this.y=hn,this.matrix=cs,this.width=rc(Ft),this.height=kl(Ft),this.outputDestination=Wr,this.id="",this.objectNumber=-1};nh.prototype.restore=function(){lo=this.page,Ft=this.currentPage,dn=this.pagesContext,yr=this.pages,sa=this.x,hn=this.y,cs=this.matrix,ma(Ft,this.width),nc(Ft,this.height),Wr=this.outputDestination};var yd=function(P,ot,It,re,me){cl.push(new nh),lo=Ft=0,yr=[],sa=P,hn=ot,cs=me,Mc([It,re])},cv=function(P){if(ul[P])cl.pop().restore();else{var ot=new nh,It="Xo"+(Object.keys(Qo).length+1).toString(10);ot.id=It,ul[P]=It,Qo[It]=ot,Yr.publish("addFormObject",ot),cl.pop().restore()}};for(var wu in K.beginFormObject=function(P,ot,It,re,me){return yd(P,ot,It,re,me),this},K.endFormObject=function(P){return cv(P),this},K.doFormObject=function(P,ot){var It=Qo[ul[P]];return Gt("q"),Gt(ot.toString()+" cm"),Gt("/"+It.id+" Do"),Gt("Q"),this},K.getFormObject=function(P){var ot=Qo[ul[P]];return{x:ot.x,y:ot.y,width:ot.width,height:ot.height,matrix:ot.matrix}},K.save=function(P,ot){return P=P||"generated.pdf",(ot=ot||{}).returnPromise=ot.returnPromise||!1,ot.returnPromise===!1?(q(_u(jl()),P),typeof q.unload=="function"&&b.setTimeout&&setTimeout(q.unload,911),this):new Promise(function(It,re){try{var me=q(_u(jl()),P);typeof q.unload=="function"&&b.setTimeout&&setTimeout(q.unload,911),It(me)}catch(ke){re(ke.message)}})},Qt.API)Qt.API.hasOwnProperty(wu)&&(wu==="events"&&Qt.API.events.length?function(P,ot){var It,re,me;for(me=ot.length-1;me!==-1;me--)It=ot[me][0],re=ot[me][1],P.subscribe.apply(P,[It].concat(typeof re=="function"?[re]:re))}(Yr,Qt.API.events):K[wu]=Qt.API[wu]);var rc=K.getPageWidth=function(P){return(dn[P=P||Ft].mediaBox.topRightX-dn[P].mediaBox.bottomLeftX)/Dr},ma=K.setPageWidth=function(P,ot){dn[P].mediaBox.topRightX=ot*Dr+dn[P].mediaBox.bottomLeftX},kl=K.getPageHeight=function(P){return(dn[P=P||Ft].mediaBox.topRightY-dn[P].mediaBox.bottomLeftY)/Dr},nc=K.setPageHeight=function(P,ot){dn[P].mediaBox.topRightY=ot*Dr+dn[P].mediaBox.bottomLeftY};return K.internal={pdfEscape:zo,getStyle:dl,getFont:Zf,getFontSize:jr,getCharSpace:uv,getTextColor:vl,getLineHeight:Gc,getLineHeightFactor:gd,getLineWidth:Bc,write:Un,getHorizontalCoordinate:Ul,getVerticalCoordinate:pl,getCoordinateString:Pa,getVerticalCoordinateString:Ds,collections:{},newObject:Uo,newAdditionalObject:Cc,newObjectDeferred:Lr,newObjectDeferredBegin:Ka,getFilters:To,putStream:Hi,events:Yr,scaleFactor:Dr,pageSize:{getWidth:function(){return rc(Ft)},setWidth:function(P){ma(Ft,P)},getHeight:function(){return kl(Ft)},setHeight:function(P){nc(Ft,P)}},encryptionOptions:vt,encryption:Ki,getEncryptor:Dl,output:tc,getNumberOfPages:Xf,pages:yr,out:Gt,f2:er,f3:Rt,getPageInfo:Eu,getPageInfoByObjId:pn,getCurrentPageInfo:jc,getPDFVersion:Mt,Point:kc,Rectangle:Su,Matrix:un,hasHotfix:pd},Object.defineProperty(K.internal.pageSize,"width",{get:function(){return rc(Ft)},set:function(P){ma(Ft,P)},enumerable:!0,configurable:!0}),Object.defineProperty(K.internal.pageSize,"height",{get:function(){return kl(Ft)},set:function(P){nc(Ft,P)},enumerable:!0,configurable:!0}),ov.call(K,dr),Qn="F1",Hf(j,x),Yr.publish("initialized"),K}Ut.prototype.lsbFirstWord=function(T){return String.fromCharCode(T>>0&255,T>>8&255,T>>16&255,T>>24&255)},Ut.prototype.toHexString=function(T){return T.split("").map(function(E){return("0"+(255&E.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ut.prototype.hexToBytes=function(T){for(var E=[],x=0;x<T.length;x+=2)E.push(String.fromCharCode(parseInt(T.substr(x,2),16)));return E.join("")},Ut.prototype.processOwnerPassword=function(T,E){return Q(Dt(E).substr(0,5),T)},Ut.prototype.encryptor=function(T,E){var x=Dt(this.encryptionKey+String.fromCharCode(255&T,T>>8&255,T>>16&255,255&E,E>>8&255)).substr(0,10);return function(C){return Q(x,C)}},Me.prototype.equals=function(T){var E,x="id,objectNumber,equals";if(!T||_()(T)!==_()(this))return!1;var C=0;for(E in this)if(!(x.indexOf(E)>=0)){if(this.hasOwnProperty(E)&&!T.hasOwnProperty(E)||this[E]!==T[E])return!1;C++}for(E in T)T.hasOwnProperty(E)&&x.indexOf(E)<0&&C--;return C===0},Qt.API={events:[]},Qt.version="2.5.0";var Te=Qt.API,Ze=1,vr=function(T){return T.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sn=function(T){return T.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_r=function(T){return T.toFixed(2)},Fr=function(T){return T.toFixed(5)};Te.__acroform__={};var Er=function(T,E){T.prototype=Object.create(E.prototype),T.prototype.constructor=T},Lt=function(T){return T*Ze},ne=function(T){var E=new Ln,x=Ge.internal.getHeight(T)||0,C=Ge.internal.getWidth(T)||0;return E.BBox=[0,0,Number(_r(C)),Number(_r(x))],E},Ct=Te.__acroform__.setBit=function(T,E){if(T=T||0,E=E||0,isNaN(T)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return T|=1<<E},Wt=Te.__acroform__.clearBit=function(T,E){if(T=T||0,E=E||0,isNaN(T)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return T&=~(1<<E)},Bt=Te.__acroform__.getBit=function(T,E){if(isNaN(T)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(T&1<<E)==0?0:1},Jt=Te.__acroform__.getBitForPdf=function(T,E){if(isNaN(T)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bt(T,E-1)},he=Te.__acroform__.setBitForPdf=function(T,E){if(isNaN(T)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ct(T,E-1)},ge=Te.__acroform__.clearBitForPdf=function(T,E){if(isNaN(T)||isNaN(E))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Wt(T,E-1)},He=Te.__acroform__.calculateCoordinates=function(T,E){var x=E.internal.getHorizontalCoordinate,C=E.internal.getVerticalCoordinate,j=T[0],A=T[1],G=T[2],k=T[3],Y={};return Y.lowerLeft_X=x(j)||0,Y.lowerLeft_Y=C(A+k)||0,Y.upperRight_X=x(j+G)||0,Y.upperRight_Y=C(A)||0,[Number(_r(Y.lowerLeft_X)),Number(_r(Y.lowerLeft_Y)),Number(_r(Y.upperRight_X)),Number(_r(Y.upperRight_Y))]},et=function(T){if(T.appearanceStreamContent)return T.appearanceStreamContent;if(T.V||T.DV){var E=[],x=T._V||T.DV,C=z(T,x),j=T.scope.internal.getFont(T.fontName,T.fontStyle).id;E.push("/Tx BMC"),E.push("q"),E.push("BT"),E.push(T.scope.__private__.encodeColorString(T.color)),E.push("/"+j+" "+_r(C.fontSize)+" Tf"),E.push("1 0 0 1 0 0 Tm"),E.push(C.text),E.push("ET"),E.push("Q"),E.push("EMC");var A=ne(T);return A.scope=T.scope,A.stream=E.join(`
`),A}},z=function(T,E){var x=T.fontSize===0?T.maxFontSize:T.fontSize,C={text:"",fontSize:""},j=(E=(E=E.substr(0,1)=="("?E.substr(1):E).substr(E.length-1)==")"?E.substr(0,E.length-1):E).split(" ");j=T.multiline?j.map(function(Rt){return Rt.split(`
`)}):j.map(function(Rt){return[Rt]});var A=x,G=Ge.internal.getHeight(T)||0;G=G<0?-G:G;var k=Ge.internal.getWidth(T)||0;k=k<0?-k:k;var Y=function(Rt,Pt,ue){if(Rt+1<j.length){var oe=Pt+" "+j[Rt+1][0];return V(oe,T,ue).width<=k-4}return!1};A++;t:for(;A>0;){E="",A--;var it,vt,mt=V("3",T,A).height,Ot=T.multiline?G-A:(G-mt)/2,K=Ot+=2,zt=0,Mt=0,te=0;if(A<=0){E=`(...) Tj
`,E+="% Width of Text: "+V(E,T,A=12).width+", FieldWidth:"+k+`
`;break}for(var wt="",Yt=0,xe=0;xe<j.length;xe++)if(j.hasOwnProperty(xe)){var ze=!1;if(j[xe].length!==1&&te!==j[xe].length-1){if((mt+2)*(Yt+2)+2>G)continue t;wt+=j[xe][te],ze=!0,Mt=xe,xe--}else{wt=(wt+=j[xe][te]+" ").substr(wt.length-1)==" "?wt.substr(0,wt.length-1):wt;var tr=parseInt(xe),xr=Y(tr,wt,A),Ue=xe>=j.length-1;if(xr&&!Ue){wt+=" ",te=0;continue}if(xr||Ue){if(Ue)Mt=tr;else if(T.multiline&&(mt+2)*(Yt+2)+2>G)continue t}else{if(!T.multiline||(mt+2)*(Yt+2)+2>G)continue t;Mt=tr}}for(var pe="",lr=zt;lr<=Mt;lr++){var er=j[lr];if(T.multiline){if(lr===Mt){pe+=er[te]+" ",te=(te+1)%er.length;continue}if(lr===zt){pe+=er[er.length-1]+" ";continue}}pe+=er[0]+" "}switch(pe=pe.substr(pe.length-1)==" "?pe.substr(0,pe.length-1):pe,vt=V(pe,T,A).width,T.textAlign){case"right":it=k-vt-2;break;case"center":it=(k-vt)/2;break;case"left":default:it=2}E+=_r(it)+" "+_r(K)+` Td
`,E+="("+vr(pe)+`) Tj
`,E+=-_r(it)+` 0 Td
`,K=-(A+2),vt=0,zt=ze?Mt:Mt+1,Yt++,wt=""}break}return C.text=E,C.fontSize=A,C},V=function(T,E,x){var C=E.scope.internal.getFont(E.fontName,E.fontStyle),j=E.scope.getStringUnitWidth(T,{font:C,fontSize:parseFloat(x),charSpace:0})*parseFloat(x);return{height:E.scope.getStringUnitWidth("3",{font:C,fontSize:parseFloat(x),charSpace:0})*parseFloat(x)*1.5,width:j}},at={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ht=function(T,E){var x={type:"reference",object:T};E.internal.getPageInfo(T.page).pageContext.annotations.find(function(C){return C.type===x.type&&C.object===x.object})===void 0&&E.internal.getPageInfo(T.page).pageContext.annotations.push(x)},ye=function(T,E){for(var x in T)if(T.hasOwnProperty(x)){var C=x,j=T[x];E.internal.newObjectDeferredBegin(j.objId,!0),_()(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete T[C]}},Se=function(T,E){if(E.scope=T,T.internal!==void 0&&(T.internal.acroformPlugin===void 0||T.internal.acroformPlugin.isInitialized===!1)){if(Xn.FieldNum=0,T.internal.acroformPlugin=JSON.parse(JSON.stringify(at)),T.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ze=T.internal.scaleFactor,T.internal.acroformPlugin.acroFormDictionaryRoot=new _n,T.internal.acroformPlugin.acroFormDictionaryRoot.scope=T,T.internal.acroformPlugin.acroFormDictionaryRoot._eventID=T.internal.events.subscribe("postPutResources",function(){(function(x){x.internal.events.unsubscribe(x.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete x.internal.acroformPlugin.acroFormDictionaryRoot._eventID,x.internal.acroformPlugin.printedOut=!0})(T)}),T.internal.events.subscribe("buildDocument",function(){(function(x){x.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var C=x.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var j in C)if(C.hasOwnProperty(j)){var A=C[j];A.objId=void 0,A.hasAnnotation&&Ht(A,x)}})(T)}),T.internal.events.subscribe("putCatalog",function(){(function(x){if(x.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");x.internal.write("/AcroForm "+x.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(T)}),T.internal.events.subscribe("postPutPages",function(x){(function(C,j){var A=!C;for(var G in C||(j.internal.newObjectDeferredBegin(j.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),j.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),C=C||j.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(C.hasOwnProperty(G)){var k=C[G],Y=[],it=k.Rect;if(k.Rect&&(k.Rect=He(k.Rect,j)),j.internal.newObjectDeferredBegin(k.objId,!0),k.DA=Ge.createDefaultAppearanceStream(k),_()(k)==="object"&&typeof k.getKeyValueListForStream=="function"&&(Y=k.getKeyValueListForStream()),k.Rect=it,k.hasAppearanceStream&&!k.appearanceStreamContent){var vt=et(k);Y.push({key:"AP",value:"<</N "+vt+">>"}),j.internal.acroformPlugin.xForms.push(vt)}if(k.appearanceStreamContent){var mt="";for(var Ot in k.appearanceStreamContent)if(k.appearanceStreamContent.hasOwnProperty(Ot)){var K=k.appearanceStreamContent[Ot];if(mt+="/"+Ot+" ",mt+="<<",Object.keys(K).length>=1||Array.isArray(K)){for(var G in K)if(K.hasOwnProperty(G)){var zt=K[G];typeof zt=="function"&&(zt=zt.call(j,k)),mt+="/"+G+" "+zt+" ",j.internal.acroformPlugin.xForms.indexOf(zt)>=0||j.internal.acroformPlugin.xForms.push(zt)}}else typeof(zt=K)=="function"&&(zt=zt.call(j,k)),mt+="/"+G+" "+zt,j.internal.acroformPlugin.xForms.indexOf(zt)>=0||j.internal.acroformPlugin.xForms.push(zt);mt+=">>"}Y.push({key:"AP",value:`<<
`+mt+">>"})}j.internal.putStream({additionalKeyValues:Y,objectId:k.objId}),j.internal.out("endobj")}A&&ye(j.internal.acroformPlugin.xForms,j)})(x,T)}),T.internal.acroformPlugin.isInitialized=!0}},hr=Te.__acroform__.arrayToPdfArray=function(T,E,x){var C=function(G){return G};if(Array.isArray(T)){for(var j="[",A=0;A<T.length;A++)switch(A!==0&&(j+=" "),_()(T[A])){case"boolean":case"number":case"object":j+=T[A].toString();break;case"string":T[A].substr(0,1)!=="/"?(E!==void 0&&x&&(C=x.internal.getEncryptor(E)),j+="("+vr(C(T[A].toString()))+")"):j+=T[A].toString()}return j+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Or=function(T,E,x){var C=function(j){return j};return E!==void 0&&x&&(C=x.internal.getEncryptor(E)),(T=T||"").toString(),T="("+vr(C(T))+")"},Ar=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(T){this._objId=T}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ar.prototype.toString=function(){return this.objId+" 0 R"},Ar.prototype.putStream=function(){var T=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:T,objectId:this.objId}),this.scope.internal.out("endobj")},Ar.prototype.getKeyValueListForStream=function(){var T=[],E=Object.getOwnPropertyNames(this).filter(function(A){return A!="content"&&A!="appearanceStreamContent"&&A!="scope"&&A!="objId"&&A.substring(0,1)!="_"});for(var x in E)if(Object.getOwnPropertyDescriptor(this,E[x]).configurable===!1){var C=E[x],j=this[C];j&&(Array.isArray(j)?T.push({key:C,value:hr(j,this.objId,this.scope)}):j instanceof Ar?(j.scope=this.scope,T.push({key:C,value:j.objId+" 0 R"})):typeof j!="function"&&T.push({key:C,value:j}))}return T};var Ln=function(){Ar.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var T,E=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return E},set:function(x){E=x}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(x){T=x.trim()},get:function(){return T||null}})};Er(Ln,Ar);var _n=function(){Ar.call(this);var T,E=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return E.length>0?E:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return E}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(T){var x=function(C){return C};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+vr(x(T))+")"}},set:function(x){T=x}})};Er(_n,Ar);var Xn=function T(){Ar.call(this);var E=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return E},set:function(wt){if(isNaN(wt))throw new Error('Invalid value "'+wt+'" for attribute F supplied.');E=wt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(E,3))},set:function(wt){Boolean(wt)===!0?this.F=he(E,3):this.F=ge(E,3)}});var x=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return x},set:function(wt){if(isNaN(wt))throw new Error('Invalid value "'+wt+'" for attribute Ff supplied.');x=wt}});var C=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(C.length!==0)return C},set:function(wt){C=wt!==void 0?wt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!C||isNaN(C[0])?0:C[0]},set:function(wt){C[0]=wt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!C||isNaN(C[1])?0:C[1]},set:function(wt){C[1]=wt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!C||isNaN(C[2])?0:C[2]},set:function(wt){C[2]=wt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!C||isNaN(C[3])?0:C[3]},set:function(wt){C[3]=wt}});var j="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return j},set:function(wt){switch(wt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":j=wt;break;default:throw new Error('Invalid value "'+wt+'" for attribute FT supplied.')}}});var A=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!A||A.length<1){if(this instanceof aa)return;A="FieldObject"+T.FieldNum++}var wt=function(Yt){return Yt};return this.scope&&(wt=this.scope.internal.getEncryptor(this.objId)),"("+vr(wt(A))+")"},set:function(wt){A=wt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return A},set:function(wt){A=wt}});var G="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return G},set:function(wt){G=wt}});var k="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return k},set:function(wt){k=wt}});var Y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Y},set:function(wt){Y=wt}});var it=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return it===void 0?50/Ze:it},set:function(wt){it=wt}});var vt="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return vt},set:function(wt){vt=wt}});var mt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!mt||this instanceof aa||this instanceof Pi))return Or(mt,this.objId,this.scope)},set:function(wt){wt=wt.toString(),mt=wt}});var Ot=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Ot)return this instanceof zr?Ot:Or(Ot,this.objId,this.scope)},set:function(wt){wt=wt.toString(),Ot=this instanceof zr?wt:wt.substr(0,1)==="("?Sn(wt.substr(1,wt.length-2)):Sn(wt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?Sn(Ot.substr(1,Ot.length-1)):Ot},set:function(wt){wt=wt.toString(),Ot=this instanceof zr?"/"+wt:wt}});var K=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(K)return K},set:function(wt){this.V=wt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(K)return this instanceof zr?K:Or(K,this.objId,this.scope)},set:function(wt){wt=wt.toString(),K=this instanceof zr?wt:wt.substr(0,1)==="("?Sn(wt.substr(1,wt.length-2)):Sn(wt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?Sn(K.substr(1,K.length-1)):K},set:function(wt){wt=wt.toString(),K=this instanceof zr?"/"+wt:wt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var zt,Mt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Mt},set:function(wt){wt=Boolean(wt),Mt=wt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(zt)return zt},set:function(wt){zt=wt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,1))},set:function(wt){Boolean(wt)===!0?this.Ff=he(this.Ff,1):this.Ff=ge(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,2))},set:function(wt){Boolean(wt)===!0?this.Ff=he(this.Ff,2):this.Ff=ge(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,3))},set:function(wt){Boolean(wt)===!0?this.Ff=he(this.Ff,3):this.Ff=ge(this.Ff,3)}});var te=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(te!==null)return te},set:function(wt){if([0,1,2].indexOf(wt)===-1)throw new Error('Invalid value "'+wt+'" for attribute Q supplied.');te=wt}}),Object.defineProperty(this,"textAlign",{get:function(){var wt;switch(te){case 0:default:wt="left";break;case 1:wt="center";break;case 2:wt="right"}return wt},configurable:!0,enumerable:!0,set:function(wt){switch(wt){case"right":case 2:te=2;break;case"center":case 1:te=1;break;case"left":case 0:default:te=0}}})};Er(Xn,Ar);var Ri=function(){Xn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var T=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return T},set:function(x){T=x}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return T},set:function(x){T=x}});var E=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return hr(E,this.objId,this.scope)},set:function(x){var C,j;j=[],typeof(C=x)=="string"&&(j=function(A,G,k){k||(k=1);for(var Y,it=[];Y=G.exec(A);)it.push(Y[k]);return it}(C,/\((.*?)\)/g)),E=j}}),this.getOptions=function(){return E},this.setOptions=function(x){E=x,this.sort&&E.sort()},this.addOption=function(x){x=(x=x||"").toString(),E.push(x),this.sort&&E.sort()},this.removeOption=function(x,C){for(C=C||!1,x=(x=x||"").toString();E.indexOf(x)!==-1&&(E.splice(E.indexOf(x),1),C!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,18))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,18):this.Ff=ge(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,19))},set:function(x){this.combo===!0&&(Boolean(x)===!0?this.Ff=he(this.Ff,19):this.Ff=ge(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,20))},set:function(x){Boolean(x)===!0?(this.Ff=he(this.Ff,20),E.sort()):this.Ff=ge(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,22))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,22):this.Ff=ge(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,23))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,23):this.Ff=ge(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,27))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,27):this.Ff=ge(this.Ff,27)}}),this.hasAppearanceStream=!1};Er(Ri,Xn);var Pn=function(){Ri.call(this),this.fontName="helvetica",this.combo=!1};Er(Pn,Ri);var Gn=function(){Pn.call(this),this.combo=!0};Er(Gn,Pn);var pi=function(){Gn.call(this),this.edit=!0};Er(pi,Gn);var zr=function(){Xn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,15))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,15):this.Ff=ge(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,16))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,16):this.Ff=ge(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,17))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,17):this.Ff=ge(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,26))},set:function(x){Boolean(x)===!0?this.Ff=he(this.Ff,26):this.Ff=ge(this.Ff,26)}});var T,E={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var x=function(A){return A};if(this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),Object.keys(E).length!==0){var C,j=[];for(C in j.push("<<"),E)j.push("/"+C+" ("+vr(x(E[C]))+")");return j.push(">>"),j.join(`
`)}},set:function(x){_()(x)==="object"&&(E=x)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return E.CA||""},set:function(x){typeof x=="string"&&(E.CA=x)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return T},set:function(x){T=x}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return T.substr(1,T.length-1)},set:function(x){T="/"+x}})};Er(zr,Xn);var Ji=function(){zr.call(this),this.pushButton=!0};Er(Ji,zr);var Kn=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var T=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return T},set:function(E){T=E!==void 0?E:[]}})};Er(Kn,zr);var aa=function(){var T,E;Xn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return T},set:function(j){T=j}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return E},set:function(j){E=j}});var x,C={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var j=function(k){return k};this.scope&&(j=this.scope.internal.getEncryptor(this.objId));var A,G=[];for(A in G.push("<<"),C)G.push("/"+A+" ("+vr(j(C[A]))+")");return G.push(">>"),G.join(`
`)},set:function(j){_()(j)==="object"&&(C=j)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return C.CA||""},set:function(j){typeof j=="string"&&(C.CA=j)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return x},set:function(j){x=j}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return x.substr(1,x.length-1)},set:function(j){x="/"+j}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Er(aa,Xn),Kn.prototype.setAppearance=function(T){if(!("createAppearanceStream"in T)||!("getCA"in T))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var E in this.Kids)if(this.Kids.hasOwnProperty(E)){var x=this.Kids[E];x.appearanceStreamContent=T.createAppearanceStream(x.optionName),x.caption=T.getCA()}},Kn.prototype.createOption=function(T){var E=new aa;return E.Parent=this,E.optionName=T,this.Kids.push(E),Pr.call(this.scope,E),E};var no=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};Er(no,zr);var Pi=function(){Xn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,13))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,13):this.Ff=ge(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,21))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,21):this.Ff=ge(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,23))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,23):this.Ff=ge(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,24))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,24):this.Ff=ge(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,25))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,25):this.Ff=ge(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,26))},set:function(E){Boolean(E)===!0?this.Ff=he(this.Ff,26):this.Ff=ge(this.Ff,26)}});var T=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return T},set:function(E){T=E}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return T},set:function(E){Number.isInteger(E)&&(T=E)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Er(Pi,Xn);var Ur=function(){Pi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Jt(this.Ff,14))},set:function(T){Boolean(T)===!0?this.Ff=he(this.Ff,14):this.Ff=ge(this.Ff,14)}}),this.password=!0};Er(Ur,Pi);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(T){var E=ne(T);E.scope=T.scope;var x=[],C=T.scope.internal.getFont(T.fontName,T.fontStyle).id,j=T.scope.__private__.encodeColorString(T.color),A=z(T,T.caption);return x.push("0.749023 g"),x.push("0 0 "+_r(Ge.internal.getWidth(T))+" "+_r(Ge.internal.getHeight(T))+" re"),x.push("f"),x.push("BMC"),x.push("q"),x.push("0 0 1 rg"),x.push("/"+C+" "+_r(A.fontSize)+" Tf "+j),x.push("BT"),x.push(A.text),x.push("ET"),x.push("Q"),x.push("EMC"),E.stream=x.join(`
`),E},YesNormal:function(T){var E=ne(T);E.scope=T.scope;var x=T.scope.internal.getFont(T.fontName,T.fontStyle).id,C=T.scope.__private__.encodeColorString(T.color),j=[],A=Ge.internal.getHeight(T),G=Ge.internal.getWidth(T),k=z(T,T.caption);return j.push("1 g"),j.push("0 0 "+_r(G)+" "+_r(A)+" re"),j.push("f"),j.push("q"),j.push("0 0 1 rg"),j.push("0 0 "+_r(G-1)+" "+_r(A-1)+" re"),j.push("W"),j.push("n"),j.push("0 g"),j.push("BT"),j.push("/"+x+" "+_r(k.fontSize)+" Tf "+C),j.push(k.text),j.push("ET"),j.push("Q"),E.stream=j.join(`
`),E},OffPushDown:function(T){var E=ne(T);E.scope=T.scope;var x=[];return x.push("0.749023 g"),x.push("0 0 "+_r(Ge.internal.getWidth(T))+" "+_r(Ge.internal.getHeight(T))+" re"),x.push("f"),E.stream=x.join(`
`),E}},RadioButton:{Circle:{createAppearanceStream:function(T){var E={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return E.N[T]=Ge.RadioButton.Circle.YesNormal,E.D[T]=Ge.RadioButton.Circle.YesPushDown,E},getCA:function(){return"l"},YesNormal:function(T){var E=ne(T);E.scope=T.scope;var x=[],C=Ge.internal.getWidth(T)<=Ge.internal.getHeight(T)?Ge.internal.getWidth(T)/4:Ge.internal.getHeight(T)/4;C=Number((.9*C).toFixed(5));var j=Ge.internal.Bezier_C,A=Number((C*j).toFixed(5));return x.push("q"),x.push("1 0 0 1 "+Fr(Ge.internal.getWidth(T)/2)+" "+Fr(Ge.internal.getHeight(T)/2)+" cm"),x.push(C+" 0 m"),x.push(C+" "+A+" "+A+" "+C+" 0 "+C+" c"),x.push("-"+A+" "+C+" -"+C+" "+A+" -"+C+" 0 c"),x.push("-"+C+" -"+A+" -"+A+" -"+C+" 0 -"+C+" c"),x.push(A+" -"+C+" "+C+" -"+A+" "+C+" 0 c"),x.push("f"),x.push("Q"),E.stream=x.join(`
`),E},YesPushDown:function(T){var E=ne(T);E.scope=T.scope;var x=[],C=Ge.internal.getWidth(T)<=Ge.internal.getHeight(T)?Ge.internal.getWidth(T)/4:Ge.internal.getHeight(T)/4;C=Number((.9*C).toFixed(5));var j=Number((2*C).toFixed(5)),A=Number((j*Ge.internal.Bezier_C).toFixed(5)),G=Number((C*Ge.internal.Bezier_C).toFixed(5));return x.push("0.749023 g"),x.push("q"),x.push("1 0 0 1 "+Fr(Ge.internal.getWidth(T)/2)+" "+Fr(Ge.internal.getHeight(T)/2)+" cm"),x.push(j+" 0 m"),x.push(j+" "+A+" "+A+" "+j+" 0 "+j+" c"),x.push("-"+A+" "+j+" -"+j+" "+A+" -"+j+" 0 c"),x.push("-"+j+" -"+A+" -"+A+" -"+j+" 0 -"+j+" c"),x.push(A+" -"+j+" "+j+" -"+A+" "+j+" 0 c"),x.push("f"),x.push("Q"),x.push("0 g"),x.push("q"),x.push("1 0 0 1 "+Fr(Ge.internal.getWidth(T)/2)+" "+Fr(Ge.internal.getHeight(T)/2)+" cm"),x.push(C+" 0 m"),x.push(C+" "+G+" "+G+" "+C+" 0 "+C+" c"),x.push("-"+G+" "+C+" -"+C+" "+G+" -"+C+" 0 c"),x.push("-"+C+" -"+G+" -"+G+" -"+C+" 0 -"+C+" c"),x.push(G+" -"+C+" "+C+" -"+G+" "+C+" 0 c"),x.push("f"),x.push("Q"),E.stream=x.join(`
`),E},OffPushDown:function(T){var E=ne(T);E.scope=T.scope;var x=[],C=Ge.internal.getWidth(T)<=Ge.internal.getHeight(T)?Ge.internal.getWidth(T)/4:Ge.internal.getHeight(T)/4;C=Number((.9*C).toFixed(5));var j=Number((2*C).toFixed(5)),A=Number((j*Ge.internal.Bezier_C).toFixed(5));return x.push("0.749023 g"),x.push("q"),x.push("1 0 0 1 "+Fr(Ge.internal.getWidth(T)/2)+" "+Fr(Ge.internal.getHeight(T)/2)+" cm"),x.push(j+" 0 m"),x.push(j+" "+A+" "+A+" "+j+" 0 "+j+" c"),x.push("-"+A+" "+j+" -"+j+" "+A+" -"+j+" 0 c"),x.push("-"+j+" -"+A+" -"+A+" -"+j+" 0 -"+j+" c"),x.push(A+" -"+j+" "+j+" -"+A+" "+j+" 0 c"),x.push("f"),x.push("Q"),E.stream=x.join(`
`),E}},Cross:{createAppearanceStream:function(T){var E={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return E.N[T]=Ge.RadioButton.Cross.YesNormal,E.D[T]=Ge.RadioButton.Cross.YesPushDown,E},getCA:function(){return"8"},YesNormal:function(T){var E=ne(T);E.scope=T.scope;var x=[],C=Ge.internal.calculateCross(T);return x.push("q"),x.push("1 1 "+_r(Ge.internal.getWidth(T)-2)+" "+_r(Ge.internal.getHeight(T)-2)+" re"),x.push("W"),x.push("n"),x.push(_r(C.x1.x)+" "+_r(C.x1.y)+" m"),x.push(_r(C.x2.x)+" "+_r(C.x2.y)+" l"),x.push(_r(C.x4.x)+" "+_r(C.x4.y)+" m"),x.push(_r(C.x3.x)+" "+_r(C.x3.y)+" l"),x.push("s"),x.push("Q"),E.stream=x.join(`
`),E},YesPushDown:function(T){var E=ne(T);E.scope=T.scope;var x=Ge.internal.calculateCross(T),C=[];return C.push("0.749023 g"),C.push("0 0 "+_r(Ge.internal.getWidth(T))+" "+_r(Ge.internal.getHeight(T))+" re"),C.push("f"),C.push("q"),C.push("1 1 "+_r(Ge.internal.getWidth(T)-2)+" "+_r(Ge.internal.getHeight(T)-2)+" re"),C.push("W"),C.push("n"),C.push(_r(x.x1.x)+" "+_r(x.x1.y)+" m"),C.push(_r(x.x2.x)+" "+_r(x.x2.y)+" l"),C.push(_r(x.x4.x)+" "+_r(x.x4.y)+" m"),C.push(_r(x.x3.x)+" "+_r(x.x3.y)+" l"),C.push("s"),C.push("Q"),E.stream=C.join(`
`),E},OffPushDown:function(T){var E=ne(T);E.scope=T.scope;var x=[];return x.push("0.749023 g"),x.push("0 0 "+_r(Ge.internal.getWidth(T))+" "+_r(Ge.internal.getHeight(T))+" re"),x.push("f"),E.stream=x.join(`
`),E}}},createDefaultAppearanceStream:function(T){var E=T.scope.internal.getFont(T.fontName,T.fontStyle).id,x=T.scope.__private__.encodeColorString(T.color);return"/"+E+" "+T.fontSize+" Tf "+x}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(T){var E=Ge.internal.getWidth(T),x=Ge.internal.getHeight(T),C=Math.min(E,x);return{x1:{x:(E-C)/2,y:(x-C)/2+C},x2:{x:(E-C)/2+C,y:(x-C)/2},x3:{x:(E-C)/2,y:(x-C)/2},x4:{x:(E-C)/2+C,y:(x-C)/2+C}}}},Ge.internal.getWidth=function(T){var E=0;return _()(T)==="object"&&(E=Lt(T.Rect[2])),E},Ge.internal.getHeight=function(T){var E=0;return _()(T)==="object"&&(E=Lt(T.Rect[3])),E};var Pr=Te.addField=function(T){if(Se(this,T),!(T instanceof Xn))throw new Error("Invalid argument passed to jsPDF.addField.");var E;return(E=T).scope.internal.acroformPlugin.printedOut&&(E.scope.internal.acroformPlugin.printedOut=!1,E.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),E.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(E),T.page=T.scope.internal.getCurrentPageInfo().pageNumber,this};Te.AcroFormChoiceField=Ri,Te.AcroFormListBox=Pn,Te.AcroFormComboBox=Gn,Te.AcroFormEditBox=pi,Te.AcroFormButton=zr,Te.AcroFormPushButton=Ji,Te.AcroFormRadioButton=Kn,Te.AcroFormCheckBox=no,Te.AcroFormTextField=Pi,Te.AcroFormPasswordField=Ur,Te.AcroFormAppearance=Ge,Te.AcroForm={ChoiceField:Ri,ListBox:Pn,ComboBox:Gn,EditBox:pi,Button:zr,PushButton:Ji,RadioButton:Kn,CheckBox:no,TextField:Pi,PasswordField:Ur,Appearance:Ge},Qt.AcroForm={ChoiceField:Ri,ListBox:Pn,ComboBox:Gn,EditBox:pi,Button:zr,PushButton:Ji,RadioButton:Kn,CheckBox:no,TextField:Pi,PasswordField:Ur,Appearance:Ge};function on(T){return T.reduce(function(E,x,C){return E[x]=C,E},{})}(function(T){T.__addimage__={};var E="UNKNOWN",x={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},C=T.__addimage__.getImageFileTypeByImageData=function(Rt,Pt){var ue,oe,$e,Xe,or,Re=E;if((Pt=Pt||E)==="RGBA"||Rt.data!==void 0&&Rt.data instanceof Uint8ClampedArray&&"height"in Rt&&"width"in Rt)return"RGBA";if(xr(Rt))for(or in x)for($e=x[or],ue=0;ue<$e.length;ue+=1){for(Xe=!0,oe=0;oe<$e[ue].length;oe+=1)if($e[ue][oe]!==void 0&&$e[ue][oe]!==Rt[oe]){Xe=!1;break}if(Xe===!0){Re=or;break}}else for(or in x)for($e=x[or],ue=0;ue<$e.length;ue+=1){for(Xe=!0,oe=0;oe<$e[ue].length;oe+=1)if($e[ue][oe]!==void 0&&$e[ue][oe]!==Rt.charCodeAt(oe)){Xe=!1;break}if(Xe===!0){Re=or;break}}return Re===E&&Pt!==E&&(Re=Pt),Re},j=function Rt(Pt){for(var ue=this.internal.write,oe=this.internal.putStream,$e=(0,this.internal.getFilters)();$e.indexOf("FlateEncode")!==-1;)$e.splice($e.indexOf("FlateEncode"),1);Pt.objectId=this.internal.newObject();var Xe=[];if(Xe.push({key:"Type",value:"/XObject"}),Xe.push({key:"Subtype",value:"/Image"}),Xe.push({key:"Width",value:Pt.width}),Xe.push({key:"Height",value:Pt.height}),Pt.colorSpace===te.INDEXED?Xe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Pt.palette.length/3-1)+" "+("sMask"in Pt&&Pt.sMask!==void 0?Pt.objectId+2:Pt.objectId+1)+" 0 R]"}):(Xe.push({key:"ColorSpace",value:"/"+Pt.colorSpace}),Pt.colorSpace===te.DEVICE_CMYK&&Xe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Xe.push({key:"BitsPerComponent",value:Pt.bitsPerComponent}),"decodeParameters"in Pt&&Pt.decodeParameters!==void 0&&Xe.push({key:"DecodeParms",value:"<<"+Pt.decodeParameters+">>"}),"transparency"in Pt&&Array.isArray(Pt.transparency)){for(var or="",Re=0,je=Pt.transparency.length;Re<je;Re++)or+=Pt.transparency[Re]+" "+Pt.transparency[Re]+" ";Xe.push({key:"Mask",value:"["+or+"]"})}Pt.sMask!==void 0&&Xe.push({key:"SMask",value:Pt.objectId+1+" 0 R"});var Je=Pt.filter!==void 0?["/"+Pt.filter]:void 0;if(oe({data:Pt.data,additionalKeyValues:Xe,alreadyAppliedFilters:Je,objectId:Pt.objectId}),ue("endobj"),"sMask"in Pt&&Pt.sMask!==void 0){var Kr="/Predictor "+Pt.predictor+" /Colors 1 /BitsPerComponent "+Pt.bitsPerComponent+" /Columns "+Pt.width,ft={width:Pt.width,height:Pt.height,colorSpace:"DeviceGray",bitsPerComponent:Pt.bitsPerComponent,decodeParameters:Kr,data:Pt.sMask};"filter"in Pt&&(ft.filter=Pt.filter),Rt.call(this,ft)}if(Pt.colorSpace===te.INDEXED){var Ft=this.internal.newObject();oe({data:pe(new Uint8Array(Pt.palette)),objectId:Ft}),ue("endobj")}},A=function(){var Rt=this.internal.collections.addImage_images;for(var Pt in Rt)j.call(this,Rt[Pt])},G=function(){var Rt,Pt=this.internal.collections.addImage_images,ue=this.internal.write;for(var oe in Pt)ue("/I"+(Rt=Pt[oe]).index,Rt.objectId,"0","R")},k=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",G))},Y=function(){var Rt=this.internal.collections.addImage_images;return k.call(this),Rt},it=function(){return Object.keys(this.internal.collections.addImage_images).length},vt=function(Rt){return typeof T["process"+Rt.toUpperCase()]=="function"},mt=function(Rt){return _()(Rt)==="object"&&Rt.nodeType===1},Ot=function(Rt,Pt){if(Rt.nodeName==="IMG"&&Rt.hasAttribute("src")){var ue=""+Rt.getAttribute("src");if(ue.indexOf("data:image/")===0)return W(unescape(ue).split("base64,").pop());var oe=T.loadFile(ue,!0);if(oe!==void 0)return oe}if(Rt.nodeName==="CANVAS"){if(Rt.width===0||Rt.height===0)throw new Error("Given canvas must have data. Canvas width: "+Rt.width+", height: "+Rt.height);var $e;switch(Pt){case"PNG":$e="image/png";break;case"WEBP":$e="image/webp";break;case"JPEG":case"JPG":default:$e="image/jpeg"}return W(Rt.toDataURL($e,1).split("base64,").pop())}},K=function(Rt){var Pt=this.internal.collections.addImage_images;if(Pt){for(var ue in Pt)if(Rt===Pt[ue].alias)return Pt[ue]}},zt=function(Rt,Pt,ue){return Rt||Pt||(Rt=-96,Pt=-96),Rt<0&&(Rt=-1*ue.width*72/Rt/this.internal.scaleFactor),Pt<0&&(Pt=-1*ue.height*72/Pt/this.internal.scaleFactor),Rt===0&&(Rt=Pt*ue.width/ue.height),Pt===0&&(Pt=Rt*ue.height/ue.width),[Rt,Pt]},Mt=function(Rt,Pt,ue,oe,$e,Xe){var or=zt.call(this,ue,oe,$e),Re=this.internal.getCoordinateString,je=this.internal.getVerticalCoordinateString,Je=Y.call(this);if(ue=or[0],oe=or[1],Je[$e.index]=$e,Xe){Xe*=Math.PI/180;var Kr=Math.cos(Xe),ft=Math.sin(Xe),Ft=function(fe){return fe.toFixed(4)},Kt=[Ft(Kr),Ft(ft),Ft(-1*ft),Ft(Kr),0,0,"cm"]}this.internal.write("q"),Xe?(this.internal.write([1,"0","0",1,Re(Rt),je(Pt+oe),"cm"].join(" ")),this.internal.write(Kt.join(" ")),this.internal.write([Re(ue),"0","0",Re(oe),"0","0","cm"].join(" "))):this.internal.write([Re(ue),"0","0",Re(oe),Re(Rt),je(Pt+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$e.index+" Do"),this.internal.write("Q")},te=T.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};T.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var wt=T.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Yt=T.__addimage__.sHashCode=function(Rt){var Pt,ue,oe=0;if(typeof Rt=="string")for(ue=Rt.length,Pt=0;Pt<ue;Pt++)oe=(oe<<5)-oe+Rt.charCodeAt(Pt),oe|=0;else if(xr(Rt))for(ue=Rt.byteLength/2,Pt=0;Pt<ue;Pt++)oe=(oe<<5)-oe+Rt[Pt],oe|=0;return oe},xe=T.__addimage__.validateStringAsBase64=function(Rt){(Rt=Rt||"").toString().trim();var Pt=!0;return Rt.length===0&&(Pt=!1),Rt.length%4!=0&&(Pt=!1),/^[A-Za-z0-9+/]+$/.test(Rt.substr(0,Rt.length-2))===!1&&(Pt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Rt.substr(-2))===!1&&(Pt=!1),Pt},ze=T.__addimage__.extractImageFromDataUrl=function(Rt){var Pt=(Rt=Rt||"").split("base64,"),ue=null;if(Pt.length===2){var oe=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Pt[0]);Array.isArray(oe)&&(ue={mimeType:oe[1],charset:oe[2],data:Pt[1]})}return ue},tr=T.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};T.__addimage__.isArrayBuffer=function(Rt){return tr()&&Rt instanceof ArrayBuffer};var xr=T.__addimage__.isArrayBufferView=function(Rt){return tr()&&typeof Uint32Array!="undefined"&&(Rt instanceof Int8Array||Rt instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&Rt instanceof Uint8ClampedArray||Rt instanceof Int16Array||Rt instanceof Uint16Array||Rt instanceof Int32Array||Rt instanceof Uint32Array||Rt instanceof Float32Array||Rt instanceof Float64Array)},Ue=T.__addimage__.binaryStringToUint8Array=function(Rt){for(var Pt=Rt.length,ue=new Uint8Array(Pt),oe=0;oe<Pt;oe++)ue[oe]=Rt.charCodeAt(oe);return ue},pe=T.__addimage__.arrayBufferToBinaryString=function(Rt){for(var Pt="",ue=xr(Rt)?Rt:new Uint8Array(Rt),oe=0;oe<ue.length;oe+=8192)Pt+=String.fromCharCode.apply(null,ue.subarray(oe,oe+8192));return Pt};T.addImage=function(){var Rt,Pt,ue,oe,$e,Xe,or,Re,je;if(typeof arguments[1]=="number"?(Pt=E,ue=arguments[1],oe=arguments[2],$e=arguments[3],Xe=arguments[4],or=arguments[5],Re=arguments[6],je=arguments[7]):(Pt=arguments[1],ue=arguments[2],oe=arguments[3],$e=arguments[4],Xe=arguments[5],or=arguments[6],Re=arguments[7],je=arguments[8]),_()(Rt=arguments[0])==="object"&&!mt(Rt)&&"imageData"in Rt){var Je=Rt;Rt=Je.imageData,Pt=Je.format||Pt||E,ue=Je.x||ue||0,oe=Je.y||oe||0,$e=Je.w||Je.width||$e,Xe=Je.h||Je.height||Xe,or=Je.alias||or,Re=Je.compression||Re,je=Je.rotation||Je.angle||je}var Kr=this.internal.getFilters();if(Re===void 0&&Kr.indexOf("FlateEncode")!==-1&&(Re="SLOW"),isNaN(ue)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");k.call(this);var ft=lr.call(this,Rt,Pt,or,Re);return Mt.call(this,ue,oe,$e,Xe,ft,je),this};var lr=function(Rt,Pt,ue,oe){var $e,Xe,or;if(typeof Rt=="string"&&C(Rt)===E){Rt=unescape(Rt);var Re=er(Rt,!1);(Re!==""||(Re=T.loadFile(Rt,!0))!==void 0)&&(Rt=Re)}if(mt(Rt)&&(Rt=Ot(Rt,Pt)),Pt=C(Rt,Pt),!vt(Pt))throw new Error("addImage does not support files of type '"+Pt+"', please ensure that a plugin for '"+Pt+"' support is added.");if(((or=ue)==null||or.length===0)&&(ue=function(je){return typeof je=="string"||xr(je)?Yt(je):xr(je.data)?Yt(je.data):null}(Rt)),($e=K.call(this,ue))||(tr()&&(Rt instanceof Uint8Array||Pt==="RGBA"||(Xe=Rt,Rt=Ue(Rt))),$e=this["process"+Pt.toUpperCase()](Rt,it.call(this),ue,function(je){return je&&typeof je=="string"&&(je=je.toUpperCase()),je in T.image_compression?je:wt.NONE}(oe),Xe)),!$e)throw new Error("An unknown error occurred whilst processing the image.");return $e},er=T.__addimage__.convertBase64ToBinaryString=function(Rt,Pt){var ue;Pt=typeof Pt!="boolean"||Pt;var oe,$e="";if(typeof Rt=="string"){oe=(ue=ze(Rt))!==null?ue.data:Rt;try{$e=W(oe)}catch(Xe){if(Pt)throw xe(oe)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Xe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $e};T.getImageProperties=function(Rt){var Pt,ue,oe="";if(mt(Rt)&&(Rt=Ot(Rt)),typeof Rt=="string"&&C(Rt)===E&&((oe=er(Rt,!1))===""&&(oe=T.loadFile(Rt)||""),Rt=oe),ue=C(Rt),!vt(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(!tr()||Rt instanceof Uint8Array||(Rt=Ue(Rt)),!(Pt=this["process"+ue.toUpperCase()](Rt)))throw new Error("An unknown error occurred whilst processing the image");return Pt.fileType=ue,Pt}})(Qt.API),function(T){var E=function(x){if(x!==void 0&&x!="")return!0};Qt.API.events.push(["addPage",function(x){this.internal.getPageInfo(x.pageNumber).pageContext.annotations=[]}]),T.events.push(["putPage",function(x){for(var C,j,A,G=this.internal.getCoordinateString,k=this.internal.getVerticalCoordinateString,Y=this.internal.getPageInfoByObjId(x.objId),it=x.pageContext.annotations,vt=!1,mt=0;mt<it.length&&!vt;mt++)switch((C=it[mt]).type){case"link":(E(C.options.url)||E(C.options.pageNumber))&&(vt=!0);break;case"reference":case"text":case"freetext":vt=!0}if(vt!=0){this.internal.write("/Annots [");for(var Ot=0;Ot<it.length;Ot++){C=it[Ot];var K=this.internal.pdfEscape,zt=this.internal.getEncryptor(x.objId);switch(C.type){case"reference":this.internal.write(" "+C.object.objId+" 0 R ");break;case"text":var Mt=this.internal.newAdditionalObject(),te=this.internal.newAdditionalObject(),wt=this.internal.getEncryptor(Mt.objId),Yt=C.title||"Note";A="<</Type /Annot /Subtype /Text "+(j="/Rect ["+G(C.bounds.x)+" "+k(C.bounds.y+C.bounds.h)+" "+G(C.bounds.x+C.bounds.w)+" "+k(C.bounds.y)+"] ")+"/Contents ("+K(wt(C.contents))+")",A+=" /Popup "+te.objId+" 0 R",A+=" /P "+Y.objId+" 0 R",A+=" /T ("+K(wt(Yt))+") >>",Mt.content=A;var xe=Mt.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(j="/Rect ["+G(C.bounds.x+30)+" "+k(C.bounds.y+C.bounds.h)+" "+G(C.bounds.x+C.bounds.w+30)+" "+k(C.bounds.y)+"] ")+" /Parent "+xe,C.open&&(A+=" /Open true"),A+=" >>",te.content=A,this.internal.write(Mt.objId,"0 R",te.objId,"0 R");break;case"freetext":j="/Rect ["+G(C.bounds.x)+" "+k(C.bounds.y)+" "+G(C.bounds.x+C.bounds.w)+" "+k(C.bounds.y+C.bounds.h)+"] ";var ze=C.color||"#000000";A="<</Type /Annot /Subtype /FreeText "+j+"/Contents ("+K(zt(C.contents))+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ze+")",A+=" /Border [0 0 0]",A+=" >>",this.internal.write(A);break;case"link":if(C.options.name){var tr=this.annotations._nameMap[C.options.name];C.options.pageNumber=tr.page,C.options.top=tr.y}else C.options.top||(C.options.top=0);if(j="/Rect ["+C.finalBounds.x+" "+C.finalBounds.y+" "+C.finalBounds.w+" "+C.finalBounds.h+"] ",A="",C.options.url)A="<</Type /Annot /Subtype /Link "+j+"/Border [0 0 0] /A <</S /URI /URI ("+K(zt(C.options.url))+") >>";else if(C.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+j+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(C.options.pageNumber).objId+" 0 R",C.options.magFactor=C.options.magFactor||"XYZ",C.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+C.options.top+"]";break;case"FitV":C.options.left=C.options.left||0,A+=" /FitV "+C.options.left+"]";break;case"XYZ":default:var xr=k(C.options.top);C.options.left=C.options.left||0,C.options.zoom===void 0&&(C.options.zoom=0),A+=" /XYZ "+C.options.left+" "+xr+" "+C.options.zoom+"]"}A!=""&&(A+=" >>",this.internal.write(A))}}this.internal.write("]")}}]),T.createAnnotation=function(x){var C=this.internal.getCurrentPageInfo();switch(x.type){case"link":this.link(x.bounds.x,x.bounds.y,x.bounds.w,x.bounds.h,x);break;case"text":case"freetext":C.pageContext.annotations.push(x)}},T.link=function(x,C,j,A,G){var k=this.internal.getCurrentPageInfo(),Y=this.internal.getCoordinateString,it=this.internal.getVerticalCoordinateString;k.pageContext.annotations.push({finalBounds:{x:Y(x),y:it(C),w:Y(x+j),h:it(C+A)},options:G,type:"link"})},T.textWithLink=function(x,C,j,A){var G,k,Y=this.getTextWidth(x),it=this.internal.getLineHeight()/this.internal.scaleFactor;if(A.maxWidth!==void 0){k=A.maxWidth;var vt=this.splitTextToSize(x,k).length;G=Math.ceil(it*vt)}else k=Y,G=it;return this.text(x,C,j,A),j+=.2*it,A.align==="center"&&(C-=Y/2),A.align==="right"&&(C-=Y),this.link(C,j-it,k,G,A),Y},T.getTextWidth=function(x){var C=this.internal.getFontSize();return this.getStringUnitWidth(x)*C/this.internal.scaleFactor}}(Qt.API),function(T){var E={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},x={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},C={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},j=[1570,1571,1573,1575];T.__arabicParser__={};var A=T.__arabicParser__.isInArabicSubstitutionA=function(Mt){return E[Mt.charCodeAt(0)]!==void 0},G=T.__arabicParser__.isArabicLetter=function(Mt){return typeof Mt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Mt)},k=T.__arabicParser__.isArabicEndLetter=function(Mt){return G(Mt)&&A(Mt)&&E[Mt.charCodeAt(0)].length<=2},Y=T.__arabicParser__.isArabicAlfLetter=function(Mt){return G(Mt)&&j.indexOf(Mt.charCodeAt(0))>=0};T.__arabicParser__.arabicLetterHasIsolatedForm=function(Mt){return G(Mt)&&A(Mt)&&E[Mt.charCodeAt(0)].length>=1};var it=T.__arabicParser__.arabicLetterHasFinalForm=function(Mt){return G(Mt)&&A(Mt)&&E[Mt.charCodeAt(0)].length>=2};T.__arabicParser__.arabicLetterHasInitialForm=function(Mt){return G(Mt)&&A(Mt)&&E[Mt.charCodeAt(0)].length>=3};var vt=T.__arabicParser__.arabicLetterHasMedialForm=function(Mt){return G(Mt)&&A(Mt)&&E[Mt.charCodeAt(0)].length==4},mt=T.__arabicParser__.resolveLigatures=function(Mt){var te=0,wt=x,Yt="",xe=0;for(te=0;te<Mt.length;te+=1)wt[Mt.charCodeAt(te)]!==void 0?(xe++,typeof(wt=wt[Mt.charCodeAt(te)])=="number"&&(Yt+=String.fromCharCode(wt),wt=x,xe=0),te===Mt.length-1&&(wt=x,Yt+=Mt.charAt(te-(xe-1)),te-=xe-1,xe=0)):(wt=x,Yt+=Mt.charAt(te-xe),te-=xe,xe=0);return Yt};T.__arabicParser__.isArabicDiacritic=function(Mt){return Mt!==void 0&&C[Mt.charCodeAt(0)]!==void 0};var Ot=T.__arabicParser__.getCorrectForm=function(Mt,te,wt){return G(Mt)?A(Mt)===!1?-1:!it(Mt)||!G(te)&&!G(wt)||!G(wt)&&k(te)||k(Mt)&&!G(te)||k(Mt)&&Y(te)||k(Mt)&&k(te)?0:vt(Mt)&&G(te)&&!k(te)&&G(wt)&&it(wt)?3:k(Mt)||!G(wt)?1:2:-1},K=function(Mt){var te=0,wt=0,Yt=0,xe="",ze="",tr="",xr=(Mt=Mt||"").split("\\s+"),Ue=[];for(te=0;te<xr.length;te+=1){for(Ue.push(""),wt=0;wt<xr[te].length;wt+=1)xe=xr[te][wt],ze=xr[te][wt-1],tr=xr[te][wt+1],G(xe)?(Yt=Ot(xe,ze,tr),Ue[te]+=Yt!==-1?String.fromCharCode(E[xe.charCodeAt(0)][Yt]):xe):Ue[te]+=xe;Ue[te]=mt(Ue[te])}return Ue.join(" ")},zt=T.__arabicParser__.processArabic=T.processArabic=function(){var Mt,te=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,wt=[];if(Array.isArray(te)){var Yt=0;for(wt=[],Yt=0;Yt<te.length;Yt+=1)Array.isArray(te[Yt])?wt.push([K(te[Yt][0]),te[Yt][1],te[Yt][2]]):wt.push([K(te[Yt])]);Mt=wt}else Mt=K(te);return typeof arguments[0]=="string"?Mt:(arguments[0].text=Mt,arguments[0])};T.events.push(["preProcessText",zt])}(Qt.API),Qt.API.autoPrint=function(T){var E;switch((T=T||{}).variant=T.variant||"non-conform",T.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){E=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+E+" 0 R")})}return this},function(T){var E=function(){var x=void 0;Object.defineProperty(this,"pdf",{get:function(){return x},set:function(k){x=k}});var C=150;Object.defineProperty(this,"width",{get:function(){return C},set:function(k){C=isNaN(k)||Number.isInteger(k)===!1||k<0?150:k,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=C+1)}});var j=300;Object.defineProperty(this,"height",{get:function(){return j},set:function(k){j=isNaN(k)||Number.isInteger(k)===!1||k<0?300:k,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=j+1)}});var A=[];Object.defineProperty(this,"childNodes",{get:function(){return A},set:function(k){A=k}});var G={};Object.defineProperty(this,"style",{get:function(){return G},set:function(k){G=k}}),Object.defineProperty(this,"parentNode",{})};E.prototype.getContext=function(x,C){var j;if((x=x||"2d")!=="2d")return null;for(j in C)this.pdf.context2d.hasOwnProperty(j)&&(this.pdf.context2d[j]=C[j]);return this.pdf.context2d._canvas=this,this.pdf.context2d},E.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},T.events.push(["initialized",function(){this.canvas=new E,this.canvas.pdf=this}])}(Qt.API),function(T){var E={left:0,top:0,bottom:0,right:0},x=!1,C=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},E),this.internal.__cell__.margins.width=this.getPageWidth(),j.call(this))},j=function(){this.internal.__cell__.lastCell=new A,this.internal.__cell__.pages=1},A=function(){var Y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Y},set:function(Mt){Y=Mt}});var it=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return it},set:function(Mt){it=Mt}});var vt=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return vt},set:function(Mt){vt=Mt}});var mt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return mt},set:function(Mt){mt=Mt}});var Ot=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Ot},set:function(Mt){Ot=Mt}});var K=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return K},set:function(Mt){K=Mt}});var zt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return zt},set:function(Mt){zt=Mt}}),this};A.prototype.clone=function(){return new A(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},A.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},T.setHeaderFunction=function(Y){return C.call(this),this.internal.__cell__.headerFunction=typeof Y=="function"?Y:void 0,this},T.getTextDimensions=function(Y,it){C.call(this);var vt=(it=it||{}).fontSize||this.getFontSize(),mt=it.font||this.getFont(),Ot=it.scaleFactor||this.internal.scaleFactor,K=0,zt=0,Mt=0,te=this;if(!Array.isArray(Y)&&typeof Y!="string"){if(typeof Y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Y=String(Y)}var wt=it.maxWidth;wt>0?typeof Y=="string"?Y=this.splitTextToSize(Y,wt):Object.prototype.toString.call(Y)==="[object Array]"&&(Y=Y.reduce(function(xe,ze){return xe.concat(te.splitTextToSize(ze,wt))},[])):Y=Array.isArray(Y)?Y:[Y];for(var Yt=0;Yt<Y.length;Yt++)K<(Mt=this.getStringUnitWidth(Y[Yt],{font:mt})*vt)&&(K=Mt);return K!==0&&(zt=Y.length),{w:K/=Ot,h:Math.max((zt*vt*this.getLineHeightFactor()-vt*(this.getLineHeightFactor()-1))/Ot,0)}},T.cellAddPage=function(){C.call(this),this.addPage();var Y=this.internal.__cell__.margins||E;return this.internal.__cell__.lastCell=new A(Y.left,Y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var G=T.cell=function(){var Y;Y=arguments[0]instanceof A?arguments[0]:new A(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),C.call(this);var it=this.internal.__cell__.lastCell,vt=this.internal.__cell__.padding,mt=this.internal.__cell__.margins||E,Ot=this.internal.__cell__.tableHeaderRow,K=this.internal.__cell__.printHeaders;return it.lineNumber!==void 0&&(it.lineNumber===Y.lineNumber?(Y.x=(it.x||0)+(it.width||0),Y.y=it.y||0):it.y+it.height+Y.height+mt.bottom>this.getPageHeight()?(this.cellAddPage(),Y.y=mt.top,K&&Ot&&(this.printHeaderRow(Y.lineNumber,!0),Y.y+=Ot[0].height)):Y.y=it.y+it.height||Y.y),Y.text[0]!==void 0&&(this.rect(Y.x,Y.y,Y.width,Y.height,x===!0?"FD":void 0),Y.align==="right"?this.text(Y.text,Y.x+Y.width-vt,Y.y+vt,{align:"right",baseline:"top"}):Y.align==="center"?this.text(Y.text,Y.x+Y.width/2,Y.y+vt,{align:"center",baseline:"top",maxWidth:Y.width-vt-vt}):this.text(Y.text,Y.x+vt,Y.y+vt,{align:"left",baseline:"top",maxWidth:Y.width-vt-vt})),this.internal.__cell__.lastCell=Y,this};T.table=function(Y,it,vt,mt,Ot){if(C.call(this),!vt)throw new Error("No data for PDF table.");var K,zt,Mt,te,wt=[],Yt=[],xe=[],ze={},tr={},xr=[],Ue=[],pe=(Ot=Ot||{}).autoSize||!1,lr=Ot.printHeaders!==!1,er=Ot.css&&Ot.css["font-size"]!==void 0?16*Ot.css["font-size"]:Ot.fontSize||12,Rt=Ot.margins||Object.assign({width:this.getPageWidth()},E),Pt=typeof Ot.padding=="number"?Ot.padding:3,ue=Ot.headerBackgroundColor||"#c8c8c8",oe=Ot.headerTextColor||"#000";if(j.call(this),this.internal.__cell__.printHeaders=lr,this.internal.__cell__.margins=Rt,this.internal.__cell__.table_font_size=er,this.internal.__cell__.padding=Pt,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=oe,this.setFontSize(er),mt==null)Yt=wt=Object.keys(vt[0]),xe=wt.map(function(){return"left"});else if(Array.isArray(mt)&&_()(mt[0])==="object")for(wt=mt.map(function(Je){return Je.name}),Yt=mt.map(function(Je){return Je.prompt||Je.name||""}),xe=mt.map(function(Je){return Je.align||"left"}),K=0;K<mt.length;K+=1)tr[mt[K].name]=mt[K].width*(19.049976/25.4);else Array.isArray(mt)&&typeof mt[0]=="string"&&(Yt=wt=mt,xe=wt.map(function(){return"left"}));if(pe||Array.isArray(mt)&&typeof mt[0]=="string")for(K=0;K<wt.length;K+=1){for(ze[te=wt[K]]=vt.map(function(Je){return Je[te]}),this.setFont(void 0,"bold"),xr.push(this.getTextDimensions(Yt[K],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),zt=ze[te],this.setFont(void 0,"normal"),Mt=0;Mt<zt.length;Mt+=1)xr.push(this.getTextDimensions(zt[Mt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tr[te]=Math.max.apply(null,xr)+Pt+Pt,xr=[]}if(lr){var $e={};for(K=0;K<wt.length;K+=1)$e[wt[K]]={},$e[wt[K]].text=Yt[K],$e[wt[K]].align=xe[K];var Xe=k.call(this,$e,tr);Ue=wt.map(function(Je){return new A(Y,it,tr[Je],Xe,$e[Je].text,void 0,$e[Je].align)}),this.setTableHeaderRow(Ue),this.printHeaderRow(1,!1)}var or=mt.reduce(function(Je,Kr){return Je[Kr.name]=Kr.align,Je},{});for(K=0;K<vt.length;K+=1){"rowStart"in Ot&&Ot.rowStart instanceof Function&&Ot.rowStart({row:K,data:vt[K]},this);var Re=k.call(this,vt[K],tr);for(Mt=0;Mt<wt.length;Mt+=1){var je=vt[K][wt[Mt]];"cellStart"in Ot&&Ot.cellStart instanceof Function&&Ot.cellStart({row:K,col:Mt,data:je},this),G.call(this,new A(Y,it,tr[wt[Mt]],Re,je,K+2,or[wt[Mt]]))}}return this.internal.__cell__.table_x=Y,this.internal.__cell__.table_y=it,this};var k=function(Y,it){var vt=this.internal.__cell__.padding,mt=this.internal.__cell__.table_font_size,Ot=this.internal.scaleFactor;return Object.keys(Y).map(function(K){var zt=Y[K];return this.splitTextToSize(zt.hasOwnProperty("text")?zt.text:zt,it[K]-vt-vt)},this).map(function(K){return this.getLineHeightFactor()*K.length*mt/Ot+vt+vt},this).reduce(function(K,zt){return Math.max(K,zt)},0)};T.setTableHeaderRow=function(Y){C.call(this),this.internal.__cell__.tableHeaderRow=Y},T.printHeaderRow=function(Y,it){if(C.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var vt;if(x=!0,typeof this.internal.__cell__.headerFunction=="function"){var mt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new A(mt[0],mt[1],mt[2],mt[3],void 0,-1)}this.setFont(void 0,"bold");for(var Ot=[],K=0;K<this.internal.__cell__.tableHeaderRow.length;K+=1){vt=this.internal.__cell__.tableHeaderRow[K].clone(),it&&(vt.y=this.internal.__cell__.margins.top||0,Ot.push(vt)),vt.lineNumber=Y;var zt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),G.call(this,vt),this.setTextColor(zt)}Ot.length>0&&this.setTableHeaderRow(Ot),this.setFont(void 0,"normal"),x=!1}}(Qt.API);var In={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qn=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wo=on(qn),fn=[100,200,300,400,500,600,700,800,900],vi=on(fn);function Do(T){var E=T.family.replace(/"|'/g,"").toLowerCase(),x=function(A){return In[A=A||"normal"]?A:"normal"}(T.style),C=function(A){if(!A)return 400;if(typeof A=="number")return A>=100&&A<=900&&A%100==0?A:400;if(/^\d00$/.test(A))return parseInt(A);switch(A){case"bold":return 700;case"normal":default:return 400}}(T.weight),j=function(A){return typeof wo[A=A||"normal"]=="number"?A:"normal"}(T.stretch);return{family:E,style:x,weight:C,stretch:j,src:T.src||[],ref:T.ref||{name:E,style:[j,x,C].join(" ")}}}function Ho(T,E,x,C){var j;for(j=x;j>=0&&j<E.length;j+=C)if(T[E[j]])return T[E[j]];for(j=x;j>=0&&j<E.length;j-=C)if(T[E[j]])return T[E[j]]}var Bo={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pu={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function al(T){return[T.stretch,T.style,T.weight,T.family].join(" ")}function Ml(T,E,x){for(var C=(x=x||{}).defaultFontFamily||"times",j=Object.assign({},Bo,x.genericFontFamilies||{}),A=null,G=null,k=0;k<E.length;++k)if(j[(A=Do(E[k])).family]&&(A.family=j[A.family]),T.hasOwnProperty(A.family)){G=T[A.family];break}if(!(G=G||T[C]))throw new Error("Could not find a font-family for the rule '"+al(A)+"' and default family '"+C+"'.");if(G=function(Y,it){if(it[Y])return it[Y];var vt=wo[Y],mt=vt<=wo.normal?-1:1,Ot=Ho(it,qn,vt,mt);if(!Ot)throw new Error("Could not find a matching font-stretch value for "+Y);return Ot}(A.stretch,G),G=function(Y,it){if(it[Y])return it[Y];for(var vt=In[Y],mt=0;mt<vt.length;++mt)if(it[vt[mt]])return it[vt[mt]];throw new Error("Could not find a matching font-style for "+Y)}(A.style,G),!(G=function(Y,it){if(it[Y])return it[Y];if(Y===400&&it[500])return it[500];if(Y===500&&it[400])return it[400];var vt=vi[Y],mt=Ho(it,fn,vt,Y<400?-1:1);if(!mt)throw new Error("Could not find a matching font-weight for value "+Y);return mt}(A.weight,G)))throw new Error("Failed to resolve a font for the rule '"+al(A)+"'.");return G}function Fi(T){return T.trimLeft()}function rd(T,E){for(var x=0;x<T.length;){if(T.charAt(x)===E)return[T.substring(0,x),T.substring(x+1)];x+=1}return null}function Wf(T){var E=T.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return E===null?null:[E[0],T.substring(E[0].length)]}var $u,vu,Tc,nd=["times"];(function(T){var E,x,C,j,A,G,k,Y,it,vt=function(ft){return ft=ft||{},this.isStrokeTransparent=ft.isStrokeTransparent||!1,this.strokeOpacity=ft.strokeOpacity||1,this.strokeStyle=ft.strokeStyle||"#000000",this.fillStyle=ft.fillStyle||"#000000",this.isFillTransparent=ft.isFillTransparent||!1,this.fillOpacity=ft.fillOpacity||1,this.font=ft.font||"10px sans-serif",this.textBaseline=ft.textBaseline||"alphabetic",this.textAlign=ft.textAlign||"left",this.lineWidth=ft.lineWidth||1,this.lineJoin=ft.lineJoin||"miter",this.lineCap=ft.lineCap||"butt",this.path=ft.path||[],this.transform=ft.transform!==void 0?ft.transform.clone():new Y,this.globalCompositeOperation=ft.globalCompositeOperation||"normal",this.globalAlpha=ft.globalAlpha||1,this.clip_path=ft.clip_path||[],this.currentPoint=ft.currentPoint||new G,this.miterLimit=ft.miterLimit||10,this.lastPoint=ft.lastPoint||new G,this.lineDashOffset=ft.lineDashOffset||0,this.lineDash=ft.lineDash||[],this.margin=ft.margin||[0,0,0,0],this.prevPageLastElemOffset=ft.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ft.ignoreClearRect!="boolean"||ft.ignoreClearRect,this};T.events.push(["initialized",function(){this.context2d=new mt(this),E=this.internal.f2,x=this.internal.getCoordinateString,C=this.internal.getVerticalCoordinateString,j=this.internal.getHorizontalCoordinate,A=this.internal.getVerticalCoordinate,G=this.internal.Point,k=this.internal.Rectangle,Y=this.internal.Matrix,it=new vt}]);var mt=function(ft){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ft=ft;Object.defineProperty(this,"pdf",{get:function(){return Ft}});var Kt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Kt},set:function(We){Kt=Boolean(We)}});var fe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return fe},set:function(We){fe=Boolean(We)}});var ve=0;Object.defineProperty(this,"posX",{get:function(){return ve},set:function(We){isNaN(We)||(ve=We)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(We){isNaN(We)||(be=We)}}),Object.defineProperty(this,"margin",{get:function(){return it.margin},set:function(We){var Gt;typeof We=="number"?Gt=[We,We,We,We]:((Gt=new Array(4))[0]=We[0],Gt[1]=We.length>=2?We[1]:Gt[0],Gt[2]=We.length>=3?We[2]:Gt[0],Gt[3]=We.length>=4?We[3]:Gt[1]),it.margin=Gt}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(We){Pe=We}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(We){Ie=We}});var mr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return mr},set:function(We){mr=We}}),Object.defineProperty(this,"ctx",{get:function(){return it},set:function(We){We instanceof vt&&(it=We)}}),Object.defineProperty(this,"path",{get:function(){return it.path},set:function(We){it.path=We}});var yr=[];Object.defineProperty(this,"ctxStack",{get:function(){return yr},set:function(We){yr=We}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(We){var Gt;Gt=Ot(We),this.ctx.fillStyle=Gt.style,this.ctx.isFillTransparent=Gt.a===0,this.ctx.fillOpacity=Gt.a,this.pdf.setFillColor(Gt.r,Gt.g,Gt.b,{a:Gt.a}),this.pdf.setTextColor(Gt.r,Gt.g,Gt.b,{a:Gt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(We){var Gt=Ot(We);this.ctx.strokeStyle=Gt.style,this.ctx.isStrokeTransparent=Gt.a===0,this.ctx.strokeOpacity=Gt.a,Gt.a===0?this.pdf.setDrawColor(255,255,255):(Gt.a,this.pdf.setDrawColor(Gt.r,Gt.g,Gt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(We){["butt","round","square"].indexOf(We)!==-1&&(this.ctx.lineCap=We,this.pdf.setLineCap(We))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(We){isNaN(We)||(this.ctx.lineWidth=We,this.pdf.setLineWidth(We))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(We){["bevel","round","miter"].indexOf(We)!==-1&&(this.ctx.lineJoin=We,this.pdf.setLineJoin(We))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(We){isNaN(We)||(this.ctx.miterLimit=We,this.pdf.setMiterLimit(We))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(We){this.ctx.textBaseline=We}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(We){["right","end","center","left","start"].indexOf(We)!==-1&&(this.ctx.textAlign=We)}});var Mr=null;function Wr(We,Gt){if(Mr===null){var Un=function(tn){var dr=[];return Object.keys(tn).forEach(function(wr){tn[wr].forEach(function(kr){var jr=null;switch(kr){case"bold":jr={family:wr,weight:"bold"};break;case"italic":jr={family:wr,style:"italic"};break;case"bolditalic":jr={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":jr={family:wr}}jr!==null&&(jr.ref={name:wr,style:kr},dr.push(jr))})}),dr}(We.getFontList());Mr=function(tn){for(var dr={},wr=0;wr<tn.length;++wr){var kr=Do(tn[wr]),jr=kr.family,ln=kr.stretch,Mn=kr.style,Yn=kr.weight;dr[jr]=dr[jr]||{},dr[jr][ln]=dr[jr][ln]||{},dr[jr][ln][Mn]=dr[jr][ln][Mn]||{},dr[jr][ln][Mn][Yn]=kr}return dr}(Un.concat(Gt))}return Mr}var mn=null;Object.defineProperty(this,"fontFaces",{get:function(){return mn},set:function(We){Mr=null,mn=We}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(We){var Gt;if(this.ctx.font=We,(Gt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(We))!==null){var Un=Gt[1],tn=(Gt[2],Gt[3]),dr=Gt[4],wr=(Gt[5],Gt[6]),kr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(dr)[2];dr=Math.floor(kr==="px"?parseFloat(dr)*this.pdf.internal.scaleFactor:kr==="em"?parseFloat(dr)*this.pdf.getFontSize():parseFloat(dr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(dr);var jr=function(wn){var Qn,Dr,sa=[],hn=wn.trim();if(hn==="")return nd;if(hn in pu)return[pu[hn]];for(;hn!=="";){switch(Dr=null,Qn=(hn=Fi(hn)).charAt(0)){case'"':case"'":Dr=rd(hn.substring(1),Qn);break;default:Dr=Wf(hn)}if(Dr===null||(sa.push(Dr[0]),(hn=Fi(Dr[1]))!==""&&hn.charAt(0)!==","))return nd;hn=hn.replace(/^,/,"")}return sa}(wr);if(this.fontFaces){var ln=Ml(Wr(this.pdf,this.fontFaces),jr.map(function(wn){return{family:wn,stretch:"normal",weight:tn,style:Un}}));this.pdf.setFont(ln.ref.name,ln.ref.style)}else{var Mn="";(tn==="bold"||parseInt(tn,10)>=700||Un==="bold")&&(Mn="bold"),Un==="italic"&&(Mn+="italic"),Mn.length===0&&(Mn="normal");for(var Yn="",Jn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},fi=0;fi<jr.length;fi++){if(this.pdf.internal.getFont(jr[fi],Mn,{noFallback:!0,disableWarning:!0})!==void 0){Yn=jr[fi];break}if(Mn==="bolditalic"&&this.pdf.internal.getFont(jr[fi],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Yn=jr[fi],Mn="bold";else if(this.pdf.internal.getFont(jr[fi],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Yn=jr[fi],Mn="normal";break}}if(Yn===""){for(var En=0;En<jr.length;En++)if(Jn[jr[En]]){Yn=Jn[jr[En]];break}}Yn=Yn===""?"Times":Yn,this.pdf.setFont(Yn,Mn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(We){this.ctx.globalCompositeOperation=We}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(We){this.ctx.globalAlpha=We}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(We){this.ctx.lineDashOffset=We,Kr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(We){this.ctx.lineDash=We,Kr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(We){this.ctx.ignoreClearRect=Boolean(We)}})};mt.prototype.setLineDash=function(ft){this.lineDash=ft},mt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},mt.prototype.fill=function(){ze.call(this,"fill",!1)},mt.prototype.stroke=function(){ze.call(this,"stroke",!1)},mt.prototype.beginPath=function(){this.path=[{type:"begin"}]},mt.prototype.moveTo=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw F.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Kt=this.ctx.transform.applyToPoint(new G(ft,Ft));this.path.push({type:"mt",x:Kt.x,y:Kt.y}),this.ctx.lastPoint=new G(ft,Ft)},mt.prototype.closePath=function(){var ft=new G(0,0),Ft=0;for(Ft=this.path.length-1;Ft!==-1;Ft--)if(this.path[Ft].type==="begin"&&_()(this.path[Ft+1])==="object"&&typeof this.path[Ft+1].x=="number"){ft=new G(this.path[Ft+1].x,this.path[Ft+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new G(ft.x,ft.y)},mt.prototype.lineTo=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw F.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Kt=this.ctx.transform.applyToPoint(new G(ft,Ft));this.path.push({type:"lt",x:Kt.x,y:Kt.y}),this.ctx.lastPoint=new G(Kt.x,Kt.y)},mt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ze.call(this,null,!0)},mt.prototype.quadraticCurveTo=function(ft,Ft,Kt,fe){if(isNaN(Kt)||isNaN(fe)||isNaN(ft)||isNaN(Ft))throw F.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ve=this.ctx.transform.applyToPoint(new G(Kt,fe)),be=this.ctx.transform.applyToPoint(new G(ft,Ft));this.path.push({type:"qct",x1:be.x,y1:be.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new G(ve.x,ve.y)},mt.prototype.bezierCurveTo=function(ft,Ft,Kt,fe,ve,be){if(isNaN(ve)||isNaN(be)||isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw F.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new G(ve,be)),Ie=this.ctx.transform.applyToPoint(new G(ft,Ft)),mr=this.ctx.transform.applyToPoint(new G(Kt,fe));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:mr.x,y2:mr.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new G(Pe.x,Pe.y)},mt.prototype.arc=function(ft,Ft,Kt,fe,ve,be){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe)||isNaN(ve))throw F.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=Boolean(be),!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new G(ft,Ft));ft=Pe.x,Ft=Pe.y;var Ie=this.ctx.transform.applyToPoint(new G(0,Kt)),mr=this.ctx.transform.applyToPoint(new G(0,0));Kt=Math.sqrt(Math.pow(Ie.x-mr.x,2)+Math.pow(Ie.y-mr.y,2))}Math.abs(ve-fe)>=2*Math.PI&&(fe=0,ve=2*Math.PI),this.path.push({type:"arc",x:ft,y:Ft,radius:Kt,startAngle:fe,endAngle:ve,counterclockwise:be})},mt.prototype.arcTo=function(ft,Ft,Kt,fe,ve){throw new Error("arcTo not implemented.")},mt.prototype.rect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw F.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ft,Ft),this.lineTo(ft+Kt,Ft),this.lineTo(ft+Kt,Ft+fe),this.lineTo(ft,Ft+fe),this.lineTo(ft,Ft),this.lineTo(ft+Kt,Ft),this.lineTo(ft,Ft)},mt.prototype.fillRect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw F.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!K.call(this)){var ve={};this.lineCap!=="butt"&&(ve.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ve.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ft,Ft,Kt,fe),this.fill(),ve.hasOwnProperty("lineCap")&&(this.lineCap=ve.lineCap),ve.hasOwnProperty("lineJoin")&&(this.lineJoin=ve.lineJoin)}},mt.prototype.strokeRect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw F.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");zt.call(this)||(this.beginPath(),this.rect(ft,Ft,Kt,fe),this.stroke())},mt.prototype.clearRect=function(ft,Ft,Kt,fe){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe))throw F.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ft,Ft,Kt,fe))},mt.prototype.save=function(ft){ft=typeof ft!="boolean"||ft;for(var Ft=this.pdf.internal.getCurrentPageInfo().pageNumber,Kt=0;Kt<this.pdf.internal.getNumberOfPages();Kt++)this.pdf.setPage(Kt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ft),ft){this.ctx.fontSize=this.pdf.internal.getFontSize();var fe=new vt(this.ctx);this.ctxStack.push(this.ctx),this.ctx=fe}},mt.prototype.restore=function(ft){ft=typeof ft!="boolean"||ft;for(var Ft=this.pdf.internal.getCurrentPageInfo().pageNumber,Kt=0;Kt<this.pdf.internal.getNumberOfPages();Kt++)this.pdf.setPage(Kt+1),this.pdf.internal.out("Q");this.pdf.setPage(Ft),ft&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},mt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Ot=function(ft){var Ft,Kt,fe,ve;if(ft.isCanvasGradient===!0&&(ft=ft.getColor()),!ft)return{r:0,g:0,b:0,a:0,style:ft};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ft))Ft=0,Kt=0,fe=0,ve=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ft);if(be!==null)Ft=parseInt(be[1]),Kt=parseInt(be[2]),fe=parseInt(be[3]),ve=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ft))!==null)Ft=parseInt(be[1]),Kt=parseInt(be[2]),fe=parseInt(be[3]),ve=parseFloat(be[4]);else{if(ve=1,typeof ft=="string"&&ft.charAt(0)!=="#"){var Pe=new tt(ft);ft=Pe.ok?Pe.toHex():"#000000"}ft.length===4?(Ft=ft.substring(1,2),Ft+=Ft,Kt=ft.substring(2,3),Kt+=Kt,fe=ft.substring(3,4),fe+=fe):(Ft=ft.substring(1,3),Kt=ft.substring(3,5),fe=ft.substring(5,7)),Ft=parseInt(Ft,16),Kt=parseInt(Kt,16),fe=parseInt(fe,16)}}return{r:Ft,g:Kt,b:fe,a:ve,style:ft}},K=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},zt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};mt.prototype.fillText=function(ft,Ft,Kt,fe){if(isNaN(Ft)||isNaN(Kt)||typeof ft!="string")throw F.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(fe=isNaN(fe)?void 0:fe,!K.call(this)){var ve=Re(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;Pt.call(this,{text:ft,x:Ft,y:Kt,scale:be,angle:ve,align:this.textAlign,maxWidth:fe})}},mt.prototype.strokeText=function(ft,Ft,Kt,fe){if(isNaN(Ft)||isNaN(Kt)||typeof ft!="string")throw F.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!zt.call(this)){fe=isNaN(fe)?void 0:fe;var ve=Re(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;Pt.call(this,{text:ft,x:Ft,y:Kt,scale:be,renderingMode:"stroke",angle:ve,align:this.textAlign,maxWidth:fe})}},mt.prototype.measureText=function(ft){if(typeof ft!="string")throw F.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ft=this.pdf,Kt=this.pdf.internal.scaleFactor,fe=Ft.internal.getFontSize(),ve=Ft.getStringUnitWidth(ft)*fe/Ft.internal.scaleFactor,be=function(Pe){var Ie=(Pe=Pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this};return new be({width:ve*=Math.round(96*Kt/72*1e4)/1e4})},mt.prototype.scale=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw F.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Kt=new Y(ft,0,0,Ft,0,0);this.ctx.transform=this.ctx.transform.multiply(Kt)},mt.prototype.rotate=function(ft){if(isNaN(ft))throw F.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ft=new Y(Math.cos(ft),Math.sin(ft),-Math.sin(ft),Math.cos(ft),0,0);this.ctx.transform=this.ctx.transform.multiply(Ft)},mt.prototype.translate=function(ft,Ft){if(isNaN(ft)||isNaN(Ft))throw F.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Kt=new Y(1,0,0,1,ft,Ft);this.ctx.transform=this.ctx.transform.multiply(Kt)},mt.prototype.transform=function(ft,Ft,Kt,fe,ve,be){if(isNaN(ft)||isNaN(Ft)||isNaN(Kt)||isNaN(fe)||isNaN(ve)||isNaN(be))throw F.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new Y(ft,Ft,Kt,fe,ve,be);this.ctx.transform=this.ctx.transform.multiply(Pe)},mt.prototype.setTransform=function(ft,Ft,Kt,fe,ve,be){ft=isNaN(ft)?1:ft,Ft=isNaN(Ft)?0:Ft,Kt=isNaN(Kt)?0:Kt,fe=isNaN(fe)?1:fe,ve=isNaN(ve)?0:ve,be=isNaN(be)?0:be,this.ctx.transform=new Y(ft,Ft,Kt,fe,ve,be)};var Mt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};mt.prototype.drawImage=function(ft,Ft,Kt,fe,ve,be,Pe,Ie,mr){var yr=this.pdf.getImageProperties(ft),Mr=1,Wr=1,mn=1,We=1;fe!==void 0&&Ie!==void 0&&(mn=Ie/fe,We=mr/ve,Mr=yr.width/fe*Ie/fe,Wr=yr.height/ve*mr/ve),be===void 0&&(be=Ft,Pe=Kt,Ft=0,Kt=0),fe!==void 0&&Ie===void 0&&(Ie=fe,mr=ve),fe===void 0&&Ie===void 0&&(Ie=yr.width,mr=yr.height);for(var Gt,Un=this.ctx.transform.decompose(),tn=Re(Un.rotate.shx),dr=new Y,wr=(dr=(dr=(dr=dr.multiply(Un.translate)).multiply(Un.skew)).multiply(Un.scale)).applyToRectangle(new k(be-Ft*mn,Pe-Kt*We,fe*Mr,ve*Wr)),kr=te.call(this,wr),jr=[],ln=0;ln<kr.length;ln+=1)jr.indexOf(kr[ln])===-1&&jr.push(kr[ln]);if(xe(jr),this.autoPaging)for(var Mn=jr[0],Yn=jr[jr.length-1],Jn=Mn;Jn<Yn+1;Jn++){this.pdf.setPage(Jn);var fi=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],En=Jn===1?this.posY+this.margin[0]:this.margin[0],wn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dr=Jn===1?0:wn+(Jn-2)*Qn;if(this.ctx.clip_path.length!==0){var sa=this.path;Gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Yt(Gt,this.posX+this.margin[3],-Dr+En+this.ctx.prevPageLastElemOffset),tr.call(this,"fill",!0),this.path=sa}var hn=JSON.parse(JSON.stringify(wr));hn=Yt([hn],this.posX+this.margin[3],-Dr+En+this.ctx.prevPageLastElemOffset)[0];var cs=(Jn>Mn||Jn<Yn)&&Mt.call(this);cs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fi,Qn,null).clip().discardPath()),this.pdf.addImage(ft,"JPEG",hn.x,hn.y,hn.w,hn.h,null,null,tn),cs&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ft,"JPEG",wr.x,wr.y,wr.w,wr.h,null,null,tn)};var te=function(ft,Ft,Kt){var fe=[];Ft=Ft||this.pdf.internal.pageSize.width,Kt=Kt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ve=this.posY+this.ctx.prevPageLastElemOffset;switch(ft.type){default:case"mt":case"lt":fe.push(Math.floor((ft.y+ve)/Kt)+1);break;case"arc":fe.push(Math.floor((ft.y+ve-ft.radius)/Kt)+1),fe.push(Math.floor((ft.y+ve+ft.radius)/Kt)+1);break;case"qct":var be=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ft.x1,ft.y1,ft.x,ft.y);fe.push(Math.floor((be.y+ve)/Kt)+1),fe.push(Math.floor((be.y+be.h+ve)/Kt)+1);break;case"bct":var Pe=Je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ft.x1,ft.y1,ft.x2,ft.y2,ft.x,ft.y);fe.push(Math.floor((Pe.y+ve)/Kt)+1),fe.push(Math.floor((Pe.y+Pe.h+ve)/Kt)+1);break;case"rect":fe.push(Math.floor((ft.y+ve)/Kt)+1),fe.push(Math.floor((ft.y+ft.h+ve)/Kt)+1)}for(var Ie=0;Ie<fe.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<fe[Ie];)wt.call(this);return fe},wt=function(){var ft=this.fillStyle,Ft=this.strokeStyle,Kt=this.font,fe=this.lineCap,ve=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=ft,this.strokeStyle=Ft,this.font=Kt,this.lineCap=fe,this.lineWidth=ve,this.lineJoin=be},Yt=function(ft,Ft,Kt){for(var fe=0;fe<ft.length;fe++)switch(ft[fe].type){case"bct":ft[fe].x2+=Ft,ft[fe].y2+=Kt;case"qct":ft[fe].x1+=Ft,ft[fe].y1+=Kt;case"mt":case"lt":case"arc":default:ft[fe].x+=Ft,ft[fe].y+=Kt}return ft},xe=function(ft){return ft.sort(function(Ft,Kt){return Ft-Kt})},ze=function(ft,Ft){for(var Kt,fe,ve=this.fillStyle,be=this.strokeStyle,Pe=this.lineCap,Ie=this.lineWidth,mr=Math.abs(Ie*this.ctx.transform.scaleX),yr=this.lineJoin,Mr=JSON.parse(JSON.stringify(this.path)),Wr=JSON.parse(JSON.stringify(this.path)),mn=[],We=0;We<Wr.length;We++)if(Wr[We].x!==void 0)for(var Gt=te.call(this,Wr[We]),Un=0;Un<Gt.length;Un+=1)mn.indexOf(Gt[Un])===-1&&mn.push(Gt[Un]);for(var tn=0;tn<mn.length;tn++)for(;this.pdf.internal.getNumberOfPages()<mn[tn];)wt.call(this);if(xe(mn),this.autoPaging)for(var dr=mn[0],wr=mn[mn.length-1],kr=dr;kr<wr+1;kr++){this.pdf.setPage(kr),this.fillStyle=ve,this.strokeStyle=be,this.lineCap=Pe,this.lineWidth=mr,this.lineJoin=yr;var jr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ln=kr===1?this.posY+this.margin[0]:this.margin[0],Mn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jn=kr===1?0:Mn+(kr-2)*Yn;if(this.ctx.clip_path.length!==0){var fi=this.path;Kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Yt(Kt,this.posX+this.margin[3],-Jn+ln+this.ctx.prevPageLastElemOffset),tr.call(this,ft,!0),this.path=fi}if(fe=JSON.parse(JSON.stringify(Mr)),this.path=Yt(fe,this.posX+this.margin[3],-Jn+ln+this.ctx.prevPageLastElemOffset),Ft===!1||kr===0){var En=(kr>dr||kr<wr)&&Mt.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jr,Yn,null).clip().discardPath()),tr.call(this,ft,Ft),En&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=mr,tr.call(this,ft,Ft),this.lineWidth=Ie;this.path=Mr},tr=function(ft,Ft){if((ft!=="stroke"||Ft||!zt.call(this))&&(ft==="stroke"||Ft||!K.call(this))){for(var Kt,fe,ve=[],be=this.path,Pe=0;Pe<be.length;Pe++){var Ie=be[Pe];switch(Ie.type){case"begin":ve.push({begin:!0});break;case"close":ve.push({close:!0});break;case"mt":ve.push({start:Ie,deltas:[],abs:[]});break;case"lt":var mr=ve.length;if(be[Pe-1]&&!isNaN(be[Pe-1].x)&&(Kt=[Ie.x-be[Pe-1].x,Ie.y-be[Pe-1].y],mr>0)){for(;mr>=0;mr--)if(ve[mr-1].close!==!0&&ve[mr-1].begin!==!0){ve[mr-1].deltas.push(Kt),ve[mr-1].abs.push(Ie);break}}break;case"bct":Kt=[Ie.x1-be[Pe-1].x,Ie.y1-be[Pe-1].y,Ie.x2-be[Pe-1].x,Ie.y2-be[Pe-1].y,Ie.x-be[Pe-1].x,Ie.y-be[Pe-1].y],ve[ve.length-1].deltas.push(Kt);break;case"qct":var yr=be[Pe-1].x+2/3*(Ie.x1-be[Pe-1].x),Mr=be[Pe-1].y+2/3*(Ie.y1-be[Pe-1].y),Wr=Ie.x+2/3*(Ie.x1-Ie.x),mn=Ie.y+2/3*(Ie.y1-Ie.y),We=Ie.x,Gt=Ie.y;Kt=[yr-be[Pe-1].x,Mr-be[Pe-1].y,Wr-be[Pe-1].x,mn-be[Pe-1].y,We-be[Pe-1].x,Gt-be[Pe-1].y],ve[ve.length-1].deltas.push(Kt);break;case"arc":ve.push({deltas:[],abs:[],arc:!0}),Array.isArray(ve[ve.length-1].abs)&&ve[ve.length-1].abs.push(Ie)}}fe=Ft?null:ft==="stroke"?"stroke":"fill";for(var Un=!1,tn=0;tn<ve.length;tn++)if(ve[tn].arc)for(var dr=ve[tn].abs,wr=0;wr<dr.length;wr++){var kr=dr[wr];kr.type==="arc"?pe.call(this,kr.x,kr.y,kr.radius,kr.startAngle,kr.endAngle,kr.counterclockwise,void 0,Ft,!Un):ue.call(this,kr.x,kr.y),Un=!0}else if(ve[tn].close===!0)this.pdf.internal.out("h"),Un=!1;else if(ve[tn].begin!==!0){var jr=ve[tn].start.x,ln=ve[tn].start.y;oe.call(this,ve[tn].deltas,jr,ln),Un=!0}fe&&lr.call(this,fe),Ft&&er.call(this)}},xr=function(ft){var Ft=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Kt=Ft*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ft-Kt;case"top":return ft+Ft-Kt;case"hanging":return ft+Ft-2*Kt;case"middle":return ft+Ft/2-Kt;case"ideographic":return ft;case"alphabetic":default:return ft}},Ue=function(ft){return ft+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};mt.prototype.createLinearGradient=function(){var ft=function(){};return ft.colorStops=[],ft.addColorStop=function(Ft,Kt){this.colorStops.push([Ft,Kt])},ft.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ft.isCanvasGradient=!0,ft},mt.prototype.createPattern=function(){return this.createLinearGradient()},mt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var pe=function(ft,Ft,Kt,fe,ve,be,Pe,Ie,mr){for(var yr=Xe.call(this,Kt,fe,ve,be),Mr=0;Mr<yr.length;Mr++){var Wr=yr[Mr];Mr===0&&(mr?Rt.call(this,Wr.x1+ft,Wr.y1+Ft):ue.call(this,Wr.x1+ft,Wr.y1+Ft)),$e.call(this,ft,Ft,Wr.x2,Wr.y2,Wr.x3,Wr.y3,Wr.x4,Wr.y4)}Ie?er.call(this):lr.call(this,Pe)},lr=function(ft){switch(ft){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},er=function(){this.pdf.clip(),this.pdf.discardPath()},Rt=function(ft,Ft){this.pdf.internal.out(x(ft)+" "+C(Ft)+" m")},Pt=function(ft){var Ft;switch(ft.align){case"right":case"end":Ft="right";break;case"center":Ft="center";break;case"left":case"start":default:Ft="left"}var Kt=this.pdf.getTextDimensions(ft.text),fe=xr.call(this,ft.y),ve=Ue.call(this,fe)-Kt.h,be=this.ctx.transform.applyToPoint(new G(ft.x,fe)),Pe=this.ctx.transform.decompose(),Ie=new Y;Ie=(Ie=(Ie=Ie.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var mr,yr,Mr,Wr=this.ctx.transform.applyToRectangle(new k(ft.x,fe,Kt.w,Kt.h)),mn=Ie.applyToRectangle(new k(ft.x,ve,Kt.w,Kt.h)),We=te.call(this,mn),Gt=[],Un=0;Un<We.length;Un+=1)Gt.indexOf(We[Un])===-1&&Gt.push(We[Un]);if(xe(Gt),this.autoPaging)for(var tn=Gt[0],dr=Gt[Gt.length-1],wr=tn;wr<dr+1;wr++){this.pdf.setPage(wr);var kr=wr===1?this.posY+this.margin[0]:this.margin[0],jr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ln=this.pdf.internal.pageSize.height-this.margin[2],Mn=ln-this.margin[0],Yn=this.pdf.internal.pageSize.width-this.margin[1],Jn=Yn-this.margin[3],fi=wr===1?0:jr+(wr-2)*Mn;if(this.ctx.clip_path.length!==0){var En=this.path;mr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Yt(mr,this.posX+this.margin[3],-1*fi+kr),tr.call(this,"fill",!0),this.path=En}var wn=Yt([JSON.parse(JSON.stringify(mn))],this.posX+this.margin[3],-fi+kr+this.ctx.prevPageLastElemOffset)[0];ft.scale>=.01&&(yr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(yr*ft.scale),Mr=this.lineWidth,this.lineWidth=Mr*ft.scale);var Qn=this.autoPaging!=="text";if(Qn||wn.y+wn.h<=ln){if(Qn||wn.y>=kr&&wn.x<=Yn){var Dr=Qn?ft.text:this.pdf.splitTextToSize(ft.text,ft.maxWidth||Yn-wn.x)[0],sa=Yt([JSON.parse(JSON.stringify(Wr))],this.posX+this.margin[3],-fi+kr+this.ctx.prevPageLastElemOffset)[0],hn=Qn&&(wr>tn||wr<dr)&&Mt.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jn,Mn,null).clip().discardPath()),this.pdf.text(Dr,sa.x,sa.y,{angle:ft.angle,align:Ft,renderingMode:ft.renderingMode}),hn&&this.pdf.restoreGraphicsState()}}else wn.y<ln&&(this.ctx.prevPageLastElemOffset+=ln-wn.y);ft.scale>=.01&&(this.pdf.setFontSize(yr),this.lineWidth=Mr)}else ft.scale>=.01&&(yr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(yr*ft.scale),Mr=this.lineWidth,this.lineWidth=Mr*ft.scale),this.pdf.text(ft.text,be.x+this.posX,be.y+this.posY,{angle:ft.angle,align:Ft,renderingMode:ft.renderingMode,maxWidth:ft.maxWidth}),ft.scale>=.01&&(this.pdf.setFontSize(yr),this.lineWidth=Mr)},ue=function(ft,Ft,Kt,fe){Kt=Kt||0,fe=fe||0,this.pdf.internal.out(x(ft+Kt)+" "+C(Ft+fe)+" l")},oe=function(ft,Ft,Kt){return this.pdf.lines(ft,Ft,Kt,null,null)},$e=function(ft,Ft,Kt,fe,ve,be,Pe,Ie){this.pdf.internal.out([E(j(Kt+ft)),E(A(fe+Ft)),E(j(ve+ft)),E(A(be+Ft)),E(j(Pe+ft)),E(A(Ie+Ft)),"c"].join(" "))},Xe=function(ft,Ft,Kt,fe){for(var ve=2*Math.PI,be=Math.PI/2;Ft>Kt;)Ft-=ve;var Pe=Math.abs(Kt-Ft);Pe<ve&&fe&&(Pe=ve-Pe);for(var Ie=[],mr=fe?-1:1,yr=Ft;Pe>1e-5;){var Mr=yr+mr*Math.min(Pe,be);Ie.push(or.call(this,ft,yr,Mr)),Pe-=Math.abs(Mr-yr),yr=Mr}return Ie},or=function(ft,Ft,Kt){var fe=(Kt-Ft)/2,ve=ft*Math.cos(fe),be=ft*Math.sin(fe),Pe=ve,Ie=-be,mr=Pe*Pe+Ie*Ie,yr=mr+Pe*ve+Ie*be,Mr=4/3*(Math.sqrt(2*mr*yr)-yr)/(Pe*be-Ie*ve),Wr=Pe-Mr*Ie,mn=Ie+Mr*Pe,We=Wr,Gt=-mn,Un=fe+Ft,tn=Math.cos(Un),dr=Math.sin(Un);return{x1:ft*Math.cos(Ft),y1:ft*Math.sin(Ft),x2:Wr*tn-mn*dr,y2:Wr*dr+mn*tn,x3:We*tn-Gt*dr,y3:We*dr+Gt*tn,x4:ft*Math.cos(Kt),y4:ft*Math.sin(Kt)}},Re=function(ft){return 180*ft/Math.PI},je=function(ft,Ft,Kt,fe,ve,be){var Pe=ft+.5*(Kt-ft),Ie=Ft+.5*(fe-Ft),mr=ve+.5*(Kt-ve),yr=be+.5*(fe-be),Mr=Math.min(ft,ve,Pe,mr),Wr=Math.max(ft,ve,Pe,mr),mn=Math.min(Ft,be,Ie,yr),We=Math.max(Ft,be,Ie,yr);return new k(Mr,mn,Wr-Mr,We-mn)},Je=function(ft,Ft,Kt,fe,ve,be,Pe,Ie){var mr,yr,Mr,Wr,mn,We,Gt,Un,tn,dr,wr,kr,jr,ln,Mn=Kt-ft,Yn=fe-Ft,Jn=ve-Kt,fi=be-fe,En=Pe-ve,wn=Ie-be;for(yr=0;yr<41;yr++)tn=(Gt=(Mr=ft+(mr=yr/40)*Mn)+mr*((mn=Kt+mr*Jn)-Mr))+mr*(mn+mr*(ve+mr*En-mn)-Gt),dr=(Un=(Wr=Ft+mr*Yn)+mr*((We=fe+mr*fi)-Wr))+mr*(We+mr*(be+mr*wn-We)-Un),yr==0?(wr=tn,kr=dr,jr=tn,ln=dr):(wr=Math.min(wr,tn),kr=Math.min(kr,dr),jr=Math.max(jr,tn),ln=Math.max(ln,dr));return new k(Math.round(wr),Math.round(kr),Math.round(jr-wr),Math.round(ln-kr))},Kr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ft,Ft,Kt=(ft=this.ctx.lineDash,Ft=this.ctx.lineDashOffset,JSON.stringify({lineDash:ft,lineDashOffset:Ft}));this.prevLineDash!==Kt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Kt)}}})(Qt.API),function(T){var E=function(A){var G,k,Y,it,vt,mt,Ot,K,zt,Mt;for(/[^\x00-\xFF]/.test(A),k=[],Y=0,it=(A+=G="\0\0\0\0".slice(A.length%4||4)).length;it>Y;Y+=4)(vt=(A.charCodeAt(Y)<<24)+(A.charCodeAt(Y+1)<<16)+(A.charCodeAt(Y+2)<<8)+A.charCodeAt(Y+3))!==0?(mt=(vt=((vt=((vt=((vt=(vt-(Mt=vt%85))/85)-(zt=vt%85))/85)-(K=vt%85))/85)-(Ot=vt%85))/85)%85,k.push(mt+33,Ot+33,K+33,zt+33,Mt+33)):k.push(122);return function(te,wt){for(var Yt=wt;Yt>0;Yt--)te.pop()}(k,G.length),String.fromCharCode.apply(String,k)+"~>"},x=function(A){var G,k,Y,it,vt,mt=String,Ot="length",K=255,zt="charCodeAt",Mt="slice",te="replace";for(A[Mt](-2),A=A[Mt](0,-2)[te](/\s/g,"")[te]("z","!!!!!"),Y=[],it=0,vt=(A+=G="uuuuu"[Mt](A[Ot]%5||5))[Ot];vt>it;it+=5)k=52200625*(A[zt](it)-33)+614125*(A[zt](it+1)-33)+7225*(A[zt](it+2)-33)+85*(A[zt](it+3)-33)+(A[zt](it+4)-33),Y.push(K&k>>24,K&k>>16,K&k>>8,K&k);return function(wt,Yt){for(var xe=Yt;xe>0;xe--)wt.pop()}(Y,G[Ot]),mt.fromCharCode.apply(mt,Y)},C=function(A){var G=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),G.test(A)===!1)return"";for(var k="",Y=0;Y<A.length;Y+=2)k+=String.fromCharCode("0x"+(A[Y]+A[Y+1]));return k},j=function(A){for(var G=new Uint8Array(A.length),k=A.length;k--;)G[k]=A.charCodeAt(k);return A=(G=Object(O.b)(G)).reduce(function(Y,it){return Y+String.fromCharCode(it)},"")};T.processDataByFilters=function(A,G){var k=0,Y=A||"",it=[];for(typeof(G=G||[])=="string"&&(G=[G]),k=0;k<G.length;k+=1)switch(G[k]){case"ASCII85Decode":case"/ASCII85Decode":Y=x(Y),it.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Y=E(Y),it.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Y=C(Y),it.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Y=Y.split("").map(function(vt){return("0"+vt.charCodeAt().toString(16)).slice(-2)}).join("")+">",it.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Y=j(Y),it.push("/FlateDecode");break;default:throw new Error('The filter: "'+G[k]+'" is not implemented')}return{data:Y,reverseChain:it.reverse().join(" ")}}}(Qt.API),function(T){T.loadFile=function(E,x,C){return function(j,A,G){A=A!==!1,G=typeof G=="function"?G:function(){};var k=void 0;try{k=function(Y,it,vt){var mt=new XMLHttpRequest,Ot=0,K=function(zt){var Mt=zt.length,te=[],wt=String.fromCharCode;for(Ot=0;Ot<Mt;Ot+=1)te.push(wt(255&zt.charCodeAt(Ot)));return te.join("")};if(mt.open("GET",Y,!it),mt.overrideMimeType("text/plain; charset=x-user-defined"),it===!1&&(mt.onload=function(){mt.status===200?vt(K(this.responseText)):vt(void 0)}),mt.send(null),it&&mt.status===200)return K(mt.responseText)}(j,A,G)}catch{}return k}(E,x,C)},T.loadImageFile=T.loadFile}(Qt.API),function(T){function E(){return(b.html2canvas?Promise.resolve(b.html2canvas):u.e(3).then(u.t.bind(null,"c0e9",7))).catch(function(G){return Promise.reject(new Error("Could not load html2canvas: "+G))}).then(function(G){return G.default?G.default:G})}function x(){return(b.DOMPurify?Promise.resolve(b.DOMPurify):u.e(2).then(u.t.bind(null,"c0c4",7))).catch(function(G){return Promise.reject(new Error("Could not load dompurify: "+G))}).then(function(G){return G.default?G.default:G})}var C=function(G){var k=_()(G);return k==="undefined"?"undefined":k==="string"||G instanceof String?"string":k==="number"||G instanceof Number?"number":k==="function"||G instanceof Function?"function":G&&G.constructor===Array?"array":G&&G.nodeType===1?"element":k==="object"?"object":"unknown"},j=function(G,k){var Y=document.createElement(G);for(var it in k.className&&(Y.className=k.className),k.innerHTML&&k.dompurify&&(Y.innerHTML=k.dompurify.sanitize(k.innerHTML)),k.style)Y.style[it]=k.style[it];return Y},A=function G(k){var Y=Object.assign(G.convert(Promise.resolve()),JSON.parse(JSON.stringify(G.template))),it=G.convert(Promise.resolve(),Y);return it=(it=it.setProgress(1,G,1,[G])).set(k)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(G,k){return G.__proto__=k||A.prototype,G},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(G,k){return this.then(function(){switch(k=k||function(Y){switch(C(Y)){case"string":return"string";case"element":return Y.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(G)){case"string":return this.then(x).then(function(Y){return this.set({src:j("div",{innerHTML:G,dompurify:Y})})});case"element":return this.set({src:G});case"canvas":return this.set({canvas:G});case"img":return this.set({img:G});default:return this.error("Unknown source type.")}})},A.prototype.to=function(G){switch(G){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var G={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},k=function Y(it,vt){for(var mt=it.nodeType===3?document.createTextNode(it.nodeValue):it.cloneNode(!1),Ot=it.firstChild;Ot;Ot=Ot.nextSibling)vt!==!0&&Ot.nodeType===1&&Ot.nodeName==="SCRIPT"||mt.appendChild(Y(Ot,vt));return it.nodeType===1&&(it.nodeName==="CANVAS"?(mt.width=it.width,mt.height=it.height,mt.getContext("2d").drawImage(it,0,0)):it.nodeName!=="TEXTAREA"&&it.nodeName!=="SELECT"||(mt.value=it.value),mt.addEventListener("load",function(){mt.scrollTop=it.scrollTop,mt.scrollLeft=it.scrollLeft},!0)),mt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);k.tagName==="BODY"&&(G.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=j("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=j("div",{className:"html2pdf__container",style:G}),this.prop.container.appendChild(k),this.prop.container.firstChild.appendChild(j("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var G=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(G).then(E).then(function(k){var Y=Object.assign({},this.opt.html2canvas);return delete Y.onrendered,k(this.prop.container,Y)}).then(function(k){(this.opt.html2canvas.onrendered||function(){})(k),this.prop.canvas=k,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var G=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(G).then(E).then(function(k){var Y=this.opt.jsPDF,it=this.opt.fontFaces,vt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,mt=Object.assign({async:!0,allowTaint:!0,scale:vt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete mt.onrendered,Y.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Y.context2d.posX=this.opt.x,Y.context2d.posY=this.opt.y,Y.context2d.margin=this.opt.margin,Y.context2d.fontFaces=it,it)for(var Ot=0;Ot<it.length;++Ot){var K=it[Ot],zt=K.src.find(function(Mt){return Mt.format==="truetype"});zt&&Y.addFont(zt.url,K.ref.name,K.ref.style)}return mt.windowHeight=mt.windowHeight||0,mt.windowHeight=mt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):mt.windowHeight,Y.context2d.save(!0),k(this.prop.container,mt)}).then(function(k){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(k),this.prop.canvas=k,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var G=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=G})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(G,k,Y){return(Y=Y||"pdf").toLowerCase()==="img"||Y.toLowerCase()==="image"?this.outputImg(G,k):this.outputPdf(G,k)},A.prototype.outputPdf=function(G,k){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(G,k)})},A.prototype.outputImg=function(G){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(G){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+G+'" is not supported.'}})},A.prototype.save=function(G){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(G?{filename:G}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(G){if(C(G)!=="object")return this;var k=Object.keys(G||{}).map(function(Y){if(Y in A.template.prop)return function(){this.prop[Y]=G[Y]};switch(Y){case"margin":return this.setMargin.bind(this,G.margin);case"jsPDF":return function(){return this.opt.jsPDF=G.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,G.pageSize);default:return function(){this.opt[Y]=G[Y]}}},this);return this.then(function(){return this.thenList(k)})},A.prototype.get=function(G,k){return this.then(function(){var Y=G in A.template.prop?this.prop[G]:this.opt[G];return k?k(Y):Y})},A.prototype.setMargin=function(G){return this.then(function(){switch(C(G)){case"number":G=[G,G,G,G];case"array":if(G.length===2&&(G=[G[0],G[1],G[0],G[1]]),G.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=G}).then(this.setPageSize)},A.prototype.setPageSize=function(G){function k(Y,it){return Math.floor(Y*it/72*96)}return this.then(function(){(G=G||Qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(G.inner={width:G.width-this.opt.margin[1]-this.opt.margin[3],height:G.height-this.opt.margin[0]-this.opt.margin[2]},G.inner.px={width:k(G.inner.width,G.k),height:k(G.inner.height,G.k)},G.inner.ratio=G.inner.height/G.inner.width),this.prop.pageSize=G})},A.prototype.setProgress=function(G,k,Y,it){return G!=null&&(this.progress.val=G),k!=null&&(this.progress.state=k),Y!=null&&(this.progress.n=Y),it!=null&&(this.progress.stack=it),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(G,k,Y,it){return this.setProgress(G?this.progress.val+G:null,k||null,Y?this.progress.n+Y:null,it?this.progress.stack.concat(it):null)},A.prototype.then=function(G,k){var Y=this;return this.thenCore(G,k,function(it,vt){return Y.updateProgress(null,null,1,[it]),Promise.prototype.then.call(this,function(mt){return Y.updateProgress(null,it),mt}).then(it,vt).then(function(mt){return Y.updateProgress(1),mt})})},A.prototype.thenCore=function(G,k,Y){Y=Y||Promise.prototype.then,G&&(G=G.bind(this)),k&&(k=k.bind(this));var it=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:A.convert(Object.assign({},this),Promise.prototype),vt=Y.call(it,G,k);return A.convert(vt,this.__proto__)},A.prototype.thenExternal=function(G,k){return Promise.prototype.then.call(this,G,k)},A.prototype.thenList=function(G){var k=this;return G.forEach(function(Y){k=k.thenCore(Y)}),k},A.prototype.catch=function(G){G&&(G=G.bind(this));var k=Promise.prototype.catch.call(this,G);return A.convert(k,this)},A.prototype.catchExternal=function(G){return Promise.prototype.catch.call(this,G)},A.prototype.error=function(G){return this.then(function(){throw new Error(G)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,Qt.getPageSize=function(G,k,Y){if(_()(G)==="object"){var it=G;G=it.orientation,k=it.unit||k,Y=it.format||Y}k=k||"mm",Y=Y||"a4",G=(""+(G||"P")).toLowerCase();var vt,mt=(""+Y).toLowerCase(),Ot={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(k){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=.75;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:throw"Invalid unit: "+k}var K,zt=0,Mt=0;if(Ot.hasOwnProperty(mt))zt=Ot[mt][1]/vt,Mt=Ot[mt][0]/vt;else try{zt=Y[1],Mt=Y[0]}catch{throw new Error("Invalid format: "+Y)}if(G==="p"||G==="portrait")G="p",Mt>zt&&(K=Mt,Mt=zt,zt=K);else{if(G!=="l"&&G!=="landscape")throw"Invalid orientation: "+G;G="l",zt>Mt&&(K=Mt,Mt=zt,zt=K)}return{width:Mt,height:zt,unit:k,k:vt,orientation:G}},T.html=function(G,k){(k=k||{}).callback=k.callback||function(){},k.html2canvas=k.html2canvas||{},k.html2canvas.canvas=k.html2canvas.canvas||this.canvas,k.jsPDF=k.jsPDF||this,k.fontFaces=k.fontFaces?k.fontFaces.map(Do):null;var Y=new A(k);return k.worker?Y:Y.from(G).doCallback()}}(Qt.API),Qt.API.addJS=function(T){return Tc=T,this.internal.events.subscribe("postPutResources",function(){$u=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($u+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Tc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$u!==void 0&&vu!==void 0&&this.internal.out("/Names <</JavaScript "+$u+" 0 R>>")}),this},function(T){var E;T.events.push(["postPutResources",function(){var x=this,C=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var j=x.outline.render().split(/\r\n/),A=0;A<j.length;A++){var G=j[A],k=C.exec(G);if(k!=null){var Y=k[1];x.internal.newObjectDeferredBegin(Y,!1)}x.internal.write(G)}if(this.outline.createNamedDestinations){var it=this.internal.pages.length,vt=[];for(A=0;A<it;A++){var mt=x.internal.newObject();vt.push(mt);var Ot=x.internal.getPageInfo(A+1);x.internal.write("<< /D["+Ot.objId+" 0 R /XYZ null null null]>> endobj")}var K=x.internal.newObject();for(x.internal.write("<< /Names [ "),A=0;A<vt.length;A++)x.internal.write("(page_"+(A+1)+")"+vt[A]+" 0 R");x.internal.write(" ] >>","endobj"),E=x.internal.newObject(),x.internal.write("<< /Dests "+K+" 0 R"),x.internal.write(">>","endobj")}}]),T.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+E+" 0 R"))}]),T.events.push(["initialized",function(){var x=this;x.outline={createNamedDestinations:!1,root:{children:[]}},x.outline.add=function(C,j,A){var G={title:j,options:A,children:[]};return C==null&&(C=this.root),C.children.push(G),G},x.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=x,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},x.outline.genIds_r=function(C){C.id=x.internal.newObjectDeferred();for(var j=0;j<C.children.length;j++)this.genIds_r(C.children[j])},x.outline.renderRoot=function(C){this.objStart(C),this.line("/Type /Outlines"),C.children.length>0&&(this.line("/First "+this.makeRef(C.children[0])),this.line("/Last "+this.makeRef(C.children[C.children.length-1]))),this.line("/Count "+this.count_r({count:0},C)),this.objEnd()},x.outline.renderItems=function(C){for(var j=this.ctx.pdf.internal.getVerticalCoordinateString,A=0;A<C.children.length;A++){var G=C.children[A];this.objStart(G),this.line("/Title "+this.makeString(G.title)),this.line("/Parent "+this.makeRef(C)),A>0&&this.line("/Prev "+this.makeRef(C.children[A-1])),A<C.children.length-1&&this.line("/Next "+this.makeRef(C.children[A+1])),G.children.length>0&&(this.line("/First "+this.makeRef(G.children[0])),this.line("/Last "+this.makeRef(G.children[G.children.length-1])));var k=this.count=this.count_r({count:0},G);if(k>0&&this.line("/Count "+k),G.options&&G.options.pageNumber){var Y=x.internal.getPageInfo(G.options.pageNumber);this.line("/Dest ["+Y.objId+" 0 R /XYZ 0 "+j(0)+" 0]")}this.objEnd()}for(var it=0;it<C.children.length;it++)this.renderItems(C.children[it])},x.outline.line=function(C){this.ctx.val+=C+`\r
`},x.outline.makeRef=function(C){return C.id+" 0 R"},x.outline.makeString=function(C){return"("+x.internal.pdfEscape(C)+")"},x.outline.objStart=function(C){this.ctx.val+=`\r
`+C.id+` 0 obj\r
<<\r
`},x.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},x.outline.count_r=function(C,j){for(var A=0;A<j.children.length;A++)C.count++,this.count_r(C,j.children[A]);return C.count}}])}(Qt.API),function(T){var E=[192,193,194,195,196,197,198,199];T.processJPEG=function(x,C,j,A,G,k){var Y,it=this.decode.DCT_DECODE,vt=null;if(typeof x=="string"||this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x)){switch(x=G||x,x=this.__addimage__.isArrayBuffer(x)?new Uint8Array(x):x,(Y=function(mt){for(var Ot,K=256*mt.charCodeAt(4)+mt.charCodeAt(5),zt=mt.length,Mt={width:0,height:0,numcomponents:1},te=4;te<zt;te+=2){if(te+=K,E.indexOf(mt.charCodeAt(te+1))!==-1){Ot=256*mt.charCodeAt(te+5)+mt.charCodeAt(te+6),Mt={width:256*mt.charCodeAt(te+7)+mt.charCodeAt(te+8),height:Ot,numcomponents:mt.charCodeAt(te+9)};break}K=256*mt.charCodeAt(te+2)+mt.charCodeAt(te+3)}return Mt}(x=this.__addimage__.isArrayBufferView(x)?this.__addimage__.arrayBufferToBinaryString(x):x)).numcomponents){case 1:k=this.color_spaces.DEVICE_GRAY;break;case 4:k=this.color_spaces.DEVICE_CMYK;break;case 3:k=this.color_spaces.DEVICE_RGB}vt={data:x,width:Y.width,height:Y.height,colorSpace:k,bitsPerComponent:8,filter:it,index:C,alias:j}}return vt}}(Qt.API);var Ya,Ps,sl,id,Jp,bc=function(){var T,E,x;function C(A){var G,k,Y,it,vt,mt,Ot,K,zt,Mt,te,wt,Yt,xe;for(this.data=A,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},mt=null;;){switch(G=this.readUInt32(),zt=function(){var ze,tr;for(tr=[],ze=0;ze<4;++ze)tr.push(String.fromCharCode(this.data[this.pos++]));return tr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(G);break;case"fcTL":mt&&this.animation.frames.push(mt),this.pos+=4,mt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},vt=this.readUInt16(),it=this.readUInt16()||100,mt.delay=1e3*vt/it,mt.disposeOp=this.data[this.pos++],mt.blendOp=this.data[this.pos++],mt.data=[];break;case"IDAT":case"fdAT":for(zt==="fdAT"&&(this.pos+=4,G-=4),A=(mt!=null?mt.data:void 0)||this.imgData,wt=0;0<=G?wt<G:wt>G;0<=G?++wt:--wt)A.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Y=this.palette.length/3,this.transparency.indexed=this.read(G),this.transparency.indexed.length>Y)throw new Error("More transparent colors than palette size");if((Mt=Y-this.transparency.indexed.length)>0)for(Yt=0;0<=Mt?Yt<Mt:Yt>Mt;0<=Mt?++Yt:--Yt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(G)[0];break;case 2:this.transparency.rgb=this.read(G)}break;case"tEXt":Ot=(te=this.read(G)).indexOf(0),K=String.fromCharCode.apply(String,te.slice(0,Ot)),this.text[K]=String.fromCharCode.apply(String,te.slice(Ot+1));break;case"IEND":return mt&&this.animation.frames.push(mt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(xe=this.colorType)===4||xe===6,k=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*k,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=G}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}C.prototype.read=function(A){var G,k;for(k=[],G=0;0<=A?G<A:G>A;0<=A?++G:--G)k.push(this.data[this.pos++]);return k},C.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},C.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},C.prototype.decodePixels=function(A){var G=this.pixelBitlength/8,k=new Uint8Array(this.width*this.height*G),Y=0,it=this;if(A==null&&(A=this.imgData),A.length===0)return new Uint8Array(0);function vt(mt,Ot,K,zt){var Mt,te,wt,Yt,xe,ze,tr,xr,Ue,pe,lr,er,Rt,Pt,ue,oe,$e,Xe,or,Re,je,Je=Math.ceil((it.width-mt)/K),Kr=Math.ceil((it.height-Ot)/zt),ft=it.width==Je&&it.height==Kr;for(Pt=G*Je,er=ft?k:new Uint8Array(Pt*Kr),ze=A.length,Rt=0,te=0;Rt<Kr&&Y<ze;){switch(A[Y++]){case 0:for(Yt=$e=0;$e<Pt;Yt=$e+=1)er[te++]=A[Y++];break;case 1:for(Yt=Xe=0;Xe<Pt;Yt=Xe+=1)Mt=A[Y++],xe=Yt<G?0:er[te-G],er[te++]=(Mt+xe)%256;break;case 2:for(Yt=or=0;or<Pt;Yt=or+=1)Mt=A[Y++],wt=(Yt-Yt%G)/G,ue=Rt&&er[(Rt-1)*Pt+wt*G+Yt%G],er[te++]=(ue+Mt)%256;break;case 3:for(Yt=Re=0;Re<Pt;Yt=Re+=1)Mt=A[Y++],wt=(Yt-Yt%G)/G,xe=Yt<G?0:er[te-G],ue=Rt&&er[(Rt-1)*Pt+wt*G+Yt%G],er[te++]=(Mt+Math.floor((xe+ue)/2))%256;break;case 4:for(Yt=je=0;je<Pt;Yt=je+=1)Mt=A[Y++],wt=(Yt-Yt%G)/G,xe=Yt<G?0:er[te-G],Rt===0?ue=oe=0:(ue=er[(Rt-1)*Pt+wt*G+Yt%G],oe=wt&&er[(Rt-1)*Pt+(wt-1)*G+Yt%G]),tr=xe+ue-oe,xr=Math.abs(tr-xe),pe=Math.abs(tr-ue),lr=Math.abs(tr-oe),Ue=xr<=pe&&xr<=lr?xe:pe<=lr?ue:oe,er[te++]=(Mt+Ue)%256;break;default:throw new Error("Invalid filter algorithm: "+A[Y-1])}if(!ft){var Ft=((Ot+Rt*zt)*it.width+mt)*G,Kt=Rt*Pt;for(Yt=0;Yt<Je;Yt+=1){for(var fe=0;fe<G;fe+=1)k[Ft++]=er[Kt++];Ft+=(K-1)*G}}Rt++}}return A=Object(O.a)(A),it.interlaceMethod==1?(vt(0,0,8,8),vt(4,0,8,8),vt(0,4,4,8),vt(2,0,4,4),vt(0,2,2,4),vt(1,0,2,2),vt(0,1,1,2)):vt(0,0,1,1),k},C.prototype.decodePalette=function(){var A,G,k,Y,it,vt,mt,Ot,K;for(k=this.palette,vt=this.transparency.indexed||[],it=new Uint8Array((vt.length||0)+k.length),Y=0,A=0,G=mt=0,Ot=k.length;mt<Ot;G=mt+=3)it[Y++]=k[G],it[Y++]=k[G+1],it[Y++]=k[G+2],it[Y++]=(K=vt[A++])!=null?K:255;return it},C.prototype.copyToImageData=function(A,G){var k,Y,it,vt,mt,Ot,K,zt,Mt,te,wt;if(Y=this.colors,Mt=null,k=this.hasAlphaChannel,this.palette.length&&(Mt=(wt=this._decodedPalette)!=null?wt:this._decodedPalette=this.decodePalette(),Y=4,k=!0),zt=(it=A.data||A).length,mt=Mt||G,vt=Ot=0,Y===1)for(;vt<zt;)K=Mt?4*G[vt/4]:Ot,te=mt[K++],it[vt++]=te,it[vt++]=te,it[vt++]=te,it[vt++]=k?mt[K++]:255,Ot=K;else for(;vt<zt;)K=Mt?4*G[vt/4]:Ot,it[vt++]=mt[K++],it[vt++]=mt[K++],it[vt++]=mt[K++],it[vt++]=k?mt[K++]:255,Ot=K},C.prototype.decode=function(){var A;return A=new Uint8Array(this.width*this.height*4),this.copyToImageData(A,this.decodePixels()),A};var j=function(){if(Object.prototype.toString.call(b)==="[object Window]"){try{E=b.document.createElement("canvas"),x=E.getContext("2d")}catch{return!1}return!0}return!1};return j(),T=function(A){var G;if(j()===!0)return x.width=A.width,x.height=A.height,x.clearRect(0,0,A.width,A.height),x.putImageData(A,0,0),(G=new Image).src=E.toDataURL(),G;throw new Error("This method requires a Browser with Canvas-capability.")},C.prototype.decodeFrames=function(A){var G,k,Y,it,vt,mt,Ot,K;if(this.animation){for(K=[],k=vt=0,mt=(Ot=this.animation.frames).length;vt<mt;k=++vt)G=Ot[k],Y=A.createImageData(G.width,G.height),it=this.decodePixels(new Uint8Array(G.data)),this.copyToImageData(Y,it),G.imageData=Y,K.push(G.image=T(Y));return K}},C.prototype.renderFrame=function(A,G){var k,Y,it;return k=(Y=this.animation.frames)[G],it=Y[G-1],G===0&&A.clearRect(0,0,this.width,this.height),(it!=null?it.disposeOp:void 0)===1?A.clearRect(it.xOffset,it.yOffset,it.width,it.height):(it!=null?it.disposeOp:void 0)===2&&A.putImageData(it.imageData,it.xOffset,it.yOffset),k.blendOp===0&&A.clearRect(k.xOffset,k.yOffset,k.width,k.height),A.drawImage(k.image,k.xOffset,k.yOffset)},C.prototype.animate=function(A){var G,k,Y,it,vt,mt,Ot=this;return k=0,mt=this.animation,it=mt.numFrames,Y=mt.frames,vt=mt.numPlays,(G=function(){var K,zt;if(K=k++%it,zt=Y[K],Ot.renderFrame(A,K),it>1&&k/it<vt)return Ot.animation._timeout=setTimeout(G,zt.delay)})()},C.prototype.stopAnimation=function(){var A;return clearTimeout((A=this.animation)!=null?A._timeout:void 0)},C.prototype.render=function(A){var G,k;return A._png&&A._png.stopAnimation(),A._png=this,A.width=this.width,A.height=this.height,G=A.getContext("2d"),this.animation?(this.decodeFrames(G),this.animate(G)):(k=G.createImageData(this.width,this.height),this.copyToImageData(k,this.decodePixels()),G.putImageData(k,0,0))},C}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gu(T){var E=0;if(T[E++]!==71||T[E++]!==73||T[E++]!==70||T[E++]!==56||(T[E++]+1&253)!=56||T[E++]!==97)throw new Error("Invalid GIF 87a/89a header.");var x=T[E++]|T[E++]<<8,C=T[E++]|T[E++]<<8,j=T[E++],A=j>>7,G=1<<(7&j)+1;T[E++],T[E++];var k=null,Y=null;A&&(k=E,Y=G,E+=3*G);var it=!0,vt=[],mt=0,Ot=null,K=0,zt=null;for(this.width=x,this.height=C;it&&E<T.length;)switch(T[E++]){case 33:switch(T[E++]){case 255:if(T[E]!==11||T[E+1]==78&&T[E+2]==69&&T[E+3]==84&&T[E+4]==83&&T[E+5]==67&&T[E+6]==65&&T[E+7]==80&&T[E+8]==69&&T[E+9]==50&&T[E+10]==46&&T[E+11]==48&&T[E+12]==3&&T[E+13]==1&&T[E+16]==0)E+=14,zt=T[E++]|T[E++]<<8,E++;else for(E+=12;;){if(!((Rt=T[E++])>=0))throw Error("Invalid block size");if(Rt===0)break;E+=Rt}break;case 249:if(T[E++]!==4||T[E+4]!==0)throw new Error("Invalid graphics extension block.");var Mt=T[E++];mt=T[E++]|T[E++]<<8,Ot=T[E++],(1&Mt)==0&&(Ot=null),K=Mt>>2&7,E++;break;case 254:for(;;){if(!((Rt=T[E++])>=0))throw Error("Invalid block size");if(Rt===0)break;E+=Rt}break;default:throw new Error("Unknown graphic control label: 0x"+T[E-1].toString(16))}break;case 44:var te=T[E++]|T[E++]<<8,wt=T[E++]|T[E++]<<8,Yt=T[E++]|T[E++]<<8,xe=T[E++]|T[E++]<<8,ze=T[E++],tr=ze>>6&1,xr=1<<(7&ze)+1,Ue=k,pe=Y,lr=!1;ze>>7&&(lr=!0,Ue=E,pe=xr,E+=3*xr);var er=E;for(E++;;){var Rt;if(!((Rt=T[E++])>=0))throw Error("Invalid block size");if(Rt===0)break;E+=Rt}vt.push({x:te,y:wt,width:Yt,height:xe,has_local_palette:lr,palette_offset:Ue,palette_size:pe,data_offset:er,data_length:E-er,transparent_index:Ot,interlaced:!!tr,delay:mt,disposal:K});break;case 59:it=!1;break;default:throw new Error("Unknown gif block: 0x"+T[E-1].toString(16))}this.numFrames=function(){return vt.length},this.loopCount=function(){return zt},this.frameInfo=function(Pt){if(Pt<0||Pt>=vt.length)throw new Error("Frame index out of range.");return vt[Pt]},this.decodeAndBlitFrameBGRA=function(Pt,ue){var oe=this.frameInfo(Pt),$e=oe.width*oe.height,Xe=new Uint8Array($e);Qp(T,oe.data_offset,Xe,$e);var or=oe.palette_offset,Re=oe.transparent_index;Re===null&&(Re=256);var je=oe.width,Je=x-je,Kr=je,ft=4*(oe.y*x+oe.x),Ft=4*((oe.y+oe.height)*x+oe.x),Kt=ft,fe=4*Je;oe.interlaced===!0&&(fe+=4*x*7);for(var ve=8,be=0,Pe=Xe.length;be<Pe;++be){var Ie=Xe[be];if(Kr===0&&(Kr=je,(Kt+=fe)>=Ft&&(fe=4*Je+4*x*(ve-1),Kt=ft+(je+Je)*(ve<<1),ve>>=1)),Ie===Re)Kt+=4;else{var mr=T[or+3*Ie],yr=T[or+3*Ie+1],Mr=T[or+3*Ie+2];ue[Kt++]=Mr,ue[Kt++]=yr,ue[Kt++]=mr,ue[Kt++]=255}--Kr}},this.decodeAndBlitFrameRGBA=function(Pt,ue){var oe=this.frameInfo(Pt),$e=oe.width*oe.height,Xe=new Uint8Array($e);Qp(T,oe.data_offset,Xe,$e);var or=oe.palette_offset,Re=oe.transparent_index;Re===null&&(Re=256);var je=oe.width,Je=x-je,Kr=je,ft=4*(oe.y*x+oe.x),Ft=4*((oe.y+oe.height)*x+oe.x),Kt=ft,fe=4*Je;oe.interlaced===!0&&(fe+=4*x*7);for(var ve=8,be=0,Pe=Xe.length;be<Pe;++be){var Ie=Xe[be];if(Kr===0&&(Kr=je,(Kt+=fe)>=Ft&&(fe=4*Je+4*x*(ve-1),Kt=ft+(je+Je)*(ve<<1),ve>>=1)),Ie===Re)Kt+=4;else{var mr=T[or+3*Ie],yr=T[or+3*Ie+1],Mr=T[or+3*Ie+2];ue[Kt++]=mr,ue[Kt++]=yr,ue[Kt++]=Mr,ue[Kt++]=255}--Kr}}}function Qp(T,E,x,C){for(var j=T[E++],A=1<<j,G=A+1,k=G+1,Y=j+1,it=(1<<Y)-1,vt=0,mt=0,Ot=0,K=T[E++],zt=new Int32Array(4096),Mt=null;;){for(;vt<16&&K!==0;)mt|=T[E++]<<vt,vt+=8,K===1?K=T[E++]:--K;if(vt<Y)break;var te=mt&it;if(mt>>=Y,vt-=Y,te!==A){if(te===G)break;for(var wt=te<k?te:Mt,Yt=0,xe=wt;xe>A;)xe=zt[xe]>>8,++Yt;var ze=xe;if(Ot+Yt+(wt!==te?1:0)>C)return void F.log("Warning, gif stream longer than expected.");x[Ot++]=ze;var tr=Ot+=Yt;for(wt!==te&&(x[Ot++]=ze),xe=wt;Yt--;)xe=zt[xe],x[--tr]=255&xe,xe>>=8;Mt!==null&&k<4096&&(zt[k++]=Mt<<8|ze,k>=it+1&&Y<12&&(++Y,it=it<<1|1)),Mt=te}else k=G+1,it=(1<<(Y=j+1))-1,Mt=null}return Ot!==C&&F.log("Warning, gif stream shorter than expected."),x}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function od(T){var E,x,C,j,A,G=Math.floor,k=new Array(64),Y=new Array(64),it=new Array(64),vt=new Array(64),mt=new Array(65535),Ot=new Array(65535),K=new Array(64),zt=new Array(64),Mt=[],te=0,wt=7,Yt=new Array(64),xe=new Array(64),ze=new Array(64),tr=new Array(256),xr=new Array(2048),Ue=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],pe=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],lr=[0,1,2,3,4,5,6,7,8,9,10,11],er=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Rt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Pt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Xe(ft,Ft){for(var Kt=0,fe=0,ve=new Array,be=1;be<=16;be++){for(var Pe=1;Pe<=ft[be];Pe++)ve[Ft[fe]]=[],ve[Ft[fe]][0]=Kt,ve[Ft[fe]][1]=be,fe++,Kt++;Kt*=2}return ve}function or(ft){for(var Ft=ft[0],Kt=ft[1]-1;Kt>=0;)Ft&1<<Kt&&(te|=1<<wt),Kt--,--wt<0&&(te==255?(Re(255),Re(0)):Re(te),wt=7,te=0)}function Re(ft){Mt.push(ft)}function je(ft){Re(ft>>8&255),Re(255&ft)}function Je(ft,Ft,Kt,fe,ve){for(var be,Pe=ve[0],Ie=ve[240],mr=function(dr,wr){var kr,jr,ln,Mn,Yn,Jn,fi,En,wn,Qn,Dr=0;for(wn=0;wn<8;++wn){kr=dr[Dr],jr=dr[Dr+1],ln=dr[Dr+2],Mn=dr[Dr+3],Yn=dr[Dr+4],Jn=dr[Dr+5],fi=dr[Dr+6];var sa=kr+(En=dr[Dr+7]),hn=kr-En,cs=jr+fi,hi=jr-fi,Yi=ln+Jn,ll=ln-Jn,di=Mn+Yn,Zu=Mn-Yn,so=sa+di,Aa=sa-di,Nl=cs+Yi,lo=cs-Yi;dr[Dr]=so+Nl,dr[Dr+4]=so-Nl;var dn=.707106781*(lo+Aa);dr[Dr+2]=Aa+dn,dr[Dr+6]=Aa-dn;var Yr=.382683433*((so=Zu+ll)-(lo=hi+hn)),la=.5411961*so+Yr,Qo=1.306562965*lo+Yr,ul=.707106781*(Nl=ll+hi),cl=hn+ul,un=hn-ul;dr[Dr+5]=un+la,dr[Dr+3]=un-la,dr[Dr+1]=cl+Qo,dr[Dr+7]=cl-Qo,Dr+=8}for(Dr=0,wn=0;wn<8;++wn){kr=dr[Dr],jr=dr[Dr+8],ln=dr[Dr+16],Mn=dr[Dr+24],Yn=dr[Dr+32],Jn=dr[Dr+40],fi=dr[Dr+48];var wi=kr+(En=dr[Dr+56]),Xa=kr-En,La=jr+fi,Uo=jr-fi,Lr=ln+Jn,Ka=ln-Jn,Cc=Mn+Yn,Fl=Mn-Yn,Ns=wi+Cc,$t=wi-Cc,ua=La+Lr,To=La-Lr;dr[Dr]=Ns+ua,dr[Dr+32]=Ns-ua;var Hi=.707106781*(To+$t);dr[Dr+16]=$t+Hi,dr[Dr+48]=$t-Hi;var si=.382683433*((Ns=Fl+Ka)-(To=Uo+Xa)),ko=.5411961*Ns+si,Ac=1.306562965*To+si,yu=.707106781*(ua=Ka+Uo),Lc=Xa+yu,Ra=Xa-yu;dr[Dr+40]=Ra+ko,dr[Dr+24]=Ra-ko,dr[Dr+8]=Lc+Ac,dr[Dr+56]=Lc-Ac,Dr++}for(wn=0;wn<64;++wn)Qn=dr[wn]*wr[wn],K[wn]=Qn>0?Qn+.5|0:Qn-.5|0;return K}(ft,Ft),yr=0;yr<64;++yr)zt[Ue[yr]]=mr[yr];var Mr=zt[0]-Kt;Kt=zt[0],Mr==0?or(fe[0]):(or(fe[Ot[be=32767+Mr]]),or(mt[be]));for(var Wr=63;Wr>0&&zt[Wr]==0;)Wr--;if(Wr==0)return or(Pe),Kt;for(var mn,We=1;We<=Wr;){for(var Gt=We;zt[We]==0&&We<=Wr;)++We;var Un=We-Gt;if(Un>=16){mn=Un>>4;for(var tn=1;tn<=mn;++tn)or(Ie);Un&=15}be=32767+zt[We],or(ve[(Un<<4)+Ot[be]]),or(mt[be]),We++}return Wr!=63&&or(Pe),Kt}function Kr(ft){ft=Math.min(Math.max(ft,1),100),A!=ft&&(function(Ft){for(var Kt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],fe=0;fe<64;fe++){var ve=G((Kt[fe]*Ft+50)/100);ve=Math.min(Math.max(ve,1),255),k[Ue[fe]]=ve}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var Ie=G((be[Pe]*Ft+50)/100);Ie=Math.min(Math.max(Ie,1),255),Y[Ue[Pe]]=Ie}for(var mr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],yr=0,Mr=0;Mr<8;Mr++)for(var Wr=0;Wr<8;Wr++)it[yr]=1/(k[Ue[yr]]*mr[Mr]*mr[Wr]*8),vt[yr]=1/(Y[Ue[yr]]*mr[Mr]*mr[Wr]*8),yr++}(ft<50?Math.floor(5e3/ft):Math.floor(200-2*ft)),A=ft)}this.encode=function(ft,Ft){Ft&&Kr(Ft),Mt=new Array,te=0,wt=7,je(65496),je(65504),je(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),je(1),je(1),Re(0),Re(0),function(){je(65499),je(132),Re(0);for(var jr=0;jr<64;jr++)Re(k[jr]);Re(1);for(var ln=0;ln<64;ln++)Re(Y[ln])}(),function(jr,ln){je(65472),je(17),Re(8),je(ln),je(jr),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1)}(ft.width,ft.height),function(){je(65476),je(418),Re(0);for(var jr=0;jr<16;jr++)Re(pe[jr+1]);for(var ln=0;ln<=11;ln++)Re(lr[ln]);Re(16);for(var Mn=0;Mn<16;Mn++)Re(er[Mn+1]);for(var Yn=0;Yn<=161;Yn++)Re(Rt[Yn]);Re(1);for(var Jn=0;Jn<16;Jn++)Re(Pt[Jn+1]);for(var fi=0;fi<=11;fi++)Re(ue[fi]);Re(17);for(var En=0;En<16;En++)Re(oe[En+1]);for(var wn=0;wn<=161;wn++)Re($e[wn])}(),je(65498),je(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var Kt=0,fe=0,ve=0;te=0,wt=7,this.encode.displayName="_encode_";for(var be,Pe,Ie,mr,yr,Mr,Wr,mn,We,Gt=ft.data,Un=ft.width,tn=ft.height,dr=4*Un,wr=0;wr<tn;){for(be=0;be<dr;){for(yr=dr*wr+be,Wr=-1,mn=0,We=0;We<64;We++)Mr=yr+(mn=We>>3)*dr+(Wr=4*(7&We)),wr+mn>=tn&&(Mr-=dr*(wr+1+mn-tn)),be+Wr>=dr&&(Mr-=be+Wr-dr+4),Pe=Gt[Mr++],Ie=Gt[Mr++],mr=Gt[Mr++],Yt[We]=(xr[Pe]+xr[Ie+256>>0]+xr[mr+512>>0]>>16)-128,xe[We]=(xr[Pe+768>>0]+xr[Ie+1024>>0]+xr[mr+1280>>0]>>16)-128,ze[We]=(xr[Pe+1280>>0]+xr[Ie+1536>>0]+xr[mr+1792>>0]>>16)-128;Kt=Je(Yt,it,Kt,E,C),fe=Je(xe,vt,fe,x,j),ve=Je(ze,vt,ve,x,j),be+=32}wr+=8}if(wt>=0){var kr=[];kr[1]=wt+1,kr[0]=(1<<wt+1)-1,or(kr)}return je(65497),new Uint8Array(Mt)},T=T||50,function(){for(var ft=String.fromCharCode,Ft=0;Ft<256;Ft++)tr[Ft]=ft(Ft)}(),E=Xe(pe,lr),x=Xe(Pt,ue),C=Xe(er,Rt),j=Xe(oe,$e),function(){for(var ft=1,Ft=2,Kt=1;Kt<=15;Kt++){for(var fe=ft;fe<Ft;fe++)Ot[32767+fe]=Kt,mt[32767+fe]=[],mt[32767+fe][1]=Kt,mt[32767+fe][0]=fe;for(var ve=-(Ft-1);ve<=-ft;ve++)Ot[32767+ve]=Kt,mt[32767+ve]=[],mt[32767+ve][1]=Kt,mt[32767+ve][0]=Ft-1+ve;ft<<=1,Ft<<=1}}(),function(){for(var ft=0;ft<256;ft++)xr[ft]=19595*ft,xr[ft+256>>0]=38470*ft,xr[ft+512>>0]=7471*ft+32768,xr[ft+768>>0]=-11059*ft,xr[ft+1024>>0]=-21709*ft,xr[ft+1280>>0]=32768*ft+8421375,xr[ft+1536>>0]=-27439*ft,xr[ft+1792>>0]=-5329*ft}(),Kr(T)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Go(T,E){if(this.pos=0,this.buffer=T,this.datav=new DataView(T.buffer),this.is_with_alpha=!!E,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tv(T){function E(pe){if(!pe)throw Error("assert :P")}function x(pe,lr,er){for(var Rt=0;4>Rt;Rt++)if(pe[lr+Rt]!=er.charCodeAt(Rt))return!0;return!1}function C(pe,lr,er,Rt,Pt){for(var ue=0;ue<Pt;ue++)pe[lr+ue]=er[Rt+ue]}function j(pe,lr,er,Rt){for(var Pt=0;Pt<Rt;Pt++)pe[lr+Pt]=er}function A(pe){return new Int32Array(pe)}function G(pe,lr){for(var er=[],Rt=0;Rt<pe;Rt++)er.push(new lr);return er}function k(pe,lr){var er=[];return function Rt(Pt,ue,oe){for(var $e=oe[ue],Xe=0;Xe<$e&&(Pt.push(oe.length>ue+1?[]:new lr),!(oe.length<ue+1));Xe++)Rt(Pt[Xe],ue+1,oe)}(er,0,pe),er}var Y=function(){var pe=this;function lr(g,S){for(var N=1<<S-1>>>0;g&N;)N>>>=1;return N?(g&N-1)+N:g}function er(g,S,N,X,nt){E(!(X%N));do g[S+(X-=N)]=nt;while(0<X)}function Rt(g,S,N,X,nt){if(E(2328>=nt),512>=nt)var st=A(512);else if((st=A(nt))==null)return 0;return function(ut,dt,yt,At,ae,we){var Oe,de,Qe=dt,De=1<<yt,se=A(16),le=A(16);for(E(ae!=0),E(At!=null),E(ut!=null),E(0<yt),de=0;de<ae;++de){if(15<At[de])return 0;++se[At[de]]}if(se[0]==ae)return 0;for(le[1]=0,Oe=1;15>Oe;++Oe){if(se[Oe]>1<<Oe)return 0;le[Oe+1]=le[Oe]+se[Oe]}for(de=0;de<ae;++de)Oe=At[de],0<At[de]&&(we[le[Oe]++]=de);if(le[15]==1)return(At=new Pt).g=0,At.value=we[0],er(ut,Qe,1,De,At),De;var qe,nr=-1,Ce=De-1,ar=0,Cr=1,vn=1,Ae=1<<yt;for(de=0,Oe=1,ae=2;Oe<=yt;++Oe,ae<<=1){if(Cr+=vn<<=1,0>(vn-=se[Oe]))return 0;for(;0<se[Oe];--se[Oe])(At=new Pt).g=Oe,At.value=we[de++],er(ut,Qe+ar,ae,Ae,At),ar=lr(ar,Oe)}for(Oe=yt+1,ae=2;15>=Oe;++Oe,ae<<=1){if(Cr+=vn<<=1,0>(vn-=se[Oe]))return 0;for(;0<se[Oe];--se[Oe]){if(At=new Pt,(ar&Ce)!=nr){for(Qe+=Ae,qe=1<<(nr=Oe)-yt;15>nr&&!(0>=(qe-=se[nr]));)++nr,qe<<=1;De+=Ae=1<<(qe=nr-yt),ut[dt+(nr=ar&Ce)].g=qe+yt,ut[dt+nr].value=Qe-dt-nr}At.g=Oe-yt,At.value=we[de++],er(ut,Qe+(ar>>yt),ae,Ae,At),ar=lr(ar,Oe)}}return Cr!=2*le[15]-1?0:De}(g,S,N,X,nt,st)}function Pt(){this.value=this.g=0}function ue(){this.value=this.g=0}function oe(){this.G=G(5,Pt),this.H=A(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=G(Ma,ue)}function $e(g,S,N,X){E(g!=null),E(S!=null),E(2147483648>X),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=S,g.pa=N,g.Jd=S,g.Yc=N+X,g.Zc=4<=X?N+X-4+1:N,be(g)}function Xe(g,S){for(var N=0;0<S--;)N|=Ie(g,128)<<S;return N}function or(g,S){var N=Xe(g,S);return Pe(g)?-N:N}function Re(g,S,N,X){var nt,st=0;for(E(g!=null),E(S!=null),E(4294967288>X),g.Sb=X,g.Ra=0,g.u=0,g.h=0,4<X&&(X=4),nt=0;nt<X;++nt)st+=S[N+nt]<<8*nt;g.Ra=st,g.bb=X,g.oa=S,g.pa=N}function je(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<zc-8>>>0,++g.bb,g.u-=8;Kt(g)&&(g.h=1,g.u=0)}function Je(g,S){if(E(0<=S),!g.h&&S<=Ou){var N=Ft(g)&fs[S];return g.u+=S,je(g),N}return g.h=1,g.u=0}function Kr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ft(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ft(g){return g.Ra>>>(g.u&zc-1)>>>0}function Kt(g){return E(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>zc}function fe(g,S){g.u=S,g.h=Kt(g)}function ve(g){g.u>=ic&&(E(g.u>=ic),je(g))}function be(g){E(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(E(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function Pe(g){return Xe(g,1)}function Ie(g,S){var N=g.Ca;0>g.b&&be(g);var X=g.b,nt=N*S>>>8,st=(g.I>>>X>nt)+0;for(st?(N-=nt,g.I-=nt+1<<X>>>0):N=nt+1,X=N,nt=0;256<=X;)nt+=8,X>>=8;return X=7^nt+_a[X],g.b-=X,g.Ca=(N<<X)-1,st}function mr(g,S,N){g[S+0]=N>>24&255,g[S+1]=N>>16&255,g[S+2]=N>>8&255,g[S+3]=N>>0&255}function yr(g,S){return g[S+0]<<0|g[S+1]<<8}function Mr(g,S){return yr(g,S)|g[S+2]<<16}function Wr(g,S){return yr(g,S)|yr(g,S+2)<<16}function mn(g,S){var N=1<<S;return E(g!=null),E(0<S),g.X=A(N),g.X==null?0:(g.Mb=32-S,g.Xa=S,1)}function We(g,S){E(g!=null),E(S!=null),E(g.Xa==S.Xa),C(S.X,0,g.X,0,1<<S.Xa)}function Gt(){this.X=[],this.Xa=this.Mb=0}function Un(g,S,N,X){E(N!=null),E(X!=null);var nt=N[0],st=X[0];return nt==0&&(nt=(g*st+S/2)/S),st==0&&(st=(S*nt+g/2)/g),0>=nt||0>=st?0:(N[0]=nt,X[0]=st,1)}function tn(g,S){return g+(1<<S)-1>>>S}function dr(g,S){return((4278255360&g)+(4278255360&S)>>>0&4278255360)+((16711935&g)+(16711935&S)>>>0&16711935)>>>0}function wr(g,S){pe[S]=function(N,X,nt,st,ut,dt,yt){var At;for(At=0;At<ut;++At){var ae=pe[g](dt[yt+At-1],nt,st+At);dt[yt+At]=dr(N[X+At],ae)}}}function kr(){this.ud=this.hd=this.jd=0}function jr(g,S){return((4278124286&(g^S))>>>1)+(g&S)>>>0}function ln(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Mn(g,S){return ln(g+(g-S+.5>>1))}function Yn(g,S,N){return Math.abs(S-N)-Math.abs(g-N)}function Jn(g,S,N,X,nt,st,ut){for(X=st[ut-1],N=0;N<nt;++N)st[ut+N]=X=dr(g[S+N],X)}function fi(g,S,N,X,nt){var st;for(st=0;st<N;++st){var ut=g[S+st],dt=ut>>8&255,yt=16711935&(yt=(yt=16711935&ut)+((dt<<16)+dt));X[nt+st]=(4278255360&ut)+yt>>>0}}function En(g,S){S.jd=g>>0&255,S.hd=g>>8&255,S.ud=g>>16&255}function wn(g,S,N,X,nt,st){var ut;for(ut=0;ut<X;++ut){var dt=S[N+ut],yt=dt>>>8,At=dt,ae=255&(ae=(ae=dt>>>16)+((g.jd<<24>>24)*(yt<<24>>24)>>>5));At=255&(At=(At=At+((g.hd<<24>>24)*(yt<<24>>24)>>>5))+((g.ud<<24>>24)*(ae<<24>>24)>>>5)),nt[st+ut]=(4278255360&dt)+(ae<<16)+At}}function Qn(g,S,N,X,nt){pe[S]=function(st,ut,dt,yt,At,ae,we,Oe,de){for(yt=we;yt<Oe;++yt)for(we=0;we<de;++we)At[ae++]=nt(dt[X(st[ut++])])},pe[g]=function(st,ut,dt,yt,At,ae,we){var Oe=8>>st.b,de=st.Ea,Qe=st.K[0],De=st.w;if(8>Oe)for(st=(1<<st.b)-1,De=(1<<Oe)-1;ut<dt;++ut){var se,le=0;for(se=0;se<de;++se)se&st||(le=X(yt[At++])),ae[we++]=nt(Qe[le&De]),le>>=Oe}else pe["VP8LMapColor"+N](yt,At,Qe,De,ae,we,ut,dt,de)}}function Dr(g,S,N,X,nt){for(N=S+N;S<N;){var st=g[S++];X[nt++]=st>>16&255,X[nt++]=st>>8&255,X[nt++]=st>>0&255}}function sa(g,S,N,X,nt){for(N=S+N;S<N;){var st=g[S++];X[nt++]=st>>16&255,X[nt++]=st>>8&255,X[nt++]=st>>0&255,X[nt++]=st>>24&255}}function hn(g,S,N,X,nt){for(N=S+N;S<N;){var st=(ut=g[S++])>>16&240|ut>>12&15,ut=ut>>0&240|ut>>28&15;X[nt++]=st,X[nt++]=ut}}function cs(g,S,N,X,nt){for(N=S+N;S<N;){var st=(ut=g[S++])>>16&248|ut>>13&7,ut=ut>>5&224|ut>>3&31;X[nt++]=st,X[nt++]=ut}}function hi(g,S,N,X,nt){for(N=S+N;S<N;){var st=g[S++];X[nt++]=st>>0&255,X[nt++]=st>>8&255,X[nt++]=st>>16&255}}function Yi(g,S,N,X,nt,st){if(st==0)for(N=S+N;S<N;)mr(X,((st=g[S++])[0]>>24|st[1]>>8&65280|st[2]<<8&16711680|st[3]<<24)>>>0),nt+=32;else C(X,nt,g,S,N)}function ll(g,S){pe[S][0]=pe[g+"0"],pe[S][1]=pe[g+"1"],pe[S][2]=pe[g+"2"],pe[S][3]=pe[g+"3"],pe[S][4]=pe[g+"4"],pe[S][5]=pe[g+"5"],pe[S][6]=pe[g+"6"],pe[S][7]=pe[g+"7"],pe[S][8]=pe[g+"8"],pe[S][9]=pe[g+"9"],pe[S][10]=pe[g+"10"],pe[S][11]=pe[g+"11"],pe[S][12]=pe[g+"12"],pe[S][13]=pe[g+"13"],pe[S][14]=pe[g+"0"],pe[S][15]=pe[g+"0"]}function di(g){return g==gv||g==yv||g==Xc||g==Cu}function Zu(){this.eb=[],this.size=this.A=this.fb=0}function so(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Aa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zu,this.f.kb=new so,this.sd=null}function Nl(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lo(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dn(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Yr(g,S){var N=g.T,X=S.ba.f.RGBA,nt=X.eb,st=X.fb+g.ka*X.A,ut=Xo[S.ba.S],dt=g.y,yt=g.O,At=g.f,ae=g.N,we=g.ea,Oe=g.W,de=S.cc,Qe=S.dc,De=S.Mc,se=S.Nc,le=g.ka,qe=g.ka+g.T,nr=g.U,Ce=nr+1>>1;for(le==0?ut(dt,yt,null,null,At,ae,we,Oe,At,ae,we,Oe,nt,st,null,null,nr):(ut(S.ec,S.fc,dt,yt,de,Qe,De,se,At,ae,we,Oe,nt,st-X.A,nt,st,nr),++N);le+2<qe;le+=2)de=At,Qe=ae,De=we,se=Oe,ae+=g.Rc,Oe+=g.Rc,st+=2*X.A,ut(dt,(yt+=2*g.fa)-g.fa,dt,yt,de,Qe,De,se,At,ae,we,Oe,nt,st-X.A,nt,st,nr);return yt+=g.fa,g.j+qe<g.o?(C(S.ec,S.fc,dt,yt,nr),C(S.cc,S.dc,At,ae,Ce),C(S.Mc,S.Nc,we,Oe,Ce),N--):1&qe||ut(dt,yt,null,null,At,ae,we,Oe,At,ae,we,Oe,nt,st+X.A,null,null,nr),N}function la(g,S,N){var X=g.F,nt=[g.J];if(X!=null){var st=g.U,ut=S.ba.S,dt=ut==Sd||ut==Xc;S=S.ba.f.RGBA;var yt=[0],At=g.ka;yt[0]=g.T,g.Kb&&(At==0?--yt[0]:(--At,nt[0]-=g.width),g.j+g.ka+g.T==g.o&&(yt[0]=g.o-g.j-At));var ae=S.eb;At=S.fb+At*S.A,g=uh(X,nt[0],g.width,st,yt,ae,At+(dt?0:3),S.A),E(N==yt),g&&di(ut)&&to(ae,At,dt,st,yt,S.A)}return 0}function Qo(g){var S=g.ma,N=S.ba.S,X=11>N,nt=N==xd||N==hh||N==Sd||N==dh||N==12||di(N);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!ah(S.Oa,g,nt?11:12))return 0;if(nt&&di(N)&&cr(),g.da)alert("todo:use_scaling");else{if(X){if(S.Ib=dn,g.Kb){if(N=g.U+1>>1,S.memory=A(g.U+2*N),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+g.U,S.Mc=S.cc,S.Nc=S.dc+N,S.Ib=Yr,cr()}}else alert("todo:EmitYUV");nt&&(S.Jb=la,X&&me())}if(X&&!gh){for(g=0;256>g;++g)wv[g]=89858*(g-128)+bd>>Td,d1[g]=-22014*(g-128)+bd,h1[g]=-45773*(g-128),f1[g]=113618*(g-128)+bd>>Td;for(g=vh;g<Sv;++g)S=76283*(g-16)+bd>>Td,p1[g-vh]=Ia(S,255),v1[g-vh]=Ia(S+8>>4,15);gh=1}return 1}function ul(g){var S=g.ma,N=g.U,X=g.T;return E(!(1&g.ka)),0>=N||0>=X?0:(N=S.Ib(g,S),S.Jb!=null&&S.Jb(g,S,N),S.Dc+=N,1)}function cl(g){g.ma.memory=null}function un(g,S,N,X){return Je(g,8)!=47?0:(S[0]=Je(g,14)+1,N[0]=Je(g,14)+1,X[0]=Je(g,1),Je(g,3)!=0?0:!g.h)}function wi(g,S){if(4>g)return g+1;var N=g-2>>1;return(2+(1&g)<<N)+Je(S,N)+1}function Xa(g,S){return 120<S?S-120:1<=(N=((N=mv[S-1])>>4)*g+(8-(15&N)))?N:1;var N}function La(g,S,N){var X=Ft(N),nt=g[S+=255&X].g-8;return 0<nt&&(fe(N,N.u+8),X=Ft(N),S+=g[S].value,S+=X&(1<<nt)-1),fe(N,N.u+g[S].g),g[S].value}function Uo(g,S,N){return N.g+=g.g,N.value+=g.value<<S>>>0,E(8>=N.g),g.g}function Lr(g,S,N){var X=g.xc;return E((S=X==0?0:g.vc[g.md*(N>>X)+(S>>X)])<g.Wb),g.Ya[S]}function Ka(g,S,N,X){var nt=g.ab,st=g.c*S,ut=g.C;S=ut+S;var dt=N,yt=X;for(X=g.Ta,N=g.Ua;0<nt--;){var At=g.gc[nt],ae=ut,we=S,Oe=dt,de=yt,Qe=(yt=X,dt=N,At.Ea);switch(E(ae<we),E(we<=At.nc),At.hc){case 2:Ed(Oe,de,(we-ae)*Qe,yt,dt);break;case 0:var De=ae,se=we,le=yt,qe=dt,nr=(Ae=At).Ea;De==0&&(_d(Oe,de,null,null,1,le,qe),Jn(Oe,de+1,0,0,nr-1,le,qe+1),de+=nr,qe+=nr,++De);for(var Ce=1<<Ae.b,ar=Ce-1,Cr=tn(nr,Ae.b),vn=Ae.K,Ae=Ae.w+(De>>Ae.b)*Cr;De<se;){var Ai=vn,Oi=Ae,gi=1;for(Tu(Oe,de,le,qe-nr,1,le,qe);gi<nr;){var oi=(gi&~ar)+Ce;oi>nr&&(oi=nr),(0,Us[Ai[Oi++]>>8&15])(Oe,de+ +gi,le,qe+gi-nr,oi-gi,le,qe+gi),gi=oi}de+=nr,qe+=nr,++De&ar||(Ae+=Cr)}we!=At.nc&&C(yt,dt-Qe,yt,dt+(we-ae-1)*Qe,Qe);break;case 1:for(Qe=Oe,se=de,nr=(Oe=At.Ea)-(qe=Oe&~(le=(de=1<<At.b)-1)),De=tn(Oe,At.b),Ce=At.K,At=At.w+(ae>>At.b)*De;ae<we;){for(ar=Ce,Cr=At,vn=new kr,Ae=se+qe,Ai=se+Oe;se<Ae;)En(ar[Cr++],vn),qa(vn,Qe,se,de,yt,dt),se+=de,dt+=de;se<Ai&&(En(ar[Cr++],vn),qa(vn,Qe,se,nr,yt,dt),se+=nr,dt+=nr),++ae&le||(At+=De)}break;case 3:if(Oe==yt&&de==dt&&0<At.b){for(se=yt,Oe=Qe=dt+(we-ae)*Qe-(qe=(we-ae)*tn(At.Ea,At.b)),de=yt,le=dt,De=[],qe=(nr=qe)-1;0<=qe;--qe)De[qe]=de[le+qe];for(qe=nr-1;0<=qe;--qe)se[Oe+qe]=De[qe];Gs(At,ae,we,yt,Qe,yt,dt)}else Gs(At,ae,we,Oe,de,yt,dt)}dt=X,yt=N}yt!=N&&C(X,N,dt,yt,st)}function Cc(g,S){var N=g.V,X=g.Ba+g.c*g.C,nt=S-g.C;if(E(S<=g.l.o),E(16>=nt),0<nt){var st=g.l,ut=g.Ta,dt=g.Ua,yt=st.width;if(Ka(g,nt,N,X),nt=dt=[dt],E((N=g.C)<(X=S)),E(st.v<st.va),X>st.o&&(X=st.o),N<st.j){var At=st.j-N;N=st.j,nt[0]+=At*yt}if(N>=X?N=0:(nt[0]+=4*st.v,st.ka=N-st.j,st.U=st.va-st.v,st.T=X-N,N=1),N){if(dt=dt[0],11>(N=g.ca).S){var ae=N.f.RGBA,we=(X=N.S,nt=st.U,st=st.T,At=ae.eb,ae.A),Oe=st;for(ae=ae.fb+g.Ma*ae.A;0<Oe--;){var de=ut,Qe=dt,De=nt,se=At,le=ae;switch(X){case fh:ks(de,Qe,De,se,le);break;case xd:yl(de,Qe,De,se,le);break;case gv:yl(de,Qe,De,se,le),to(se,le,0,De,1,0);break;case oy:Vl(de,Qe,De,se,le);break;case hh:Yi(de,Qe,De,se,le,1);break;case yv:Yi(de,Qe,De,se,le,1),to(se,le,0,De,1,0);break;case Sd:Yi(de,Qe,De,se,le,0);break;case Xc:Yi(de,Qe,De,se,le,0),to(se,le,1,De,1,0);break;case dh:zs(de,Qe,De,se,le);break;case Cu:zs(de,Qe,De,se,le),Hc(se,le,De,1,0);break;case ay:zl(de,Qe,De,se,le);break;default:E(0)}dt+=yt,ae+=we}g.Ma+=st}else alert("todo:EmitRescaledRowsYUVA");E(g.Ma<=N.height)}}g.C=S,E(g.C<=g.i)}function Fl(g){var S;if(0<g.ua)return 0;for(S=0;S<g.Wb;++S){var N=g.Ya[S].G,X=g.Ya[S].H;if(0<N[1][X[1]+0].g||0<N[2][X[2]+0].g||0<N[3][X[3]+0].g)return 0}return 1}function Ns(g,S,N,X,nt,st){if(g.Z!=0){var ut=g.qd,dt=g.rd;for(E(El[g.Z]!=null);S<N;++S)El[g.Z](ut,dt,X,nt,X,nt,st),ut=X,dt=nt,nt+=st;g.qd=ut,g.rd=dt}}function $t(g,S){var N=g.l.ma,X=N.Z==0||N.Z==1?g.l.j:g.C;if(X=g.C<X?X:g.C,E(S<=g.l.o),S>X){var nt=g.l.width,st=N.ca,ut=N.tb+nt*X,dt=g.V,yt=g.Ba+g.c*X,At=g.gc;E(g.ab==1),E(At[0].hc==3),fv(At[0],X,S,dt,yt,st,ut),Ns(N,X,S,st,ut,nt)}g.C=g.Ma=S}function ua(g,S,N,X,nt,st,ut){var dt=g.$/X,yt=g.$%X,At=g.m,ae=g.s,we=N+g.$,Oe=we;nt=N+X*nt;var de=N+X*st,Qe=280+ae.ua,De=g.Pb?dt:16777216,se=0<ae.ua?ae.Wa:null,le=ae.wc,qe=we<de?Lr(ae,yt,dt):null;E(g.C<st),E(de<=nt);var nr=!1;t:for(;;){for(;nr||we<de;){var Ce=0;if(dt>=De){var ar=we-N;E((De=g).Pb),De.wd=De.m,De.xd=ar,0<De.s.ua&&We(De.s.Wa,De.s.vb),De=dt+Qa}if(yt&le||(qe=Lr(ae,yt,dt)),E(qe!=null),qe.Qb&&(S[we]=qe.qb,nr=!0),!nr)if(ve(At),qe.jc){Ce=At,ar=S;var Cr=we,vn=qe.pd[Ft(Ce)&Ma-1];E(qe.jc),256>vn.g?(fe(Ce,Ce.u+vn.g),ar[Cr]=vn.value,Ce=0):(fe(Ce,Ce.u+vn.g-256),E(256<=vn.value),Ce=vn.value),Ce==0&&(nr=!0)}else Ce=La(qe.G[0],qe.H[0],At);if(At.h)break;if(nr||256>Ce){if(!nr)if(qe.nd)S[we]=(qe.qb|Ce<<8)>>>0;else{if(ve(At),nr=La(qe.G[1],qe.H[1],At),ve(At),ar=La(qe.G[2],qe.H[2],At),Cr=La(qe.G[3],qe.H[3],At),At.h)break;S[we]=(Cr<<24|nr<<16|Ce<<8|ar)>>>0}if(nr=!1,++we,++yt>=X&&(yt=0,++dt,ut!=null&&dt<=st&&!(dt%16)&&ut(g,dt),se!=null))for(;Oe<we;)Ce=S[Oe++],se.X[(506832829*Ce&4294967295)>>>se.Mb]=Ce}else if(280>Ce){if(Ce=wi(Ce-256,At),ar=La(qe.G[4],qe.H[4],At),ve(At),ar=Xa(X,ar=wi(ar,At)),At.h)break;if(we-N<ar||nt-we<Ce)break t;for(Cr=0;Cr<Ce;++Cr)S[we+Cr]=S[we+Cr-ar];for(we+=Ce,yt+=Ce;yt>=X;)yt-=X,++dt,ut!=null&&dt<=st&&!(dt%16)&&ut(g,dt);if(E(we<=nt),yt&le&&(qe=Lr(ae,yt,dt)),se!=null)for(;Oe<we;)Ce=S[Oe++],se.X[(506832829*Ce&4294967295)>>>se.Mb]=Ce}else{if(!(Ce<Qe))break t;for(nr=Ce-280,E(se!=null);Oe<we;)Ce=S[Oe++],se.X[(506832829*Ce&4294967295)>>>se.Mb]=Ce;Ce=we,E(!(nr>>>(ar=se).Xa)),S[Ce]=ar.X[nr],nr=!0}nr||E(At.h==Kt(At))}if(g.Pb&&At.h&&we<nt)E(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&We(g.s.vb,g.s.Wa);else{if(At.h)break t;ut!=null&&ut(g,dt>st?st:dt),g.a=0,g.$=we-N}return 1}return g.a=3,0}function To(g){E(g!=null),g.vc=null,g.yc=null,g.Ya=null;var S=g.Wa;S!=null&&(S.X=null),g.vb=null,E(g!=null)}function Hi(){var g=new cv;return g==null?null:(g.a=0,g.xb=Zc,ll("Predictor","VP8LPredictors"),ll("Predictor","VP8LPredictors_C"),ll("PredictorAdd","VP8LPredictorsAdd"),ll("PredictorAdd","VP8LPredictorsAdd_C"),Ed=fi,qa=wn,ks=Dr,yl=sa,zs=hn,zl=cs,Vl=hi,pe.VP8LMapColor32b=Vc,pe.VP8LMapColor8b=hv,g)}function si(g,S,N,X,nt){var st=1,ut=[g],dt=[S],yt=X.m,At=X.s,ae=null,we=0;t:for(;;){if(N)for(;st&&Je(yt,1);){var Oe=ut,de=dt,Qe=X,De=1,se=Qe.m,le=Qe.gc[Qe.ab],qe=Je(se,2);if(Qe.Oc&1<<qe)st=0;else{switch(Qe.Oc|=1<<qe,le.hc=qe,le.Ea=Oe[0],le.nc=de[0],le.K=[null],++Qe.ab,E(4>=Qe.ab),qe){case 0:case 1:le.b=Je(se,3)+2,De=si(tn(le.Ea,le.b),tn(le.nc,le.b),0,Qe,le.K),le.K=le.K[0];break;case 3:var nr,Ce=Je(se,8)+1,ar=16<Ce?0:4<Ce?1:2<Ce?2:3;if(Oe[0]=tn(le.Ea,ar),le.b=ar,nr=De=si(Ce,1,0,Qe,le.K)){var Cr,vn=Ce,Ae=le,Ai=1<<(8>>Ae.b),Oi=A(Ai);if(Oi==null)nr=0;else{var gi=Ae.K[0],oi=Ae.w;for(Oi[0]=Ae.K[0][0],Cr=1;Cr<1*vn;++Cr)Oi[Cr]=dr(gi[oi+Cr],Oi[Cr-1]);for(;Cr<4*Ai;++Cr)Oi[Cr]=0;Ae.K[0]=null,Ae.K[0]=Oi,nr=1}}De=nr;break;case 2:break;default:E(0)}st=De}}if(ut=ut[0],dt=dt[0],st&&Je(yt,1)&&!(st=1<=(we=Je(yt,4))&&11>=we)){X.a=3;break t}var Ui;if(Ui=st)e:{var ki,Fn,Ao,Na=X,Lo=ut,Fa=dt,Xr=we,ts=N,gs=Na.m,Ro=Na.s,ea=[null],Ea=1,$i=0,xl=i1[Xr];r:for(;;){if(ts&&Je(gs,1)){var yi=Je(gs,3)+2,Kl=tn(Lo,yi),Lu=tn(Fa,yi),qc=Kl*Lu;if(!si(Kl,Lu,0,Na,ea))break r;for(ea=ea[0],Ro.xc=yi,ki=0;ki<qc;++ki){var Ru=ea[ki]>>8&65535;ea[ki]=Ru,Ru>=Ea&&(Ea=Ru+1)}}if(gs.h)break r;for(Fn=0;5>Fn;++Fn){var yo=sy[Fn];!Fn&&0<Xr&&(yo+=1<<Xr),$i<yo&&($i=yo)}var yh=G(Ea*xl,Pt),vy=Ea,Ov=G(vy,oe);if(Ov==null)var Xi=null;else E(65536>=vy),Xi=Ov;var mh=A($i);if(Xi==null||mh==null||yh==null){Na.a=1;break r}var Ad=yh;for(ki=Ao=0;ki<Ea;++ki){var Hs=Xi[ki],Jc=Hs.G,_h=Hs.H,Ld=0,Rd=1,gy=0;for(Fn=0;5>Fn;++Fn){yo=sy[Fn],Jc[Fn]=Ad,_h[Fn]=Ao,!Fn&&0<Xr&&(yo+=1<<Xr);i:{var Sl,$l=yo,oc=Na,Eh=mh,Tv=Ad,yy=Ao,bv=0,Zl=oc.m,xh=Je(Zl,1);if(j(Eh,0,0,$l),xh){var pr=Je(Zl,1)+1,m1=Je(Zl,1),my=Je(Zl,m1==0?1:8);Eh[my]=1,pr==2&&(Eh[my=Je(Zl,8)]=1);var Pd=1}else{var Br=A(19),Ko=Je(Zl,4)+4;if(19<Ko){oc.a=3;var es=0;break i}for(Sl=0;Sl<Ko;++Sl)Br[n1[Sl]]=Je(Zl,3);var Ei=void 0,ql=void 0,po=oc,ja=Br,Id=$l,Cv=Eh,wl=0,Ol=po.m,_y=8,Qc=G(128,Pt);n:for(;Rt(Qc,0,7,ja,19);){if(Je(Ol,1)){var Ey=2+2*Je(Ol,3);if((Ei=2+Je(Ol,Ey))>Id)break n}else Ei=Id;for(ql=0;ql<Id&&Ei--;){ve(Ol);var Av=Qc[0+(127&Ft(Ol))];fe(Ol,Ol.u+Av.g);var Jl=Av.value;if(16>Jl)Cv[ql++]=Jl,Jl!=0&&(_y=Jl);else{var xy=Jl==16,Md=Jl-16,_1=e1[Md],Sy=Je(Ol,t1[Md])+_1;if(ql+Sy>Id)break n;for(var E1=xy?_y:0;0<Sy--;)Cv[ql++]=E1}}wl=1;break n}wl||(po.a=3),Pd=wl}(Pd=Pd&&!Zl.h)&&(bv=Rt(Tv,yy,8,Eh,$l)),Pd&&bv!=0?es=bv:(oc.a=3,es=0)}if(es==0)break r;if(Rd&&r1[Fn]==1&&(Rd=Ad[Ao].g==0),Ld+=Ad[Ao].g,Ao+=es,3>=Fn){var Pu,Nd=mh[0];for(Pu=1;Pu<yo;++Pu)mh[Pu]>Nd&&(Nd=mh[Pu]);gy+=Nd}}if(Hs.nd=Rd,Hs.Qb=0,Rd&&(Hs.qb=(Jc[3][_h[3]+0].value<<24|Jc[1][_h[1]+0].value<<16|Jc[2][_h[2]+0].value)>>>0,Ld==0&&256>Jc[0][_h[0]+0].value&&(Hs.Qb=1,Hs.qb+=Jc[0][_h[0]+0].value<<8)),Hs.jc=!Hs.Qb&&6>gy,Hs.jc){var ys,Ql=Hs;for(ys=0;ys<Ma;++ys){var tu=ys,rs=Ql.pd[tu],Fd=Ql.G[0][Ql.H[0]+tu];256<=Fd.value?(rs.g=Fd.g+256,rs.value=Fd.value):(rs.g=0,rs.value=0,tu>>=Uo(Fd,8,rs),tu>>=Uo(Ql.G[1][Ql.H[1]+tu],16,rs),tu>>=Uo(Ql.G[2][Ql.H[2]+tu],0,rs),Uo(Ql.G[3][Ql.H[3]+tu],24,rs))}}}Ro.vc=ea,Ro.Wb=Ea,Ro.Ya=Xi,Ro.yc=yh,Ui=1;break e}Ui=0}if(!(st=Ui)){X.a=3;break t}if(0<we){if(At.ua=1<<we,!mn(At.Wa,we)){X.a=1,st=0;break t}}else At.ua=0;var Lv=X,Tl=ut,x1=dt,jd=Lv.s,Da=jd.xc;if(Lv.c=Tl,Lv.i=x1,jd.md=tn(Tl,Da),jd.wc=Da==0?-1:(1<<Da)-1,N){X.xb=s1;break t}if((ae=A(ut*dt))==null){X.a=1,st=0;break t}st=(st=ua(X,ae,0,ut,dt,dt,null))&&!yt.h;break t}return st?(nt!=null?nt[0]=ae:(E(ae==null),E(N)),X.$=0,N||To(At)):To(At),st}function ko(g,S){var N=g.c*g.i,X=N+S+16*S;return E(g.c<=S),g.V=A(X),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+N+S,1)}function Ac(g,S){var N=g.C,X=S-N,nt=g.V,st=g.Ba+g.c*N;for(E(S<=g.l.o);0<X;){var ut=16<X?16:X,dt=g.l.ma,yt=g.l.width,At=yt*ut,ae=dt.ca,we=dt.tb+yt*N,Oe=g.Ta,de=g.Ua;Ka(g,ut,nt,st),dv(Oe,de,ae,we,At),Ns(dt,N,N+ut,ae,we,yt),X-=ut,nt+=ut*g.c,N+=ut}E(N==S),g.C=g.Ma=S}function yu(){this.ub=this.yd=this.td=this.Rb=0}function Lc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ra(){this.Fb=this.Bb=this.Cb=0,this.Zb=A(4),this.Lb=A(4)}function sd(){this.Yb=function(){var g=[];return function S(N,X,nt){for(var st=nt[X],ut=0;ut<st&&(N.push(nt.length>X+1?[]:0),!(nt.length<X+1));ut++)S(N[ut],X+1,nt)}(g,0,[3,11]),g}()}function qu(){this.jb=A(3),this.Wc=k([4,8],sd),this.Xc=k([4,17],sd)}function mu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new A(4),this.od=new A(4)}function Rc(){this.ld=this.La=this.dd=this.tc=0}function ld(){this.Na=this.la=0}function Pc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fl(){this.ad=A(384),this.Za=0,this.Ob=A(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ud(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rc),this.Y=0,this.ya=Array(new fl),this.aa=0,this.l=new Ic}function cd(){this.y=A(16),this.f=A(8),this.ea=A(8)}function nv(){this.cb=this.a=0,this.sc="",this.m=new Kr,this.Od=new yu,this.Kc=new Lc,this.ed=new mu,this.Qa=new Ra,this.Ic=this.$c=this.Aa=0,this.D=new ud,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=G(8,Kr),this.ia=0,this.pb=G(4,Pc),this.Pa=new qu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cd),this.Hd=0,this.rb=Array(new ld),this.sb=0,this.wa=Array(new Rc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fl),this.L=this.aa=0,this.gd=k([4,2],Rc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ic(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function iv(){var g=new nv;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,$c||($c=Yf)),g}function uo(g,S,N){return g.a==0&&(g.a=S,g.sc=N,g.cb=0),0}function fd(g,S,N){return 3<=N&&g[S+0]==157&&g[S+1]==1&&g[S+2]==42}function hl(g,S){if(g==null)return 0;if(g.a=0,g.sc="OK",S==null)return uo(g,2,"null VP8Io passed to VP8GetHeaders()");var N=S.data,X=S.w,nt=S.ha;if(4>nt)return uo(g,7,"Truncated header.");var st=N[X+0]|N[X+1]<<8|N[X+2]<<16,ut=g.Od;if(ut.Rb=!(1&st),ut.td=st>>1&7,ut.yd=st>>4&1,ut.ub=st>>5,3<ut.td)return uo(g,3,"Incorrect keyframe parameters.");if(!ut.yd)return uo(g,4,"Frame not displayable.");X+=3,nt-=3;var dt=g.Kc;if(ut.Rb){if(7>nt)return uo(g,7,"cannot parse picture header");if(!fd(N,X,nt))return uo(g,3,"Bad code word");dt.c=16383&(N[X+4]<<8|N[X+3]),dt.Td=N[X+4]>>6,dt.i=16383&(N[X+6]<<8|N[X+5]),dt.Ud=N[X+6]>>6,X+=7,nt-=7,g.za=dt.c+15>>4,g.Ub=dt.i+15>>4,S.width=dt.c,S.height=dt.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,j((st=g.Pa).jb,0,255,st.jb.length),E((st=g.Qa)!=null),st.Cb=0,st.Bb=0,st.Fb=1,j(st.Zb,0,0,st.Zb.length),j(st.Lb,0,0,st.Lb)}if(ut.ub>nt)return uo(g,7,"bad partition length");$e(st=g.m,N,X,ut.ub),X+=ut.ub,nt-=ut.ub,ut.Rb&&(dt.Ld=Pe(st),dt.Kd=Pe(st)),dt=g.Qa;var yt,At=g.Pa;if(E(st!=null),E(dt!=null),dt.Cb=Pe(st),dt.Cb){if(dt.Bb=Pe(st),Pe(st)){for(dt.Fb=Pe(st),yt=0;4>yt;++yt)dt.Zb[yt]=Pe(st)?or(st,7):0;for(yt=0;4>yt;++yt)dt.Lb[yt]=Pe(st)?or(st,6):0}if(dt.Bb)for(yt=0;3>yt;++yt)At.jb[yt]=Pe(st)?Xe(st,8):255}else dt.Bb=0;if(st.Ka)return uo(g,3,"cannot parse segment header");if((dt=g.ed).zd=Pe(st),dt.Tb=Xe(st,6),dt.wb=Xe(st,3),dt.Pc=Pe(st),dt.Pc&&Pe(st)){for(At=0;4>At;++At)Pe(st)&&(dt.vd[At]=or(st,6));for(At=0;4>At;++At)Pe(st)&&(dt.od[At]=or(st,6))}if(g.L=dt.Tb==0?0:dt.zd?1:2,st.Ka)return uo(g,3,"cannot parse filter header");var ae=nt;if(nt=yt=X,X=yt+ae,dt=ae,g.Xb=(1<<Xe(g.m,2))-1,ae<3*(At=g.Xb))N=7;else{for(yt+=3*At,dt-=3*At,ae=0;ae<At;++ae){var we=N[nt+0]|N[nt+1]<<8|N[nt+2]<<16;we>dt&&(we=dt),$e(g.Jc[+ae],N,yt,we),yt+=we,dt-=we,nt+=3}$e(g.Jc[+At],N,yt,dt),N=yt<X?0:5}if(N!=0)return uo(g,N,"cannot parse partitions");for(N=Xe(yt=g.m,7),nt=Pe(yt)?or(yt,4):0,X=Pe(yt)?or(yt,4):0,dt=Pe(yt)?or(yt,4):0,At=Pe(yt)?or(yt,4):0,yt=Pe(yt)?or(yt,4):0,ae=g.Qa,we=0;4>we;++we){if(ae.Cb){var Oe=ae.Zb[we];ae.Fb||(Oe+=N)}else{if(0<we){g.pb[we]=g.pb[0];continue}Oe=N}var de=g.pb[we];de.Sc[0]=Kc[Ia(Oe+nt,127)],de.Sc[1]=wd[Ia(Oe+0,127)],de.Eb[0]=2*Kc[Ia(Oe+X,127)],de.Eb[1]=101581*wd[Ia(Oe+dt,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=Kc[Ia(Oe+At,117)],de.Qc[1]=wd[Ia(Oe+yt,127)],de.lc=Oe+yt}if(!ut.Rb)return uo(g,4,"Not a key frame.");for(Pe(st),ut=g.Pa,N=0;4>N;++N){for(nt=0;8>nt;++nt)for(X=0;3>X;++X)for(dt=0;11>dt;++dt)At=Ie(st,xv[N][nt][X][dt])?Xe(st,8):o1[N][nt][X][dt],ut.Wc[N][nt].Yb[X][dt]=At;for(nt=0;17>nt;++nt)ut.Xc[N][nt]=ut.Wc[N][a1[nt]]}return g.kc=Pe(st),g.kc&&(g.Bd=Xe(st,8)),g.cb=1}function Yf(g,S,N,X,nt,st,ut){var dt=S[nt].Yb[N];for(N=0;16>nt;++nt){if(!Ie(g,dt[N+0]))return nt;for(;!Ie(g,dt[N+1]);)if(dt=S[++nt].Yb[0],N=0,nt==16)return 16;var yt=S[nt+1].Yb;if(Ie(g,dt[N+2])){var At=g,ae=0;if(Ie(At,(Oe=dt)[(we=N)+3]))if(Ie(At,Oe[we+6])){for(dt=0,we=2*(ae=Ie(At,Oe[we+8]))+(Oe=Ie(At,Oe[we+9+ae])),ae=0,Oe=ly[we];Oe[dt];++dt)ae+=ae+Ie(At,Oe[dt]);ae+=3+(8<<we)}else Ie(At,Oe[we+7])?(ae=7+2*Ie(At,165),ae+=Ie(At,145)):ae=5+Ie(At,159);else ae=Ie(At,Oe[we+4])?3+Ie(At,Oe[we+5]):2;dt=yt[2]}else ae=1,dt=yt[1];yt=ut+_v[nt],0>(At=g).b&&be(At);var we,Oe=At.b,de=(we=At.Ca>>1)-(At.I>>Oe)>>31;--At.b,At.Ca+=de,At.Ca|=1,At.I-=(we+1&de)<<Oe,st[yt]=((ae^de)-de)*X[(0<nt)+0]}return 16}function Ju(g){var S=g.rb[g.sb-1];S.la=0,S.Na=0,j(g.zc,0,0,g.zc.length),g.ja=0}function ov(g,S){if(g==null)return 0;if(S==null)return uo(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!hl(g,S))return 0;if(E(g.cb),S.ac==null||S.ac(S)){S.ob&&(g.L=0);var N=Cd[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=S.v-N>>4,g.zb=S.j-N>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=S.o+15+N>>4,g.Hb=S.va+15+N>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var X=g.ed;for(N=0;4>N;++N){var nt;if(g.Qa.Cb){var st=g.Qa.Lb[N];g.Qa.Fb||(st+=X.Tb)}else st=X.Tb;for(nt=0;1>=nt;++nt){var ut=g.gd[N][nt],dt=st;if(X.Pc&&(dt+=X.vd[0],nt&&(dt+=X.od[0])),0<(dt=0>dt?0:63<dt?63:dt)){var yt=dt;0<X.wb&&(yt=4<X.wb?yt>>2:yt>>1)>9-X.wb&&(yt=9-X.wb),1>yt&&(yt=1),ut.dd=yt,ut.tc=2*dt+yt,ut.ld=40<=dt?2:15<=dt?1:0}else ut.tc=0;ut.La=nt}}}N=0}else uo(g,6,"Frame setup failed"),N=g.a;if(N=N==0){if(N){g.$c=0,0<g.Aa||(g.Ic=y1);t:{N=g.Ic,X=4*(yt=g.za);var At=32*yt,ae=yt+1,we=0<g.L?yt*(0<g.Aa?2:1):0,Oe=(g.Aa==2?2:1)*yt;if((ut=X+832+(nt=3*(16*N+Cd[g.L])/2*At)+(st=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=ut)N=0;else{if(ut>g.Vb){if(g.Vb=0,g.Ec=A(ut),g.Fc=0,g.Ec==null){N=uo(g,1,"no memory during frame initialization.");break t}g.Vb=ut}ut=g.Ec,dt=g.Fc,g.Ac=ut,g.Bc=dt,dt+=X,g.Gd=G(At,cd),g.Hd=0,g.rb=G(ae+1,ld),g.sb=1,g.wa=we?G(we,Rc):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=yt),E(!0),g.oc=ut,g.pc=dt,dt+=832,g.ya=G(Oe,fl),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=yt),g.R=16*yt,g.B=8*yt,yt=(At=Cd[g.L])*g.R,At=At/2*g.B,g.sa=ut,g.ta=dt+yt,g.qa=g.sa,g.ra=g.ta+16*N*g.R+At,g.Ha=g.qa,g.Ia=g.ra+8*N*g.B+At,g.$c=0,dt+=nt,g.mb=st?ut:null,g.nb=st?dt:null,E(dt+st<=g.Fc+g.Vb),Ju(g),j(g.Ac,g.Bc,0,X),N=1}}if(N){if(S.ka=0,S.y=g.sa,S.O=g.ta,S.f=g.qa,S.N=g.ra,S.ea=g.Ha,S.Vd=g.Ia,S.fa=g.R,S.Rc=g.B,S.F=null,S.J=0,!iy){for(N=-255;255>=N;++N)ry[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)ny[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)pv[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)ii[255+N]=0>N?0:255<N?255:N;iy=1}li=dd,Wc=Nc,Wl=hd,Vs=Xf,Yl=Qu,hs=Hf,Hl=th,Yc=gr,ml=uv,bu=Uc,lh=vl,ds=xu,Xl=eh,ji=rh,ui=gd,ho=Ul,Co=pl,_l=Pa,Ys[0]=ca,Ys[1]=an,Ys[2]=jc,Ys[3]=av,Ys[4]=dl,Ys[5]=Bl,Ys[6]=Ii,Ys[7]=fa,Ys[8]=vd,Ys[9]=sv,Ws[0]=pd,Ws[1]=$f,Ws[2]=jl,Ws[3]=_u,Ws[4]=Ki,Ws[5]=Dl,Ws[6]=Eu,vs[0]=br,vs[1]=Fc,vs[2]=lv,vs[3]=Dc,vs[4]=Gl,vs[5]=Zf,vs[6]=qf,N=1}else N=0}N&&(N=function(de,Qe){for(de.M=0;de.M<de.Va;++de.M){var De,se=de.Jc[de.M&de.Xb],le=de.m,qe=de;for(De=0;De<qe.za;++De){var nr=le,Ce=qe,ar=Ce.Ac,Cr=Ce.Bc+4*De,vn=Ce.zc,Ae=Ce.ya[Ce.aa+De];if(Ce.Qa.Bb?Ae.$b=Ie(nr,Ce.Pa.jb[0])?2+Ie(nr,Ce.Pa.jb[2]):Ie(nr,Ce.Pa.jb[1]):Ae.$b=0,Ce.kc&&(Ae.Ad=Ie(nr,Ce.Bd)),Ae.Za=!Ie(nr,145)+0,Ae.Za){var Ai=Ae.Ob,Oi=0;for(Ce=0;4>Ce;++Ce){var gi,oi=vn[0+Ce];for(gi=0;4>gi;++gi){oi=Ev[ar[Cr+gi]][oi];for(var Ui=ph[Ie(nr,oi[0])];0<Ui;)Ui=ph[2*Ui+Ie(nr,oi[Ui])];oi=-Ui,ar[Cr+gi]=oi}C(Ai,Oi,ar,Cr,4),Oi+=4,vn[0+Ce]=oi}}else oi=Ie(nr,156)?Ie(nr,128)?1:3:Ie(nr,163)?2:0,Ae.Ob[0]=oi,j(ar,Cr,oi,4),j(vn,0,oi,4);Ae.Dd=Ie(nr,142)?Ie(nr,114)?Ie(nr,183)?1:3:2:0}if(qe.m.Ka)return uo(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(qe=se,nr=(le=de).rb[le.sb-1],ar=le.rb[le.sb+le.ja],De=le.ya[le.aa+le.ja],Cr=le.kc?De.Ad:0)nr.la=ar.la=0,De.Za||(nr.Na=ar.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var ki,Fn;if(nr=ar,ar=qe,Cr=le.Pa.Xc,vn=le.ya[le.aa+le.ja],Ae=le.pb[vn.$b],Ce=vn.ad,Ai=0,Oi=le.rb[le.sb-1],oi=gi=0,j(Ce,Ai,0,384),vn.Za)var Ao=0,Na=Cr[3];else{Ui=A(16);var Lo=nr.Na+Oi.Na;if(Lo=$c(ar,Cr[1],Lo,Ae.Eb,0,Ui,0),nr.Na=Oi.Na=(0<Lo)+0,1<Lo)li(Ui,0,Ce,Ai);else{var Fa=Ui[0]+3>>3;for(Ui=0;256>Ui;Ui+=16)Ce[Ai+Ui]=Fa}Ao=1,Na=Cr[0]}var Xr=15&nr.la,ts=15&Oi.la;for(Ui=0;4>Ui;++Ui){var gs=1&ts;for(Fa=Fn=0;4>Fa;++Fa)Xr=Xr>>1|(gs=(Lo=$c(ar,Na,Lo=gs+(1&Xr),Ae.Sc,Ao,Ce,Ai))>Ao)<<7,Fn=Fn<<2|(3<Lo?3:1<Lo?2:Ce[Ai+0]!=0),Ai+=16;Xr>>=4,ts=ts>>1|gs<<7,gi=(gi<<8|Fn)>>>0}for(Na=Xr,Ao=ts>>4,ki=0;4>ki;ki+=2){for(Fn=0,Xr=nr.la>>4+ki,ts=Oi.la>>4+ki,Ui=0;2>Ui;++Ui){for(gs=1&ts,Fa=0;2>Fa;++Fa)Lo=gs+(1&Xr),Xr=Xr>>1|(gs=0<(Lo=$c(ar,Cr[2],Lo,Ae.Qc,0,Ce,Ai)))<<3,Fn=Fn<<2|(3<Lo?3:1<Lo?2:Ce[Ai+0]!=0),Ai+=16;Xr>>=2,ts=ts>>1|gs<<5}oi|=Fn<<4*ki,Na|=Xr<<4<<ki,Ao|=(240&ts)<<ki}nr.la=Na,Oi.la=Ao,vn.Hc=gi,vn.Gc=oi,vn.ia=43690&oi?0:Ae.ia,Cr=!(gi|oi)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[De.$b][De.Za],le.wa[le.Y+le.ja].La|=!Cr),qe.Ka)return uo(de,7,"Premature end-of-file encountered.")}if(Ju(de),le=Qe,qe=1,De=(se=de).D,nr=0<se.L&&se.M>=se.zb&&se.M<=se.Va,se.Aa==0)t:{if(De.M=se.M,De.uc=nr,oh(se,De),qe=1,De=(Fn=se.D).Nb,nr=(oi=Cd[se.L])*se.R,ar=oi/2*se.B,Ui=16*De*se.R,Fa=8*De*se.B,Cr=se.sa,vn=se.ta-nr+Ui,Ae=se.qa,Ce=se.ra-ar+Fa,Ai=se.Ha,Oi=se.Ia-ar+Fa,ts=(Xr=Fn.M)==0,gi=Xr>=se.Va-1,se.Aa==2&&oh(se,Fn),Fn.uc)for(gs=(Lo=se).D.M,E(Lo.D.uc),Fn=Lo.yb;Fn<Lo.Hb;++Fn){Ao=Fn,Na=gs;var Ro=(ea=(yo=Lo).D).Nb;ki=yo.R;var ea=ea.wa[ea.Y+Ao],Ea=yo.sa,$i=yo.ta+16*Ro*ki+16*Ao,xl=ea.dd,yi=ea.tc;if(yi!=0)if(E(3<=yi),yo.L==1)0<Ao&&ho(Ea,$i,ki,yi+4),ea.La&&_l(Ea,$i,ki,yi),0<Na&&ui(Ea,$i,ki,yi+4),ea.La&&Co(Ea,$i,ki,yi);else{var Kl=yo.B,Lu=yo.qa,qc=yo.ra+8*Ro*Kl+8*Ao,Ru=yo.Ha,yo=yo.Ia+8*Ro*Kl+8*Ao;Ro=ea.ld,0<Ao&&(Yc(Ea,$i,ki,yi+4,xl,Ro),bu(Lu,qc,Ru,yo,Kl,yi+4,xl,Ro)),ea.La&&(ds(Ea,$i,ki,yi,xl,Ro),ji(Lu,qc,Ru,yo,Kl,yi,xl,Ro)),0<Na&&(Hl(Ea,$i,ki,yi+4,xl,Ro),ml(Lu,qc,Ru,yo,Kl,yi+4,xl,Ro)),ea.La&&(lh(Ea,$i,ki,yi,xl,Ro),Xl(Lu,qc,Ru,yo,Kl,yi,xl,Ro))}}if(se.ia&&alert("todo:DitherRow"),le.put!=null){if(Fn=16*Xr,Xr=16*(Xr+1),ts?(le.y=se.sa,le.O=se.ta+Ui,le.f=se.qa,le.N=se.ra+Fa,le.ea=se.Ha,le.W=se.Ia+Fa):(Fn-=oi,le.y=Cr,le.O=vn,le.f=Ae,le.N=Ce,le.ea=Ai,le.W=Oi),gi||(Xr-=oi),Xr>le.o&&(Xr=le.o),le.F=null,le.J=null,se.Fa!=null&&0<se.Fa.length&&Fn<Xr&&(le.J=nc(se,le,Fn,Xr-Fn),le.F=se.mb,le.F==null&&le.F.length==0)){qe=uo(se,3,"Could not decode alpha data.");break t}Fn<le.j&&(oi=le.j-Fn,Fn=le.j,E(!(1&oi)),le.O+=se.R*oi,le.N+=se.B*(oi>>1),le.W+=se.B*(oi>>1),le.F!=null&&(le.J+=le.width*oi)),Fn<Xr&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=Fn-le.j,le.U=le.va-le.v,le.T=Xr-Fn,qe=le.put(le))}De+1!=se.Ic||gi||(C(se.sa,se.ta-nr,Cr,vn+16*se.R,nr),C(se.qa,se.ra-ar,Ae,Ce+8*se.B,ar),C(se.Ha,se.Ia-ar,Ai,Oi+8*se.B,ar))}if(!qe)return uo(de,6,"Output aborted.")}return 1}(g,S)),S.bc!=null&&S.bc(S),N&=1}return N?(g.cb=0,N):0}function Fs(g,S,N,X,nt){nt=g[S+N+32*X]+(nt>>3),g[S+N+32*X]=-256&nt?0>nt?0:255:nt}function js(g,S,N,X,nt,st){Fs(g,S,0,N,X+nt),Fs(g,S,1,N,X+st),Fs(g,S,2,N,X-st),Fs(g,S,3,N,X-nt)}function zo(g){return(20091*g>>16)+g}function Mc(g,S,N,X){var nt,st=0,ut=A(16);for(nt=0;4>nt;++nt){var dt=g[S+0]+g[S+8],yt=g[S+0]-g[S+8],At=(35468*g[S+4]>>16)-zo(g[S+12]),ae=zo(g[S+4])+(35468*g[S+12]>>16);ut[st+0]=dt+ae,ut[st+1]=yt+At,ut[st+2]=yt-At,ut[st+3]=dt-ae,st+=4,S++}for(nt=st=0;4>nt;++nt)dt=(g=ut[st+0]+4)+ut[st+8],yt=g-ut[st+8],At=(35468*ut[st+4]>>16)-zo(ut[st+12]),Fs(N,X,0,0,dt+(ae=zo(ut[st+4])+(35468*ut[st+12]>>16))),Fs(N,X,1,0,yt+At),Fs(N,X,2,0,yt-At),Fs(N,X,3,0,dt-ae),st++,X+=32}function Hf(g,S,N,X){var nt=g[S+0]+4,st=35468*g[S+4]>>16,ut=zo(g[S+4]),dt=35468*g[S+1]>>16;js(N,X,0,nt+ut,g=zo(g[S+1]),dt),js(N,X,1,nt+st,g,dt),js(N,X,2,nt-st,g,dt),js(N,X,3,nt-ut,g,dt)}function Nc(g,S,N,X,nt){Mc(g,S,N,X),nt&&Mc(g,S+16,N,X+4)}function hd(g,S,N,X){Wc(g,S+0,N,X,1),Wc(g,S+32,N,X+128,1)}function Xf(g,S,N,X){var nt;for(g=g[S+0]+4,nt=0;4>nt;++nt)for(S=0;4>S;++S)Fs(N,X,S,nt,g)}function Qu(g,S,N,X){g[S+0]&&Vs(g,S+0,N,X),g[S+16]&&Vs(g,S+16,N,X+4),g[S+32]&&Vs(g,S+32,N,X+128),g[S+48]&&Vs(g,S+48,N,X+128+4)}function dd(g,S,N,X){var nt,st=A(16);for(nt=0;4>nt;++nt){var ut=g[S+0+nt]+g[S+12+nt],dt=g[S+4+nt]+g[S+8+nt],yt=g[S+4+nt]-g[S+8+nt],At=g[S+0+nt]-g[S+12+nt];st[0+nt]=ut+dt,st[8+nt]=ut-dt,st[4+nt]=At+yt,st[12+nt]=At-yt}for(nt=0;4>nt;++nt)ut=(g=st[0+4*nt]+3)+st[3+4*nt],dt=st[1+4*nt]+st[2+4*nt],yt=st[1+4*nt]-st[2+4*nt],At=g-st[3+4*nt],N[X+0]=ut+dt>>3,N[X+16]=At+yt>>3,N[X+32]=ut-dt>>3,N[X+48]=At-yt>>3,X+=64}function Kf(g,S,N){var X,nt=S-32,st=Ja,ut=255-g[nt-1];for(X=0;X<N;++X){var dt,yt=st,At=ut+g[S-1];for(dt=0;dt<N;++dt)g[S+dt]=yt[At+g[nt+dt]];S+=32}}function an(g,S){Kf(g,S,4)}function Fc(g,S){Kf(g,S,8)}function $f(g,S){Kf(g,S,16)}function jl(g,S){var N;for(N=0;16>N;++N)C(g,S+32*N,g,S-32,16)}function _u(g,S){var N;for(N=16;0<N;--N)j(g,S,g[S-1],16),S+=32}function tc(g,S,N){var X;for(X=0;16>X;++X)j(S,N+32*X,g,16)}function pd(g,S){var N,X=16;for(N=0;16>N;++N)X+=g[S-1+32*N]+g[S+N-32];tc(X>>5,g,S)}function Ki(g,S){var N,X=8;for(N=0;16>N;++N)X+=g[S-1+32*N];tc(X>>4,g,S)}function Dl(g,S){var N,X=8;for(N=0;16>N;++N)X+=g[S+N-32];tc(X>>4,g,S)}function Eu(g,S){tc(128,g,S)}function pn(g,S,N){return g+2*S+N+2>>2}function jc(g,S){var N,X=S-32;for(X=new Uint8Array([pn(g[X-1],g[X+0],g[X+1]),pn(g[X+0],g[X+1],g[X+2]),pn(g[X+1],g[X+2],g[X+3]),pn(g[X+2],g[X+3],g[X+4])]),N=0;4>N;++N)C(g,S+32*N,X,0,X.length)}function av(g,S){var N=g[S-1],X=g[S-1+32],nt=g[S-1+64],st=g[S-1+96];mr(g,S+0,16843009*pn(g[S-1-32],N,X)),mr(g,S+32,16843009*pn(N,X,nt)),mr(g,S+64,16843009*pn(X,nt,st)),mr(g,S+96,16843009*pn(nt,st,st))}function ca(g,S){var N,X=4;for(N=0;4>N;++N)X+=g[S+N-32]+g[S-1+32*N];for(X>>=3,N=0;4>N;++N)j(g,S+32*N,X,4)}function dl(g,S){var N=g[S-1+0],X=g[S-1+32],nt=g[S-1+64],st=g[S-1-32],ut=g[S+0-32],dt=g[S+1-32],yt=g[S+2-32],At=g[S+3-32];g[S+0+96]=pn(X,nt,g[S-1+96]),g[S+1+96]=g[S+0+64]=pn(N,X,nt),g[S+2+96]=g[S+1+64]=g[S+0+32]=pn(st,N,X),g[S+3+96]=g[S+2+64]=g[S+1+32]=g[S+0+0]=pn(ut,st,N),g[S+3+64]=g[S+2+32]=g[S+1+0]=pn(dt,ut,st),g[S+3+32]=g[S+2+0]=pn(yt,dt,ut),g[S+3+0]=pn(At,yt,dt)}function Ii(g,S){var N=g[S+1-32],X=g[S+2-32],nt=g[S+3-32],st=g[S+4-32],ut=g[S+5-32],dt=g[S+6-32],yt=g[S+7-32];g[S+0+0]=pn(g[S+0-32],N,X),g[S+1+0]=g[S+0+32]=pn(N,X,nt),g[S+2+0]=g[S+1+32]=g[S+0+64]=pn(X,nt,st),g[S+3+0]=g[S+2+32]=g[S+1+64]=g[S+0+96]=pn(nt,st,ut),g[S+3+32]=g[S+2+64]=g[S+1+96]=pn(st,ut,dt),g[S+3+64]=g[S+2+96]=pn(ut,dt,yt),g[S+3+96]=pn(dt,yt,yt)}function Bl(g,S){var N=g[S-1+0],X=g[S-1+32],nt=g[S-1+64],st=g[S-1-32],ut=g[S+0-32],dt=g[S+1-32],yt=g[S+2-32],At=g[S+3-32];g[S+0+0]=g[S+1+64]=st+ut+1>>1,g[S+1+0]=g[S+2+64]=ut+dt+1>>1,g[S+2+0]=g[S+3+64]=dt+yt+1>>1,g[S+3+0]=yt+At+1>>1,g[S+0+96]=pn(nt,X,N),g[S+0+64]=pn(X,N,st),g[S+0+32]=g[S+1+96]=pn(N,st,ut),g[S+1+32]=g[S+2+96]=pn(st,ut,dt),g[S+2+32]=g[S+3+96]=pn(ut,dt,yt),g[S+3+32]=pn(dt,yt,At)}function fa(g,S){var N=g[S+0-32],X=g[S+1-32],nt=g[S+2-32],st=g[S+3-32],ut=g[S+4-32],dt=g[S+5-32],yt=g[S+6-32],At=g[S+7-32];g[S+0+0]=N+X+1>>1,g[S+1+0]=g[S+0+64]=X+nt+1>>1,g[S+2+0]=g[S+1+64]=nt+st+1>>1,g[S+3+0]=g[S+2+64]=st+ut+1>>1,g[S+0+32]=pn(N,X,nt),g[S+1+32]=g[S+0+96]=pn(X,nt,st),g[S+2+32]=g[S+1+96]=pn(nt,st,ut),g[S+3+32]=g[S+2+96]=pn(st,ut,dt),g[S+3+64]=pn(ut,dt,yt),g[S+3+96]=pn(dt,yt,At)}function sv(g,S){var N=g[S-1+0],X=g[S-1+32],nt=g[S-1+64],st=g[S-1+96];g[S+0+0]=N+X+1>>1,g[S+2+0]=g[S+0+32]=X+nt+1>>1,g[S+2+32]=g[S+0+64]=nt+st+1>>1,g[S+1+0]=pn(N,X,nt),g[S+3+0]=g[S+1+32]=pn(X,nt,st),g[S+3+32]=g[S+1+64]=pn(nt,st,st),g[S+3+64]=g[S+2+64]=g[S+0+96]=g[S+1+96]=g[S+2+96]=g[S+3+96]=st}function vd(g,S){var N=g[S-1+0],X=g[S-1+32],nt=g[S-1+64],st=g[S-1+96],ut=g[S-1-32],dt=g[S+0-32],yt=g[S+1-32],At=g[S+2-32];g[S+0+0]=g[S+2+32]=N+ut+1>>1,g[S+0+32]=g[S+2+64]=X+N+1>>1,g[S+0+64]=g[S+2+96]=nt+X+1>>1,g[S+0+96]=st+nt+1>>1,g[S+3+0]=pn(dt,yt,At),g[S+2+0]=pn(ut,dt,yt),g[S+1+0]=g[S+3+32]=pn(N,ut,dt),g[S+1+32]=g[S+3+64]=pn(X,N,ut),g[S+1+64]=g[S+3+96]=pn(nt,X,N),g[S+1+96]=pn(st,nt,X)}function lv(g,S){var N;for(N=0;8>N;++N)C(g,S+32*N,g,S-32,8)}function Dc(g,S){var N;for(N=0;8>N;++N)j(g,S,g[S-1],8),S+=32}function ec(g,S,N){var X;for(X=0;8>X;++X)j(S,N+32*X,g,8)}function br(g,S){var N,X=8;for(N=0;8>N;++N)X+=g[S+N-32]+g[S-1+32*N];ec(X>>4,g,S)}function Zf(g,S){var N,X=4;for(N=0;8>N;++N)X+=g[S+N-32];ec(X>>3,g,S)}function Gl(g,S){var N,X=4;for(N=0;8>N;++N)X+=g[S-1+32*N];ec(X>>3,g,S)}function qf(g,S){ec(128,g,S)}function Bc(g,S,N){var X=g[S-N],nt=g[S+0],st=3*(nt-X)+vv[1020+g[S-2*N]-g[S+N]],ut=ch[112+(st+4>>3)];g[S-N]=Ja[255+X+ch[112+(st+3>>3)]],g[S+0]=Ja[255+nt-ut]}function Jf(g,S,N,X){var nt=g[S+0],st=g[S+N];return ps[255+g[S-2*N]-g[S-N]]>X||ps[255+st-nt]>X}function Gc(g,S,N,X){return 4*ps[255+g[S-N]-g[S+0]]+ps[255+g[S-2*N]-g[S+N]]<=X}function Qf(g,S,N,X,nt){var st=g[S-3*N],ut=g[S-2*N],dt=g[S-N],yt=g[S+0],At=g[S+N],ae=g[S+2*N],we=g[S+3*N];return 4*ps[255+dt-yt]+ps[255+ut-At]>X?0:ps[255+g[S-4*N]-st]<=nt&&ps[255+st-ut]<=nt&&ps[255+ut-dt]<=nt&&ps[255+we-ae]<=nt&&ps[255+ae-At]<=nt&&ps[255+At-yt]<=nt}function gd(g,S,N,X){var nt=2*X+1;for(X=0;16>X;++X)Gc(g,S+X,N,nt)&&Bc(g,S+X,N)}function Ul(g,S,N,X){var nt=2*X+1;for(X=0;16>X;++X)Gc(g,S+X*N,1,nt)&&Bc(g,S+X*N,1)}function pl(g,S,N,X){var nt;for(nt=3;0<nt;--nt)gd(g,S+=4*N,N,X)}function Pa(g,S,N,X){var nt;for(nt=3;0<nt;--nt)Ul(g,S+=4,N,X)}function Ds(g,S,N,X,nt,st,ut,dt){for(st=2*st+1;0<nt--;){if(Qf(g,S,N,st,ut))if(Jf(g,S,N,dt))Bc(g,S,N);else{var yt=g,At=S,ae=N,we=yt[At-2*ae],Oe=yt[At-ae],de=yt[At+0],Qe=yt[At+ae],De=yt[At+2*ae],se=27*(qe=vv[1020+3*(de-Oe)+vv[1020+we-Qe]])+63>>7,le=18*qe+63>>7,qe=9*qe+63>>7;yt[At-3*ae]=Ja[255+yt[At-3*ae]+qe],yt[At-2*ae]=Ja[255+we+le],yt[At-ae]=Ja[255+Oe+se],yt[At+0]=Ja[255+de-se],yt[At+ae]=Ja[255+Qe-le],yt[At+2*ae]=Ja[255+De-qe]}S+=X}}function $a(g,S,N,X,nt,st,ut,dt){for(st=2*st+1;0<nt--;){if(Qf(g,S,N,st,ut))if(Jf(g,S,N,dt))Bc(g,S,N);else{var yt=g,At=S,ae=N,we=yt[At-ae],Oe=yt[At+0],de=yt[At+ae],Qe=ch[112+((De=3*(Oe-we))+4>>3)],De=ch[112+(De+3>>3)],se=Qe+1>>1;yt[At-2*ae]=Ja[255+yt[At-2*ae]+se],yt[At-ae]=Ja[255+we+De],yt[At+0]=Ja[255+Oe-Qe],yt[At+ae]=Ja[255+de-se]}S+=X}}function th(g,S,N,X,nt,st){Ds(g,S,N,1,16,X,nt,st)}function gr(g,S,N,X,nt,st){Ds(g,S,1,N,16,X,nt,st)}function vl(g,S,N,X,nt,st){var ut;for(ut=3;0<ut;--ut)$a(g,S+=4*N,N,1,16,X,nt,st)}function xu(g,S,N,X,nt,st){var ut;for(ut=3;0<ut;--ut)$a(g,S+=4,1,N,16,X,nt,st)}function uv(g,S,N,X,nt,st,ut,dt){Ds(g,S,nt,1,8,st,ut,dt),Ds(N,X,nt,1,8,st,ut,dt)}function Uc(g,S,N,X,nt,st,ut,dt){Ds(g,S,1,nt,8,st,ut,dt),Ds(N,X,1,nt,8,st,ut,dt)}function eh(g,S,N,X,nt,st,ut,dt){$a(g,S+4*nt,nt,1,8,st,ut,dt),$a(N,X+4*nt,nt,1,8,st,ut,dt)}function rh(g,S,N,X,nt,st,ut,dt){$a(g,S+4,1,nt,8,st,ut,dt),$a(N,X+4,1,nt,8,st,ut,dt)}function kc(){this.ba=new Aa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lo,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Su(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yd(){this.ua=0,this.Wa=new Gt,this.vb=new Gt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new Pt}function cv(){this.xb=this.a=0,this.l=new Ic,this.ca=new Aa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ft,this.Pb=0,this.wd=new ft,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yd,this.ab=0,this.gc=G(4,nh),this.Oc=0}function wu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ic,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rc(g,S,N,X,nt,st,ut){for(g=g==null?0:g[S+0],S=0;S<ut;++S)nt[st+S]=g+N[X+S]&255,g=nt[st+S]}function ma(g,S,N,X,nt,st,ut){var dt;if(g==null)rc(null,null,N,X,nt,st,ut);else for(dt=0;dt<ut;++dt)nt[st+dt]=g[S+dt]+N[X+dt]&255}function kl(g,S,N,X,nt,st,ut){if(g==null)rc(null,null,N,X,nt,st,ut);else{var dt,yt=g[S+0],At=yt,ae=yt;for(dt=0;dt<ut;++dt)At=ae+(yt=g[S+dt])-At,ae=N[X+dt]+(-256&At?0>At?0:255:At)&255,At=yt,nt[st+dt]=ae}}function nc(g,S,N,X){var nt=S.width,st=S.o;if(E(g!=null&&S!=null),0>N||0>=X||N+X>st)return null;if(!g.Cc){if(g.ga==null){var ut;if(g.ga=new wu,(ut=g.ga==null)||(ut=S.width*S.o,E(g.Gb.length==0),g.Gb=A(ut),g.Uc=0,g.Gb==null?ut=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ut=1),ut=!ut),!ut){ut=g.ga;var dt=g.Fa,yt=g.P,At=g.qc,ae=g.mb,we=g.nb,Oe=yt+1,de=At-1,Qe=ut.l;if(E(dt!=null&&ae!=null&&S!=null),El[0]=null,El[1]=rc,El[2]=ma,El[3]=kl,ut.ca=ae,ut.tb=we,ut.c=S.width,ut.i=S.height,E(0<ut.c&&0<ut.i),1>=At)S=0;else if(ut.$a=dt[yt+0]>>0&3,ut.Z=dt[yt+0]>>2&3,ut.Lc=dt[yt+0]>>4&3,yt=dt[yt+0]>>6&3,0>ut.$a||1<ut.$a||4<=ut.Z||1<ut.Lc||yt)S=0;else if(Qe.put=ul,Qe.ac=Qo,Qe.bc=cl,Qe.ma=ut,Qe.width=S.width,Qe.height=S.height,Qe.Da=S.Da,Qe.v=S.v,Qe.va=S.va,Qe.j=S.j,Qe.o=S.o,ut.$a)t:{E(ut.$a==1),S=Hi();e:for(;;){if(S==null){S=0;break t}if(E(ut!=null),ut.mc=S,S.c=ut.c,S.i=ut.i,S.l=ut.l,S.l.ma=ut,S.l.width=ut.c,S.l.height=ut.i,S.a=0,Re(S.m,dt,Oe,de),!si(ut.c,ut.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&Fl(S.s)?(ut.ic=1,dt=S.c*S.i,S.Ta=null,S.Ua=0,S.V=A(dt),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ut.ic=0,S=ko(S,ut.c)),!S))break e;S=1;break t}ut.mc=null,S=0}else S=de>=ut.c*ut.i;ut=!S}if(ut)return null;g.ga.Lc!=1?g.Ga=0:X=st-N}E(g.ga!=null),E(N+X<=st);t:{if(S=(dt=g.ga).c,st=dt.l.o,dt.$a==0){if(Oe=g.rc,de=g.Vc,Qe=g.Fa,yt=g.P+1+N*S,At=g.mb,ae=g.nb+N*S,E(yt<=g.P+g.qc),dt.Z!=0)for(E(El[dt.Z]!=null),ut=0;ut<X;++ut)El[dt.Z](Oe,de,Qe,yt,At,ae,S),Oe=At,de=ae,ae+=S,yt+=S;else for(ut=0;ut<X;++ut)C(At,ae,Qe,yt,S),Oe=At,de=ae,ae+=S,yt+=S;g.rc=Oe,g.Vc=de}else{if(E(dt.mc!=null),S=N+X,E((ut=dt.mc)!=null),E(S<=ut.i),ut.C>=S)S=1;else if(dt.ic||me(),dt.ic){dt=ut.V,Oe=ut.Ba,de=ut.c;var De=ut.i,se=(Qe=1,yt=ut.$/de,At=ut.$%de,ae=ut.m,we=ut.s,ut.$),le=de*De,qe=de*S,nr=we.wc,Ce=se<qe?Lr(we,At,yt):null;E(se<=le),E(S<=De),E(Fl(we));e:for(;;){for(;!ae.h&&se<qe;){if(At&nr||(Ce=Lr(we,At,yt)),E(Ce!=null),ve(ae),256>(De=La(Ce.G[0],Ce.H[0],ae)))dt[Oe+se]=De,++se,++At>=de&&(At=0,++yt<=S&&!(yt%16)&&$t(ut,yt));else{if(!(280>De)){Qe=0;break e}De=wi(De-256,ae);var ar,Cr=La(Ce.G[4],Ce.H[4],ae);if(ve(ae),!(se>=(Cr=Xa(de,Cr=wi(Cr,ae)))&&le-se>=De)){Qe=0;break e}for(ar=0;ar<De;++ar)dt[Oe+se+ar]=dt[Oe+se+ar-Cr];for(se+=De,At+=De;At>=de;)At-=de,++yt<=S&&!(yt%16)&&$t(ut,yt);se<qe&&At&nr&&(Ce=Lr(we,At,yt))}E(ae.h==Kt(ae))}$t(ut,yt>S?S:yt);break e}!Qe||ae.h&&se<le?(Qe=0,ut.a=ae.h?5:3):ut.$=se,S=Qe}else S=ua(ut,ut.V,ut.Ba,ut.c,ut.i,S,Ac);if(!S){X=0;break t}}N+X>=st&&(g.Cc=1),X=1}if(!X)return null;if(g.Cc&&((X=g.ga)!=null&&(X.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+N*nt}function P(g,S,N,X,nt,st){for(;0<nt--;){var ut,dt=g,yt=S+(N?1:0),At=g,ae=S+(N?0:3);for(ut=0;ut<X;++ut){var we=At[ae+4*ut];we!=255&&(we*=32897,dt[yt+4*ut+0]=dt[yt+4*ut+0]*we>>23,dt[yt+4*ut+1]=dt[yt+4*ut+1]*we>>23,dt[yt+4*ut+2]=dt[yt+4*ut+2]*we>>23)}S+=st}}function ot(g,S,N,X,nt){for(;0<X--;){var st;for(st=0;st<N;++st){var ut=g[S+2*st+0],dt=15&(At=g[S+2*st+1]),yt=4369*dt,At=(240&At|At>>4)*yt>>16;g[S+2*st+0]=(240&ut|ut>>4)*yt>>16&240|(15&ut|ut<<4)*yt>>16>>4&15,g[S+2*st+1]=240&At|dt}S+=nt}}function It(g,S,N,X,nt,st,ut,dt){var yt,At,ae=255;for(At=0;At<nt;++At){for(yt=0;yt<X;++yt){var we=g[S+yt];st[ut+4*yt]=we,ae&=we}S+=N,ut+=dt}return ae!=255}function re(g,S,N,X,nt){var st;for(st=0;st<nt;++st)N[X+st]=g[S+st]>>8}function me(){to=P,Hc=ot,uh=It,dv=re}function ke(g,S,N){pe[g]=function(X,nt,st,ut,dt,yt,At,ae,we,Oe,de,Qe,De,se,le,qe,nr){var Ce,ar=nr-1>>1,Cr=dt[yt+0]|At[ae+0]<<16,vn=we[Oe+0]|de[Qe+0]<<16;E(X!=null);var Ae=3*Cr+vn+131074>>2;for(S(X[nt+0],255&Ae,Ae>>16,De,se),st!=null&&(Ae=3*vn+Cr+131074>>2,S(st[ut+0],255&Ae,Ae>>16,le,qe)),Ce=1;Ce<=ar;++Ce){var Ai=dt[yt+Ce]|At[ae+Ce]<<16,Oi=we[Oe+Ce]|de[Qe+Ce]<<16,gi=Cr+Ai+vn+Oi+524296,oi=gi+2*(Ai+vn)>>3;Ae=oi+Cr>>1,Cr=(gi=gi+2*(Cr+Oi)>>3)+Ai>>1,S(X[nt+2*Ce-1],255&Ae,Ae>>16,De,se+(2*Ce-1)*N),S(X[nt+2*Ce-0],255&Cr,Cr>>16,De,se+(2*Ce-0)*N),st!=null&&(Ae=gi+vn>>1,Cr=oi+Oi>>1,S(st[ut+2*Ce-1],255&Ae,Ae>>16,le,qe+(2*Ce-1)*N),S(st[ut+2*Ce+0],255&Cr,Cr>>16,le,qe+(2*Ce+0)*N)),Cr=Ai,vn=Oi}1&nr||(Ae=3*Cr+vn+131074>>2,S(X[nt+nr-1],255&Ae,Ae>>16,De,se+(nr-1)*N),st!=null&&(Ae=3*vn+Cr+131074>>2,S(st[ut+nr-1],255&Ae,Ae>>16,le,qe+(nr-1)*N)))}}function cr(){Xo[fh]=l1,Xo[xd]=Od,Xo[oy]=u1,Xo[hh]=uy,Xo[Sd]=cy,Xo[dh]=fy,Xo[ay]=c1,Xo[gv]=Od,Xo[yv]=uy,Xo[Xc]=cy,Xo[Cu]=fy}function Nr(g){return g&~dy?0>g?0:255:g>>hy}function cn(g,S){return Nr((19077*g>>8)+(26149*S>>8)-14234)}function Hn(g,S,N){return Nr((19077*g>>8)-(6419*S>>8)-(13320*N>>8)+8708)}function Nn(g,S){return Nr((19077*g>>8)+(33050*S>>8)-17685)}function $n(g,S,N,X,nt){X[nt+0]=cn(g,N),X[nt+1]=Hn(g,S,N),X[nt+2]=Nn(g,S)}function ta(g,S,N,X,nt){X[nt+0]=Nn(g,S),X[nt+1]=Hn(g,S,N),X[nt+2]=cn(g,N)}function co(g,S,N,X,nt){var st=Hn(g,S,N);S=st<<3&224|Nn(g,S)>>3,X[nt+0]=248&cn(g,N)|st>>5,X[nt+1]=S}function bo(g,S,N,X,nt){var st=240&Nn(g,S)|15;X[nt+0]=240&cn(g,N)|Hn(g,S,N)>>4,X[nt+1]=st}function Qi(g,S,N,X,nt){X[nt+0]=255,$n(g,S,N,X,nt+1)}function fo(g,S,N,X,nt){ta(g,S,N,X,nt),X[nt+3]=255}function Za(g,S,N,X,nt){$n(g,S,N,X,nt),X[nt+3]=255}function Ia(g,S){return 0>g?0:g>S?S:g}function gl(g,S,N){pe[g]=function(X,nt,st,ut,dt,yt,At,ae,we){for(var Oe=ae+(-2&we)*N;ae!=Oe;)S(X[nt+0],st[ut+0],dt[yt+0],At,ae),S(X[nt+1],st[ut+0],dt[yt+0],At,ae+N),nt+=2,++ut,++yt,ae+=2*N;1&we&&S(X[nt+0],st[ut+0],dt[yt+0],At,ae)}}function md(g,S,N){return N==0?g==0?S==0?6:5:S==0?4:0:N}function ih(g,S,N,X,nt){switch(g>>>30){case 3:Wc(S,N,X,nt,0);break;case 2:hs(S,N,X,nt);break;case 1:Vs(S,N,X,nt)}}function oh(g,S){var N,X,nt=S.M,st=S.Nb,ut=g.oc,dt=g.pc+40,yt=g.oc,At=g.pc+584,ae=g.oc,we=g.pc+600;for(N=0;16>N;++N)ut[dt+32*N-1]=129;for(N=0;8>N;++N)yt[At+32*N-1]=129,ae[we+32*N-1]=129;for(0<nt?ut[dt-1-32]=yt[At-1-32]=ae[we-1-32]=129:(j(ut,dt-32-1,127,21),j(yt,At-32-1,127,9),j(ae,we-32-1,127,9)),X=0;X<g.za;++X){var Oe=S.ya[S.aa+X];if(0<X){for(N=-1;16>N;++N)C(ut,dt+32*N-4,ut,dt+32*N+12,4);for(N=-1;8>N;++N)C(yt,At+32*N-4,yt,At+32*N+4,4),C(ae,we+32*N-4,ae,we+32*N+4,4)}var de=g.Gd,Qe=g.Hd+X,De=Oe.ad,se=Oe.Hc;if(0<nt&&(C(ut,dt-32,de[Qe].y,0,16),C(yt,At-32,de[Qe].f,0,8),C(ae,we-32,de[Qe].ea,0,8)),Oe.Za){var le=ut,qe=dt-32+16;for(0<nt&&(X>=g.za-1?j(le,qe,de[Qe].y[15],4):C(le,qe,de[Qe+1].y,0,4)),N=0;4>N;N++)le[qe+128+N]=le[qe+256+N]=le[qe+384+N]=le[qe+0+N];for(N=0;16>N;++N,se<<=2)le=ut,qe=dt+Au[N],Ys[Oe.Ob[N]](le,qe),ih(se,De,16*+N,le,qe)}else if(le=md(X,nt,Oe.Ob[0]),Ws[le](ut,dt),se!=0)for(N=0;16>N;++N,se<<=2)ih(se,De,16*+N,ut,dt+Au[N]);for(N=Oe.Gc,le=md(X,nt,Oe.Dd),vs[le](yt,At),vs[le](ae,we),se=De,le=yt,qe=At,255&(Oe=N>>0)&&(170&Oe?Wl(se,256,le,qe):Yl(se,256,le,qe)),Oe=ae,se=we,255&(N>>=8)&&(170&N?Wl(De,320,Oe,se):Yl(De,320,Oe,se)),nt<g.Ub-1&&(C(de[Qe].y,0,ut,dt+480,16),C(de[Qe].f,0,yt,At+224,8),C(de[Qe].ea,0,ae,we+224,8)),N=8*st*g.B,de=g.sa,Qe=g.ta+16*X+16*st*g.R,De=g.qa,Oe=g.ra+8*X+N,se=g.Ha,le=g.Ia+8*X+N,N=0;16>N;++N)C(de,Qe+N*g.R,ut,dt+32*N,16);for(N=0;8>N;++N)C(De,Oe+N*g.B,yt,At+32*N,8),C(se,le+N*g.B,ae,we+32*N,8)}}function Bs(g,S,N,X,nt,st,ut,dt,yt){var At=[0],ae=[0],we=0,Oe=yt!=null?yt.kd:0,de=yt!=null?yt:new Su;if(g==null||12>N)return 7;de.data=g,de.w=S,de.ha=N,S=[S],N=[N],de.gb=[de.gb];t:{var Qe=S,De=N,se=de.gb;if(E(g!=null),E(De!=null),E(se!=null),se[0]=0,12<=De[0]&&!x(g,Qe[0],"RIFF")){if(x(g,Qe[0]+8,"WEBP")){se=3;break t}var le=Wr(g,Qe[0]+4);if(12>le||4294967286<le){se=3;break t}if(Oe&&le>De[0]-8){se=7;break t}se[0]=le,Qe[0]+=12,De[0]-=12}se=0}if(se!=0)return se;for(le=0<de.gb[0],N=N[0];;){t:{var qe=g;De=S,se=N;var nr=At,Ce=ae,ar=Qe=[0];if((Ae=we=[we])[0]=0,8>se[0])se=7;else{if(!x(qe,De[0],"VP8X")){if(Wr(qe,De[0]+4)!=10){se=3;break t}if(18>se[0]){se=7;break t}var Cr=Wr(qe,De[0]+8),vn=1+Mr(qe,De[0]+12);if(2147483648<=vn*(qe=1+Mr(qe,De[0]+15))){se=3;break t}ar!=null&&(ar[0]=Cr),nr!=null&&(nr[0]=vn),Ce!=null&&(Ce[0]=qe),De[0]+=18,se[0]-=18,Ae[0]=1}se=0}}if(we=we[0],Qe=Qe[0],se!=0)return se;if(De=!!(2&Qe),!le&&we)return 3;if(st!=null&&(st[0]=!!(16&Qe)),ut!=null&&(ut[0]=De),dt!=null&&(dt[0]=0),ut=At[0],Qe=ae[0],we&&De&&yt==null){se=0;break}if(4>N){se=7;break}if(le&&we||!le&&!we&&!x(g,S[0],"ALPH")){N=[N],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];t:{Cr=g,se=S,le=N;var Ae=de.gb;nr=de.na,Ce=de.P,ar=de.Sa,vn=22,E(Cr!=null),E(le!=null),qe=se[0];var Ai=le[0];for(E(nr!=null),E(ar!=null),nr[0]=null,Ce[0]=null,ar[0]=0;;){if(se[0]=qe,le[0]=Ai,8>Ai){se=7;break t}var Oi=Wr(Cr,qe+4);if(4294967286<Oi){se=3;break t}var gi=8+Oi+1&-2;if(vn+=gi,0<Ae&&vn>Ae){se=3;break t}if(!x(Cr,qe,"VP8 ")||!x(Cr,qe,"VP8L")){se=0;break t}if(Ai[0]<gi){se=7;break t}x(Cr,qe,"ALPH")||(nr[0]=Cr,Ce[0]=qe+8,ar[0]=Oi),qe+=gi,Ai-=gi}}if(N=N[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],se!=0)break}N=[N],de.Ja=[de.Ja],de.xa=[de.xa];t:if(Ae=g,se=S,le=N,nr=de.gb[0],Ce=de.Ja,ar=de.xa,Cr=se[0],qe=!x(Ae,Cr,"VP8 "),vn=!x(Ae,Cr,"VP8L"),E(Ae!=null),E(le!=null),E(Ce!=null),E(ar!=null),8>le[0])se=7;else{if(qe||vn){if(Ae=Wr(Ae,Cr+4),12<=nr&&Ae>nr-12){se=3;break t}if(Oe&&Ae>le[0]-8){se=7;break t}Ce[0]=Ae,se[0]+=8,le[0]-=8,ar[0]=vn}else ar[0]=5<=le[0]&&Ae[Cr+0]==47&&!(Ae[Cr+4]>>5),Ce[0]=le[0];se=0}if(N=N[0],de.Ja=de.Ja[0],de.xa=de.xa[0],S=S[0],se!=0)break;if(4294967286<de.Ja)return 3;if(dt==null||De||(dt[0]=de.xa?2:1),ut=[ut],Qe=[Qe],de.xa){if(5>N){se=7;break}dt=ut,Oe=Qe,De=st,g==null||5>N?g=0:5<=N&&g[S+0]==47&&!(g[S+4]>>5)?(le=[0],Ae=[0],nr=[0],Re(Ce=new ft,g,S,N),un(Ce,le,Ae,nr)?(dt!=null&&(dt[0]=le[0]),Oe!=null&&(Oe[0]=Ae[0]),De!=null&&(De[0]=nr[0]),g=1):g=0):g=0}else{if(10>N){se=7;break}dt=Qe,g==null||10>N||!fd(g,S+3,N-3)?g=0:(Oe=g[S+0]|g[S+1]<<8|g[S+2]<<16,De=16383&(g[S+7]<<8|g[S+6]),g=16383&(g[S+9]<<8|g[S+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=de.Ja||!De||!g?g=0:(ut&&(ut[0]=De),dt&&(dt[0]=g),g=1))}if(!g||(ut=ut[0],Qe=Qe[0],we&&(At[0]!=ut||ae[0]!=Qe)))return 3;yt!=null&&(yt[0]=de,yt.offset=S-yt.w,E(4294967286>S-yt.w),E(yt.offset==yt.ha-N));break}return se==0||se==7&&we&&yt==null?(st!=null&&(st[0]|=de.na!=null&&0<de.na.length),X!=null&&(X[0]=ut),nt!=null&&(nt[0]=Qe),0):se}function ah(g,S,N){var X=S.width,nt=S.height,st=0,ut=0,dt=X,yt=nt;if(S.Da=g!=null&&0<g.Da,S.Da&&(dt=g.cd,yt=g.bd,st=g.v,ut=g.j,11>N||(st&=-2,ut&=-2),0>st||0>ut||0>=dt||0>=yt||st+dt>X||ut+yt>nt))return 0;if(S.v=st,S.j=ut,S.va=st+dt,S.o=ut+yt,S.U=dt,S.T=yt,S.da=g!=null&&0<g.da,S.da){if(!Un(dt,yt,N=[g.ib],st=[g.hb]))return 0;S.ib=N[0],S.hb=st[0]}return S.ob=g!=null&&g.ob,S.Kb=g==null||!g.Sd,S.da&&(S.ob=S.ib<3*X/4&&S.hb<3*nt/4,S.Kb=0),1}function sh(g){if(g==null)return 2;if(11>g.S){var S=g.f.RGBA;S.fb+=(g.height-1)*S.A,S.A=-S.A}else S=g.f.kb,g=g.height,S.O+=(g-1)*S.fa,S.fa=-S.fa,S.N+=(g-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(g-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(g-1)*S.lb,S.lb=-S.lb);return 0}function kn(g,S,N,X){if(X==null||0>=g||0>=S)return 2;if(N!=null){if(N.Da){var nt=N.cd,st=N.bd,ut=-2&N.v,dt=-2&N.j;if(0>ut||0>dt||0>=nt||0>=st||ut+nt>g||dt+st>S)return 2;g=nt,S=st}if(N.da){if(!Un(g,S,nt=[N.ib],st=[N.hb]))return 2;g=nt[0],S=st[0]}}X.width=g,X.height=S;t:{var yt=X.width,At=X.height;if(g=X.S,0>=yt||0>=At||!(g>=fh&&13>g))g=2;else{if(0>=X.Rd&&X.sd==null){ut=st=nt=S=0;var ae=(dt=yt*py[g])*At;if(11>g||(st=(At+1)/2*(S=(yt+1)/2),g==12&&(ut=(nt=yt)*At)),(At=A(ae+2*st+ut))==null){g=1;break t}X.sd=At,11>g?((yt=X.f.RGBA).eb=At,yt.fb=0,yt.A=dt,yt.size=ae):((yt=X.f.kb).y=At,yt.O=0,yt.fa=dt,yt.Fd=ae,yt.f=At,yt.N=0+ae,yt.Ab=S,yt.Cd=st,yt.ea=At,yt.W=0+ae+st,yt.Db=S,yt.Ed=st,g==12&&(yt.F=At,yt.J=0+ae+2*st),yt.Tc=ut,yt.lb=nt)}if(S=1,nt=X.S,st=X.width,ut=X.height,nt>=fh&&13>nt)if(11>nt)g=X.f.RGBA,S&=(dt=Math.abs(g.A))*(ut-1)+st<=g.size,S&=dt>=st*py[nt],S&=g.eb!=null;else{g=X.f.kb,dt=(st+1)/2,ae=(ut+1)/2,yt=Math.abs(g.fa),At=Math.abs(g.Ab);var we=Math.abs(g.Db),Oe=Math.abs(g.lb),de=Oe*(ut-1)+st;S&=yt*(ut-1)+st<=g.Fd,S&=At*(ae-1)+dt<=g.Cd,S=(S&=we*(ae-1)+dt<=g.Ed)&yt>=st&At>=dt&we>=dt,S&=g.y!=null,S&=g.f!=null,S&=g.ea!=null,nt==12&&(S&=Oe>=st,S&=de<=g.Tc,S&=g.F!=null)}else S=0;g=S?0:2}}return g!=0||N!=null&&N.fd&&(g=sh(X)),g}var Ma=64,fs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ou=24,zc=32,ic=8,_a=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];wr("Predictor0","PredictorAdd0"),pe.Predictor0=function(){return 4278190080},pe.Predictor1=function(g){return g},pe.Predictor2=function(g,S,N){return S[N+0]},pe.Predictor3=function(g,S,N){return S[N+1]},pe.Predictor4=function(g,S,N){return S[N-1]},pe.Predictor5=function(g,S,N){return jr(jr(g,S[N+1]),S[N+0])},pe.Predictor6=function(g,S,N){return jr(g,S[N-1])},pe.Predictor7=function(g,S,N){return jr(g,S[N+0])},pe.Predictor8=function(g,S,N){return jr(S[N-1],S[N+0])},pe.Predictor9=function(g,S,N){return jr(S[N+0],S[N+1])},pe.Predictor10=function(g,S,N){return jr(jr(g,S[N-1]),jr(S[N+0],S[N+1]))},pe.Predictor11=function(g,S,N){var X=S[N+0];return 0>=Yn(X>>24&255,g>>24&255,(S=S[N-1])>>24&255)+Yn(X>>16&255,g>>16&255,S>>16&255)+Yn(X>>8&255,g>>8&255,S>>8&255)+Yn(255&X,255&g,255&S)?X:g},pe.Predictor12=function(g,S,N){var X=S[N+0];return(ln((g>>24&255)+(X>>24&255)-((S=S[N-1])>>24&255))<<24|ln((g>>16&255)+(X>>16&255)-(S>>16&255))<<16|ln((g>>8&255)+(X>>8&255)-(S>>8&255))<<8|ln((255&g)+(255&X)-(255&S)))>>>0},pe.Predictor13=function(g,S,N){var X=S[N-1];return(Mn((g=jr(g,S[N+0]))>>24&255,X>>24&255)<<24|Mn(g>>16&255,X>>16&255)<<16|Mn(g>>8&255,X>>8&255)<<8|Mn(g>>0&255,X>>0&255))>>>0};var _d=pe.PredictorAdd0;pe.PredictorAdd1=Jn,wr("Predictor2","PredictorAdd2"),wr("Predictor3","PredictorAdd3"),wr("Predictor4","PredictorAdd4"),wr("Predictor5","PredictorAdd5"),wr("Predictor6","PredictorAdd6"),wr("Predictor7","PredictorAdd7"),wr("Predictor8","PredictorAdd8"),wr("Predictor9","PredictorAdd9"),wr("Predictor10","PredictorAdd10"),wr("Predictor11","PredictorAdd11"),wr("Predictor12","PredictorAdd12"),wr("Predictor13","PredictorAdd13");var Tu=pe.PredictorAdd2;Qn("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Qn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Ed,Gs=pe.ColorIndexInverseTransform,Vc=pe.MapARGB,fv=pe.VP8LColorIndexInverseTransformAlpha,hv=pe.MapAlpha,Us=pe.VP8LPredictorsAdd=[];Us.length=16,(pe.VP8LPredictors=[]).length=16,(pe.VP8LPredictorsAdd_C=[]).length=16,(pe.VP8LPredictors_C=[]).length=16;var qa,ks,yl,zs,zl,Vl,li,Wc,hs,Wl,Vs,Yl,Hl,Yc,ml,bu,lh,ds,Xl,ji,ui,ho,Co,_l,to,Hc,uh,dv,ry=A(511),ny=A(2041),pv=A(225),ii=A(767),iy=0,vv=ny,ch=pv,Ja=ii,ps=ry,fh=0,xd=1,oy=2,hh=3,Sd=4,dh=5,ay=6,gv=7,yv=8,Xc=9,Cu=10,t1=[2,3,7],e1=[3,3,11],sy=[280,256,256,256,40],r1=[0,1,1,1,0],n1=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],i1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qa=8,Kc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],wd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],$c=null,ly=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_v=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ph=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],o1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ev=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],xv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],a1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ws=[],Ys=[],vs=[],s1=1,Zc=2,El=[],Xo=[];ke("UpsampleRgbLinePair",$n,3),ke("UpsampleBgrLinePair",ta,3),ke("UpsampleRgbaLinePair",Za,4),ke("UpsampleBgraLinePair",fo,4),ke("UpsampleArgbLinePair",Qi,4),ke("UpsampleRgba4444LinePair",bo,2),ke("UpsampleRgb565LinePair",co,2);var l1=pe.UpsampleRgbLinePair,u1=pe.UpsampleBgrLinePair,Od=pe.UpsampleRgbaLinePair,uy=pe.UpsampleBgraLinePair,cy=pe.UpsampleArgbLinePair,fy=pe.UpsampleRgba4444LinePair,c1=pe.UpsampleRgb565LinePair,Td=16,bd=1<<Td-1,vh=-227,Sv=482,hy=6,dy=(256<<hy)-1,gh=0,wv=A(256),f1=A(256),h1=A(256),d1=A(256),p1=A(Sv-vh),v1=A(Sv-vh);gl("YuvToRgbRow",$n,3),gl("YuvToBgrRow",ta,3),gl("YuvToRgbaRow",Za,4),gl("YuvToBgraRow",fo,4),gl("YuvToArgbRow",Qi,4),gl("YuvToRgba4444Row",bo,2),gl("YuvToRgb565Row",co,2);var Au=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cd=[0,2,8],g1=[8,7,6,4,4,2,2,2,1,1,1,1],y1=1;this.WebPDecodeRGBA=function(g,S,N,X,nt){var st=xd,ut=new kc,dt=new Aa;ut.ba=dt,dt.S=st,dt.width=[dt.width],dt.height=[dt.height];var yt=dt.width,At=dt.height,ae=new Nl;if(ae==null||g==null)var we=2;else E(ae!=null),we=Bs(g,S,N,ae.width,ae.height,ae.Pd,ae.Qd,ae.format,null);if(we!=0?yt=0:(yt!=null&&(yt[0]=ae.width[0]),At!=null&&(At[0]=ae.height[0]),yt=1),yt){dt.width=dt.width[0],dt.height=dt.height[0],X!=null&&(X[0]=dt.width),nt!=null&&(nt[0]=dt.height);t:{if(X=new Ic,(nt=new Su).data=g,nt.w=S,nt.ha=N,nt.kd=1,S=[0],E(nt!=null),((g=Bs(nt.data,nt.w,nt.ha,null,null,null,S,null,nt))==0||g==7)&&S[0]&&(g=4),(S=g)==0){if(E(ut!=null),X.data=nt.data,X.w=nt.w+nt.offset,X.ha=nt.ha-nt.offset,X.put=ul,X.ac=Qo,X.bc=cl,X.ma=ut,nt.xa){if((g=Hi())==null){ut=1;break t}if(function(Oe,de){var Qe=[0],De=[0],se=[0];e:for(;;){if(Oe==null)return 0;if(de==null)return Oe.a=2,0;if(Oe.l=de,Oe.a=0,Re(Oe.m,de.data,de.w,de.ha),!un(Oe.m,Qe,De,se)){Oe.a=3;break e}if(Oe.xb=Zc,de.width=Qe[0],de.height=De[0],!si(Qe[0],De[0],1,Oe,null))break e;return 1}return E(Oe.a!=0),0}(g,X)){if(X=(S=kn(X.width,X.height,ut.Oa,ut.ba))==0){e:{X=g;r:for(;;){if(X==null){X=0;break e}if(E(X.s.yc!=null),E(X.s.Ya!=null),E(0<X.s.Wb),E((N=X.l)!=null),E((nt=N.ma)!=null),X.xb!=0){if(X.ca=nt.ba,X.tb=nt.tb,E(X.ca!=null),!ah(nt.Oa,N,hh)){X.a=2;break r}if(!ko(X,N.width)||N.da)break r;if((N.da||di(X.ca.S))&&me(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&me()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!mn(X.s.vb,X.s.Wa.Xa)){X.a=1;break r}X.xb=0}if(!ua(X,X.V,X.Ba,X.c,X.i,N.o,Cc))break r;nt.Dc=X.Ma,X=1;break e}E(X.a!=0),X=0}X=!X}X&&(S=g.a)}else S=g.a}else{if((g=new iv)==null){ut=1;break t}if(g.Fa=nt.na,g.P=nt.P,g.qc=nt.Sa,hl(g,X)){if((S=kn(X.width,X.height,ut.Oa,ut.ba))==0){if(g.Aa=0,N=ut.Oa,E((nt=g)!=null),N!=null){if(0<(yt=0>(yt=N.Md)?0:100<yt?255:255*yt/100)){for(At=ae=0;4>At;++At)12>(we=nt.pb[At]).lc&&(we.ia=yt*g1[0>we.lc?0:we.lc]>>3),ae|=we.ia;ae&&(alert("todo:VP8InitRandom"),nt.ia=1)}nt.Ga=N.Id,100<nt.Ga?nt.Ga=100:0>nt.Ga&&(nt.Ga=0)}ov(g,X)||(S=g.a)}}else S=g.a}S==0&&ut.Oa!=null&&ut.Oa.fd&&(S=sh(ut.ba))}ut=S}st=ut!=0?null:11>st?dt.f.RGBA.eb:dt.f.kb.y}else st=null;return st};var py=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function it(pe,lr){for(var er="",Rt=0;Rt<4;Rt++)er+=String.fromCharCode(pe[lr++]);return er}function vt(pe,lr){return(pe[lr+0]<<0|pe[lr+1]<<8|pe[lr+2]<<16)>>>0}function mt(pe,lr){return(pe[lr+0]<<0|pe[lr+1]<<8|pe[lr+2]<<16|pe[lr+3]<<24)>>>0}new Y;var Ot=[0],K=[0],zt=[],Mt=new Y,te=T,wt=function(pe,lr){var er={},Rt=0,Pt=!1,ue=0,oe=0;if(er.frames=[],!function(Ft,Kt,fe,ve){for(var be=0;be<ve;be++)if(Ft[Kt+be]!=fe.charCodeAt(be))return!0;return!1}(pe,lr,"RIFF",4)){var $e,Xe;for(mt(pe,lr+=4),lr+=8;lr<pe.length;){var or=it(pe,lr),Re=mt(pe,lr+=4);lr+=4;var je=Re+(1&Re);switch(or){case"VP8 ":case"VP8L":er.frames[Rt]===void 0&&(er.frames[Rt]={}),(ft=er.frames[Rt]).src_off=Pt?oe:lr-8,ft.src_size=ue+Re+8,Rt++,Pt&&(Pt=!1,ue=0,oe=0);break;case"VP8X":(ft=er.header={}).feature_flags=pe[lr];var Je=lr+4;ft.canvas_width=1+vt(pe,Je),Je+=3,ft.canvas_height=1+vt(pe,Je),Je+=3;break;case"ALPH":Pt=!0,ue=je+8,oe=lr-8;break;case"ANIM":(ft=er.header).bgcolor=mt(pe,lr),Je=lr+4,ft.loop_count=($e=pe)[(Xe=Je)+0]<<0|$e[Xe+1]<<8,Je+=2;break;case"ANMF":var Kr,ft;(ft=er.frames[Rt]={}).offset_x=2*vt(pe,lr),lr+=3,ft.offset_y=2*vt(pe,lr),lr+=3,ft.width=1+vt(pe,lr),lr+=3,ft.height=1+vt(pe,lr),lr+=3,ft.duration=vt(pe,lr),lr+=3,Kr=pe[lr++],ft.dispose=1&Kr,ft.blend=Kr>>1&1}or!="ANMF"&&(lr+=je)}return er}}(te,0);wt.response=te,wt.rgbaoutput=!0,wt.dataurl=!1;var Yt=wt.header?wt.header:null,xe=wt.frames?wt.frames:null;if(Yt){Yt.loop_counter=Yt.loop_count,Ot=[Yt.canvas_height],K=[Yt.canvas_width];for(var ze=0;ze<xe.length&&xe[ze].blend!=0;ze++);}var tr=xe[0],xr=Mt.WebPDecodeRGBA(te,tr.src_off,tr.src_size,K,Ot);tr.rgba=xr,tr.imgwidth=K[0],tr.imgheight=Ot[0];for(var Ue=0;Ue<K[0]*Ot[0]*4;Ue++)zt[Ue]=xr[Ue];return this.width=K,this.height=Ot,this.data=zt,this}(function(T){var E=function(){return typeof O.b=="function"},x=function(Ot,K,zt,Mt){var te=4,wt=G;switch(Mt){case T.image_compression.FAST:te=1,wt=A;break;case T.image_compression.MEDIUM:te=6,wt=k;break;case T.image_compression.SLOW:te=9,wt=Y}Ot=C(Ot,K,zt,wt);var Yt=Object(O.b)(Ot,{level:te});return T.__addimage__.arrayBufferToBinaryString(Yt)},C=function(Ot,K,zt,Mt){for(var te,wt,Yt,xe=Ot.length/K,ze=new Uint8Array(Ot.length+xe),tr=vt(),xr=0;xr<xe;xr+=1){if(Yt=xr*K,te=Ot.subarray(Yt,Yt+K),Mt)ze.set(Mt(te,zt,wt),Yt+xr);else{for(var Ue,pe=tr.length,lr=[];Ue<pe;Ue+=1)lr[Ue]=tr[Ue](te,zt,wt);var er=mt(lr.concat());ze.set(lr[er],Yt+xr)}wt=te}return ze},j=function(Ot){var K=Array.apply([],Ot);return K.unshift(0),K},A=function(Ot,K){var zt,Mt=[],te=Ot.length;Mt[0]=1;for(var wt=0;wt<te;wt+=1)zt=Ot[wt-K]||0,Mt[wt+1]=Ot[wt]-zt+256&255;return Mt},G=function(Ot,K,zt){var Mt,te=[],wt=Ot.length;te[0]=2;for(var Yt=0;Yt<wt;Yt+=1)Mt=zt&&zt[Yt]||0,te[Yt+1]=Ot[Yt]-Mt+256&255;return te},k=function(Ot,K,zt){var Mt,te,wt=[],Yt=Ot.length;wt[0]=3;for(var xe=0;xe<Yt;xe+=1)Mt=Ot[xe-K]||0,te=zt&&zt[xe]||0,wt[xe+1]=Ot[xe]+256-(Mt+te>>>1)&255;return wt},Y=function(Ot,K,zt){var Mt,te,wt,Yt,xe=[],ze=Ot.length;xe[0]=4;for(var tr=0;tr<ze;tr+=1)Mt=Ot[tr-K]||0,te=zt&&zt[tr]||0,wt=zt&&zt[tr-K]||0,Yt=it(Mt,te,wt),xe[tr+1]=Ot[tr]-Yt+256&255;return xe},it=function(Ot,K,zt){if(Ot===K&&K===zt)return Ot;var Mt=Math.abs(K-zt),te=Math.abs(Ot-zt),wt=Math.abs(Ot+K-zt-zt);return Mt<=te&&Mt<=wt?Ot:te<=wt?K:zt},vt=function(){return[j,A,G,k,Y]},mt=function(Ot){var K=Ot.map(function(zt){return zt.reduce(function(Mt,te){return Mt+Math.abs(te)},0)});return K.indexOf(Math.min.apply(null,K))};T.processPNG=function(Ot,K,zt,Mt){var te,wt,Yt,xe,ze,tr,xr,Ue,pe,lr,er,Rt,Pt,ue,oe,$e=this.decode.FLATE_DECODE,Xe="";if(this.__addimage__.isArrayBuffer(Ot)&&(Ot=new Uint8Array(Ot)),this.__addimage__.isArrayBufferView(Ot)){if(Ot=(Yt=new bc(Ot)).imgData,wt=Yt.bits,te=Yt.colorSpace,ze=Yt.colors,[4,6].indexOf(Yt.colorType)!==-1){if(Yt.bits===8){pe=(Ue=Yt.pixelBitlength==32?new Uint32Array(Yt.decodePixels().buffer):Yt.pixelBitlength==16?new Uint16Array(Yt.decodePixels().buffer):new Uint8Array(Yt.decodePixels().buffer)).length,er=new Uint8Array(pe*Yt.colors),lr=new Uint8Array(pe);var or,Re=Yt.pixelBitlength-Yt.bits;for(ue=0,oe=0;ue<pe;ue++){for(Pt=Ue[ue],or=0;or<Re;)er[oe++]=Pt>>>or&255,or+=Yt.bits;lr[ue]=Pt>>>or&255}}if(Yt.bits===16){pe=(Ue=new Uint32Array(Yt.decodePixels().buffer)).length,er=new Uint8Array(pe*(32/Yt.pixelBitlength)*Yt.colors),lr=new Uint8Array(pe*(32/Yt.pixelBitlength)),Rt=Yt.colors>1,ue=0,oe=0;for(var je=0;ue<pe;)Pt=Ue[ue++],er[oe++]=Pt>>>0&255,Rt&&(er[oe++]=Pt>>>16&255,Pt=Ue[ue++],er[oe++]=Pt>>>0&255),lr[je++]=Pt>>>16&255;wt=8}Mt!==T.image_compression.NONE&&E()?(Ot=x(er,Yt.width*Yt.colors,Yt.colors,Mt),xr=x(lr,Yt.width,1,Mt)):(Ot=er,xr=lr,$e=void 0)}if(Yt.colorType===3&&(te=this.color_spaces.INDEXED,tr=Yt.palette,Yt.transparency.indexed)){var Je=Yt.transparency.indexed,Kr=0;for(ue=0,pe=Je.length;ue<pe;++ue)Kr+=Je[ue];if((Kr/=255)===pe-1&&Je.indexOf(0)!==-1)xe=[Je.indexOf(0)];else if(Kr!==pe){for(Ue=Yt.decodePixels(),lr=new Uint8Array(Ue.length),ue=0,pe=Ue.length;ue<pe;ue++)lr[ue]=Je[Ue[ue]];xr=x(lr,Yt.width,1)}}var ft=function(Ft){var Kt;switch(Ft){case T.image_compression.FAST:Kt=11;break;case T.image_compression.MEDIUM:Kt=13;break;case T.image_compression.SLOW:Kt=14;break;default:Kt=12}return Kt}(Mt);return $e===this.decode.FLATE_DECODE&&(Xe="/Predictor "+ft+" "),Xe+="/Colors "+ze+" /BitsPerComponent "+wt+" /Columns "+Yt.width,(this.__addimage__.isArrayBuffer(Ot)||this.__addimage__.isArrayBufferView(Ot))&&(Ot=this.__addimage__.arrayBufferToBinaryString(Ot)),(xr&&this.__addimage__.isArrayBuffer(xr)||this.__addimage__.isArrayBufferView(xr))&&(xr=this.__addimage__.arrayBufferToBinaryString(xr)),{alias:zt,data:Ot,index:K,filter:$e,decodeParameters:Xe,transparency:xe,palette:tr,sMask:xr,predictor:ft,width:Yt.width,height:Yt.height,bitsPerComponent:wt,colorSpace:te}}}})(Qt.API),function(T){T.processGIF89A=function(E,x,C,j){var A=new gu(E),G=A.width,k=A.height,Y=[];A.decodeAndBlitFrameRGBA(0,Y);var it={data:Y,width:G,height:k},vt=new od(100).encode(it,100);return T.processJPEG.call(this,vt,x,C,j)},T.processGIF87A=T.processGIF89A}(Qt.API),Go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var T=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(T);for(var E=0;E<T;E++){var x=this.datav.getUint8(this.pos++,!0),C=this.datav.getUint8(this.pos++,!0),j=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0);this.palette[E]={red:j,green:C,blue:x,quad:A}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Go.prototype.parseBGR=function(){this.pos=this.offset;try{var T="bit"+this.bitPP,E=this.width*this.height*4;this.data=new Uint8Array(E),this[T]()}catch(x){F.log("bit decode error:"+x)}},Go.prototype.bit1=function(){var T,E=Math.ceil(this.width/8),x=E%4;for(T=this.height-1;T>=0;T--){for(var C=this.bottom_up?T:this.height-1-T,j=0;j<E;j++)for(var A=this.datav.getUint8(this.pos++,!0),G=C*this.width*4+8*j*4,k=0;k<8&&8*j+k<this.width;k++){var Y=this.palette[A>>7-k&1];this.data[G+4*k]=Y.blue,this.data[G+4*k+1]=Y.green,this.data[G+4*k+2]=Y.red,this.data[G+4*k+3]=255}x!==0&&(this.pos+=4-x)}},Go.prototype.bit4=function(){for(var T=Math.ceil(this.width/2),E=T%4,x=this.height-1;x>=0;x--){for(var C=this.bottom_up?x:this.height-1-x,j=0;j<T;j++){var A=this.datav.getUint8(this.pos++,!0),G=C*this.width*4+2*j*4,k=A>>4,Y=15&A,it=this.palette[k];if(this.data[G]=it.blue,this.data[G+1]=it.green,this.data[G+2]=it.red,this.data[G+3]=255,2*j+1>=this.width)break;it=this.palette[Y],this.data[G+4]=it.blue,this.data[G+4+1]=it.green,this.data[G+4+2]=it.red,this.data[G+4+3]=255}E!==0&&(this.pos+=4-E)}},Go.prototype.bit8=function(){for(var T=this.width%4,E=this.height-1;E>=0;E--){for(var x=this.bottom_up?E:this.height-1-E,C=0;C<this.width;C++){var j=this.datav.getUint8(this.pos++,!0),A=x*this.width*4+4*C;if(j<this.palette.length){var G=this.palette[j];this.data[A]=G.red,this.data[A+1]=G.green,this.data[A+2]=G.blue,this.data[A+3]=255}else this.data[A]=255,this.data[A+1]=255,this.data[A+2]=255,this.data[A+3]=255}T!==0&&(this.pos+=4-T)}},Go.prototype.bit15=function(){for(var T=this.width%3,E=parseInt("11111",2),x=this.height-1;x>=0;x--){for(var C=this.bottom_up?x:this.height-1-x,j=0;j<this.width;j++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var G=(A&E)/E*255|0,k=(A>>5&E)/E*255|0,Y=(A>>10&E)/E*255|0,it=A>>15?255:0,vt=C*this.width*4+4*j;this.data[vt]=Y,this.data[vt+1]=k,this.data[vt+2]=G,this.data[vt+3]=it}this.pos+=T}},Go.prototype.bit16=function(){for(var T=this.width%3,E=parseInt("11111",2),x=parseInt("111111",2),C=this.height-1;C>=0;C--){for(var j=this.bottom_up?C:this.height-1-C,A=0;A<this.width;A++){var G=this.datav.getUint16(this.pos,!0);this.pos+=2;var k=(G&E)/E*255|0,Y=(G>>5&x)/x*255|0,it=(G>>11)/E*255|0,vt=j*this.width*4+4*A;this.data[vt]=it,this.data[vt+1]=Y,this.data[vt+2]=k,this.data[vt+3]=255}this.pos+=T}},Go.prototype.bit24=function(){for(var T=this.height-1;T>=0;T--){for(var E=this.bottom_up?T:this.height-1-T,x=0;x<this.width;x++){var C=this.datav.getUint8(this.pos++,!0),j=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),G=E*this.width*4+4*x;this.data[G]=A,this.data[G+1]=j,this.data[G+2]=C,this.data[G+3]=255}this.pos+=this.width%4}},Go.prototype.bit32=function(){for(var T=this.height-1;T>=0;T--)for(var E=this.bottom_up?T:this.height-1-T,x=0;x<this.width;x++){var C=this.datav.getUint8(this.pos++,!0),j=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),G=this.datav.getUint8(this.pos++,!0),k=E*this.width*4+4*x;this.data[k]=A,this.data[k+1]=j,this.data[k+2]=C,this.data[k+3]=G}},Go.prototype.getData=function(){return this.data},function(T){T.processBMP=function(E,x,C,j){var A=new Go(E,!1),G=A.width,k=A.height,Y={data:A.getData(),width:G,height:k},it=new od(100).encode(Y,100);return T.processJPEG.call(this,it,x,C,j)}}(Qt.API),tv.prototype.getData=function(){return this.data},function(T){T.processWEBP=function(E,x,C,j){var A=new tv(E,!1),G=A.width,k=A.height,Y={data:A.getData(),width:G,height:k},it=new od(100).encode(Y,100);return T.processJPEG.call(this,it,x,C,j)}}(Qt.API),Qt.API.processRGBA=function(T,E,x){for(var C=T.data,j=C.length,A=new Uint8Array(j/4*3),G=new Uint8Array(j/4),k=0,Y=0,it=0;it<j;it+=4){var vt=C[it],mt=C[it+1],Ot=C[it+2],K=C[it+3];A[k++]=vt,A[k++]=mt,A[k++]=Ot,G[Y++]=K}var zt=this.__addimage__.arrayBufferToBinaryString(A);return{alpha:this.__addimage__.arrayBufferToBinaryString(G),data:zt,index:E,alias:x,colorSpace:"DeviceRGB",bitsPerComponent:8,width:T.width,height:T.height}},Qt.API.setLanguage=function(T){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[T]!==void 0&&(this.internal.languageSettings.languageCode=T,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ya=Qt.API,Ps=Ya.getCharWidthsArray=function(T,E){var x,C,j=(E=E||{}).font||this.internal.getFont(),A=E.fontSize||this.internal.getFontSize(),G=E.charSpace||this.internal.getCharSpace(),k=E.widths?E.widths:j.metadata.Unicode.widths,Y=k.fof?k.fof:1,it=E.kerning?E.kerning:j.metadata.Unicode.kerning,vt=it.fof?it.fof:1,mt=E.doKerning!==!1,Ot=0,K=T.length,zt=0,Mt=k[0]||Y,te=[];for(x=0;x<K;x++)C=T.charCodeAt(x),typeof j.metadata.widthOfString=="function"?te.push((j.metadata.widthOfGlyph(j.metadata.characterToGlyph(C))+G*(1e3/A)||0)/1e3):(Ot=mt&&_()(it[C])==="object"&&!isNaN(parseInt(it[C][zt],10))?it[C][zt]/vt:0,te.push((k[C]||Mt)/Y+Ot)),zt=C;return te},sl=Ya.getStringUnitWidth=function(T,E){var x=(E=E||{}).fontSize||this.internal.getFontSize(),C=E.font||this.internal.getFont(),j=E.charSpace||this.internal.getCharSpace();return Ya.processArabic&&(T=Ya.processArabic(T)),typeof C.metadata.widthOfString=="function"?C.metadata.widthOfString(T,x,j)/x:Ps.apply(this,arguments).reduce(function(A,G){return A+G},0)},id=function(T,E,x,C){for(var j=[],A=0,G=T.length,k=0;A!==G&&k+E[A]<x;)k+=E[A],A++;j.push(T.slice(0,A));var Y=A;for(k=0;A!==G;)k+E[A]>C&&(j.push(T.slice(Y,A)),k=0,Y=A),k+=E[A],A++;return Y!==A&&j.push(T.slice(Y,A)),j},Jp=function(T,E,x){x||(x={});var C,j,A,G,k,Y,it,vt=[],mt=[vt],Ot=x.textIndent||0,K=0,zt=0,Mt=T.split(" "),te=Ps.apply(this,[" ",x])[0];if(Y=x.lineIndent===-1?Mt[0].length+2:x.lineIndent||0){var wt=Array(Y).join(" "),Yt=[];Mt.map(function(ze){(ze=ze.split(/\s*\n/)).length>1?Yt=Yt.concat(ze.map(function(tr,xr){return(xr&&tr.length?`
`:"")+tr})):Yt.push(ze[0])}),Mt=Yt,Y=sl.apply(this,[wt,x])}for(A=0,G=Mt.length;A<G;A++){var xe=0;if(C=Mt[A],Y&&C[0]==`
`&&(C=C.substr(1),xe=1),Ot+K+(zt=(j=Ps.apply(this,[C,x])).reduce(function(ze,tr){return ze+tr},0))>E||xe){if(zt>E){for(k=id.apply(this,[C,j,E-(Ot+K),E]),vt.push(k.shift()),vt=[k.pop()];k.length;)mt.push([k.shift()]);zt=j.slice(C.length-(vt[0]?vt[0].length:0)).reduce(function(ze,tr){return ze+tr},0)}else vt=[C];mt.push(vt),Ot=zt+Y,K=te}else vt.push(C),Ot+=K+zt,K=te}return it=Y?function(ze,tr){return(tr?wt:"")+ze.join(" ")}:function(ze){return ze.join(" ")},mt.map(it)},Ya.splitTextToSize=function(T,E,x){var C,j=(x=x||{}).fontSize||this.internal.getFontSize(),A=function(vt){if(vt.widths&&vt.kerning)return{widths:vt.widths,kerning:vt.kerning};var mt=this.internal.getFont(vt.fontName,vt.fontStyle);return mt.metadata.Unicode?{widths:mt.metadata.Unicode.widths||{0:1},kerning:mt.metadata.Unicode.kerning||{}}:{font:mt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,x);C=Array.isArray(T)?T:String(T).split(/\r?\n/);var G=1*this.internal.scaleFactor*E/j;A.textIndent=x.textIndent?1*x.textIndent*this.internal.scaleFactor/j:0,A.lineIndent=x.lineIndent;var k,Y,it=[];for(k=0,Y=C.length;k<Y;k++)it=it.concat(Jp.apply(this,[C[k],G,A]));return it},function(T){T.__fontmetrics__=T.__fontmetrics__||{};for(var E="klmnopqrstuvwxyz",x={},C={},j=0;j<E.length;j++)x[E[j]]="0123456789abcdef"[j],C["0123456789abcdef"[j]]=E[j];var A=function(mt){return"0x"+parseInt(mt,10).toString(16)},G=T.__fontmetrics__.compress=function(mt){var Ot,K,zt,Mt,te=["{"];for(var wt in mt){if(Ot=mt[wt],isNaN(parseInt(wt,10))?K="'"+wt+"'":(wt=parseInt(wt,10),K=(K=A(wt).slice(2)).slice(0,-1)+C[K.slice(-1)]),typeof Ot=="number")Ot<0?(zt=A(Ot).slice(3),Mt="-"):(zt=A(Ot).slice(2),Mt=""),zt=Mt+zt.slice(0,-1)+C[zt.slice(-1)];else{if(_()(Ot)!=="object")throw new Error("Don't know what to do with value type "+_()(Ot)+".");zt=G(Ot)}te.push(K+zt)}return te.push("}"),te.join("")},k=T.__fontmetrics__.uncompress=function(mt){if(typeof mt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ot,K,zt,Mt,te={},wt=1,Yt=te,xe=[],ze="",tr="",xr=mt.length-1,Ue=1;Ue<xr;Ue+=1)(Mt=mt[Ue])=="'"?Ot?(zt=Ot.join(""),Ot=void 0):Ot=[]:Ot?Ot.push(Mt):Mt=="{"?(xe.push([Yt,zt]),Yt={},zt=void 0):Mt=="}"?((K=xe.pop())[0][K[1]]=Yt,zt=void 0,Yt=K[0]):Mt=="-"?wt=-1:zt===void 0?x.hasOwnProperty(Mt)?(ze+=x[Mt],zt=parseInt(ze,16)*wt,wt=1,ze=""):ze+=Mt:x.hasOwnProperty(Mt)?(tr+=x[Mt],Yt[zt]=parseInt(tr,16)*wt,wt=1,zt=void 0,tr=""):tr+=Mt;return te},Y={codePages:["WinAnsiEncoding"],WinAnsiEncoding:k("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},it={Unicode:{Courier:Y,"Courier-Bold":Y,"Courier-BoldOblique":Y,"Courier-Oblique":Y,Helvetica:Y,"Helvetica-Bold":Y,"Helvetica-BoldOblique":Y,"Helvetica-Oblique":Y,"Times-Roman":Y,"Times-Bold":Y,"Times-BoldItalic":Y,"Times-Italic":Y}},vt={Unicode:{"Courier-Oblique":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":k("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":k("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":k("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:k("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:k("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":k("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:k("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":k("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":k("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":k("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":k("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};T.events.push(["addFont",function(mt){var Ot=mt.font,K=vt.Unicode[Ot.postScriptName];K&&(Ot.metadata.Unicode={},Ot.metadata.Unicode.widths=K.widths,Ot.metadata.Unicode.kerning=K.kerning);var zt=it.Unicode[Ot.postScriptName];zt&&(Ot.metadata.Unicode.encoding=zt,Ot.encoding=zt.codePages[0])}])}(Qt.API),function(T){var E=function(x){for(var C=x.length,j=new Uint8Array(C),A=0;A<C;A++)j[A]=x.charCodeAt(A);return j};T.API.events.push(["addFont",function(x){var C=void 0,j=x.font,A=x.instance;if(!j.isStandardFont){if(A===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+j.postScriptName+"').");if(typeof(C=A.existsFileInVFS(j.postScriptName)===!1?A.loadFile(j.postScriptName):A.getFileFromVFS(j.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+j.postScriptName+"').");(function(G,k){k=/^\x00\x01\x00\x00/.test(k)?E(k):E(W(k)),G.metadata=T.API.TTFFont.open(k),G.metadata.Unicode=G.metadata.Unicode||{encoding:{},kerning:{},widths:[]},G.metadata.glyIdsUsed=[0]})(j,C)}}])}(Qt),function(T){function E(){return(b.canvg?Promise.resolve(b.canvg):u.e(1).then(u.bind(null,"0d73"))).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x})}Qt.API.addSvgAsImage=function(x,C,j,A,G,k,Y,it){if(isNaN(C)||isNaN(j))throw F.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(A)||isNaN(G))throw F.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var vt=document.createElement("canvas");vt.width=A,vt.height=G;var mt=vt.getContext("2d");mt.fillStyle="#fff",mt.fillRect(0,0,vt.width,vt.height);var Ot={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},K=this;return E().then(function(zt){return zt.fromString(mt,x,Ot)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(zt){return zt.render(Ot)}).then(function(){K.addImage(vt.toDataURL("image/jpeg",1),C,j,A,G,Y,it)})}}(),Qt.API.putTotalPages=function(T){var E,x=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(E=new RegExp(T,"g"),x=this.internal.getNumberOfPages()):(E=new RegExp(this.pdfEscape16(T,this.internal.getFont()),"g"),x=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var C=1;C<=this.internal.getNumberOfPages();C++)for(var j=0;j<this.internal.pages[C].length;j++)this.internal.pages[C][j]=this.internal.pages[C][j].replace(E,x);return this},Qt.API.viewerPreferences=function(T,E){var x;T=T||{},E=E||!1;var C,j,A,G={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},k=Object.keys(G),Y=[],it=0,vt=0,mt=0;function Ot(zt,Mt){var te,wt=!1;for(te=0;te<zt.length;te+=1)zt[te]===Mt&&(wt=!0);return wt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(G)),this.internal.viewerpreferences.isSubscribed=!1),x=this.internal.viewerpreferences.configuration,T==="reset"||E===!0){var K=k.length;for(mt=0;mt<K;mt+=1)x[k[mt]].value=x[k[mt]].defaultValue,x[k[mt]].explicitSet=!1}if(_()(T)==="object"){for(j in T)if(A=T[j],Ot(k,j)&&A!==void 0){if(x[j].type==="boolean"&&typeof A=="boolean")x[j].value=A;else if(x[j].type==="name"&&Ot(x[j].valueSet,A))x[j].value=A;else if(x[j].type==="integer"&&Number.isInteger(A))x[j].value=A;else if(x[j].type==="array"){for(it=0;it<A.length;it+=1)if(C=!0,A[it].length===1&&typeof A[it][0]=="number")Y.push(String(A[it]-1));else if(A[it].length>1){for(vt=0;vt<A[it].length;vt+=1)typeof A[it][vt]!="number"&&(C=!1);C===!0&&Y.push([A[it][0]-1,A[it][1]-1].join(" "))}x[j].value="["+Y.join(" ")+"]"}else x[j].value=x[j].defaultValue;x[j].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var zt,Mt=[];for(zt in x)x[zt].explicitSet===!0&&(x[zt].type==="name"?Mt.push("/"+zt+" /"+x[zt].value):Mt.push("/"+zt+" "+x[zt].value));Mt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Mt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=x,this},function(T){var E=function(){var C='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',j=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),A=unescape(encodeURIComponent(C)),G=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),k=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Y=unescape(encodeURIComponent("</x:xmpmeta>")),it=A.length+G.length+k.length+j.length+Y.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+it+" >>"),this.internal.write("stream"),this.internal.write(j+A+G+k+Y),this.internal.write("endstream"),this.internal.write("endobj")},x=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};T.addMetadata=function(C,j){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:C,namespaceuri:j||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",x),this.internal.events.subscribe("postPutResources",E)),this}}(Qt.API),function(T){var E=T.API,x=E.pdfEscape16=function(A,G){for(var k,Y=G.metadata.Unicode.widths,it=["","0","00","000","0000"],vt=[""],mt=0,Ot=A.length;mt<Ot;++mt){if(k=G.metadata.characterToGlyph(A.charCodeAt(mt)),G.metadata.glyIdsUsed.push(k),G.metadata.toUnicode[k]=A.charCodeAt(mt),Y.indexOf(k)==-1&&(Y.push(k),Y.push([parseInt(G.metadata.widthOfGlyph(k),10)])),k=="0")return vt.join("");k=k.toString(16),vt.push(it[4-k.length],k)}return vt.join("")},C=function(A){var G,k,Y,it,vt,mt,Ot;for(vt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Y=[],mt=0,Ot=(k=Object.keys(A).sort(function(K,zt){return K-zt})).length;mt<Ot;mt++)G=k[mt],Y.length>=100&&(vt+=`
`+Y.length+` beginbfchar
`+Y.join(`
`)+`
endbfchar`,Y=[]),A[G]!==void 0&&A[G]!==null&&typeof A[G].toString=="function"&&(it=("0000"+A[G].toString(16)).slice(-4),G=("0000"+(+G).toString(16)).slice(-4),Y.push("<"+G+"><"+it+">"));return Y.length&&(vt+=`
`+Y.length+` beginbfchar
`+Y.join(`
`)+`
endbfchar
`),vt+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};E.events.push(["putFont",function(A){(function(G){var k=G.font,Y=G.out,it=G.newObject,vt=G.putStream;if(k.metadata instanceof T.API.TTFFont&&k.encoding==="Identity-H"){for(var mt=k.metadata.Unicode.widths,Ot=k.metadata.subset.encode(k.metadata.glyIdsUsed,1),K="",zt=0;zt<Ot.length;zt++)K+=String.fromCharCode(Ot[zt]);var Mt=it();vt({data:K,addLength1:!0,objectId:Mt}),Y("endobj");var te=it();vt({data:C(k.metadata.toUnicode),addLength1:!0,objectId:te}),Y("endobj");var wt=it();Y("<<"),Y("/Type /FontDescriptor"),Y("/FontName /"+Be(k.fontName)),Y("/FontFile2 "+Mt+" 0 R"),Y("/FontBBox "+T.API.PDFObject.convert(k.metadata.bbox)),Y("/Flags "+k.metadata.flags),Y("/StemV "+k.metadata.stemV),Y("/ItalicAngle "+k.metadata.italicAngle),Y("/Ascent "+k.metadata.ascender),Y("/Descent "+k.metadata.decender),Y("/CapHeight "+k.metadata.capHeight),Y(">>"),Y("endobj");var Yt=it();Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Be(k.fontName)),Y("/FontDescriptor "+wt+" 0 R"),Y("/W "+T.API.PDFObject.convert(mt)),Y("/CIDToGIDMap /Identity"),Y("/DW 1000"),Y("/Subtype /CIDFontType2"),Y("/CIDSystemInfo"),Y("<<"),Y("/Supplement 0"),Y("/Registry (Adobe)"),Y("/Ordering ("+k.encoding+")"),Y(">>"),Y(">>"),Y("endobj"),k.objectNumber=it(),Y("<<"),Y("/Type /Font"),Y("/Subtype /Type0"),Y("/ToUnicode "+te+" 0 R"),Y("/BaseFont /"+Be(k.fontName)),Y("/Encoding /"+k.encoding),Y("/DescendantFonts ["+Yt+" 0 R]"),Y(">>"),Y("endobj"),k.isAlreadyPutted=!0}})(A)}]),E.events.push(["putFont",function(A){(function(G){var k=G.font,Y=G.out,it=G.newObject,vt=G.putStream;if(k.metadata instanceof T.API.TTFFont&&k.encoding==="WinAnsiEncoding"){for(var mt=k.metadata.rawData,Ot="",K=0;K<mt.length;K++)Ot+=String.fromCharCode(mt[K]);var zt=it();vt({data:Ot,addLength1:!0,objectId:zt}),Y("endobj");var Mt=it();vt({data:C(k.metadata.toUnicode),addLength1:!0,objectId:Mt}),Y("endobj");var te=it();Y("<<"),Y("/Descent "+k.metadata.decender),Y("/CapHeight "+k.metadata.capHeight),Y("/StemV "+k.metadata.stemV),Y("/Type /FontDescriptor"),Y("/FontFile2 "+zt+" 0 R"),Y("/Flags 96"),Y("/FontBBox "+T.API.PDFObject.convert(k.metadata.bbox)),Y("/FontName /"+Be(k.fontName)),Y("/ItalicAngle "+k.metadata.italicAngle),Y("/Ascent "+k.metadata.ascender),Y(">>"),Y("endobj"),k.objectNumber=it();for(var wt=0;wt<k.metadata.hmtx.widths.length;wt++)k.metadata.hmtx.widths[wt]=parseInt(k.metadata.hmtx.widths[wt]*(1e3/k.metadata.head.unitsPerEm));Y("<</Subtype/TrueType/Type/Font/ToUnicode "+Mt+" 0 R/BaseFont/"+Be(k.fontName)+"/FontDescriptor "+te+" 0 R/Encoding/"+k.encoding+" /FirstChar 29 /LastChar 255 /Widths "+T.API.PDFObject.convert(k.metadata.hmtx.widths)+">>"),Y("endobj"),k.isAlreadyPutted=!0}})(A)}]);var j=function(A){var G,k=A.text||"",Y=A.x,it=A.y,vt=A.options||{},mt=A.mutex||{},Ot=mt.pdfEscape,K=mt.activeFontKey,zt=mt.fonts,Mt=K,te="",wt=0,Yt="",xe=zt[Mt].encoding;if(zt[Mt].encoding!=="Identity-H")return{text:k,x:Y,y:it,options:vt,mutex:mt};for(Yt=k,Mt=K,Array.isArray(k)&&(Yt=k[0]),wt=0;wt<Yt.length;wt+=1)zt[Mt].metadata.hasOwnProperty("cmap")&&(G=zt[Mt].metadata.cmap.unicode.codeMap[Yt[wt].charCodeAt(0)]),G||Yt[wt].charCodeAt(0)<256&&zt[Mt].metadata.hasOwnProperty("Unicode")?te+=Yt[wt]:te+="";var ze="";return parseInt(Mt.slice(1))<14||xe==="WinAnsiEncoding"?ze=Ot(te,Mt).split("").map(function(tr){return tr.charCodeAt(0).toString(16)}).join(""):xe==="Identity-H"&&(ze=x(te,zt[Mt])),mt.isHex=!0,{text:ze,x:Y,y:it,options:vt,mutex:mt}};E.events.push(["postProcessText",function(A){var G=A.text||"",k=[],Y={text:G,x:A.x,y:A.y,options:A.options,mutex:A.mutex};if(Array.isArray(G)){var it=0;for(it=0;it<G.length;it+=1)Array.isArray(G[it])&&G[it].length===3?k.push([j(Object.assign({},Y,{text:G[it][0]})).text,G[it][1],G[it][2]]):k.push(j(Object.assign({},Y,{text:G[it]})).text);A.text=k}else A.text=j(Object.assign({},Y,{text:G})).text}])}(Qt),function(T){var E=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};T.existsFileInVFS=function(x){return E.call(this),this.internal.vFS[x]!==void 0},T.addFileToVFS=function(x,C){return E.call(this),this.internal.vFS[x]=C,this},T.getFileFromVFS=function(x){return E.call(this),this.internal.vFS[x]!==void 0?this.internal.vFS[x]:null}}(Qt.API),function(T){T.__bidiEngine__=T.prototype.__bidiEngine__=function(C){var j,A,G,k,Y,it,vt,mt=E,Ot=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],K=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],zt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Mt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},te=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],wt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Yt=!1,xe=0;this.__bidiEngine__={};var ze=function(Rt){var Pt=Rt.charCodeAt(),ue=Pt>>8,oe=Mt[ue];return oe!==void 0?mt[256*oe+(255&Pt)]:ue===252||ue===253?"AL":wt.test(ue)?"L":ue===8?"R":"N"},tr=function(Rt){for(var Pt,ue=0;ue<Rt.length;ue++){if((Pt=ze(Rt.charAt(ue)))==="L")return!1;if(Pt==="R")return!0}return!1},xr=function(Rt,Pt,ue,oe){var $e,Xe,or,Re,je=Pt[oe];switch(je){case"L":case"R":Yt=!1;break;case"N":case"AN":break;case"EN":Yt&&(je="AN");break;case"AL":Yt=!0,je="R";break;case"WS":je="N";break;case"CS":oe<1||oe+1>=Pt.length||($e=ue[oe-1])!=="EN"&&$e!=="AN"||(Xe=Pt[oe+1])!=="EN"&&Xe!=="AN"?je="N":Yt&&(Xe="AN"),je=Xe===$e?Xe:"N";break;case"ES":je=($e=oe>0?ue[oe-1]:"B")==="EN"&&oe+1<Pt.length&&Pt[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ue[oe-1]==="EN"){je="EN";break}if(Yt){je="N";break}for(or=oe+1,Re=Pt.length;or<Re&&Pt[or]==="ET";)or++;je=or<Re&&Pt[or]==="EN"?"EN":"N";break;case"NSM":if(G&&!k){for(Re=Pt.length,or=oe+1;or<Re&&Pt[or]==="NSM";)or++;if(or<Re){var Je=Rt[oe],Kr=Je>=1425&&Je<=2303||Je===64286;if($e=Pt[or],Kr&&($e==="R"||$e==="AL")){je="R";break}}}je=oe<1||($e=Pt[oe-1])==="B"?"N":ue[oe-1];break;case"B":Yt=!1,j=!0,je=xe;break;case"S":A=!0,je="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Yt=!1;break;case"BN":je="N"}return je},Ue=function(Rt,Pt,ue){var oe=Rt.split("");return ue&&pe(oe,ue,{hiLevel:xe}),oe.reverse(),Pt&&Pt.reverse(),oe.join("")},pe=function(Rt,Pt,ue){var oe,$e,Xe,or,Re,je=-1,Je=Rt.length,Kr=0,ft=[],Ft=xe?K:Ot,Kt=[];for(Yt=!1,j=!1,A=!1,$e=0;$e<Je;$e++)Kt[$e]=ze(Rt[$e]);for(Xe=0;Xe<Je;Xe++){if(Re=Kr,ft[Xe]=xr(Rt,Kt,ft,Xe),oe=240&(Kr=Ft[Re][zt[ft[Xe]]]),Kr&=15,Pt[Xe]=or=Ft[Kr][5],oe>0)if(oe===16){for($e=je;$e<Xe;$e++)Pt[$e]=1;je=-1}else je=-1;if(Ft[Kr][6])je===-1&&(je=Xe);else if(je>-1){for($e=je;$e<Xe;$e++)Pt[$e]=or;je=-1}Kt[Xe]==="B"&&(Pt[Xe]=0),ue.hiLevel|=or}A&&function(fe,ve,be){for(var Pe=0;Pe<be;Pe++)if(fe[Pe]==="S"){ve[Pe]=xe;for(var Ie=Pe-1;Ie>=0&&fe[Ie]==="WS";Ie--)ve[Ie]=xe}}(Kt,Pt,Je)},lr=function(Rt,Pt,ue,oe,$e){if(!($e.hiLevel<Rt)){if(Rt===1&&xe===1&&!j)return Pt.reverse(),void(ue&&ue.reverse());for(var Xe,or,Re,je,Je=Pt.length,Kr=0;Kr<Je;){if(oe[Kr]>=Rt){for(Re=Kr+1;Re<Je&&oe[Re]>=Rt;)Re++;for(je=Kr,or=Re-1;je<or;je++,or--)Xe=Pt[je],Pt[je]=Pt[or],Pt[or]=Xe,ue&&(Xe=ue[je],ue[je]=ue[or],ue[or]=Xe);Kr=Re}Kr++}}},er=function(Rt,Pt,ue){var oe=Rt.split(""),$e={hiLevel:xe};return ue||(ue=[]),pe(oe,ue,$e),function(Xe,or,Re){if(Re.hiLevel!==0&&vt)for(var je,Je=0;Je<Xe.length;Je++)or[Je]===1&&(je=te.indexOf(Xe[Je]))>=0&&(Xe[Je]=te[je+1])}(oe,ue,$e),lr(2,oe,Pt,ue,$e),lr(1,oe,Pt,ue,$e),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(Rt,Pt,ue){if(function($e,Xe){if(Xe)for(var or=0;or<$e.length;or++)Xe[or]=or;k===void 0&&(k=tr($e)),it===void 0&&(it=tr($e))}(Rt,Pt),G||!Y||it)if(G&&Y&&k^it)xe=k?1:0,Rt=Ue(Rt,Pt,ue);else if(!G&&Y&&it)xe=k?1:0,Rt=er(Rt,Pt,ue),Rt=Ue(Rt,Pt);else if(!G||k||Y||it){if(G&&!Y&&k^it)Rt=Ue(Rt,Pt),k?(xe=0,Rt=er(Rt,Pt,ue)):(xe=1,Rt=er(Rt,Pt,ue),Rt=Ue(Rt,Pt));else if(G&&k&&!Y&&it)xe=1,Rt=er(Rt,Pt,ue),Rt=Ue(Rt,Pt);else if(!G&&!Y&&k^it){var oe=vt;k?(xe=1,Rt=er(Rt,Pt,ue),xe=0,vt=!1,Rt=er(Rt,Pt,ue),vt=oe):(xe=0,Rt=er(Rt,Pt,ue),Rt=Ue(Rt,Pt),xe=1,vt=!1,Rt=er(Rt,Pt,ue),vt=oe,Rt=Ue(Rt,Pt))}}else xe=0,Rt=er(Rt,Pt,ue);else xe=k?1:0,Rt=er(Rt,Pt,ue);return Rt},this.__bidiEngine__.setOptions=function(Rt){Rt&&(G=Rt.isInputVisual,Y=Rt.isOutputVisual,k=Rt.isInputRtl,it=Rt.isOutputRtl,vt=Rt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(C),this.__bidiEngine__};var E=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],x=new T.__bidiEngine__({isInputVisual:!0});T.API.events.push(["postProcessText",function(C){var j=C.text,A=(C.x,C.y,C.options||{}),G=(C.mutex,A.lang,[]);if(A.isInputVisual=typeof A.isInputVisual!="boolean"||A.isInputVisual,x.setOptions(A),Object.prototype.toString.call(j)==="[object Array]"){var k=0;for(G=[],k=0;k<j.length;k+=1)Object.prototype.toString.call(j[k])==="[object Array]"?G.push([x.doBidiReorder(j[k][0]),j[k][1],j[k][2]]):G.push([x.doBidiReorder(j[k])]);C.text=G}else C.text=x.doBidiReorder(j);x.setOptions({isInputVisual:!0})}])}(Qt),Qt.API.TTFFont=function(){function T(E){var x;if(this.rawData=E,x=this.contents=new ya(E),this.contents.pos=4,x.readString(4)==="ttcf")throw new Error("TTCF not supported.");x.pos=0,this.parse(),this.subset=new Qm(this),this.registerTTF()}return T.open=function(E){return new T(E)},T.prototype.parse=function(){return this.directory=new Km(this.contents),this.head=new $m(this),this.name=new Zm(this),this.cmap=new ev(this),this.toUnicode={},this.hhea=new ad(this),this.maxp=new qm(this),this.hmtx=new rv(this),this.post=new Si(this),this.os2=new Oo(this),this.loca=new Jm(this),this.glyf=new Ha(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},T.prototype.registerTTF=function(){var E,x,C,j,A;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var G,k,Y,it;for(it=[],G=0,k=(Y=this.bbox).length;G<k;G++)E=Y[G],it.push(Math.round(E*this.scaleFactor));return it}.call(this),this.stemV=0,this.post.exists?(C=255&(j=this.post.italic_angle),(32768&(x=j>>16))!=0&&(x=-(1+(65535^x))),this.italicAngle=+(x+"."+C)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(A=this.familyClass)===1||A===2||A===3||A===4||A===5||A===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},T.prototype.characterToGlyph=function(E){var x;return((x=this.cmap.unicode)!=null?x.codeMap[E]:void 0)||0},T.prototype.widthOfGlyph=function(E){var x;return x=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(E).advance*x},T.prototype.widthOfString=function(E,x,C){var j,A,G,k;for(G=0,A=0,k=(E=""+E).length;0<=k?A<k:A>k;A=0<=k?++A:--A)j=E.charCodeAt(A),G+=this.widthOfGlyph(this.characterToGlyph(j))+C*(1e3/x)||0;return G*(x/1e3)},T.prototype.lineHeight=function(E,x){var C;return x==null&&(x=!1),C=x?this.lineGap:0,(this.ascender+C-this.decender)/1e3*E},T}();var us,ya=function(){function T(E){this.data=E!=null?E:[],this.pos=0,this.length=this.data.length}return T.prototype.readByte=function(){return this.data[this.pos++]},T.prototype.writeByte=function(E){return this.data[this.pos++]=E},T.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},T.prototype.writeUInt32=function(E){return this.writeByte(E>>>24&255),this.writeByte(E>>16&255),this.writeByte(E>>8&255),this.writeByte(255&E)},T.prototype.readInt32=function(){var E;return(E=this.readUInt32())>=2147483648?E-4294967296:E},T.prototype.writeInt32=function(E){return E<0&&(E+=4294967296),this.writeUInt32(E)},T.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},T.prototype.writeUInt16=function(E){return this.writeByte(E>>8&255),this.writeByte(255&E)},T.prototype.readInt16=function(){var E;return(E=this.readUInt16())>=32768?E-65536:E},T.prototype.writeInt16=function(E){return E<0&&(E+=65536),this.writeUInt16(E)},T.prototype.readString=function(E){var x,C;for(C=[],x=0;0<=E?x<E:x>E;x=0<=E?++x:--x)C[x]=String.fromCharCode(this.readByte());return C.join("")},T.prototype.writeString=function(E){var x,C,j;for(j=[],x=0,C=E.length;0<=C?x<C:x>C;x=0<=C?++x:--x)j.push(this.writeByte(E.charCodeAt(x)));return j},T.prototype.readShort=function(){return this.readInt16()},T.prototype.writeShort=function(E){return this.writeInt16(E)},T.prototype.readLongLong=function(){var E,x,C,j,A,G,k,Y;return E=this.readByte(),x=this.readByte(),C=this.readByte(),j=this.readByte(),A=this.readByte(),G=this.readByte(),k=this.readByte(),Y=this.readByte(),128&E?-1*(72057594037927940*(255^E)+281474976710656*(255^x)+1099511627776*(255^C)+4294967296*(255^j)+16777216*(255^A)+65536*(255^G)+256*(255^k)+(255^Y)+1):72057594037927940*E+281474976710656*x+1099511627776*C+4294967296*j+16777216*A+65536*G+256*k+Y},T.prototype.writeLongLong=function(E){var x,C;return x=Math.floor(E/4294967296),C=4294967295&E,this.writeByte(x>>24&255),this.writeByte(x>>16&255),this.writeByte(x>>8&255),this.writeByte(255&x),this.writeByte(C>>24&255),this.writeByte(C>>16&255),this.writeByte(C>>8&255),this.writeByte(255&C)},T.prototype.readInt=function(){return this.readInt32()},T.prototype.writeInt=function(E){return this.writeInt32(E)},T.prototype.read=function(E){var x,C;for(x=[],C=0;0<=E?C<E:C>E;C=0<=E?++C:--C)x.push(this.readByte());return x},T.prototype.write=function(E){var x,C,j,A;for(A=[],C=0,j=E.length;C<j;C++)x=E[C],A.push(this.writeByte(x));return A},T}(),Km=function(){var T;function E(x){var C,j,A;for(this.scalarType=x.readInt(),this.tableCount=x.readShort(),this.searchRange=x.readShort(),this.entrySelector=x.readShort(),this.rangeShift=x.readShort(),this.tables={},j=0,A=this.tableCount;0<=A?j<A:j>A;j=0<=A?++j:--j)C={tag:x.readString(4),checksum:x.readInt(),offset:x.readInt(),length:x.readInt()},this.tables[C.tag]=C}return E.prototype.encode=function(x){var C,j,A,G,k,Y,it,vt,mt,Ot,K,zt,Mt;for(Mt in K=Object.keys(x).length,Y=Math.log(2),mt=16*Math.floor(Math.log(K)/Y),G=Math.floor(mt/Y),vt=16*K-mt,(j=new ya).writeInt(this.scalarType),j.writeShort(K),j.writeShort(mt),j.writeShort(G),j.writeShort(vt),A=16*K,it=j.pos+A,k=null,zt=[],x)for(Ot=x[Mt],j.writeString(Mt),j.writeInt(T(Ot)),j.writeInt(it),j.writeInt(Ot.length),zt=zt.concat(Ot),Mt==="head"&&(k=it),it+=Ot.length;it%4;)zt.push(0),it++;return j.write(zt),C=2981146554-T(j.data),j.pos=k+8,j.writeUInt32(C),j.data},T=function(x){var C,j,A,G;for(x=Qr.call(x);x.length%4;)x.push(0);for(A=new ya(x),j=0,C=0,G=x.length;C<G;C=C+=4)j+=A.readUInt32();return 4294967295&j},E}(),ty={}.hasOwnProperty,Is=function(T,E){for(var x in E)ty.call(E,x)&&(T[x]=E[x]);function C(){this.constructor=T}return C.prototype=E.prototype,T.prototype=new C,T.__super__=E.prototype,T};us=function(){function T(E){var x;this.file=E,x=this.file.directory.tables[this.tag],this.exists=!!x,x&&(this.offset=x.offset,this.length=x.length,this.parse(this.file.contents))}return T.prototype.parse=function(){},T.prototype.encode=function(){},T.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},T}();var $m=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="head",E.prototype.parse=function(x){return x.pos=this.offset,this.version=x.readInt(),this.revision=x.readInt(),this.checkSumAdjustment=x.readInt(),this.magicNumber=x.readInt(),this.flags=x.readShort(),this.unitsPerEm=x.readShort(),this.created=x.readLongLong(),this.modified=x.readLongLong(),this.xMin=x.readShort(),this.yMin=x.readShort(),this.xMax=x.readShort(),this.yMax=x.readShort(),this.macStyle=x.readShort(),this.lowestRecPPEM=x.readShort(),this.fontDirectionHint=x.readShort(),this.indexToLocFormat=x.readShort(),this.glyphDataFormat=x.readShort()},E.prototype.encode=function(x){var C;return(C=new ya).writeInt(this.version),C.writeInt(this.revision),C.writeInt(this.checkSumAdjustment),C.writeInt(this.magicNumber),C.writeShort(this.flags),C.writeShort(this.unitsPerEm),C.writeLongLong(this.created),C.writeLongLong(this.modified),C.writeShort(this.xMin),C.writeShort(this.yMin),C.writeShort(this.xMax),C.writeShort(this.yMax),C.writeShort(this.macStyle),C.writeShort(this.lowestRecPPEM),C.writeShort(this.fontDirectionHint),C.writeShort(x),C.writeShort(this.glyphDataFormat),C.data},E}(),ey=function(){function T(E,x){var C,j,A,G,k,Y,it,vt,mt,Ot,K,zt,Mt,te,wt,Yt,xe;switch(this.platformID=E.readUInt16(),this.encodingID=E.readShort(),this.offset=x+E.readInt(),mt=E.pos,E.pos=this.offset,this.format=E.readUInt16(),this.length=E.readUInt16(),this.language=E.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Y=0;Y<256;++Y)this.codeMap[Y]=E.readByte();break;case 4:for(K=E.readUInt16(),Ot=K/2,E.pos+=6,A=function(){var ze,tr;for(tr=[],Y=ze=0;0<=Ot?ze<Ot:ze>Ot;Y=0<=Ot?++ze:--ze)tr.push(E.readUInt16());return tr}(),E.pos+=2,Mt=function(){var ze,tr;for(tr=[],Y=ze=0;0<=Ot?ze<Ot:ze>Ot;Y=0<=Ot?++ze:--ze)tr.push(E.readUInt16());return tr}(),it=function(){var ze,tr;for(tr=[],Y=ze=0;0<=Ot?ze<Ot:ze>Ot;Y=0<=Ot?++ze:--ze)tr.push(E.readUInt16());return tr}(),vt=function(){var ze,tr;for(tr=[],Y=ze=0;0<=Ot?ze<Ot:ze>Ot;Y=0<=Ot?++ze:--ze)tr.push(E.readUInt16());return tr}(),j=(this.length-E.pos+this.offset)/2,k=function(){var ze,tr;for(tr=[],Y=ze=0;0<=j?ze<j:ze>j;Y=0<=j?++ze:--ze)tr.push(E.readUInt16());return tr}(),Y=wt=0,xe=A.length;wt<xe;Y=++wt)for(te=A[Y],C=Yt=zt=Mt[Y];zt<=te?Yt<=te:Yt>=te;C=zt<=te?++Yt:--Yt)vt[Y]===0?G=C+it[Y]:(G=k[vt[Y]/2+(C-zt)-(Ot-Y)]||0)!==0&&(G+=it[Y]),this.codeMap[C]=65535&G}E.pos=mt}return T.encode=function(E,x){var C,j,A,G,k,Y,it,vt,mt,Ot,K,zt,Mt,te,wt,Yt,xe,ze,tr,xr,Ue,pe,lr,er,Rt,Pt,ue,oe,$e,Xe,or,Re,je,Je,Kr,ft,Ft,Kt,fe,ve,be,Pe,Ie,mr,yr,Mr;switch(oe=new ya,G=Object.keys(E).sort(function(Wr,mn){return Wr-mn}),x){case"macroman":for(Mt=0,te=function(){var Wr=[];for(zt=0;zt<256;++zt)Wr.push(0);return Wr}(),Yt={0:0},A={},$e=0,je=G.length;$e<je;$e++)Yt[Ie=E[j=G[$e]]]==null&&(Yt[Ie]=++Mt),A[j]={old:E[j],new:Yt[E[j]]},te[j]=Yt[E[j]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(te),{charMap:A,subtable:oe.data,maxGlyphID:Mt+1};case"unicode":for(Pt=[],mt=[],xe=0,Yt={},C={},wt=it=null,Xe=0,Je=G.length;Xe<Je;Xe++)Yt[tr=E[j=G[Xe]]]==null&&(Yt[tr]=++xe),C[j]={old:tr,new:Yt[tr]},k=Yt[tr]-j,wt!=null&&k===it||(wt&&mt.push(wt),Pt.push(j),it=k),wt=j;for(wt&&mt.push(wt),mt.push(65535),Pt.push(65535),er=2*(lr=Pt.length),pe=2*Math.pow(Math.log(lr)/Math.LN2,2),Ot=Math.log(pe/2)/Math.LN2,Ue=2*lr-pe,Y=[],xr=[],K=[],zt=or=0,Kr=Pt.length;or<Kr;zt=++or){if(Rt=Pt[zt],vt=mt[zt],Rt===65535){Y.push(0),xr.push(0);break}if(Rt-(ue=C[Rt].new)>=32768)for(Y.push(0),xr.push(2*(K.length+lr-zt)),j=Re=Rt;Rt<=vt?Re<=vt:Re>=vt;j=Rt<=vt?++Re:--Re)K.push(C[j].new);else Y.push(ue-Rt),xr.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*lr+2*K.length),oe.writeUInt16(0),oe.writeUInt16(er),oe.writeUInt16(pe),oe.writeUInt16(Ot),oe.writeUInt16(Ue),be=0,ft=mt.length;be<ft;be++)j=mt[be],oe.writeUInt16(j);for(oe.writeUInt16(0),Pe=0,Ft=Pt.length;Pe<Ft;Pe++)j=Pt[Pe],oe.writeUInt16(j);for(mr=0,Kt=Y.length;mr<Kt;mr++)k=Y[mr],oe.writeUInt16(k);for(yr=0,fe=xr.length;yr<fe;yr++)ze=xr[yr],oe.writeUInt16(ze);for(Mr=0,ve=K.length;Mr<ve;Mr++)Mt=K[Mr],oe.writeUInt16(Mt);return{charMap:C,subtable:oe.data,maxGlyphID:xe+1}}},T}(),ev=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="cmap",E.prototype.parse=function(x){var C,j,A;for(x.pos=this.offset,this.version=x.readUInt16(),A=x.readUInt16(),this.tables=[],this.unicode=null,j=0;0<=A?j<A:j>A;j=0<=A?++j:--j)C=new ey(x,this.offset),this.tables.push(C),C.isUnicode&&this.unicode==null&&(this.unicode=C);return!0},E.encode=function(x,C){var j,A;return C==null&&(C="macroman"),j=ey.encode(x,C),(A=new ya).writeUInt16(0),A.writeUInt16(1),j.table=A.data.concat(j.subtable),j},E}(),ad=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="hhea",E.prototype.parse=function(x){return x.pos=this.offset,this.version=x.readInt(),this.ascender=x.readShort(),this.decender=x.readShort(),this.lineGap=x.readShort(),this.advanceWidthMax=x.readShort(),this.minLeftSideBearing=x.readShort(),this.minRightSideBearing=x.readShort(),this.xMaxExtent=x.readShort(),this.caretSlopeRise=x.readShort(),this.caretSlopeRun=x.readShort(),this.caretOffset=x.readShort(),x.pos+=8,this.metricDataFormat=x.readShort(),this.numberOfMetrics=x.readUInt16()},E}(),Oo=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="OS/2",E.prototype.parse=function(x){if(x.pos=this.offset,this.version=x.readUInt16(),this.averageCharWidth=x.readShort(),this.weightClass=x.readUInt16(),this.widthClass=x.readUInt16(),this.type=x.readShort(),this.ySubscriptXSize=x.readShort(),this.ySubscriptYSize=x.readShort(),this.ySubscriptXOffset=x.readShort(),this.ySubscriptYOffset=x.readShort(),this.ySuperscriptXSize=x.readShort(),this.ySuperscriptYSize=x.readShort(),this.ySuperscriptXOffset=x.readShort(),this.ySuperscriptYOffset=x.readShort(),this.yStrikeoutSize=x.readShort(),this.yStrikeoutPosition=x.readShort(),this.familyClass=x.readShort(),this.panose=function(){var C,j;for(j=[],C=0;C<10;++C)j.push(x.readByte());return j}(),this.charRange=function(){var C,j;for(j=[],C=0;C<4;++C)j.push(x.readInt());return j}(),this.vendorID=x.readString(4),this.selection=x.readShort(),this.firstCharIndex=x.readShort(),this.lastCharIndex=x.readShort(),this.version>0&&(this.ascent=x.readShort(),this.descent=x.readShort(),this.lineGap=x.readShort(),this.winAscent=x.readShort(),this.winDescent=x.readShort(),this.codePageRange=function(){var C,j;for(j=[],C=0;C<2;C=++C)j.push(x.readInt());return j}(),this.version>1))return this.xHeight=x.readShort(),this.capHeight=x.readShort(),this.defaultChar=x.readShort(),this.breakChar=x.readShort(),this.maxContext=x.readShort()},E}(),Si=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="post",E.prototype.parse=function(x){var C,j,A;switch(x.pos=this.offset,this.format=x.readInt(),this.italicAngle=x.readInt(),this.underlinePosition=x.readShort(),this.underlineThickness=x.readShort(),this.isFixedPitch=x.readInt(),this.minMemType42=x.readInt(),this.maxMemType42=x.readInt(),this.minMemType1=x.readInt(),this.maxMemType1=x.readInt(),this.format){case 65536:break;case 131072:var G;for(j=x.readUInt16(),this.glyphNameIndex=[],G=0;0<=j?G<j:G>j;G=0<=j?++G:--G)this.glyphNameIndex.push(x.readUInt16());for(this.names=[],A=[];x.pos<this.offset+this.length;)C=x.readByte(),A.push(this.names.push(x.readString(C)));return A;case 151552:return j=x.readUInt16(),this.offsets=x.read(j);case 196608:break;case 262144:return this.map=function(){var k,Y,it;for(it=[],G=k=0,Y=this.file.maxp.numGlyphs;0<=Y?k<Y:k>Y;G=0<=Y?++k:--k)it.push(x.readUInt32());return it}.call(this)}},E}(),Ir=function(T,E){this.raw=T,this.length=T.length,this.platformID=E.platformID,this.encodingID=E.encodingID,this.languageID=E.languageID},Zm=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="name",E.prototype.parse=function(x){var C,j,A,G,k,Y,it,vt,mt,Ot,K;for(x.pos=this.offset,x.readShort(),C=x.readShort(),Y=x.readShort(),j=[],G=0;0<=C?G<C:G>C;G=0<=C?++G:--G)j.push({platformID:x.readShort(),encodingID:x.readShort(),languageID:x.readShort(),nameID:x.readShort(),length:x.readShort(),offset:this.offset+Y+x.readShort()});for(it={},G=mt=0,Ot=j.length;mt<Ot;G=++mt)A=j[G],x.pos=A.offset,vt=x.readString(A.length),k=new Ir(vt,A),it[K=A.nameID]==null&&(it[K]=[]),it[A.nameID].push(k);this.strings=it,this.copyright=it[0],this.fontFamily=it[1],this.fontSubfamily=it[2],this.uniqueSubfamily=it[3],this.fontName=it[4],this.version=it[5];try{this.postscriptName=it[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=it[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=it[7],this.manufacturer=it[8],this.designer=it[9],this.description=it[10],this.vendorUrl=it[11],this.designerUrl=it[12],this.license=it[13],this.licenseUrl=it[14],this.preferredFamily=it[15],this.preferredSubfamily=it[17],this.compatibleFull=it[18],this.sampleText=it[19]},E}(),qm=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="maxp",E.prototype.parse=function(x){return x.pos=this.offset,this.version=x.readInt(),this.numGlyphs=x.readUInt16(),this.maxPoints=x.readUInt16(),this.maxContours=x.readUInt16(),this.maxCompositePoints=x.readUInt16(),this.maxComponentContours=x.readUInt16(),this.maxZones=x.readUInt16(),this.maxTwilightPoints=x.readUInt16(),this.maxStorage=x.readUInt16(),this.maxFunctionDefs=x.readUInt16(),this.maxInstructionDefs=x.readUInt16(),this.maxStackElements=x.readUInt16(),this.maxSizeOfInstructions=x.readUInt16(),this.maxComponentElements=x.readUInt16(),this.maxComponentDepth=x.readUInt16()},E}(),rv=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="hmtx",E.prototype.parse=function(x){var C,j,A,G,k,Y,it;for(x.pos=this.offset,this.metrics=[],C=0,Y=this.file.hhea.numberOfMetrics;0<=Y?C<Y:C>Y;C=0<=Y?++C:--C)this.metrics.push({advance:x.readUInt16(),lsb:x.readInt16()});for(A=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var vt,mt;for(mt=[],C=vt=0;0<=A?vt<A:vt>A;C=0<=A?++vt:--vt)mt.push(x.readInt16());return mt}(),this.widths=function(){var vt,mt,Ot,K;for(K=[],vt=0,mt=(Ot=this.metrics).length;vt<mt;vt++)G=Ot[vt],K.push(G.advance);return K}.call(this),j=this.widths[this.widths.length-1],it=[],C=k=0;0<=A?k<A:k>A;C=0<=A?++k:--k)it.push(this.widths.push(j));return it},E.prototype.forGlyph=function(x){return x in this.metrics?this.metrics[x]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[x-this.metrics.length]}},E}(),Qr=[].slice,Ha=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="glyf",E.prototype.parse=function(){return this.cache={}},E.prototype.glyphFor=function(x){var C,j,A,G,k,Y,it,vt,mt,Ot;return x in this.cache?this.cache[x]:(G=this.file.loca,C=this.file.contents,j=G.indexOf(x),(A=G.lengthOf(x))===0?this.cache[x]=null:(C.pos=this.offset+j,k=(Y=new ya(C.read(A))).readShort(),vt=Y.readShort(),Ot=Y.readShort(),it=Y.readShort(),mt=Y.readShort(),this.cache[x]=k===-1?new Tr(Y,vt,Ot,it,mt):new Ms(Y,k,vt,Ot,it,mt),this.cache[x]))},E.prototype.encode=function(x,C,j){var A,G,k,Y,it;for(k=[],G=[],Y=0,it=C.length;Y<it;Y++)A=x[C[Y]],G.push(k.length),A&&(k=k.concat(A.encode(j)));return G.push(k.length),{table:k,offsets:G}},E}(),Ms=function(){function T(E,x,C,j,A,G){this.raw=E,this.numberOfContours=x,this.xMin=C,this.yMin=j,this.xMax=A,this.yMax=G,this.compound=!1}return T.prototype.encode=function(){return this.raw.data},T}(),Tr=function(){function T(E,x,C,j,A){var G,k;for(this.raw=E,this.xMin=x,this.yMin=C,this.xMax=j,this.yMax=A,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],G=this.raw;k=G.readShort(),this.glyphOffsets.push(G.pos),this.glyphIDs.push(G.readUInt16()),32&k;)G.pos+=1&k?4:2,128&k?G.pos+=8:64&k?G.pos+=4:8&k&&(G.pos+=2)}return T.prototype.encode=function(){var E,x,C;for(x=new ya(Qr.call(this.raw.data)),E=0,C=this.glyphIDs.length;E<C;++E)x.pos=this.glyphOffsets[E];return x.data},T}(),Jm=function(T){function E(){return E.__super__.constructor.apply(this,arguments)}return Is(E,us),E.prototype.tag="loca",E.prototype.parse=function(x){var C,j;return x.pos=this.offset,C=this.file.head.indexToLocFormat,this.offsets=C===0?function(){var A,G;for(G=[],j=0,A=this.length;j<A;j+=2)G.push(2*x.readUInt16());return G}.call(this):function(){var A,G;for(G=[],j=0,A=this.length;j<A;j+=4)G.push(x.readUInt32());return G}.call(this)},E.prototype.indexOf=function(x){return this.offsets[x]},E.prototype.lengthOf=function(x){return this.offsets[x+1]-this.offsets[x]},E.prototype.encode=function(x,C){for(var j=new Uint32Array(this.offsets.length),A=0,G=0,k=0;k<j.length;++k)if(j[k]=A,G<C.length&&C[G]==k){++G,j[k]=A;var Y=this.offsets[k],it=this.offsets[k+1]-Y;it>0&&(A+=it)}for(var vt=new Array(4*j.length),mt=0;mt<j.length;++mt)vt[4*mt+3]=255&j[mt],vt[4*mt+2]=(65280&j[mt])>>8,vt[4*mt+1]=(16711680&j[mt])>>16,vt[4*mt]=(4278190080&j[mt])>>24;return vt},E}(),Qm=function(){function T(E){this.font=E,this.subset={},this.unicodes={},this.next=33}return T.prototype.generateCmap=function(){var E,x,C,j,A;for(x in j=this.font.cmap.tables[0].codeMap,E={},A=this.subset)C=A[x],E[x]=j[C];return E},T.prototype.glyphsFor=function(E){var x,C,j,A,G,k,Y;for(j={},G=0,k=E.length;G<k;G++)j[A=E[G]]=this.font.glyf.glyphFor(A);for(A in x=[],j)(C=j[A])!=null&&C.compound&&x.push.apply(x,C.glyphIDs);if(x.length>0)for(A in Y=this.glyphsFor(x))C=Y[A],j[A]=C;return j},T.prototype.encode=function(E,x){var C,j,A,G,k,Y,it,vt,mt,Ot,K,zt,Mt,te,wt;for(j in C=ev.encode(this.generateCmap(),"unicode"),G=this.glyphsFor(E),K={0:0},wt=C.charMap)K[(Y=wt[j]).old]=Y.new;for(zt in Ot=C.maxGlyphID,G)zt in K||(K[zt]=Ot++);return vt=function(Yt){var xe,ze;for(xe in ze={},Yt)ze[Yt[xe]]=xe;return ze}(K),mt=Object.keys(vt).sort(function(Yt,xe){return Yt-xe}),Mt=function(){var Yt,xe,ze;for(ze=[],Yt=0,xe=mt.length;Yt<xe;Yt++)k=mt[Yt],ze.push(vt[k]);return ze}(),A=this.font.glyf.encode(G,Mt,K),it=this.font.loca.encode(A.offsets,Mt),te={cmap:this.font.cmap.raw(),glyf:A.table,loca:it,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(x)},this.font.os2.exists&&(te["OS/2"]=this.font.os2.raw()),this.font.directory.encode(te)},T}();Qt.API.PDFObject=function(){var T;function E(){}return T=function(x,C){return(Array(C+1).join("0")+x).slice(-C)},E.convert=function(x){var C,j,A,G;if(Array.isArray(x))return"["+function(){var k,Y,it;for(it=[],k=0,Y=x.length;k<Y;k++)C=x[k],it.push(E.convert(C));return it}().join(" ")+"]";if(typeof x=="string")return"/"+x;if(x!=null&&x.isString)return"("+x+")";if(x instanceof Date)return"(D:"+T(x.getUTCFullYear(),4)+T(x.getUTCMonth(),2)+T(x.getUTCDate(),2)+T(x.getUTCHours(),2)+T(x.getUTCMinutes(),2)+T(x.getUTCSeconds(),2)+"Z)";if({}.toString.call(x)==="[object Object]"){for(j in A=["<<"],x)G=x[j],A.push("/"+j+" "+E.convert(G));return A.push(">>"),A.join(`
`)}return""+x},E}()}).call(this,u("c8ba"))},"8bbf":function(f,d){f.exports=bZ},"90e3":function(f,d,u){var v=u("e330"),y=0,_=Math.random(),O=v(1 .toString);f.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+O(++y+_,36)}},"9112":function(f,d,u){var v=u("83ab"),y=u("9bf2"),_=u("5c6c");f.exports=v?function(O,b,D){return y.f(O,b,_(1,D))}:function(O,b,D){return O[b]=D,O}},"9152":function(f,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(u,v,y,_,O){var b,D,F=O*8-_-1,L=(1<<F)-1,B=L>>1,H=-7,W=y?O-1:0,$=y?-1:1,q=u[v+W];for(W+=$,b=q&(1<<-H)-1,q>>=-H,H+=F;H>0;b=b*256+u[v+W],W+=$,H-=8);for(D=b&(1<<-H)-1,b>>=-H,H+=_;H>0;D=D*256+u[v+W],W+=$,H-=8);if(b===0)b=1-B;else{if(b===L)return D?NaN:(q?-1:1)*(1/0);D=D+Math.pow(2,_),b=b-B}return(q?-1:1)*D*Math.pow(2,b-_)},d.write=function(u,v,y,_,O,b){var D,F,L,B=b*8-O-1,H=(1<<B)-1,W=H>>1,$=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,q=_?0:b-1,tt=_?1:-1,J=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(F=isNaN(v)?1:0,D=H):(D=Math.floor(Math.log(v)/Math.LN2),v*(L=Math.pow(2,-D))<1&&(D--,L*=2),D+W>=1?v+=$/L:v+=$*Math.pow(2,1-W),v*L>=2&&(D++,L/=2),D+W>=H?(F=0,D=H):D+W>=1?(F=(v*L-1)*Math.pow(2,O),D=D+W):(F=v*Math.pow(2,W-1)*Math.pow(2,O),D=0));O>=8;u[y+q]=F&255,q+=tt,F/=256,O-=8);for(D=D<<O|F,B+=O;B>0;u[y+q]=D&255,q+=tt,D/=256,B-=8);u[y+q-tt]|=J*128}},"9263":function(f,d,u){var v=u("c65b"),y=u("e330"),_=u("577e"),O=u("ad6d"),b=u("9f7f"),D=u("5692"),F=u("7c73"),L=u("69f3").get,B=u("fce3"),H=u("107c"),W=D("native-string-replace",String.prototype.replace),$=RegExp.prototype.exec,q=$,tt=y("".charAt),J=y("".indexOf),_t=y("".replace),rt=y("".slice),I=function(){var ct=/a/,jt=/b*/g;return v($,ct,"a"),v($,jt,"a"),ct.lastIndex!==0||jt.lastIndex!==0}(),Et=b.BROKEN_CARET,bt=/()??/.exec("")[1]!==void 0,Nt=I||bt||Et||B||H;Nt&&(q=function(jt){var gt=this,St=L(gt),Dt=_(jt),qt=St.raw,Le,Q,Tt,Ut,Be,Ye,Me;if(qt)return qt.lastIndex=gt.lastIndex,Le=v(q,qt,Dt),gt.lastIndex=qt.lastIndex,Le;var ir=St.groups,Sr=Et&&gt.sticky,$r=v(O,gt),Qt=gt.source,Te=0,Ze=Dt;if(Sr&&($r=_t($r,"y",""),J($r,"g")===-1&&($r+="g"),Ze=rt(Dt,gt.lastIndex),gt.lastIndex>0&&(!gt.multiline||gt.multiline&&tt(Dt,gt.lastIndex-1)!==`
`)&&(Qt="(?: "+Qt+")",Ze=" "+Ze,Te++),Q=new RegExp("^(?:"+Qt+")",$r)),bt&&(Q=new RegExp("^"+Qt+"$(?!\\s)",$r)),I&&(Tt=gt.lastIndex),Ut=v($,Sr?Q:gt,Ze),Sr?Ut?(Ut.input=rt(Ut.input,Te),Ut[0]=rt(Ut[0],Te),Ut.index=gt.lastIndex,gt.lastIndex+=Ut[0].length):gt.lastIndex=0:I&&Ut&&(gt.lastIndex=gt.global?Ut.index+Ut[0].length:Tt),bt&&Ut&&Ut.length>1&&v(W,Ut[0],Q,function(){for(Be=1;Be<arguments.length-2;Be++)arguments[Be]===void 0&&(Ut[Be]=void 0)}),Ut&&ir)for(Ut.groups=Ye=F(null),Be=0;Be<ir.length;Be++)Me=ir[Be],Ye[Me[0]]=Ut[Me[1]];return Ut}),f.exports=q},"94ca":function(f,d,u){var v=u("d039"),y=u("1626"),_=/#|\.prototype\./,O=function(B,H){var W=D[b(B)];return W==L?!0:W==F?!1:y(H)?v(H):!!H},b=O.normalize=function(B){return String(B).replace(_,".").toLowerCase()},D=O.data={},F=O.NATIVE="N",L=O.POLYFILL="P";f.exports=O},"99af":function(f,d,u){var v=u("23e7"),y=u("da84"),_=u("d039"),O=u("e8b5"),b=u("861d"),D=u("7b0b"),F=u("07fa"),L=u("8418"),B=u("65f0"),H=u("1dde"),W=u("b622"),$=u("2d00"),q=W("isConcatSpreadable"),tt=9007199254740991,J="Maximum allowed index exceeded",_t=y.TypeError,rt=$>=51||!_(function(){var Nt=[];return Nt[q]=!1,Nt.concat()[0]!==Nt}),I=H("concat"),Et=function(Nt){if(!b(Nt))return!1;var ct=Nt[q];return ct!==void 0?!!ct:O(Nt)},bt=!rt||!I;v({target:"Array",proto:!0,forced:bt},{concat:function(ct){var jt=D(this),gt=B(jt,0),St=0,Dt,qt,Le,Q,Tt;for(Dt=-1,Le=arguments.length;Dt<Le;Dt++)if(Tt=Dt===-1?jt:arguments[Dt],Et(Tt)){if(Q=F(Tt),St+Q>tt)throw _t(J);for(qt=0;qt<Q;qt++,St++)qt in Tt&&L(gt,St,Tt[qt])}else{if(St>=tt)throw _t(J);L(gt,St++,Tt)}return gt.length=St,gt}})},"9a1f":function(f,d,u){var v=u("da84"),y=u("c65b"),_=u("59ed"),O=u("825a"),b=u("0d51"),D=u("35a1"),F=v.TypeError;f.exports=function(L,B){var H=arguments.length<2?D(L):B;if(_(H))return O(y(H,L));throw F(b(L)+" is not iterable")}},"9bdd":function(f,d,u){var v=u("825a"),y=u("2a62");f.exports=function(_,O,b,D){try{return D?O(v(b)[0],b[1]):O(b)}catch(F){y(_,"throw",F)}}},"9bf2":function(f,d,u){var v=u("da84"),y=u("83ab"),_=u("0cfb"),O=u("aed9"),b=u("825a"),D=u("a04b"),F=v.TypeError,L=Object.defineProperty,B=Object.getOwnPropertyDescriptor,H="enumerable",W="configurable",$="writable";d.f=y?O?function(tt,J,_t){if(b(tt),J=D(J),b(_t),typeof tt=="function"&&J==="prototype"&&"value"in _t&&$ in _t&&!_t[$]){var rt=B(tt,J);rt&&rt[$]&&(tt[J]=_t.value,_t={configurable:W in _t?_t[W]:rt[W],enumerable:H in _t?_t[H]:rt[H],writable:!1})}return L(tt,J,_t)}:L:function(tt,J,_t){if(b(tt),J=D(J),b(_t),_)try{return L(tt,J,_t)}catch{}if("get"in _t||"set"in _t)throw F("Accessors not supported");return"value"in _t&&(tt[J]=_t.value),tt}},"9ed3":function(f,d,u){var v=u("ae93").IteratorPrototype,y=u("7c73"),_=u("5c6c"),O=u("d44e"),b=u("3f8c"),D=function(){return this};f.exports=function(F,L,B,H){var W=L+" Iterator";return F.prototype=y(v,{next:_(+!H,B)}),O(F,W,!1,!0),b[W]=D,F}},"9f5e":function(f,d,u){u.d(d,"a",function(){return v}),u.d(d,"i",function(){return y}),u.d(d,"f",function(){return _}),u.d(d,"h",function(){return O}),u.d(d,"j",function(){return b}),u.d(d,"c",function(){return D}),u.d(d,"d",function(){return F}),u.d(d,"b",function(){return L}),u.d(d,"e",function(){return B}),u.d(d,"g",function(){return H});function v(W,$,q){for(var tt,J,_t=q||y,rt=0,I=W.length,Et=!1;rt<I;)tt=rt+(I-rt>>1),J=+_t(W[tt],$),J<0?rt=tt+1:(I=tt,Et=!J);return Et?rt:~rt}function y(W,$){return W>$?1:W<$?-1:0}function _(W,$){return W.indexOf($)>=0}function O(W,$,q){var tt=W.length;if(W[0]<=$)return 0;if($<=W[tt-1])return tt-1;var J=void 0;if(q>0){for(J=1;J<tt;++J)if(W[J]<$)return J-1}else if(q<0){for(J=1;J<tt;++J)if(W[J]<=$)return J}else for(J=1;J<tt;++J){if(W[J]==$)return J;if(W[J]<$)return typeof q=="function"?q($,W[J-1],W[J])>0?J-1:J:W[J-1]-$<$-W[J]?J-1:J}return tt-1}function b(W,$,q){for(;$<q;){var tt=W[$];W[$]=W[q],W[q]=tt,++$,--q}}function D(W,$){for(var q=Array.isArray($)?$:[$],tt=q.length,J=0;J<tt;J++)W[W.length]=q[J]}function F(W,$){for(var q=W.length>>>0,tt,J=0;J<q;J++)if(tt=W[J],$(tt,J,W))return tt;return null}function L(W,$){var q=W.length;if(q!==$.length)return!1;for(var tt=0;tt<q;tt++)if(W[tt]!==$[tt])return!1;return!0}function B(W,$){var q,tt=!W.every(function(J,_t){return q=_t,!$(J,_t,W)});return tt?q:-1}function H(W,$,q){var tt=$||y;return W.every(function(J,_t){if(_t===0)return!0;var rt=tt(W[_t-1],J);return!(rt>0||q&&rt===0)})}},"9f7f":function(f,d,u){var v=u("d039"),y=u("da84"),_=y.RegExp,O=v(function(){var F=_("a","y");return F.lastIndex=2,F.exec("abcd")!=null}),b=O||v(function(){return!_("a","y").sticky}),D=O||v(function(){var F=_("^r","gy");return F.lastIndex=2,F.exec("str")!=null});f.exports={BROKEN_CARET:D,MISSED_STICKY:b,UNSUPPORTED_Y:O}},a04b:function(f,d,u){var v=u("c04e"),y=u("d9b5");f.exports=function(_){var O=v(_,"string");return y(O)?O:O+""}},a434:function(f,d,u){var v=u("23e7"),y=u("da84"),_=u("23cb"),O=u("5926"),b=u("07fa"),D=u("7b0b"),F=u("65f0"),L=u("8418"),B=u("1dde"),H=B("splice"),W=y.TypeError,$=Math.max,q=Math.min,tt=9007199254740991,J="Maximum allowed length exceeded";v({target:"Array",proto:!0,forced:!H},{splice:function(rt,I){var Et=D(this),bt=b(Et),Nt=_(rt,bt),ct=arguments.length,jt,gt,St,Dt,qt,Le;if(ct===0?jt=gt=0:ct===1?(jt=0,gt=bt-Nt):(jt=ct-2,gt=q($(O(I),0),bt-Nt)),bt+jt-gt>tt)throw W(J);for(St=F(Et,gt),Dt=0;Dt<gt;Dt++)qt=Nt+Dt,qt in Et&&L(St,Dt,Et[qt]);if(St.length=gt,jt<gt){for(Dt=Nt;Dt<bt-gt;Dt++)qt=Dt+gt,Le=Dt+jt,qt in Et?Et[Le]=Et[qt]:delete Et[Le];for(Dt=bt;Dt>bt-gt+jt;Dt--)delete Et[Dt-1]}else if(jt>gt)for(Dt=bt-gt;Dt>Nt;Dt--)qt=Dt+gt-1,Le=Dt+jt-1,qt in Et?Et[Le]=Et[qt]:delete Et[Le];for(Dt=0;Dt<jt;Dt++)Et[Dt+Nt]=arguments[Dt+2];return Et.length=bt-gt+jt,St}})},a4d3:function(f,d,u){var v=u("23e7"),y=u("da84"),_=u("d066"),O=u("2ba4"),b=u("c65b"),D=u("e330"),F=u("c430"),L=u("83ab"),B=u("4930"),H=u("d039"),W=u("1a2d"),$=u("e8b5"),q=u("1626"),tt=u("861d"),J=u("3a9b"),_t=u("d9b5"),rt=u("825a"),I=u("7b0b"),Et=u("fc6a"),bt=u("a04b"),Nt=u("577e"),ct=u("5c6c"),jt=u("7c73"),gt=u("df75"),St=u("241c"),Dt=u("057f"),qt=u("7418"),Le=u("06cf"),Q=u("9bf2"),Tt=u("37e8"),Ut=u("d1e7"),Be=u("f36a"),Ye=u("6eeb"),Me=u("5692"),ir=u("f772"),Sr=u("d012"),$r=u("90e3"),Qt=u("b622"),Te=u("e538"),Ze=u("746f"),vr=u("d44e"),Sn=u("69f3"),_r=u("b727").forEach,Fr=ir("hidden"),Er="Symbol",Lt="prototype",ne=Qt("toPrimitive"),Ct=Sn.set,Wt=Sn.getterFor(Er),Bt=Object[Lt],Jt=y.Symbol,he=Jt&&Jt[Lt],ge=y.TypeError,He=y.QObject,et=_("JSON","stringify"),z=Le.f,V=Q.f,at=Dt.f,Ht=Ut.f,ye=D([].push),Se=Me("symbols"),hr=Me("op-symbols"),Or=Me("string-to-symbol-registry"),Ar=Me("symbol-to-string-registry"),Ln=Me("wks"),_n=!He||!He[Lt]||!He[Lt].findChild,Xn=L&&H(function(){return jt(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(Ur,Ge,Pr){var on=z(Bt,Ge);on&&delete Bt[Ge],V(Ur,Ge,Pr),on&&Ur!==Bt&&V(Bt,Ge,on)}:V,Ri=function(Ur,Ge){var Pr=Se[Ur]=jt(he);return Ct(Pr,{type:Er,tag:Ur,description:Ge}),L||(Pr.description=Ge),Pr},Pn=function(Ge,Pr,on){Ge===Bt&&Pn(hr,Pr,on),rt(Ge);var In=bt(Pr);return rt(on),W(Se,In)?(on.enumerable?(W(Ge,Fr)&&Ge[Fr][In]&&(Ge[Fr][In]=!1),on=jt(on,{enumerable:ct(0,!1)})):(W(Ge,Fr)||V(Ge,Fr,ct(1,{})),Ge[Fr][In]=!0),Xn(Ge,In,on)):V(Ge,In,on)},Gn=function(Ge,Pr){rt(Ge);var on=Et(Pr),In=gt(on).concat(aa(on));return _r(In,function(qn){(!L||b(zr,on,qn))&&Pn(Ge,qn,on[qn])}),Ge},pi=function(Ge,Pr){return Pr===void 0?jt(Ge):Gn(jt(Ge),Pr)},zr=function(Ge){var Pr=bt(Ge),on=b(Ht,this,Pr);return this===Bt&&W(Se,Pr)&&!W(hr,Pr)?!1:on||!W(this,Pr)||!W(Se,Pr)||W(this,Fr)&&this[Fr][Pr]?on:!0},Ji=function(Ge,Pr){var on=Et(Ge),In=bt(Pr);if(!(on===Bt&&W(Se,In)&&!W(hr,In))){var qn=z(on,In);return qn&&W(Se,In)&&!(W(on,Fr)&&on[Fr][In])&&(qn.enumerable=!0),qn}},Kn=function(Ge){var Pr=at(Et(Ge)),on=[];return _r(Pr,function(In){!W(Se,In)&&!W(Sr,In)&&ye(on,In)}),on},aa=function(Ge){var Pr=Ge===Bt,on=at(Pr?hr:Et(Ge)),In=[];return _r(on,function(qn){W(Se,qn)&&(!Pr||W(Bt,qn))&&ye(In,Se[qn])}),In};if(B||(Jt=function(){if(J(he,this))throw ge("Symbol is not a constructor");var Ge=!arguments.length||arguments[0]===void 0?void 0:Nt(arguments[0]),Pr=$r(Ge),on=function(In){this===Bt&&b(on,hr,In),W(this,Fr)&&W(this[Fr],Pr)&&(this[Fr][Pr]=!1),Xn(this,Pr,ct(1,In))};return L&&_n&&Xn(Bt,Pr,{configurable:!0,set:on}),Ri(Pr,Ge)},he=Jt[Lt],Ye(he,"toString",function(){return Wt(this).tag}),Ye(Jt,"withoutSetter",function(Ur){return Ri($r(Ur),Ur)}),Ut.f=zr,Q.f=Pn,Tt.f=Gn,Le.f=Ji,St.f=Dt.f=Kn,qt.f=aa,Te.f=function(Ur){return Ri(Qt(Ur),Ur)},L&&(V(he,"description",{configurable:!0,get:function(){return Wt(this).description}}),F||Ye(Bt,"propertyIsEnumerable",zr,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:Jt}),_r(gt(Ln),function(Ur){Ze(Ur)}),v({target:Er,stat:!0,forced:!B},{for:function(Ur){var Ge=Nt(Ur);if(W(Or,Ge))return Or[Ge];var Pr=Jt(Ge);return Or[Ge]=Pr,Ar[Pr]=Ge,Pr},keyFor:function(Ge){if(!_t(Ge))throw ge(Ge+" is not a symbol");if(W(Ar,Ge))return Ar[Ge]},useSetter:function(){_n=!0},useSimple:function(){_n=!1}}),v({target:"Object",stat:!0,forced:!B,sham:!L},{create:pi,defineProperty:Pn,defineProperties:Gn,getOwnPropertyDescriptor:Ji}),v({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:Kn,getOwnPropertySymbols:aa}),v({target:"Object",stat:!0,forced:H(function(){qt.f(1)})},{getOwnPropertySymbols:function(Ge){return qt.f(I(Ge))}}),et){var no=!B||H(function(){var Ur=Jt();return et([Ur])!="[null]"||et({a:Ur})!="{}"||et(Object(Ur))!="{}"});v({target:"JSON",stat:!0,forced:no},{stringify:function(Ge,Pr,on){var In=Be(arguments),qn=Pr;if(!(!tt(Pr)&&Ge===void 0||_t(Ge)))return $(Pr)||(Pr=function(wo,fn){if(q(qn)&&(fn=b(qn,this,wo,fn)),!_t(fn))return fn}),In[1]=Pr,O(et,null,In)}})}if(!he[ne]){var Pi=he.valueOf;Ye(he,ne,function(Ur){return b(Pi,this)})}vr(Jt,Er),Sr[Fr]=!0},a630:function(f,d,u){var v=u("23e7"),y=u("4df4"),_=u("1c7e"),O=!_(function(b){Array.from(b)});v({target:"Array",stat:!0,forced:O},{from:y})},a640:function(f,d,u){var v=u("d039");f.exports=function(y,_){var O=[][y];return!!O&&v(function(){O.call(null,_||function(){throw 1},1)})}},a9e3:function(f,d,u){var v=u("83ab"),y=u("da84"),_=u("e330"),O=u("94ca"),b=u("6eeb"),D=u("1a2d"),F=u("7156"),L=u("3a9b"),B=u("d9b5"),H=u("c04e"),W=u("d039"),$=u("241c").f,q=u("06cf").f,tt=u("9bf2").f,J=u("408a"),_t=u("58a8").trim,rt="Number",I=y[rt],Et=I.prototype,bt=y.TypeError,Nt=_("".slice),ct=_("".charCodeAt),jt=function(Q){var Tt=H(Q,"number");return typeof Tt=="bigint"?Tt:gt(Tt)},gt=function(Q){var Tt=H(Q,"number"),Ut,Be,Ye,Me,ir,Sr,$r,Qt;if(B(Tt))throw bt("Cannot convert a Symbol value to a number");if(typeof Tt=="string"&&Tt.length>2){if(Tt=_t(Tt),Ut=ct(Tt,0),Ut===43||Ut===45){if(Be=ct(Tt,2),Be===88||Be===120)return NaN}else if(Ut===48){switch(ct(Tt,1)){case 66:case 98:Ye=2,Me=49;break;case 79:case 111:Ye=8,Me=55;break;default:return+Tt}for(ir=Nt(Tt,2),Sr=ir.length,$r=0;$r<Sr;$r++)if(Qt=ct(ir,$r),Qt<48||Qt>Me)return NaN;return parseInt(ir,Ye)}}return+Tt};if(O(rt,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var St=function(Tt){var Ut=arguments.length<1?0:I(jt(Tt)),Be=this;return L(Et,Be)&&W(function(){J(Be)})?F(Object(Ut),Be,St):Ut},Dt=v?$(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),qt=0,Le;Dt.length>qt;qt++)D(I,Le=Dt[qt])&&!D(St,Le)&&tt(St,Le,q(I,Le));St.prototype=Et,Et.constructor=St,b(y,rt,St)}},ab13:function(f,d,u){var v=u("b622"),y=v("match");f.exports=function(_){var O=/./;try{"/./"[_](O)}catch{try{return O[y]=!1,"/./"[_](O)}catch{}}return!1}},ab36:function(f,d,u){var v=u("861d"),y=u("9112");f.exports=function(_,O){v(O)&&"cause"in O&&y(_,"cause",O.cause)}},ac1f:function(f,d,u){var v=u("23e7"),y=u("9263");v({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})},ad6d:function(f,d,u){var v=u("825a");f.exports=function(){var y=v(this),_="";return y.global&&(_+="g"),y.ignoreCase&&(_+="i"),y.multiline&&(_+="m"),y.dotAll&&(_+="s"),y.unicode&&(_+="u"),y.sticky&&(_+="y"),_}},addb:function(f,d,u){var v=u("4dae"),y=Math.floor,_=function(D,F){var L=D.length,B=y(L/2);return L<8?O(D,F):b(D,_(v(D,0,B),F),_(v(D,B),F),F)},O=function(D,F){for(var L=D.length,B=1,H,W;B<L;){for(W=B,H=D[B];W&&F(D[W-1],H)>0;)D[W]=D[--W];W!==B++&&(D[W]=H)}return D},b=function(D,F,L,B){for(var H=F.length,W=L.length,$=0,q=0;$<H||q<W;)D[$+q]=$<H&&q<W?B(F[$],L[q])<=0?F[$++]:L[q++]:$<H?F[$++]:L[q++];return D};f.exports=_},ae93:function(f,d,u){var v=u("d039"),y=u("1626"),_=u("7c73"),O=u("e163"),b=u("6eeb"),D=u("b622"),F=u("c430"),L=D("iterator"),B=!1,H,W,$;[].keys&&($=[].keys(),"next"in $?(W=O(O($)),W!==Object.prototype&&(H=W)):B=!0);var q=H==null||v(function(){var tt={};return H[L].call(tt)!==tt});q?H={}:F&&(H=_(H)),y(H[L])||b(H,L,function(){return this}),f.exports={IteratorPrototype:H,BUGGY_SAFARI_ITERATORS:B}},aed9:function(f,d,u){var v=u("83ab"),y=u("d039");f.exports=v&&y(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},b041:function(f,d,u){var v=u("00ee"),y=u("f5df");f.exports=v?{}.toString:function(){return"[object "+y(this)+"]"}},b0c0:function(f,d,u){var v=u("83ab"),y=u("5e77").EXISTS,_=u("e330"),O=u("9bf2").f,b=Function.prototype,D=_(b.toString),F=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,L=_(F.exec),B="name";v&&!y&&O(b,B,{configurable:!0,get:function(){try{return L(F,D(this))[1]}catch{return""}}})},b622:function(f,d,u){var v=u("da84"),y=u("5692"),_=u("1a2d"),O=u("90e3"),b=u("4930"),D=u("fdbf"),F=y("wks"),L=v.Symbol,B=L&&L.for,H=D?L:L&&L.withoutSetter||O;f.exports=function(W){if(!_(F,W)||!(b||typeof F[W]=="string")){var $="Symbol."+W;b&&_(L,W)?F[W]=L[W]:D&&B?F[W]=B($):F[W]=H($)}return F[W]}},b639:function(f,d,u){(function(v){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var y=u("1fb5"),_=u("9152"),O=u("e3db");d.Buffer=L,d.SlowBuffer=I,d.INSPECT_MAX_BYTES=50,L.TYPED_ARRAY_SUPPORT=v.TYPED_ARRAY_SUPPORT!==void 0?v.TYPED_ARRAY_SUPPORT:b(),d.kMaxLength=D();function b(){try{var et=new Uint8Array(1);return et.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},et.foo()===42&&typeof et.subarray=="function"&&et.subarray(1,1).byteLength===0}catch{return!1}}function D(){return L.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function F(et,z){if(D()<z)throw new RangeError("Invalid typed array length");return L.TYPED_ARRAY_SUPPORT?(et=new Uint8Array(z),et.__proto__=L.prototype):(et===null&&(et=new L(z)),et.length=z),et}function L(et,z,V){if(!L.TYPED_ARRAY_SUPPORT&&!(this instanceof L))return new L(et,z,V);if(typeof et=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return $(this,et)}return B(this,et,z,V)}L.poolSize=8192,L._augment=function(et){return et.__proto__=L.prototype,et};function B(et,z,V,at){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&z instanceof ArrayBuffer?J(et,z,V,at):typeof z=="string"?q(et,z,V):_t(et,z)}L.from=function(et,z,V){return B(null,et,z,V)},L.TYPED_ARRAY_SUPPORT&&(L.prototype.__proto__=Uint8Array.prototype,L.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&L[Symbol.species]===L&&Object.defineProperty(L,Symbol.species,{value:null,configurable:!0}));function H(et){if(typeof et!="number")throw new TypeError('"size" argument must be a number');if(et<0)throw new RangeError('"size" argument must not be negative')}function W(et,z,V,at){return H(z),z<=0?F(et,z):V!==void 0?typeof at=="string"?F(et,z).fill(V,at):F(et,z).fill(V):F(et,z)}L.alloc=function(et,z,V){return W(null,et,z,V)};function $(et,z){if(H(z),et=F(et,z<0?0:rt(z)|0),!L.TYPED_ARRAY_SUPPORT)for(var V=0;V<z;++V)et[V]=0;return et}L.allocUnsafe=function(et){return $(null,et)},L.allocUnsafeSlow=function(et){return $(null,et)};function q(et,z,V){if((typeof V!="string"||V==="")&&(V="utf8"),!L.isEncoding(V))throw new TypeError('"encoding" must be a valid string encoding');var at=Et(z,V)|0;et=F(et,at);var Ht=et.write(z,V);return Ht!==at&&(et=et.slice(0,Ht)),et}function tt(et,z){var V=z.length<0?0:rt(z.length)|0;et=F(et,V);for(var at=0;at<V;at+=1)et[at]=z[at]&255;return et}function J(et,z,V,at){if(z.byteLength,V<0||z.byteLength<V)throw new RangeError("'offset' is out of bounds");if(z.byteLength<V+(at||0))throw new RangeError("'length' is out of bounds");return V===void 0&&at===void 0?z=new Uint8Array(z):at===void 0?z=new Uint8Array(z,V):z=new Uint8Array(z,V,at),L.TYPED_ARRAY_SUPPORT?(et=z,et.__proto__=L.prototype):et=tt(et,z),et}function _t(et,z){if(L.isBuffer(z)){var V=rt(z.length)|0;return et=F(et,V),et.length===0||z.copy(et,0,0,V),et}if(z){if(typeof ArrayBuffer!="undefined"&&z.buffer instanceof ArrayBuffer||"length"in z)return typeof z.length!="number"||He(z.length)?F(et,0):tt(et,z);if(z.type==="Buffer"&&O(z.data))return tt(et,z.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function rt(et){if(et>=D())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D().toString(16)+" bytes");return et|0}function I(et){return+et!=et&&(et=0),L.alloc(+et)}L.isBuffer=function(z){return!!(z!=null&&z._isBuffer)},L.compare=function(z,V){if(!L.isBuffer(z)||!L.isBuffer(V))throw new TypeError("Arguments must be Buffers");if(z===V)return 0;for(var at=z.length,Ht=V.length,ye=0,Se=Math.min(at,Ht);ye<Se;++ye)if(z[ye]!==V[ye]){at=z[ye],Ht=V[ye];break}return at<Ht?-1:Ht<at?1:0},L.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(z,V){if(!O(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return L.alloc(0);var at;if(V===void 0)for(V=0,at=0;at<z.length;++at)V+=z[at].length;var Ht=L.allocUnsafe(V),ye=0;for(at=0;at<z.length;++at){var Se=z[at];if(!L.isBuffer(Se))throw new TypeError('"list" argument must be an Array of Buffers');Se.copy(Ht,ye),ye+=Se.length}return Ht};function Et(et,z){if(L.isBuffer(et))return et.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(et)||et instanceof ArrayBuffer))return et.byteLength;typeof et!="string"&&(et=""+et);var V=et.length;if(V===0)return 0;for(var at=!1;;)switch(z){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":case void 0:return Wt(et).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return he(et).length;default:if(at)return Wt(et).length;z=(""+z).toLowerCase(),at=!0}}L.byteLength=Et;function bt(et,z,V){var at=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,z>>>=0,V<=z))return"";for(et||(et="utf8");;)switch(et){case"hex":return Sr(this,z,V);case"utf8":case"utf-8":return Ut(this,z,V);case"ascii":return Me(this,z,V);case"latin1":case"binary":return ir(this,z,V);case"base64":return Tt(this,z,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $r(this,z,V);default:if(at)throw new TypeError("Unknown encoding: "+et);et=(et+"").toLowerCase(),at=!0}}L.prototype._isBuffer=!0;function Nt(et,z,V){var at=et[z];et[z]=et[V],et[V]=at}L.prototype.swap16=function(){var z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<z;V+=2)Nt(this,V,V+1);return this},L.prototype.swap32=function(){var z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<z;V+=4)Nt(this,V,V+3),Nt(this,V+1,V+2);return this},L.prototype.swap64=function(){var z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<z;V+=8)Nt(this,V,V+7),Nt(this,V+1,V+6),Nt(this,V+2,V+5),Nt(this,V+3,V+4);return this},L.prototype.toString=function(){var z=this.length|0;return z===0?"":arguments.length===0?Ut(this,0,z):bt.apply(this,arguments)},L.prototype.equals=function(z){if(!L.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:L.compare(this,z)===0},L.prototype.inspect=function(){var z="",V=d.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,V).match(/.{2}/g).join(" "),this.length>V&&(z+=" ... ")),"<Buffer "+z+">"},L.prototype.compare=function(z,V,at,Ht,ye){if(!L.isBuffer(z))throw new TypeError("Argument must be a Buffer");if(V===void 0&&(V=0),at===void 0&&(at=z?z.length:0),Ht===void 0&&(Ht=0),ye===void 0&&(ye=this.length),V<0||at>z.length||Ht<0||ye>this.length)throw new RangeError("out of range index");if(Ht>=ye&&V>=at)return 0;if(Ht>=ye)return-1;if(V>=at)return 1;if(V>>>=0,at>>>=0,Ht>>>=0,ye>>>=0,this===z)return 0;for(var Se=ye-Ht,hr=at-V,Or=Math.min(Se,hr),Ar=this.slice(Ht,ye),Ln=z.slice(V,at),_n=0;_n<Or;++_n)if(Ar[_n]!==Ln[_n]){Se=Ar[_n],hr=Ln[_n];break}return Se<hr?-1:hr<Se?1:0};function ct(et,z,V,at,Ht){if(et.length===0)return-1;if(typeof V=="string"?(at=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,isNaN(V)&&(V=Ht?0:et.length-1),V<0&&(V=et.length+V),V>=et.length){if(Ht)return-1;V=et.length-1}else if(V<0)if(Ht)V=0;else return-1;if(typeof z=="string"&&(z=L.from(z,at)),L.isBuffer(z))return z.length===0?-1:jt(et,z,V,at,Ht);if(typeof z=="number")return z=z&255,L.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Ht?Uint8Array.prototype.indexOf.call(et,z,V):Uint8Array.prototype.lastIndexOf.call(et,z,V):jt(et,[z],V,at,Ht);throw new TypeError("val must be string, number or Buffer")}function jt(et,z,V,at,Ht){var ye=1,Se=et.length,hr=z.length;if(at!==void 0&&(at=String(at).toLowerCase(),at==="ucs2"||at==="ucs-2"||at==="utf16le"||at==="utf-16le")){if(et.length<2||z.length<2)return-1;ye=2,Se/=2,hr/=2,V/=2}function Or(Ri,Pn){return ye===1?Ri[Pn]:Ri.readUInt16BE(Pn*ye)}var Ar;if(Ht){var Ln=-1;for(Ar=V;Ar<Se;Ar++)if(Or(et,Ar)===Or(z,Ln===-1?0:Ar-Ln)){if(Ln===-1&&(Ln=Ar),Ar-Ln+1===hr)return Ln*ye}else Ln!==-1&&(Ar-=Ar-Ln),Ln=-1}else for(V+hr>Se&&(V=Se-hr),Ar=V;Ar>=0;Ar--){for(var _n=!0,Xn=0;Xn<hr;Xn++)if(Or(et,Ar+Xn)!==Or(z,Xn)){_n=!1;break}if(_n)return Ar}return-1}L.prototype.includes=function(z,V,at){return this.indexOf(z,V,at)!==-1},L.prototype.indexOf=function(z,V,at){return ct(this,z,V,at,!0)},L.prototype.lastIndexOf=function(z,V,at){return ct(this,z,V,at,!1)};function gt(et,z,V,at){V=Number(V)||0;var Ht=et.length-V;at?(at=Number(at),at>Ht&&(at=Ht)):at=Ht;var ye=z.length;if(ye%2!==0)throw new TypeError("Invalid hex string");at>ye/2&&(at=ye/2);for(var Se=0;Se<at;++Se){var hr=parseInt(z.substr(Se*2,2),16);if(isNaN(hr))return Se;et[V+Se]=hr}return Se}function St(et,z,V,at){return ge(Wt(z,et.length-V),et,V,at)}function Dt(et,z,V,at){return ge(Bt(z),et,V,at)}function qt(et,z,V,at){return Dt(et,z,V,at)}function Le(et,z,V,at){return ge(he(z),et,V,at)}function Q(et,z,V,at){return ge(Jt(z,et.length-V),et,V,at)}L.prototype.write=function(z,V,at,Ht){if(V===void 0)Ht="utf8",at=this.length,V=0;else if(at===void 0&&typeof V=="string")Ht=V,at=this.length,V=0;else if(isFinite(V))V=V|0,isFinite(at)?(at=at|0,Ht===void 0&&(Ht="utf8")):(Ht=at,at=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-V;if((at===void 0||at>ye)&&(at=ye),z.length>0&&(at<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ht||(Ht="utf8");for(var Se=!1;;)switch(Ht){case"hex":return gt(this,z,V,at);case"utf8":case"utf-8":return St(this,z,V,at);case"ascii":return Dt(this,z,V,at);case"latin1":case"binary":return qt(this,z,V,at);case"base64":return Le(this,z,V,at);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,z,V,at);default:if(Se)throw new TypeError("Unknown encoding: "+Ht);Ht=(""+Ht).toLowerCase(),Se=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Tt(et,z,V){return z===0&&V===et.length?y.fromByteArray(et):y.fromByteArray(et.slice(z,V))}function Ut(et,z,V){V=Math.min(et.length,V);for(var at=[],Ht=z;Ht<V;){var ye=et[Ht],Se=null,hr=ye>239?4:ye>223?3:ye>191?2:1;if(Ht+hr<=V){var Or,Ar,Ln,_n;switch(hr){case 1:ye<128&&(Se=ye);break;case 2:Or=et[Ht+1],(Or&192)===128&&(_n=(ye&31)<<6|Or&63,_n>127&&(Se=_n));break;case 3:Or=et[Ht+1],Ar=et[Ht+2],(Or&192)===128&&(Ar&192)===128&&(_n=(ye&15)<<12|(Or&63)<<6|Ar&63,_n>2047&&(_n<55296||_n>57343)&&(Se=_n));break;case 4:Or=et[Ht+1],Ar=et[Ht+2],Ln=et[Ht+3],(Or&192)===128&&(Ar&192)===128&&(Ln&192)===128&&(_n=(ye&15)<<18|(Or&63)<<12|(Ar&63)<<6|Ln&63,_n>65535&&_n<1114112&&(Se=_n))}}Se===null?(Se=65533,hr=1):Se>65535&&(Se-=65536,at.push(Se>>>10&1023|55296),Se=56320|Se&1023),at.push(Se),Ht+=hr}return Ye(at)}var Be=4096;function Ye(et){var z=et.length;if(z<=Be)return String.fromCharCode.apply(String,et);for(var V="",at=0;at<z;)V+=String.fromCharCode.apply(String,et.slice(at,at+=Be));return V}function Me(et,z,V){var at="";V=Math.min(et.length,V);for(var Ht=z;Ht<V;++Ht)at+=String.fromCharCode(et[Ht]&127);return at}function ir(et,z,V){var at="";V=Math.min(et.length,V);for(var Ht=z;Ht<V;++Ht)at+=String.fromCharCode(et[Ht]);return at}function Sr(et,z,V){var at=et.length;(!z||z<0)&&(z=0),(!V||V<0||V>at)&&(V=at);for(var Ht="",ye=z;ye<V;++ye)Ht+=Ct(et[ye]);return Ht}function $r(et,z,V){for(var at=et.slice(z,V),Ht="",ye=0;ye<at.length;ye+=2)Ht+=String.fromCharCode(at[ye]+at[ye+1]*256);return Ht}L.prototype.slice=function(z,V){var at=this.length;z=~~z,V=V===void 0?at:~~V,z<0?(z+=at,z<0&&(z=0)):z>at&&(z=at),V<0?(V+=at,V<0&&(V=0)):V>at&&(V=at),V<z&&(V=z);var Ht;if(L.TYPED_ARRAY_SUPPORT)Ht=this.subarray(z,V),Ht.__proto__=L.prototype;else{var ye=V-z;Ht=new L(ye,void 0);for(var Se=0;Se<ye;++Se)Ht[Se]=this[Se+z]}return Ht};function Qt(et,z,V){if(et%1!==0||et<0)throw new RangeError("offset is not uint");if(et+z>V)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUIntLE=function(z,V,at){z=z|0,V=V|0,at||Qt(z,V,this.length);for(var Ht=this[z],ye=1,Se=0;++Se<V&&(ye*=256);)Ht+=this[z+Se]*ye;return Ht},L.prototype.readUIntBE=function(z,V,at){z=z|0,V=V|0,at||Qt(z,V,this.length);for(var Ht=this[z+--V],ye=1;V>0&&(ye*=256);)Ht+=this[z+--V]*ye;return Ht},L.prototype.readUInt8=function(z,V){return V||Qt(z,1,this.length),this[z]},L.prototype.readUInt16LE=function(z,V){return V||Qt(z,2,this.length),this[z]|this[z+1]<<8},L.prototype.readUInt16BE=function(z,V){return V||Qt(z,2,this.length),this[z]<<8|this[z+1]},L.prototype.readUInt32LE=function(z,V){return V||Qt(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},L.prototype.readUInt32BE=function(z,V){return V||Qt(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},L.prototype.readIntLE=function(z,V,at){z=z|0,V=V|0,at||Qt(z,V,this.length);for(var Ht=this[z],ye=1,Se=0;++Se<V&&(ye*=256);)Ht+=this[z+Se]*ye;return ye*=128,Ht>=ye&&(Ht-=Math.pow(2,8*V)),Ht},L.prototype.readIntBE=function(z,V,at){z=z|0,V=V|0,at||Qt(z,V,this.length);for(var Ht=V,ye=1,Se=this[z+--Ht];Ht>0&&(ye*=256);)Se+=this[z+--Ht]*ye;return ye*=128,Se>=ye&&(Se-=Math.pow(2,8*V)),Se},L.prototype.readInt8=function(z,V){return V||Qt(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},L.prototype.readInt16LE=function(z,V){V||Qt(z,2,this.length);var at=this[z]|this[z+1]<<8;return at&32768?at|4294901760:at},L.prototype.readInt16BE=function(z,V){V||Qt(z,2,this.length);var at=this[z+1]|this[z]<<8;return at&32768?at|4294901760:at},L.prototype.readInt32LE=function(z,V){return V||Qt(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},L.prototype.readInt32BE=function(z,V){return V||Qt(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},L.prototype.readFloatLE=function(z,V){return V||Qt(z,4,this.length),_.read(this,z,!0,23,4)},L.prototype.readFloatBE=function(z,V){return V||Qt(z,4,this.length),_.read(this,z,!1,23,4)},L.prototype.readDoubleLE=function(z,V){return V||Qt(z,8,this.length),_.read(this,z,!0,52,8)},L.prototype.readDoubleBE=function(z,V){return V||Qt(z,8,this.length),_.read(this,z,!1,52,8)};function Te(et,z,V,at,Ht,ye){if(!L.isBuffer(et))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>Ht||z<ye)throw new RangeError('"value" argument is out of bounds');if(V+at>et.length)throw new RangeError("Index out of range")}L.prototype.writeUIntLE=function(z,V,at,Ht){if(z=+z,V=V|0,at=at|0,!Ht){var ye=Math.pow(2,8*at)-1;Te(this,z,V,at,ye,0)}var Se=1,hr=0;for(this[V]=z&255;++hr<at&&(Se*=256);)this[V+hr]=z/Se&255;return V+at},L.prototype.writeUIntBE=function(z,V,at,Ht){if(z=+z,V=V|0,at=at|0,!Ht){var ye=Math.pow(2,8*at)-1;Te(this,z,V,at,ye,0)}var Se=at-1,hr=1;for(this[V+Se]=z&255;--Se>=0&&(hr*=256);)this[V+Se]=z/hr&255;return V+at},L.prototype.writeUInt8=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,1,255,0),L.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[V]=z&255,V+1};function Ze(et,z,V,at){z<0&&(z=65535+z+1);for(var Ht=0,ye=Math.min(et.length-V,2);Ht<ye;++Ht)et[V+Ht]=(z&255<<8*(at?Ht:1-Ht))>>>(at?Ht:1-Ht)*8}L.prototype.writeUInt16LE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8):Ze(this,z,V,!0),V+2},L.prototype.writeUInt16BE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[V]=z>>>8,this[V+1]=z&255):Ze(this,z,V,!1),V+2};function vr(et,z,V,at){z<0&&(z=4294967295+z+1);for(var Ht=0,ye=Math.min(et.length-V,4);Ht<ye;++Ht)et[V+Ht]=z>>>(at?Ht:3-Ht)*8&255}L.prototype.writeUInt32LE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[V+3]=z>>>24,this[V+2]=z>>>16,this[V+1]=z>>>8,this[V]=z&255):vr(this,z,V,!0),V+4},L.prototype.writeUInt32BE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[V]=z>>>24,this[V+1]=z>>>16,this[V+2]=z>>>8,this[V+3]=z&255):vr(this,z,V,!1),V+4},L.prototype.writeIntLE=function(z,V,at,Ht){if(z=+z,V=V|0,!Ht){var ye=Math.pow(2,8*at-1);Te(this,z,V,at,ye-1,-ye)}var Se=0,hr=1,Or=0;for(this[V]=z&255;++Se<at&&(hr*=256);)z<0&&Or===0&&this[V+Se-1]!==0&&(Or=1),this[V+Se]=(z/hr>>0)-Or&255;return V+at},L.prototype.writeIntBE=function(z,V,at,Ht){if(z=+z,V=V|0,!Ht){var ye=Math.pow(2,8*at-1);Te(this,z,V,at,ye-1,-ye)}var Se=at-1,hr=1,Or=0;for(this[V+Se]=z&255;--Se>=0&&(hr*=256);)z<0&&Or===0&&this[V+Se+1]!==0&&(Or=1),this[V+Se]=(z/hr>>0)-Or&255;return V+at},L.prototype.writeInt8=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,1,127,-128),L.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[V]=z&255,V+1},L.prototype.writeInt16LE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8):Ze(this,z,V,!0),V+2},L.prototype.writeInt16BE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[V]=z>>>8,this[V+1]=z&255):Ze(this,z,V,!1),V+2},L.prototype.writeInt32LE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,4,2147483647,-2147483648),L.TYPED_ARRAY_SUPPORT?(this[V]=z&255,this[V+1]=z>>>8,this[V+2]=z>>>16,this[V+3]=z>>>24):vr(this,z,V,!0),V+4},L.prototype.writeInt32BE=function(z,V,at){return z=+z,V=V|0,at||Te(this,z,V,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),L.TYPED_ARRAY_SUPPORT?(this[V]=z>>>24,this[V+1]=z>>>16,this[V+2]=z>>>8,this[V+3]=z&255):vr(this,z,V,!1),V+4};function Sn(et,z,V,at,Ht,ye){if(V+at>et.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function _r(et,z,V,at,Ht){return Ht||Sn(et,z,V,4),_.write(et,z,V,at,23,4),V+4}L.prototype.writeFloatLE=function(z,V,at){return _r(this,z,V,!0,at)},L.prototype.writeFloatBE=function(z,V,at){return _r(this,z,V,!1,at)};function Fr(et,z,V,at,Ht){return Ht||Sn(et,z,V,8),_.write(et,z,V,at,52,8),V+8}L.prototype.writeDoubleLE=function(z,V,at){return Fr(this,z,V,!0,at)},L.prototype.writeDoubleBE=function(z,V,at){return Fr(this,z,V,!1,at)},L.prototype.copy=function(z,V,at,Ht){if(at||(at=0),!Ht&&Ht!==0&&(Ht=this.length),V>=z.length&&(V=z.length),V||(V=0),Ht>0&&Ht<at&&(Ht=at),Ht===at||z.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(at<0||at>=this.length)throw new RangeError("sourceStart out of bounds");if(Ht<0)throw new RangeError("sourceEnd out of bounds");Ht>this.length&&(Ht=this.length),z.length-V<Ht-at&&(Ht=z.length-V+at);var ye=Ht-at,Se;if(this===z&&at<V&&V<Ht)for(Se=ye-1;Se>=0;--Se)z[Se+V]=this[Se+at];else if(ye<1e3||!L.TYPED_ARRAY_SUPPORT)for(Se=0;Se<ye;++Se)z[Se+V]=this[Se+at];else Uint8Array.prototype.set.call(z,this.subarray(at,at+ye),V);return ye},L.prototype.fill=function(z,V,at,Ht){if(typeof z=="string"){if(typeof V=="string"?(Ht=V,V=0,at=this.length):typeof at=="string"&&(Ht=at,at=this.length),z.length===1){var ye=z.charCodeAt(0);ye<256&&(z=ye)}if(Ht!==void 0&&typeof Ht!="string")throw new TypeError("encoding must be a string");if(typeof Ht=="string"&&!L.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht)}else typeof z=="number"&&(z=z&255);if(V<0||this.length<V||this.length<at)throw new RangeError("Out of range index");if(at<=V)return this;V=V>>>0,at=at===void 0?this.length:at>>>0,z||(z=0);var Se;if(typeof z=="number")for(Se=V;Se<at;++Se)this[Se]=z;else{var hr=L.isBuffer(z)?z:Wt(new L(z,Ht).toString()),Or=hr.length;for(Se=0;Se<at-V;++Se)this[Se+V]=hr[Se%Or]}return this};var Er=/[^+\/0-9A-Za-z-_]/g;function Lt(et){if(et=ne(et).replace(Er,""),et.length<2)return"";for(;et.length%4!==0;)et=et+"=";return et}function ne(et){return et.trim?et.trim():et.replace(/^\s+|\s+$/g,"")}function Ct(et){return et<16?"0"+et.toString(16):et.toString(16)}function Wt(et,z){z=z||1/0;for(var V,at=et.length,Ht=null,ye=[],Se=0;Se<at;++Se){if(V=et.charCodeAt(Se),V>55295&&V<57344){if(!Ht){if(V>56319){(z-=3)>-1&&ye.push(239,191,189);continue}else if(Se+1===at){(z-=3)>-1&&ye.push(239,191,189);continue}Ht=V;continue}if(V<56320){(z-=3)>-1&&ye.push(239,191,189),Ht=V;continue}V=(Ht-55296<<10|V-56320)+65536}else Ht&&(z-=3)>-1&&ye.push(239,191,189);if(Ht=null,V<128){if((z-=1)<0)break;ye.push(V)}else if(V<2048){if((z-=2)<0)break;ye.push(V>>6|192,V&63|128)}else if(V<65536){if((z-=3)<0)break;ye.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((z-=4)<0)break;ye.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return ye}function Bt(et){for(var z=[],V=0;V<et.length;++V)z.push(et.charCodeAt(V)&255);return z}function Jt(et,z){for(var V,at,Ht,ye=[],Se=0;Se<et.length&&!((z-=2)<0);++Se)V=et.charCodeAt(Se),at=V>>8,Ht=V%256,ye.push(Ht),ye.push(at);return ye}function he(et){return y.toByteArray(Lt(et))}function ge(et,z,V,at){for(var Ht=0;Ht<at&&!(Ht+V>=z.length||Ht>=et.length);++Ht)z[Ht+V]=et[Ht];return Ht}function He(et){return et!==et}}).call(this,u("c8ba"))},b64b:function(f,d,u){var v=u("23e7"),y=u("7b0b"),_=u("df75"),O=u("d039"),b=O(function(){_(1)});v({target:"Object",stat:!0,forced:b},{keys:function(F){return _(y(F))}})},b727:function(f,d,u){var v=u("0366"),y=u("e330"),_=u("44ad"),O=u("7b0b"),b=u("07fa"),D=u("65f0"),F=y([].push),L=function(B){var H=B==1,W=B==2,$=B==3,q=B==4,tt=B==6,J=B==7,_t=B==5||tt;return function(rt,I,Et,bt){for(var Nt=O(rt),ct=_(Nt),jt=v(I,Et),gt=b(ct),St=0,Dt=bt||D,qt=H?Dt(rt,gt):W||J?Dt(rt,0):void 0,Le,Q;gt>St;St++)if((_t||St in ct)&&(Le=ct[St],Q=jt(Le,St,Nt),B))if(H)qt[St]=Q;else if(Q)switch(B){case 3:return!0;case 5:return Le;case 6:return St;case 2:F(qt,Le)}else switch(B){case 4:return!1;case 7:F(qt,Le)}return tt?-1:$||q?q:qt}};f.exports={forEach:L(0),map:L(1),filter:L(2),some:L(3),every:L(4),find:L(5),findIndex:L(6),filterReject:L(7)}},b980:function(f,d,u){var v=u("d039"),y=u("5c6c");f.exports=!v(function(){var _=Error("a");return"stack"in _?(Object.defineProperty(_,"stack",y(1,7)),_.stack!==7):!0})},c04e:function(f,d,u){var v=u("da84"),y=u("c65b"),_=u("861d"),O=u("d9b5"),b=u("dc4a"),D=u("485a"),F=u("b622"),L=v.TypeError,B=F("toPrimitive");f.exports=function(H,W){if(!_(H)||O(H))return H;var $=b(H,B),q;if($){if(W===void 0&&(W="default"),q=y($,H,W),!_(q)||O(q))return q;throw L("Can't convert object to primitive value")}return W===void 0&&(W="number"),D(H,W)}},c430:function(f,d){f.exports=!1},c65b:function(f,d,u){var v=u("40d5"),y=Function.prototype.call;f.exports=v?y.bind(y):function(){return y.apply(y,arguments)}},c6b6:function(f,d,u){var v=u("e330"),y=v({}.toString),_=v("".slice);f.exports=function(O){return _(y(O),8,-1)}},c6cd:function(f,d,u){var v=u("da84"),y=u("ce4e"),_="__core-js_shared__",O=v[_]||y(_,{});f.exports=O},c740:function(f,d,u){var v=u("23e7"),y=u("b727").findIndex,_=u("44d2"),O="findIndex",b=!0;O in[]&&Array(1)[O](function(){b=!1}),v({target:"Array",proto:!0,forced:b},{findIndex:function(F){return y(this,F,arguments.length>1?arguments[1]:void 0)}}),_(O)},c770:function(f,d,u){var v=u("e330"),y=v("".replace),_=function(D){return String(Error(D).stack)}("zxcasd"),O=/\n\s*at [^:]*:[^\n]*/,b=O.test(_);f.exports=function(D,F){if(b&&typeof D=="string")for(;F--;)D=y(D,O,"");return D}},c8ba:function(f,d){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}f.exports=u},ca84:function(f,d,u){var v=u("e330"),y=u("1a2d"),_=u("fc6a"),O=u("4d64").indexOf,b=u("d012"),D=v([].push);f.exports=function(F,L){var B=_(F),H=0,W=[],$;for($ in B)!y(b,$)&&y(B,$)&&D(W,$);for(;L.length>H;)y(B,$=L[H++])&&(~O(W,$)||D(W,$));return W}},caad:function(f,d,u){var v=u("23e7"),y=u("4d64").includes,_=u("44d2");v({target:"Array",proto:!0},{includes:function(b){return y(this,b,arguments.length>1?arguments[1]:void 0)}}),_("includes")},cc12:function(f,d,u){var v=u("da84"),y=u("861d"),_=v.document,O=y(_)&&y(_.createElement);f.exports=function(b){return O?_.createElement(b):{}}},ce4e:function(f,d,u){var v=u("da84"),y=Object.defineProperty;f.exports=function(_,O){try{y(v,_,{value:O,configurable:!0,writable:!0})}catch{v[_]=O}return O}},cef7:function(f,d,u){u.d(d,"b",function(){return y});var v=function(){function _(O){this.propagationStopped,this.defaultPrevented,this.type=O,this.target=null}return _.prototype.preventDefault=function(){this.defaultPrevented=!0},_.prototype.stopPropagation=function(){this.propagationStopped=!0},_}();function y(_){_.stopPropagation()}d.a=v},d012:function(f,d){f.exports={}},d039:function(f,d){f.exports=function(u){try{return!!u()}catch{return!0}}},d066:function(f,d,u){var v=u("da84"),y=u("1626"),_=function(O){return y(O)?O:void 0};f.exports=function(O,b){return arguments.length<2?_(v[O]):v[O]&&v[O][b]}},d1e7:function(f,d,u){var v={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,_=y&&!v.call({1:2},1);d.f=_?function(b){var D=y(this,b);return!!D&&D.enumerable}:v},d28b:function(f,d,u){var v=u("746f");v("iterator")},d2bb:function(f,d,u){var v=u("e330"),y=u("825a"),_=u("3bbe");f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O=!1,b={},D;try{D=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),D(b,[]),O=b instanceof Array}catch{}return function(L,B){return y(L),_(B),O?D(L,B):L.__proto__=B,L}}():void 0)},d3b7:function(f,d,u){var v=u("00ee"),y=u("6eeb"),_=u("b041");v||y(Object.prototype,"toString",_,{unsafe:!0})},d44e:function(f,d,u){var v=u("9bf2").f,y=u("1a2d"),_=u("b622"),O=_("toStringTag");f.exports=function(b,D,F){b&&!F&&(b=b.prototype),b&&!y(b,O)&&v(b,O,{configurable:!0,value:D})}},d784:function(f,d,u){u("ac1f");var v=u("e330"),y=u("6eeb"),_=u("9263"),O=u("d039"),b=u("b622"),D=u("9112"),F=b("species"),L=RegExp.prototype;f.exports=function(B,H,W,$){var q=b(B),tt=!O(function(){var I={};return I[q]=function(){return 7},""[B](I)!=7}),J=tt&&!O(function(){var I=!1,Et=/a/;return B==="split"&&(Et={},Et.constructor={},Et.constructor[F]=function(){return Et},Et.flags="",Et[q]=/./[q]),Et.exec=function(){return I=!0,null},Et[q](""),!I});if(!tt||!J||W){var _t=v(/./[q]),rt=H(q,""[B],function(I,Et,bt,Nt,ct){var jt=v(I),gt=Et.exec;return gt===_||gt===L.exec?tt&&!ct?{done:!0,value:_t(Et,bt,Nt)}:{done:!0,value:jt(bt,Et,Nt)}:{done:!1}});y(String.prototype,B,rt[0]),y(L,q,rt[1])}$&&D(L[q],"sham",!0)}},d81d:function(f,d,u){var v=u("23e7"),y=u("b727").map,_=u("1dde"),O=_("map");v({target:"Array",proto:!0,forced:!O},{map:function(D){return y(this,D,arguments.length>1?arguments[1]:void 0)}})},d998:function(f,d,u){var v=u("342f");f.exports=/MSIE|Trident/.test(v)},d9b5:function(f,d,u){var v=u("da84"),y=u("d066"),_=u("1626"),O=u("3a9b"),b=u("fdbf"),D=v.Object;f.exports=b?function(F){return typeof F=="symbol"}:function(F){var L=y("Symbol");return _(L)&&O(L.prototype,D(F))}},d9e2:function(f,d,u){var v=u("23e7"),y=u("da84"),_=u("2ba4"),O=u("e5cb"),b="WebAssembly",D=y[b],F=Error("e",{cause:7}).cause!==7,L=function(H,W){var $={};$[H]=O(H,W,F),v({global:!0,forced:F},$)},B=function(H,W){if(D&&D[H]){var $={};$[H]=O(b+"."+H,W,F),v({target:b,stat:!0,forced:F},$)}};L("Error",function(H){return function($){return _(H,this,arguments)}}),L("EvalError",function(H){return function($){return _(H,this,arguments)}}),L("RangeError",function(H){return function($){return _(H,this,arguments)}}),L("ReferenceError",function(H){return function($){return _(H,this,arguments)}}),L("SyntaxError",function(H){return function($){return _(H,this,arguments)}}),L("TypeError",function(H){return function($){return _(H,this,arguments)}}),L("URIError",function(H){return function($){return _(H,this,arguments)}}),B("CompileError",function(H){return function($){return _(H,this,arguments)}}),B("LinkError",function(H){return function($){return _(H,this,arguments)}}),B("RuntimeError",function(H){return function($){return _(H,this,arguments)}})},da5c:function(f,d,u){var v=function(){function y(){this.disposed=!1}return y.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},y.prototype.disposeInternal=function(){},y}();d.a=v},da84:function(f,d,u){(function(v){var y=function(_){return _&&_.Math==Math&&_};f.exports=y(typeof globalThis=="object"&&globalThis)||y(typeof window=="object"&&window)||y(typeof self=="object"&&self)||y(typeof v=="object"&&v)||function(){return this}()||Function("return this")()}).call(this,u("c8ba"))},dbb4:function(f,d,u){var v=u("23e7"),y=u("83ab"),_=u("56ef"),O=u("fc6a"),b=u("06cf"),D=u("8418");v({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function(L){for(var B=O(L),H=b.f,W=_(B),$={},q=0,tt,J;W.length>q;)J=H(B,tt=W[q++]),J!==void 0&&D($,tt,J);return $}})},dbd0:function(f,d,u){},dc4a:function(f,d,u){var v=u("59ed");f.exports=function(y,_){var O=y[_];return O==null?void 0:v(O)}},ddb0:function(f,d,u){var v=u("da84"),y=u("fdbc"),_=u("785a"),O=u("e260"),b=u("9112"),D=u("b622"),F=D("iterator"),L=D("toStringTag"),B=O.values,H=function($,q){if($){if($[F]!==B)try{b($,F,B)}catch{$[F]=B}if($[L]||b($,L,q),y[q]){for(var tt in O)if($[tt]!==O[tt])try{b($,tt,O[tt])}catch{$[tt]=O[tt]}}}};for(var W in y)H(v[W]&&v[W].prototype,W);H(_,"DOMTokenList")},df75:function(f,d,u){var v=u("ca84"),y=u("7839");f.exports=Object.keys||function(O){return v(O,y)}},e01a:function(f,d,u){var v=u("23e7"),y=u("83ab"),_=u("da84"),O=u("e330"),b=u("1a2d"),D=u("1626"),F=u("3a9b"),L=u("577e"),B=u("9bf2").f,H=u("e893"),W=_.Symbol,$=W&&W.prototype;if(y&&D(W)&&(!("description"in $)||W().description!==void 0)){var q={},tt=function(){var ct=arguments.length<1||arguments[0]===void 0?void 0:L(arguments[0]),jt=F($,this)?new W(ct):ct===void 0?W():W(ct);return ct===""&&(q[jt]=!0),jt};H(tt,W),tt.prototype=$,$.constructor=tt;var J=String(W("test"))=="Symbol(test)",_t=O($.toString),rt=O($.valueOf),I=/^Symbol\((.*)\)[^)]+$/,Et=O("".replace),bt=O("".slice);B($,"description",{configurable:!0,get:function(){var ct=rt(this),jt=_t(ct);if(b(q,ct))return"";var gt=J?bt(jt,7,-1):Et(jt,I,"$1");return gt===""?void 0:gt}}),v({global:!0,forced:!0},{Symbol:tt})}},e163:function(f,d,u){var v=u("da84"),y=u("1a2d"),_=u("1626"),O=u("7b0b"),b=u("f772"),D=u("e177"),F=b("IE_PROTO"),L=v.Object,B=L.prototype;f.exports=D?L.getPrototypeOf:function(H){var W=O(H);if(y(W,F))return W[F];var $=W.constructor;return _($)&&W instanceof $?$.prototype:W instanceof L?B:null}},e177:function(f,d,u){var v=u("d039");f.exports=!v(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},e260:function(f,d,u){var v=u("fc6a"),y=u("44d2"),_=u("3f8c"),O=u("69f3"),b=u("9bf2").f,D=u("7dd0"),F=u("c430"),L=u("83ab"),B="Array Iterator",H=O.set,W=O.getterFor(B);f.exports=D(Array,"Array",function(q,tt){H(this,{type:B,target:v(q),index:0,kind:tt})},function(){var q=W(this),tt=q.target,J=q.kind,_t=q.index++;return!tt||_t>=tt.length?(q.target=void 0,{value:void 0,done:!0}):J=="keys"?{value:_t,done:!1}:J=="values"?{value:tt[_t],done:!1}:{value:[_t,tt[_t]],done:!1}},"values");var $=_.Arguments=_.Array;if(y("keys"),y("values"),y("entries"),!F&&L&&$.name!=="values")try{b($,"name",{value:"values"})}catch{}},e269:function(f,d,u){var v=u("cef7"),y=u("7b4f"),_=u("35a7"),O=u("38f3"),b=u("1300"),D=function(){var B=function(H,W){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,q){$.__proto__=q}||function($,q){for(var tt in q)Object.prototype.hasOwnProperty.call(q,tt)&&($[tt]=q[tt])},B(H,W)};return function(H,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");B(H,W);function $(){this.constructor=H}H.prototype=W===null?Object.create(W):($.prototype=W.prototype,new $)}}(),F=function(B){D(H,B);function H(W,$,q){var tt=B.call(this,W)||this;return tt.key=$,tt.oldValue=q,tt}return H}(v.a),L=function(B){D(H,B);function H(W){var $=B.call(this)||this;return $.on,$.once,$.un,Object(b.c)($),$.values_=null,W!==void 0&&$.setProperties(W),$}return H.prototype.get=function(W){var $;return this.values_&&this.values_.hasOwnProperty(W)&&($=this.values_[W]),$},H.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},H.prototype.getProperties=function(){return this.values_&&Object(O.a)({},this.values_)||{}},H.prototype.hasProperties=function(){return!!this.values_},H.prototype.notify=function(W,$){var q;q="change:"+W,this.dispatchEvent(new F(q,W,$)),q=y.a.PROPERTYCHANGE,this.dispatchEvent(new F(q,W,$))},H.prototype.addChangeListener=function(W,$){this.addEventListener("change:"+W,$)},H.prototype.removeChangeListener=function(W,$){this.removeEventListener("change:"+W,$)},H.prototype.set=function(W,$,q){var tt=this.values_||(this.values_={});if(q)tt[W]=$;else{var J=tt[W];tt[W]=$,J!==$&&this.notify(W,J)}},H.prototype.setProperties=function(W,$){for(var q in W)this.set(q,W[q],$)},H.prototype.applyProperties=function(W){!W.values_||Object(O.a)(this.values_||(this.values_={}),W.values_)},H.prototype.unset=function(W,$){if(this.values_&&W in this.values_){var q=this.values_[W];delete this.values_[W],Object(O.d)(this.values_)&&(this.values_=null),$||this.notify(W,q)}},H}(_.a);d.a=L},e330:function(f,d,u){var v=u("40d5"),y=Function.prototype,_=y.bind,O=y.call,b=v&&_.bind(O,O);f.exports=v?function(D){return D&&b(D)}:function(D){return D&&function(){return O.apply(D,arguments)}}},e391:function(f,d,u){var v=u("577e");f.exports=function(y,_){return y===void 0?arguments.length<2?"":_:v(y)}},e3db:function(f,d){var u={}.toString;f.exports=Array.isArray||function(v){return u.call(v)=="[object Array]"}},e439:function(f,d,u){var v=u("23e7"),y=u("d039"),_=u("fc6a"),O=u("06cf").f,b=u("83ab"),D=y(function(){O(1)}),F=!b||D;v({target:"Object",stat:!0,forced:F,sham:!b},{getOwnPropertyDescriptor:function(B,H){return O(_(B),H)}})},e4e0:function(f,d,u){(function(v){u.d(d,"a",function(){return O});var y=u("1300"),_=function(){var b=function(D,F){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,B){L.__proto__=B}||function(L,B){for(var H in B)Object.prototype.hasOwnProperty.call(B,H)&&(L[H]=B[H])},b(D,F)};return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");b(D,F);function L(){this.constructor=D}D.prototype=F===null?Object.create(F):(L.prototype=F.prototype,new L)}}();function O(b,D,F,L){var B=document.createElement("script"),H="olc_"+Object(y.c)(D);function W(){delete window[H],B.parentNode.removeChild(B)}B.async=!0,B.src=b+(b.indexOf("?")==-1?"?":"&")+(L||"callback")+"="+H;var $=setTimeout(function(){W(),F&&F()},1e4);window[H]=function(q){clearTimeout($),W(),D(q)},document.getElementsByTagName("head")[0].appendChild(B)}(function(b){_(D,b);function D(F){var L=this,B="Unexpected response status: "+F.status;return L=b.call(this,B)||this,L.name="ResponseError",L.response=F,L}return D})(Error),function(b){_(D,b);function D(F){var L=b.call(this,"Failed to issue request")||this;return L.name="ClientError",L.client=F,L}return D}(Error)}).call(this,u("c8ba"))},e538:function(f,d,u){var v=u("b622");d.f=v},e5cb:function(f,d,u){var v=u("d066"),y=u("1a2d"),_=u("9112"),O=u("3a9b"),b=u("d2bb"),D=u("e893"),F=u("7156"),L=u("e391"),B=u("ab36"),H=u("c770"),W=u("b980"),$=u("c430");f.exports=function(q,tt,J,_t){var rt=_t?2:1,I=q.split("."),Et=I[I.length-1],bt=v.apply(null,I);if(!!bt){var Nt=bt.prototype;if(!$&&y(Nt,"cause")&&delete Nt.cause,!J)return bt;var ct=v("Error"),jt=tt(function(gt,St){var Dt=L(_t?St:gt,void 0),qt=_t?new bt(gt):new bt;return Dt!==void 0&&_(qt,"message",Dt),W&&_(qt,"stack",H(qt.stack,2)),this&&O(Nt,this)&&F(qt,this,jt),arguments.length>rt&&B(qt,arguments[rt]),qt});if(jt.prototype=Nt,Et!=="Error"&&(b?b(jt,ct):D(jt,ct,{name:!0})),D(jt,bt),!$)try{Nt.name!==Et&&_(Nt,"name",Et),Nt.constructor=jt}catch{}return jt}}},e893:function(f,d,u){var v=u("1a2d"),y=u("56ef"),_=u("06cf"),O=u("9bf2");f.exports=function(b,D,F){for(var L=y(D),B=O.f,H=_.f,W=0;W<L.length;W++){var $=L[W];!v(b,$)&&!(F&&v(F,$))&&B(b,$,H(D,$))}}},e8b5:function(f,d,u){var v=u("c6b6");f.exports=Array.isArray||function(_){return v(_)=="Array"}},e95a:function(f,d,u){var v=u("b622"),y=u("3f8c"),_=v("iterator"),O=Array.prototype;f.exports=function(b){return b!==void 0&&(y.Array===b||O[_]===b)}},f36a:function(f,d,u){var v=u("e330");f.exports=v([].slice)},f5df:function(f,d,u){var v=u("da84"),y=u("00ee"),_=u("1626"),O=u("c6b6"),b=u("b622"),D=b("toStringTag"),F=v.Object,L=O(function(){return arguments}())=="Arguments",B=function(H,W){try{return H[W]}catch{}};f.exports=y?O:function(H){var W,$,q;return H===void 0?"Undefined":H===null?"Null":typeof($=B(W=F(H),D))=="string"?$:L?O(W):(q=O(W))=="Object"&&_(W.callee)?"Arguments":q}},f772:function(f,d,u){var v=u("5692"),y=u("90e3"),_=v("keys");f.exports=function(O){return _[O]||(_[O]=y(O))}},f8c9:function(f,d,u){var v=u("23e7"),y=u("da84"),_=u("d44e");v({global:!0},{Reflect:{}}),_(y.Reflect,"Reflect",!0)},fb15:function(f,d,u){u.r(d),u.d(d,"install",function(){return Y0}),u.d(d,"Map",function(){return O}),u.d(d,"Layers",function(){return D}),u.d(d,"Sources",function(){return F}),u.d(d,"MapControls",function(){return L}),u.d(d,"Geometries",function(){return B}),u.d(d,"Styles",function(){return H}),u.d(d,"Interactions",function(){return W}),u.d(d,"Animations",function(){return $});var v={};u.r(v),u.d(v,"boundingExtent",function(){return Lt}),u.d(v,"buffer",function(){return Ct}),u.d(v,"clone",function(){return Wt}),u.d(v,"closestSquaredDistanceXY",function(){return Bt}),u.d(v,"containsCoordinate",function(){return Jt}),u.d(v,"containsExtent",function(){return he}),u.d(v,"containsXY",function(){return ge}),u.d(v,"coordinateRelationship",function(){return He}),u.d(v,"createEmpty",function(){return et}),u.d(v,"createOrUpdate",function(){return z}),u.d(v,"createOrUpdateEmpty",function(){return V}),u.d(v,"createOrUpdateFromCoordinate",function(){return at}),u.d(v,"createOrUpdateFromCoordinates",function(){return Ht}),u.d(v,"createOrUpdateFromFlatCoordinates",function(){return ye}),u.d(v,"createOrUpdateFromRings",function(){return Se}),u.d(v,"equals",function(){return hr}),u.d(v,"approximatelyEquals",function(){return Or}),u.d(v,"extend",function(){return Ar}),u.d(v,"extendCoordinate",function(){return Ln}),u.d(v,"extendCoordinates",function(){return _n}),u.d(v,"extendFlatCoordinates",function(){return Xn}),u.d(v,"extendRings",function(){return Ri}),u.d(v,"extendXY",function(){return Pn}),u.d(v,"forEachCorner",function(){return Gn}),u.d(v,"getArea",function(){return pi}),u.d(v,"getBottomLeft",function(){return zr}),u.d(v,"getBottomRight",function(){return Ji}),u.d(v,"getCenter",function(){return Kn}),u.d(v,"getCorner",function(){return aa}),u.d(v,"getEnlargedArea",function(){return no}),u.d(v,"getForViewAndSize",function(){return Pi}),u.d(v,"getHeight",function(){return Ur}),u.d(v,"getIntersectionArea",function(){return Ge}),u.d(v,"getIntersection",function(){return Pr}),u.d(v,"getMargin",function(){return on}),u.d(v,"getSize",function(){return In}),u.d(v,"getTopLeft",function(){return qn}),u.d(v,"getTopRight",function(){return wo}),u.d(v,"getWidth",function(){return fn}),u.d(v,"intersects",function(){return vi}),u.d(v,"isEmpty",function(){return Do}),u.d(v,"returnOrUpdate",function(){return Ho}),u.d(v,"scaleFromCenter",function(){return Bo}),u.d(v,"intersectsSegment",function(){return pu}),u.d(v,"applyTransform",function(){return al}),u.d(v,"wrapX",function(){return Ml});var y={};u.r(y),u.d(y,"easeIn",function(){return pl}),u.d(y,"easeOut",function(){return Pa}),u.d(y,"inAndOut",function(){return Ds}),u.d(y,"linear",function(){return $a}),u.d(y,"upAndDown",function(){return th});var _={};u.r(_),u.d(_,"all",function(){return Kc}),u.d(_,"altKeyOnly",function(){return wd}),u.d(_,"altShiftKeysOnly",function(){return $c}),u.d(_,"focus",function(){return ly}),u.d(_,"focusWithTabindex",function(){return _v}),u.d(_,"always",function(){return ph}),u.d(_,"click",function(){return o1}),u.d(_,"mouseActionButton",function(){return Ev}),u.d(_,"never",function(){return xv}),u.d(_,"pointerMove",function(){return a1}),u.d(_,"singleClick",function(){return Ws}),u.d(_,"doubleClick",function(){return Ys}),u.d(_,"noModifierKeys",function(){return vs}),u.d(_,"platformModifierKeyOnly",function(){return s1}),u.d(_,"shiftKeyOnly",function(){return Zc}),u.d(_,"targetNotEditable",function(){return El}),u.d(_,"mouseOnly",function(){return Xo}),u.d(_,"touchOnly",function(){return l1}),u.d(_,"penOnly",function(){return u1}),u.d(_,"primaryAction",function(){return Od});var O={};u.r(O),u.d(O,"default",function(){return H3}),u.d(O,"install",function(){return Fy}),u.d(O,"Map",function(){return Oi}),u.d(O,"View",function(){return Fn}),u.d(O,"Feature",function(){return Ro}),u.d(O,"Overlay",function(){return yh}),u.d(O,"GeoLocation",function(){return Ld}),u.d(O,"Projection",function(){return R1});var b={};u.r(b),u.d(b,"all",function(){return LS}),u.d(b,"bbox",function(){return LN}),u.d(b,"tile",function(){return RN});var D={};u.r(D),u.d(D,"default",function(){return qN}),u.d(D,"install",function(){return r0}),u.d(D,"TileLayer",function(){return N1}),u.d(D,"WebGLTileLayer",function(){return X1}),u.d(D,"ImageLayer",function(){return K1}),u.d(D,"VectorLayer",function(){return e_}),u.d(D,"AnimatedClusterLayer",function(){return n_}),u.d(D,"WebglPointsLayer",function(){return i_});var F={};u.r(F),u.d(F,"default",function(){return d6}),u.d(F,"install",function(){return u0}),u.d(F,"SourceXYZ",function(){return s_}),u.d(F,"SourceOSM",function(){return l_}),u.d(F,"SourceImageStatic",function(){return f_}),u.d(F,"SourceWMTS",function(){return d_}),u.d(F,"SourceVector",function(){return p_}),u.d(F,"SourceCluster",function(){return v_}),u.d(F,"SourceTianDiTu",function(){return y_}),u.d(F,"SourceImageWMS",function(){return m_}),u.d(F,"SourceWebglPoints",function(){return __});var L={};u.r(L),u.d(L,"default",function(){return l8}),u.d(L,"install",function(){return g0}),u.d(L,"FullScreenControl",function(){return x_}),u.d(L,"MousePositionControl",function(){return w_}),u.d(L,"AttributionControl",function(){return O_}),u.d(L,"OverviewMapControl",function(){return b_}),u.d(L,"ScaleLineControl",function(){return L_}),u.d(L,"ZoomControl",function(){return R_}),u.d(L,"ZoomSliderControl",function(){return P_}),u.d(L,"ZoomToExtentControl",function(){return I_}),u.d(L,"ContextMenuControl",function(){return M_}),u.d(L,"SwipeControl",function(){return N_}),u.d(L,"ControlBar",function(){return F_}),u.d(L,"ToggleControl",function(){return D_}),u.d(L,"ButtonControl",function(){return B_}),u.d(L,"PrintDialog",function(){return z_}),u.d(L,"VideoRecorderControl",function(){return V_}),u.d(L,"LayerSwitcherControl",function(){return p0}),u.d(L,"LayerSwitcherImageControl",function(){return Y_}),u.d(L,"ZoneControl",function(){return H_});var B={};u.r(B),u.d(B,"default",function(){return C8}),u.d(B,"install",function(){return m0}),u.d(B,"Point",function(){return X_}),u.d(B,"LineString",function(){return K_}),u.d(B,"Polygon",function(){return $_}),u.d(B,"MultiPoint",function(){return Z_}),u.d(B,"MultiLineString",function(){return q_}),u.d(B,"MultiPolygon",function(){return J_});var H={};u.r(H),u.d(H,"default",function(){return Z8}),u.d(H,"install",function(){return x0}),u.d(H,"Style",function(){return i2}),u.d(H,"Stroke",function(){return a2}),u.d(H,"Fill",function(){return s2}),u.d(H,"Icon",function(){return l2}),u.d(H,"Text",function(){return u2}),u.d(H,"FlowLine",function(){return c2}),u.d(H,"Circle",function(){return o2});var W={};u.r(W),u.d(W,"default",function(){return w7}),u.d(W,"install",function(){return O0}),u.d(W,"SelectInteraction",function(){return f2}),u.d(W,"ClusterSelectInteraction",function(){return h2}),u.d(W,"DrawInteraction",function(){return d2}),u.d(W,"SnapInteraction",function(){return p2}),u.d(W,"ModifyInteraction",function(){return v2}),u.d(W,"TransformInteraction",function(){return g2}),u.d(W,"DragRotateAndZoomInteraction",function(){return y2});var $={};u.r($),u.d($,"default",function(){return K7}),u.d($,"install",function(){return T0}),u.d($,"FeatureAnimation",function(){return ou}),u.d($,"DropAnimation",function(){return _2}),u.d($,"ShakeAnimation",function(){return x2}),u.d($,"ZoomAnimation",function(){return S2}),u.d($,"TeleportAnimation",function(){return O2}),u.d($,"FadeAnimation",function(){return b2}),u.d($,"PathAnimation",function(){return R2}),u.d($,"SlideAnimation",function(){return A2});var q={};u.r(q),u.d(q,"Circle",function(){return Q_}),u.d(q,"Geometry",function(){return Su}),u.d(q,"GeometryCollection",function(){return ka}),u.d(q,"LinearRing",function(){return Bs}),u.d(q,"LineString",function(){return zi}),u.d(q,"MultiLineString",function(){return xs}),u.d(q,"MultiPoint",function(){return Ll}),u.d(q,"MultiPolygon",function(){return Ua}),u.d(q,"Point",function(){return kn}),u.d(q,"Polygon",function(){return li}),u.d(q,"SimpleGeometry",function(){return ma});var tt={};if(u.r(tt),u.d(tt,"EsriJSON",function(){return vj}),u.d(tt,"GeoJSON",function(){return Ij}),u.d(tt,"GML",function(){return Xj}),u.d(tt,"GPX",function(){return CD}),u.d(tt,"IGC",function(){return jD}),u.d(tt,"IIIFInfo",function(){return VD}),u.d(tt,"KML",function(){return A9}),u.d(tt,"MVT",function(){return B9}),u.d(tt,"OWS",function(){return fO}),u.d(tt,"Polyline",function(){return AG}),u.d(tt,"TopoJSON",function(){return kG}),u.d(tt,"WFS",function(){return FU}),u.d(tt,"WKB",function(){return kU}),u.d(tt,"WKT",function(){return ek}),u.d(tt,"WMSCapabilities",function(){return Dk}),u.d(tt,"WMSGetFeatureInfo",function(){return zk}),u.d(tt,"WMTSCapabilities",function(){return dz}),typeof window!="undefined"){var J=window.document.currentScript;{var _t=u("8875");J=_t(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:_t})}var rt=J&&J.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);rt&&(u.p=rt[1])}u("b0c0");var I=u("8bbf");function Et(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",{ref:function(s){return e.mapRef=s}},[Object(I.renderSlot)(n.$slots,"default")],512)}u("a9e3");var bt=u("da5c"),Nt=u("57cb"),ct=u("1300"),jt=u("617d"),gt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),St=function(n){gt(r,n);function r(t){var e=this,i=ct.a==="latest"?ct.a:"v"+ct.a.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+t+" for details.";return e=n.call(this,o)||this,e.code=t,e.name="AssertionError",e.message=o,e}return r}(Error),Dt=St;function qt(n,r){if(!n)throw new Dt(r)}var Le=new Array(6);function Q(){return[1,0,0,1,0,0]}function Tt(n){return Be(n,1,0,0,1,0,0)}function Ut(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],a=n[4],s=n[5],c=r[0],h=r[1],p=r[2],m=r[3],w=r[4],R=r[5];return n[0]=t*c+i*h,n[1]=e*c+o*h,n[2]=t*p+i*m,n[3]=e*p+o*m,n[4]=t*w+i*R+a,n[5]=e*w+o*R+s,n}function Be(n,r,t,e,i,o,a){return n[0]=r,n[1]=t,n[2]=e,n[3]=i,n[4]=o,n[5]=a,n}function Ye(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function Me(n,r){var t=r[0],e=r[1];return r[0]=n[0]*t+n[2]*e+n[4],r[1]=n[1]*t+n[3]*e+n[5],r}function ir(n,r){var t=Math.cos(r),e=Math.sin(r);return Ut(n,Be(Le,t,e,-e,t,0,0))}function Sr(n,r,t){return Ut(n,Be(Le,r,0,0,t,0,0))}function $r(n,r,t){return Be(n,r,0,0,t,0,0)}function Qt(n,r,t){return Ut(n,Be(Le,1,0,0,1,r,t))}function Te(n,r,t,e,i,o,a,s){var c=Math.sin(o),h=Math.cos(o);return n[0]=e*h,n[1]=i*c,n[2]=-e*c,n[3]=i*h,n[4]=a*e*h-s*e*c+r,n[5]=a*i*c+s*i*h+t,n}function Ze(n,r){var t=vr(r);qt(t!==0,32);var e=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5];return n[0]=a/t,n[1]=-i/t,n[2]=-o/t,n[3]=e/t,n[4]=(o*c-a*s)/t,n[5]=-(e*c-i*s)/t,n}function vr(n){return n[0]*n[3]-n[1]*n[2]}var Sn;function _r(n){var r="matrix("+n.join(", ")+")";if(jt.g)return r;var t=Sn||(Sn=document.createElement("div"));return t.style.transform=r,t.style.transform}var Fr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Er={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Lt(n){for(var r=et(),t=0,e=n.length;t<e;++t)Ln(r,n[t]);return r}function ne(n,r,t){var e=Math.min.apply(null,n),i=Math.min.apply(null,r),o=Math.max.apply(null,n),a=Math.max.apply(null,r);return z(e,i,o,a,t)}function Ct(n,r,t){return t?(t[0]=n[0]-r,t[1]=n[1]-r,t[2]=n[2]+r,t[3]=n[3]+r,t):[n[0]-r,n[1]-r,n[2]+r,n[3]+r]}function Wt(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n.slice()}function Bt(n,r,t){var e,i;return r<n[0]?e=n[0]-r:n[2]<r?e=r-n[2]:e=0,t<n[1]?i=n[1]-t:n[3]<t?i=t-n[3]:i=0,e*e+i*i}function Jt(n,r){return ge(n,r[0],r[1])}function he(n,r){return n[0]<=r[0]&&r[2]<=n[2]&&n[1]<=r[1]&&r[3]<=n[3]}function ge(n,r,t){return n[0]<=r&&r<=n[2]&&n[1]<=t&&t<=n[3]}function He(n,r){var t=n[0],e=n[1],i=n[2],o=n[3],a=r[0],s=r[1],c=Er.UNKNOWN;return a<t?c=c|Er.LEFT:a>i&&(c=c|Er.RIGHT),s<e?c=c|Er.BELOW:s>o&&(c=c|Er.ABOVE),c===Er.UNKNOWN&&(c=Er.INTERSECTING),c}function et(){return[1/0,1/0,-1/0,-1/0]}function z(n,r,t,e,i){return i?(i[0]=n,i[1]=r,i[2]=t,i[3]=e,i):[n,r,t,e]}function V(n){return z(1/0,1/0,-1/0,-1/0,n)}function at(n,r){var t=n[0],e=n[1];return z(t,e,t,e,r)}function Ht(n,r){var t=V(r);return _n(t,n)}function ye(n,r,t,e,i){var o=V(i);return Xn(o,n,r,t,e)}function Se(n,r){var t=V(r);return Ri(t,n)}function hr(n,r){return n[0]==r[0]&&n[2]==r[2]&&n[1]==r[1]&&n[3]==r[3]}function Or(n,r,t){return Math.abs(n[0]-r[0])<t&&Math.abs(n[2]-r[2])<t&&Math.abs(n[1]-r[1])<t&&Math.abs(n[3]-r[3])<t}function Ar(n,r){return r[0]<n[0]&&(n[0]=r[0]),r[2]>n[2]&&(n[2]=r[2]),r[1]<n[1]&&(n[1]=r[1]),r[3]>n[3]&&(n[3]=r[3]),n}function Ln(n,r){r[0]<n[0]&&(n[0]=r[0]),r[0]>n[2]&&(n[2]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[1]>n[3]&&(n[3]=r[1])}function _n(n,r){for(var t=0,e=r.length;t<e;++t)Ln(n,r[t]);return n}function Xn(n,r,t,e,i){for(;t<e;t+=i)Pn(n,r[t],r[t+1]);return n}function Ri(n,r){for(var t=0,e=r.length;t<e;++t)_n(n,r[t]);return n}function Pn(n,r,t){n[0]=Math.min(n[0],r),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],r),n[3]=Math.max(n[3],t)}function Gn(n,r){var t;return t=r(zr(n)),t||(t=r(Ji(n)),t)||(t=r(wo(n)),t)||(t=r(qn(n)),t)?t:!1}function pi(n){var r=0;return Do(n)||(r=fn(n)*Ur(n)),r}function zr(n){return[n[0],n[1]]}function Ji(n){return[n[2],n[1]]}function Kn(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function aa(n,r){var t;return r===Fr.BOTTOM_LEFT?t=zr(n):r===Fr.BOTTOM_RIGHT?t=Ji(n):r===Fr.TOP_LEFT?t=qn(n):r===Fr.TOP_RIGHT?t=wo(n):qt(!1,13),t}function no(n,r){var t=Math.min(n[0],r[0]),e=Math.min(n[1],r[1]),i=Math.max(n[2],r[2]),o=Math.max(n[3],r[3]);return(i-t)*(o-e)}function Pi(n,r,t,e,i){var o=r*e[0]/2,a=r*e[1]/2,s=Math.cos(t),c=Math.sin(t),h=o*s,p=o*c,m=a*s,w=a*c,R=n[0],M=n[1],U=R-h+w,Z=R-h-w,lt=R+h-w,pt=R+h+w,xt=M-p-m,ht=M-p+m,Vt=M+p+m,kt=M+p-m;return z(Math.min(U,Z,lt,pt),Math.min(xt,ht,Vt,kt),Math.max(U,Z,lt,pt),Math.max(xt,ht,Vt,kt),i)}function Ur(n){return n[3]-n[1]}function Ge(n,r){var t=Pr(n,r);return pi(t)}function Pr(n,r,t){var e=t||et();return vi(n,r)?(n[0]>r[0]?e[0]=n[0]:e[0]=r[0],n[1]>r[1]?e[1]=n[1]:e[1]=r[1],n[2]<r[2]?e[2]=n[2]:e[2]=r[2],n[3]<r[3]?e[3]=n[3]:e[3]=r[3]):V(e),e}function on(n){return fn(n)+Ur(n)}function In(n){return[n[2]-n[0],n[3]-n[1]]}function qn(n){return[n[0],n[3]]}function wo(n){return[n[2],n[3]]}function fn(n){return n[2]-n[0]}function vi(n,r){return n[0]<=r[2]&&n[2]>=r[0]&&n[1]<=r[3]&&n[3]>=r[1]}function Do(n){return n[2]<n[0]||n[3]<n[1]}function Ho(n,r){return r?(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r):n}function Bo(n,r){var t=(n[2]-n[0])/2*(r-1),e=(n[3]-n[1])/2*(r-1);n[0]-=t,n[2]+=t,n[1]-=e,n[3]+=e}function pu(n,r,t){var e=!1,i=He(n,r),o=He(n,t);if(i===Er.INTERSECTING||o===Er.INTERSECTING)e=!0;else{var a=n[0],s=n[1],c=n[2],h=n[3],p=r[0],m=r[1],w=t[0],R=t[1],M=(R-m)/(w-p),U=void 0,Z=void 0;!!(o&Er.ABOVE)&&!(i&Er.ABOVE)&&(U=w-(R-h)/M,e=U>=a&&U<=c),!e&&!!(o&Er.RIGHT)&&!(i&Er.RIGHT)&&(Z=R-(w-c)*M,e=Z>=s&&Z<=h),!e&&!!(o&Er.BELOW)&&!(i&Er.BELOW)&&(U=w-(R-s)/M,e=U>=a&&U<=c),!e&&!!(o&Er.LEFT)&&!(i&Er.LEFT)&&(Z=R-(w-a)*M,e=Z>=s&&Z<=h)}return e}function al(n,r,t,e){var i=[];if(e>1)for(var o=n[2]-n[0],a=n[3]-n[1],s=0;s<e;++s)i.push(n[0]+o*s/e,n[1],n[2],n[1]+a*s/e,n[2]-o*s/e,n[3],n[0],n[3]-a*s/e);else i=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]];r(i,i,2);for(var c=[],h=[],s=0,p=i.length;s<p;s+=2)c.push(i[s]),h.push(i[s+1]);return ne(c,h,t)}function Ml(n,r){var t=r.getExtent(),e=Kn(n);if(r.canWrapX()&&(e[0]<t[0]||e[0]>=t[2])){var i=fn(t),o=Math.floor((e[0]-t[0])/i),a=o*i;n[0]-=a,n[2]-=a}return n}function Fi(n,r,t){return Math.min(Math.max(n,r),t)}var rd=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(r){var t=Math.exp(r);return(t+1/t)/2},n}(),Wf=function(){var n;return"log2"in Math?n=Math.log2:n=function(r){return Math.log(r)*Math.LOG2E},n}();function $u(n,r,t,e,i,o){var a=i-t,s=o-e;if(a!==0||s!==0){var c=((n-t)*a+(r-e)*s)/(a*a+s*s);c>1?(t=i,e=o):c>0&&(t+=a*c,e+=s*c)}return vu(n,r,t,e)}function vu(n,r,t,e){var i=t-n,o=e-r;return i*i+o*o}function Tc(n){for(var r=n.length,t=0;t<r;t++){for(var e=t,i=Math.abs(n[t][t]),o=t+1;o<r;o++){var a=Math.abs(n[o][t]);a>i&&(i=a,e=o)}if(i===0)return null;var s=n[e];n[e]=n[t],n[t]=s;for(var c=t+1;c<r;c++)for(var h=-n[c][t]/n[t][t],p=t;p<r+1;p++)t==p?n[c][p]=0:n[c][p]+=h*n[t][p]}for(var m=new Array(r),w=r-1;w>=0;w--){m[w]=n[w][r]/n[w][w];for(var R=w-1;R>=0;R--)n[R][r]-=n[R][w]*m[w]}return m}function nd(n){return n*180/Math.PI}function Ya(n){return n*Math.PI/180}function Ps(n,r){var t=n%r;return t*r<0?t+r:t}function sl(n,r,t){return n+t*(r-n)}function id(n,r){var t=Math.pow(10,r);return Math.round(n*t)/t}function Jp(n,r){return Math.round(id(n,r))}function bc(n,r){return Math.floor(id(n,r))}function gu(n,r){return Math.ceil(id(n,r))}var Qp=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,od=/^([a-z]*)$|^hsla?\(.*\)$/i;function Go(n){return typeof n=="string"?n:Is(n)}function tv(n){var r=document.createElement("div");if(r.style.color=n,r.style.color!==""){document.body.appendChild(r);var t=getComputedStyle(r).color;return document.body.removeChild(r),t}else return""}var us=function(){var n=1024,r={},t=0;return function(e){var i;if(r.hasOwnProperty(e))i=r[e];else{if(t>=n){var o=0;for(var a in r)(o++&3)===0&&(delete r[a],--t)}i=Km(e),r[e]=i,++t}return i}}();function ya(n){return Array.isArray(n)?n:us(n)}function Km(n){var r,t,e,i,o;if(od.exec(n)&&(n=tv(n)),Qp.exec(n)){var a=n.length-1,s=void 0;a<=4?s=1:s=2;var c=a===4||a===8;r=parseInt(n.substr(1+0*s,s),16),t=parseInt(n.substr(1+1*s,s),16),e=parseInt(n.substr(1+2*s,s),16),c?i=parseInt(n.substr(1+3*s,s),16):i=255,s==1&&(r=(r<<4)+r,t=(t<<4)+t,e=(e<<4)+e,c&&(i=(i<<4)+i)),o=[r,t,e,i/255]}else n.indexOf("rgba(")==0?(o=n.slice(5,-1).split(",").map(Number),ty(o)):n.indexOf("rgb(")==0?(o=n.slice(4,-1).split(",").map(Number),o.push(1),ty(o)):qt(!1,14);return o}function ty(n){return n[0]=Fi(n[0]+.5|0,0,255),n[1]=Fi(n[1]+.5|0,0,255),n[2]=Fi(n[2]+.5|0,0,255),n[3]=Fi(n[3],0,1),n}function Is(n){var r=n[0];r!=(r|0)&&(r=r+.5|0);var t=n[1];t!=(t|0)&&(t=t+.5|0);var e=n[2];e!=(e|0)&&(e=e+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+r+","+t+","+e+","+i+")"}function $m(n){return od.test(n)&&(n=tv(n)),Qp.test(n)||n.indexOf("rgba(")===0||n.indexOf("rgb(")===0}var ey=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var t in this.cache_){var e=this.cache_[t];(r++&3)===0&&!e.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},n.prototype.get=function(r,t,e){var i=ev(r,t,e);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(r,t,e,i){var o=ev(r,t,e);this.cache_[o]=i,++this.cacheSize_},n.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},n}();function ev(n,r,t){var e=t?Go(t):"null";return r+":"+n+":"+e}var ad=new ey,Oo=u("e269"),Si={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},Ir=u("38f3"),Zm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qm=function(n){Zm(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.background_=t.background;var i=Object(Ir.a)({},t);return typeof t.properties=="object"&&(delete i.properties,Object(Ir.a)(i,t.properties)),i[Si.OPACITY]=t.opacity!==void 0?t.opacity:1,qt(typeof i[Si.OPACITY]=="number",64),i[Si.VISIBLE]=t.visible!==void 0?t.visible:!0,i[Si.Z_INDEX]=t.zIndex,i[Si.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,i[Si.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,i[Si.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,i[Si.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,e.className_=i.className!==void 0?t.className:"ol-layer",delete i.className,e.setProperties(i),e.state_=null,e}return r.prototype.getBackground=function(){return this.background_},r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return e.opacity=Fi(Math.round(this.getOpacity()*100)/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(t){return Object(ct.b)()},r.prototype.getLayerStatesArray=function(t){return Object(ct.b)()},r.prototype.getExtent=function(){return this.get(Si.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(Si.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(Si.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(Si.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(Si.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(Si.OPACITY)},r.prototype.getSourceState=function(){return Object(ct.b)()},r.prototype.getVisible=function(){return this.get(Si.VISIBLE)},r.prototype.getZIndex=function(){return this.get(Si.Z_INDEX)},r.prototype.setBackground=function(t){this.background_=t,this.changed()},r.prototype.setExtent=function(t){this.set(Si.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(Si.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(Si.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(Si.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(Si.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){qt(typeof t=="number",64),this.set(Si.OPACITY,t)},r.prototype.setVisible=function(t){this.set(Si.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(Si.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},r}(Oo.a),rv=qm,Qr=u("01d4"),Ha={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Ms={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Tr=u("1e8d"),Jm=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qm=function(n){Jm(r,n);function r(t){var e=this,i=Object(Ir.a)({},t);delete i.source,e=n.call(this,i)||this,e.on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(Si.SOURCE,e.handleSourcePropertyChange_);var o=t.source?t.source:null;return e.setSource(o),e}return r.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},r.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},r.prototype.getSource=function(){return this.get(Si.SOURCE)||null},r.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Ms.UNDEFINED},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(Tr.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(Tr.a)(t,Qr.a.CHANGE,this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(e){return e([])})},r.prototype.render=function(t,e){var i=this.getRenderer();if(i.prepareFrame(t))return i.renderFrame(t,e)},r.prototype.setMapInternal=function(t){this.set(Si.MAP,t)},r.prototype.getMapInternal=function(){return this.get(Si.MAP)},r.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(Tr.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(Tr.c)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(Tr.a)(t,Ha.PRECOMPOSE,function(e){var i=e,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);qt(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=Object(Tr.a)(this,Qr.a.CHANGE,t.render,t),this.changed())},r.prototype.setSource=function(t){this.set(Si.SOURCE,t)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},r}(rv);function T(n,r){if(!n.visible)return!1;var t=r.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;var e=r.zoom;return e>n.minZoom&&e<=n.maxZoom}var E=Qm;function x(n,r,t){var e=t!==void 0?n.toFixed(t):""+n,i=e.indexOf(".");return i=i===-1?e.length:i,i>r?e:new Array(1+r-i).join("0")+e}function C(n,r){for(var t=(""+n).split("."),e=(""+r).split("."),i=0;i<Math.max(t.length,e.length);i++){var o=parseInt(t[i]||"0",10),a=parseInt(e[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}function j(n,r){return n[0]+=+r[0],n[1]+=+r[1],n}function A(n,r){var t=r.getRadius(),e=r.getCenter(),i=e[0],o=e[1],a=n[0],s=n[1],c=a-i,h=s-o;c===0&&h===0&&(c=1);var p=Math.sqrt(c*c+h*h),m=i+t*c/p,w=o+t*h/p;return[m,w]}function G(n,r){var t=n[0],e=n[1],i=r[0],o=r[1],a=i[0],s=i[1],c=o[0],h=o[1],p=c-a,m=h-s,w=p===0&&m===0?0:(p*(t-a)+m*(e-s))/(p*p+m*m||0),R,M;return w<=0?(R=a,M=s):w>=1?(R=c,M=h):(R=a+w*p,M=s+w*m),[R,M]}function k(n,r){for(var t=!0,e=n.length-1;e>=0;--e)if(n[e]!=r[e]){t=!1;break}return t}function Y(n,r){var t=Math.cos(r),e=Math.sin(r),i=n[0]*t-n[1]*e,o=n[1]*t+n[0]*e;return n[0]=i,n[1]=o,n}function it(n,r){return n[0]*=r,n[1]*=r,n}function vt(n,r){var t=n[0]-r[0],e=n[1]-r[1];return t*t+e*e}function mt(n,r){return Math.sqrt(vt(n,r))}function Ot(n,r){return vt(n,G(n,r))}function K(n,r){if(r.canWrapX()){var t=fn(r.getExtent()),e=zt(n,r,t);e&&(n[0]-=e*t)}return n}function zt(n,r,t){var e=r.getExtent(),i=0;if(r.canWrapX()&&(n[0]<e[0]||n[0]>e[2])){var o=t||fn(e);i=Math.floor((n[0]-e[0])/o)}return i}var Mt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),te=function(n){Mt(r,n);function r(t){var e=n.call(this)||this;return e.map_=t,e}return r.prototype.dispatchRenderEvent=function(t,e){Object(ct.b)()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;Te(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Ze(o,i)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a,s,c,h){var p,m=e.viewState;function w(Gr,Hr,Jr,Tn){return a.call(s,Hr,Gr?Jr:null,Tn)}var R=m.projection,M=K(t.slice(),R),U=[[0,0]];if(R.canWrapX()&&o){var Z=R.getExtent(),lt=fn(Z);U.push([-lt,0],[lt,0])}for(var pt=e.layerStatesArray,xt=pt.length,ht=[],Vt=[],kt=0;kt<U.length;kt++)for(var Zt=xt-1;Zt>=0;--Zt){var Xt=pt[Zt],ce=Xt.layer;if(ce.hasRenderer()&&T(Xt,m)&&c.call(h,ce)){var Ve=ce.getRenderer(),Ne=ce.getSource();if(Ve&&Ne){var Ee=Ne.getWrapX()?M:t,rr=w.bind(null,Xt.managed);Vt[0]=Ee[0]+U[kt][0],Vt[1]=Ee[1]+U[kt][1],p=Ve.forEachFeatureAtCoordinate(Vt,e,i,rr,ht)}if(p)return p}}if(ht.length!==0){var Rr=1/ht.length;return ht.forEach(function(Gr,Hr){return Gr.distanceSq+=Hr*Rr}),ht.sort(function(Gr,Hr){return Gr.distanceSq-Hr.distanceSq}),ht.some(function(Gr){return p=Gr.callback(Gr.feature,Gr.layer,Gr.geometry)}),p}},r.prototype.forEachLayerAtPixel=function(t,e,i,o,a){return Object(ct.b)()},r.prototype.hasFeatureAtCoordinate=function(t,e,i,o,a,s){var c=this.forEachFeatureAtCoordinate(t,e,i,o,Nt.b,this,a,s);return c!==void 0},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){Object(ct.b)()},r.prototype.scheduleExpireIconCache=function(t){ad.canExpireCache()&&t.postRenderFunctions.push(wt)},r}(bt.a);function wt(n,r){ad.expire()}var Yt=te,xe=u("7b4f"),ze=u("cef7"),tr=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xr=function(n){tr(r,n);function r(t,e,i,o){var a=n.call(this,t)||this;return a.inversePixelTransform=e,a.frameState=i,a.context=o,a}return r}(ze.a),Ue=xr,pe="ol-hidden",lr="ol-selectable",er="ol-unselectable",Rt="ol-unsupported",Pt="ol-control",ue="ol-collapsed",oe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),$e=["style","variant","weight","size","lineHeight","family"],Xe=function(n){var r=n.match(oe);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},e=0,i=$e.length;e<i;++e){var o=r[e+1];o!==void 0&&(t[$e[e]]=o)}return t.families=t.family.split(/,\s?/),t};function or(n){return n===1?"":String(Math.round(n*100)/100)}var Re=u("0ec0"),je=u("0999"),Je="10px sans-serif",Kr="#000",ft="round",Ft=[],Kt=0,fe="round",ve=10,be="#000",Pe="center",Ie="middle",mr=[0,0,0,0],yr=1,Mr=new Oo.a,Wr=new Re.a;Wr.setSize=function(){console.warn("labelCache is deprecated.")};var mn=null,We,Gt={},Un=function(){var n=100,r="32px ",t=["monospace","serif"],e=t.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function s(h,p,m){for(var w=!0,R=0;R<e;++R){var M=t[R];if(a=wr(h+" "+p+" "+r+M,i),m!=M){var U=wr(h+" "+p+" "+r+m+","+M,i);w=w&&U!=a}}return!!w}function c(){for(var h=!0,p=Mr.getKeys(),m=0,w=p.length;m<w;++m){var R=p[m];Mr.get(R)<n&&(s.apply(this,R.split(`
`))?(Object(Ir.b)(Gt),mn=null,We=void 0,Mr.set(R,n)):(Mr.set(R,Mr.get(R)+1,!0),h=!1))}h&&(clearInterval(o),o=void 0)}return function(h){var p=Xe(h);if(!!p)for(var m=p.families,w=0,R=m.length;w<R;++w){var M=m[w],U=p.style+`
`+p.weight+`
`+M;Mr.get(U)===void 0&&(Mr.set(U,n,!0),s(p.style,p.weight,M)||(Mr.set(U,0,!0),o===void 0&&(o=setInterval(c,32))))}}}(),tn=function(){var n;return function(r){var t=Gt[r];if(t==null){if(jt.g){var e=Xe(r),i=dr(r,"\u017Dg"),o=isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight);t=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=r,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Gt[r]=t}return t}}();function dr(n,r){return mn||(mn=Object(je.a)(1,1)),n!=We&&(mn.font=n,We=mn.font),mn.measureText(r)}function wr(n,r){return dr(n,r).width}function kr(n,r,t){if(r in t)return t[r];var e=wr(n,r);return t[r]=e,e}function jr(n,r,t){for(var e=r.length,i=0,o=0;o<e;++o){var a=wr(n,r[o]);i=Math.max(i,a),t.push(a)}return i}function ln(n,r,t,e,i,o,a,s,c,h,p){n.save(),t!==1&&(n.globalAlpha*=t),r&&n.setTransform.apply(n,r),e.contextInstructions?(n.translate(c,h),n.scale(p[0],p[1]),Mn(e,n)):p[0]<0||p[1]<0?(n.translate(c,h),n.scale(p[0],p[1]),n.drawImage(e,i,o,a,s,0,0,a,s)):n.drawImage(e,i,o,a,s,c,h,a*p[0],s*p[1]),n.restore()}function Mn(n,r){for(var t=n.contextInstructions,e=0,i=t.length;e<i;e+=2)Array.isArray(t[e+1])?r[t[e]].apply(r,t[e+1]):r[t[e]]=t[e+1]}var Yn=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jn=function(n){Yn(r,n);function r(t){var e=n.call(this,t)||this;e.fontChangeListenerKey_=Object(Tr.a)(Mr,xe.a.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var i=e.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",e.element_.className=er+" ol-layers";var o=t.getViewport();return o.insertBefore(e.element_,o.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return r.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap();if(i.hasListener(t)){var o=new Ue(t,void 0,e);i.dispatchEvent(o)}},r.prototype.disposeInternal=function(){Object(Tr.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Ha.PRECOMPOSE,t);var e=t.layerStatesArray.sort(function(w,R){return w.zIndex-R.zIndex}),i=t.viewState;this.children_.length=0;for(var o=[],a=null,s=0,c=e.length;s<c;++s){var h=e[s];if(t.layerIndex=s,!(!T(h,i)||h.sourceState!=Ms.READY&&h.sourceState!=Ms.UNDEFINED)){var p=h.layer,m=p.render(t,a);!m||(m!==a&&(this.children_.push(m),a=m),"getDeclutter"in p&&o.push(p))}}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(t);Object(je.f)(this.element_,this.children_),this.dispatchRenderEvent(Ha.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},r.prototype.forEachLayerAtPixel=function(t,e,i,o,a){for(var s=e.viewState,c=e.layerStatesArray,h=c.length,p=h-1;p>=0;--p){var m=c[p],w=m.layer;if(w.hasRenderer()&&T(m,s)&&a(w)){var R=w.getRenderer(),M=R.getDataAtPixel(t,e,i);if(M){var U=o(w,M);if(U)return U}}}},r}(Yt),fi=Jn,En={ADD:"add",REMOVE:"remove"},wn=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qn={LENGTH:"length"},Dr=function(n){wn(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.element=e,o.index=i,o}return r}(ze.a),sa=function(n){wn(r,n);function r(t,e){var i=n.call(this)||this;i.on,i.once,i.un;var o=e||{};if(i.unique_=!!o.unique,i.array_=t||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},r.prototype.forEach=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)t(e[i],i,e)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(t){return this.array_[t]},r.prototype.getLength=function(){return this.get(Qn.LENGTH)},r.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Dr(En.ADD,e,t))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},r.prototype.remove=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)if(e[i]===t)return this.removeAt(i)},r.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Dr(En.REMOVE,e,t)),e},r.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Dr(En.REMOVE,o,t)),this.dispatchEvent(new Dr(En.ADD,e,t))}else{for(var a=i;a<t;++a)this.insertAt(a,void 0);this.insertAt(t,e)}},r.prototype.updateLength_=function(){this.set(Qn.LENGTH,this.array_.length)},r.prototype.assertUnique_=function(t,e){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===t&&i!==e)throw new Dt(58)},r}(Oo.a),hn=sa,cs=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hi=function(n){cs(r,n);function r(t,e){var i=n.call(this,t)||this;return i.layer=e,i}return r}(ze.a),Yi={LAYERS:"layers"},ll=function(n){cs(r,n);function r(t){var e=this,i=t||{},o=Object(Ir.a)({},i);delete o.layers;var a=i.layers;return e=n.call(this,o)||this,e.on,e.once,e.un,e.layersListenerKeys_=[],e.listenerKeys_={},e.addChangeListener(Yi.LAYERS,e.handleLayersChanged_),a?Array.isArray(a)?a=new hn(a.slice(),{unique:!0}):qt(typeof a.getArray=="function",43):a=new hn(void 0,{unique:!0}),e.setLayers(a),e}return r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Tr.c),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(Object(Tr.a)(t,En.ADD,this.handleLayersAdd_,this),Object(Tr.a)(t,En.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach(Tr.c);Object(Ir.b)(this.listenerKeys_);for(var i=t.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new hi("addlayer",s))}this.changed()},r.prototype.registerLayerListeners_=function(t){var e=[Object(Tr.a)(t,xe.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(Tr.a)(t,Qr.a.CHANGE,this.handleLayerChange_,this)];t instanceof r&&e.push(Object(Tr.a)(t,"addlayer",this.handleLayerGroupAdd_,this),Object(Tr.a)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(ct.c)(t)]=e},r.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new hi("addlayer",t.layer))},r.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new hi("removelayer",t.layer))},r.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new hi("addlayer",e)),this.changed()},r.prototype.handleLayersRemove_=function(t){var e=t.element,i=Object(ct.c)(e);this.listenerKeys_[i].forEach(Tr.c),delete this.listenerKeys_[i],this.dispatchEvent(new hi("removelayer",e)),this.changed()},r.prototype.getLayers=function(){return this.get(Yi.LAYERS)},r.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var i=e.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new hi("removelayer",i[o]));this.set(Yi.LAYERS,t)},r.prototype.getLayersArray=function(t){var e=t!==void 0?t:[];return this.getLayers().forEach(function(i){i.getLayersArray(e)}),e},r.prototype.getLayerStatesArray=function(t){var e=t!==void 0?t:[],i=e.length;this.getLayers().forEach(function(p){p.getLayerStatesArray(e)});var o=this.getLayerState(),a=o.zIndex;!t&&o.zIndex===void 0&&(a=0);for(var s=i,c=e.length;s<c;s++){var h=e[s];h.opacity*=o.opacity,h.visible=h.visible&&o.visible,h.maxResolution=Math.min(h.maxResolution,o.maxResolution),h.minResolution=Math.max(h.minResolution,o.minResolution),h.minZoom=Math.max(h.minZoom,o.minZoom),h.maxZoom=Math.min(h.maxZoom,o.maxZoom),o.extent!==void 0&&(h.extent!==void 0?h.extent=Pr(h.extent,o.extent):h.extent=o.extent),h.zIndex===void 0&&(h.zIndex=a)}return e},r.prototype.getSourceState=function(){return Ms.READY},r}(rv),di=ll,Zu=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),so=function(n){Zu(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.map=e,o.frameState=i!==void 0?i:null,o}return r}(ze.a),Aa=so,Nl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lo=function(n){Nl(r,n);function r(t,e,i,o,a){var s=n.call(this,t,e,a)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},r}(Aa),dn=lo,Yr={SINGLECLICK:"singleclick",CLICK:Qr.a.CLICK,DBLCLICK:Qr.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},la={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Qo=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ul=function(n){Qo(r,n);function r(t,e){var i=n.call(this,t)||this;i.map_=t,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=e===void 0?1:e,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=Object(Tr.a)(o,la.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=Object(Tr.a)(o,la.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(Qr.a.TOUCHMOVE,i.boundHandleTouchMove_,jt.e?{passive:!1}:!1),i}return r.prototype.emulateClick_=function(t){var e=new dn(Yr.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new dn(Yr.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new dn(Yr.SINGLECLICK,this.map_,t);this.dispatchEvent(i)}.bind(this),250)},r.prototype.updateActivePointers_=function(t){var e=t;e.type==Yr.POINTERUP||e.type==Yr.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Yr.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new dn(Yr.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(Tr.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(t){return t.button===0},r.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var e=new dn(Yr.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_={};for(var i in t){var o=t[i];this.down_[i]=typeof o=="function"?Nt.c:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(Tr.a)(a,Yr.POINTERMOVE,this.handlePointerMove_,this),Object(Tr.a)(a,Yr.POINTERUP,this.handlePointerUp_,this),Object(Tr.a)(this.element_,Yr.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(Object(Tr.a)(this.element_.getRootNode(),Yr.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new dn(Yr.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},r.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new dn(t.type,this.map_,t,e))},r.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},r.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(Tr.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Qr.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(Tr.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Tr.c),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},r}(Re.a),cl=ul,un=u("592d"),wi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Xa=1/0,La=function(){function n(r,t){this.priorityFunction_=r,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(Ir.b)(this.queuedElements_)},n.prototype.dequeue=function(){var r=this.elements_,t=this.priorities_,e=r[0];r.length==1?(r.length=0,t.length=0):(r[0]=r.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(e);return delete this.queuedElements_[i],e},n.prototype.enqueue=function(r){qt(!(this.keyFunction_(r)in this.queuedElements_),31);var t=this.priorityFunction_(r);return t!=Xa?(this.elements_.push(r),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(r){return r*2+1},n.prototype.getRightChildIndex_=function(r){return r*2+2},n.prototype.getParentIndex_=function(r){return r-1>>1},n.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(r){return r in this.queuedElements_},n.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},n.prototype.siftUp_=function(r){for(var t=this.elements_,e=this.priorities_,i=t.length,o=t[r],a=e[r],s=r;r<i>>1;){var c=this.getLeftChildIndex_(r),h=this.getRightChildIndex_(r),p=h<i&&e[h]<e[c]?h:c;t[r]=t[p],e[r]=e[p],r=p}t[r]=o,e[r]=a,this.siftDown_(s,r)},n.prototype.siftDown_=function(r,t){for(var e=this.elements_,i=this.priorities_,o=e[t],a=i[t];t>r;){var s=this.getParentIndex_(t);if(i[s]>a)e[t]=e[s],i[t]=i[s],t=s;else break}e[t]=o,i[t]=a},n.prototype.reprioritize=function(){var r=this.priorityFunction_,t=this.elements_,e=this.priorities_,i=0,o=t.length,a,s,c;for(s=0;s<o;++s)a=t[s],c=r(a),c==Xa?delete this.queuedElements_[this.keyFunction_(a)]:(e[i]=c,t[i++]=a);t.length=i,e.length=i,this.heapify_()},n}(),Uo=La,Lr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Ka=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cc=function(n){Ka(r,n);function r(t,e){var i=n.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=e,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return r.prototype.enqueue=function(t){var e=n.prototype.enqueue.call(this,t);if(e){var i=t[0];i.addEventListener(Qr.a.CHANGE,this.boundHandleTileChange_)}return e},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===Lr.LOADED||i===Lr.ERROR||i===Lr.EMPTY){e.removeEventListener(Qr.a.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(t,e){for(var i=0,o,a,s;this.tilesLoading_<t&&i<e&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===Lr.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},r}(Uo),Fl=Cc;function Ns(n,r,t,e,i){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][r.getKey()])return Xa;var o=n.viewState.center,a=e[0]-o[0],s=e[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}var $t={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ua={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},To={};To[ua.RADIANS]=6370997/(2*Math.PI),To[ua.DEGREES]=2*Math.PI*6370997/360,To[ua.FEET]=.3048,To[ua.METERS]=1,To[ua.USFEET]=1200/3937;var Hi=ua,si={ANIMATING:0,INTERACTING:1},ko={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Ac=42,yu=256,Lc=function(){function n(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||To[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},n.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)},n.prototype.setWorldExtent=function(r){this.worldExtent_=r},n.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),Ra=Lc,sd=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qu=6378137,mu=Math.PI*qu,Rc=[-mu,-mu,mu,mu],ld=[-180,-85,180,85],Pc=qu*Math.log(Math.tan(Math.PI/2)),fl=function(n){sd(r,n);function r(t){return n.call(this,{code:t,units:Hi.METERS,extent:Rc,global:!0,worldExtent:ld,getPointResolution:function(e,i){return e/rd(i[1]/qu)}})||this}return r}(Ra),ud=[new fl("EPSG:3857"),new fl("EPSG:102100"),new fl("EPSG:102113"),new fl("EPSG:900913"),new fl("http://www.opengis.net/def/crs/EPSG/0/3857"),new fl("http://www.opengis.net/gml/srs/epsg.xml#3857")];function cd(n,r,t){var e=n.length,i=t>1?t:2,o=r;o===void 0&&(i>2?o=n.slice():o=new Array(e));for(var a=0;a<e;a+=i){o[a]=mu*n[a]/180;var s=qu*Math.log(Math.tan(Math.PI*(+n[a+1]+90)/360));s>Pc?s=Pc:s<-Pc&&(s=-Pc),o[a+1]=s}return o}function nv(n,r,t){var e=n.length,i=t>1?t:2,o=r;o===void 0&&(i>2?o=n.slice():o=new Array(e));for(var a=0;a<e;a+=i)o[a]=180*n[a]/mu,o[a+1]=360*Math.atan(Math.exp(n[a+1]/qu))/Math.PI-90;return o}var Ic=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iv=6378137,uo=[-180,-90,180,90],fd=Math.PI*iv/180,hl=function(n){Ic(r,n);function r(t,e){return n.call(this,{code:t,units:Hi.DEGREES,extent:uo,axisOrientation:e,global:!0,metersPerUnit:fd,worldExtent:uo})||this}return r}(Ra),Yf=[new hl("CRS:84"),new hl("EPSG:4326","neu"),new hl("urn:ogc:def:crs:OGC:1.3:CRS84"),new hl("urn:ogc:def:crs:OGC:2:84"),new hl("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new hl("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new hl("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Ju={};function ov(n){return Ju[n]||Ju[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Fs(n,r){Ju[n]=r}var js={};function zo(n,r,t){var e=n.getCode(),i=r.getCode();e in js||(js[e]={}),js[e][i]=t}function Mc(n,r){var t;return n in js&&r in js[n]&&(t=js[n][r]),t}var Hf=63710088e-1;function Nc(n,r,t){var e=t||Hf,i=Ya(n[1]),o=Ya(r[1]),a=(o-i)/2,s=Ya(r[0]-n[0])/2,c=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*e*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function hd(n,r,t,e){var i=e||Hf,o=Ya(n[1]),a=Ya(n[0]),s=r/i,c=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(t)),h=a+Math.atan2(Math.sin(t)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(c));return[nd(h),nd(c)]}function Xf(n,r,t){var e;if(r!==void 0){for(var i=0,o=n.length;i<o;++i)r[i]=n[i];e=r}else e=n.slice();return e}function Qu(n,r,t){if(r!==void 0&&n!==r){for(var e=0,i=n.length;e<i;++e)r[e]=n[e];n=r}return n}function dd(n){Fs(n.getCode(),n),zo(n,n,Xf)}function Kf(n){n.forEach(dd)}function an(n){return typeof n=="string"?ov(n):n||null}function Fc(n,r,t,e){n=an(n);var i,o=n.getPointResolutionFunc();if(o){if(i=o(r,t),e&&e!==n.getUnits()){var a=n.getMetersPerUnit();a&&(i=i*a/To[e])}}else{var s=n.getUnits();if(s==Hi.DEGREES&&!e||e==Hi.DEGREES)i=r;else{var c=Dl(n,an("EPSG:4326"));if(c===Qu&&s!==Hi.DEGREES)i=r*n.getMetersPerUnit();else{var h=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];h=c(h,h,2);var p=Nc(h.slice(0,2),h.slice(2,4)),m=Nc(h.slice(4,6),h.slice(6,8));i=(p+m)/2}var a=e?To[e]:n.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function $f(n){Kf(n),n.forEach(function(r){n.forEach(function(t){r!==t&&zo(r,t,Xf)})})}function jl(n,r,t,e){n.forEach(function(i){r.forEach(function(o){zo(i,o,t),zo(o,i,e)})})}function _u(n,r){return n?typeof n=="string"?an(n):n:an(r)}function tc(n){return function(r,t,e){for(var i=r.length,o=e!==void 0?e:2,a=t!==void 0?t:new Array(i),s=0;s<i;s+=o){var c=n([r[s],r[s+1]]);a[s]=c[0],a[s+1]=c[1];for(var h=o-1;h>=2;--h)a[s+h]=r[s+h]}return a}}function pd(n,r,t,e){var i=an(n),o=an(r);zo(i,o,tc(t)),zo(o,i,tc(e))}function Ki(n,r){if(n===r)return!0;var t=n.getUnits()===r.getUnits();if(n.getCode()===r.getCode())return t;var e=Dl(n,r);return e===Xf&&t}function Dl(n,r){var t=n.getCode(),e=r.getCode(),i=Mc(t,e);return i||(i=Qu),i}function Eu(n,r){var t=an(n),e=an(r);return Dl(t,e)}function pn(n,r,t){var e=Eu(r,t);return e(n,void 0,n.length)}function jc(n,r,t,e){var i=Eu(r,t);return al(n,i,void 0,e)}var av=null;function ca(){return av}function dl(n,r){return n}function Ii(n,r){return n}function Bl(n,r){return n}function fa(n,r){return n}function sv(n,r){return n}function vd(n,r,t){return function(e){var i=e[0],o=e[1],a,s;if(n.canWrapX()){var c=n.getExtent(),h=fn(c);s=zt(e,n,h),s&&(i=i-s*h),i=Fi(i,c[0],c[2]),o=Fi(o,c[1],c[3]),a=t([i,o])}else a=t(e);return s&&r.canWrapX()&&(a[0]+=s*fn(r.getExtent())),a}}function lv(){$f(ud),$f(Yf),jl(Yf,ud,cd,nv)}lv();function Dc(n,r,t){return function(e,i,o,a,s){if(e){var c=r?0:o[0]*i,h=r?0:o[1]*i,p=s?s[0]:0,m=s?s[1]:0,w=n[0]+c/2+p,R=n[2]-c/2+p,M=n[1]+h/2+m,U=n[3]-h/2+m;w>R&&(w=(R+w)/2,R=w),M>U&&(M=(U+M)/2,U=M);var Z=Fi(e[0],w,R),lt=Fi(e[1],M,U),pt=30*i;return a&&t&&(Z+=-pt*Math.log(1+Math.max(0,w-e[0])/pt)+pt*Math.log(1+Math.max(0,e[0]-R)/pt),lt+=-pt*Math.log(1+Math.max(0,M-e[1])/pt)+pt*Math.log(1+Math.max(0,e[1]-U)/pt)),[Z,lt]}else return}}function ec(n){return n}var br=u("9f5e");function Zf(n,r,t,e){var i=fn(r)/t[0],o=Ur(r)/t[1];return e?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function Gl(n,r,t){var e=Math.min(n,r),i=50;return e*=Math.log(1+i*Math.max(0,n/r-1))/i+1,t&&(e=Math.max(e,t),e/=Math.log(1+i*Math.max(0,t/n-1))/i+1),Fi(e,t/2,r*2)}function qf(n,r,t,e){return function(i,o,a,s){if(i!==void 0){var c=n[0],h=n[n.length-1],p=t?Zf(c,t,a,e):c;if(s){var m=r!==void 0?r:!0;return m?Gl(i,p,h):Fi(i,h,p)}var w=Math.min(p,i),R=Math.floor(Object(br.h)(n,w,o));return n[R]>p&&R<n.length-1?n[R+1]:n[R]}else return}}function Bc(n,r,t,e,i,o){return function(a,s,c,h){if(a!==void 0){var p=i?Zf(r,i,c,o):r,m=t!==void 0?t:0;if(h){var w=e!==void 0?e:!0;return w?Gl(a,p,m):Fi(a,m,p)}var R=1e-9,M=Math.ceil(Math.log(r/p)/Math.log(n)-R),U=-s*(.5-R)+.5,Z=Math.min(p,a),lt=Math.floor(Math.log(r/Z)/Math.log(n)+U),pt=Math.max(M,lt),xt=r/Math.pow(n,pt);return Fi(xt,m,p)}else return}}function Jf(n,r,t,e,i){return function(o,a,s,c){if(o!==void 0){var h=e?Zf(n,e,s,i):n,p=t!==void 0?t:!0;return!p||!c?Fi(o,r,h):Gl(o,h,r)}else return}}function Gc(n){if(n!==void 0)return 0}function Qf(n){if(n!==void 0)return n}function gd(n){var r=2*Math.PI/n;return function(t,e){if(e)return t;if(t!==void 0)return t=Math.floor(t/r+.5)*r,t}}function Ul(n){var r=n||Ya(5);return function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=r?0:t}}function pl(n){return Math.pow(n,3)}function Pa(n){return 1-pl(1-n)}function Ds(n){return 3*n*n-2*n*n*n}function $a(n){return n}function th(n){return n<.5?Ds(2*n):1-Ds(2*(n-.5))}var gr={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function vl(n,r,t,e,i,o){for(var a=o||[],s=0,c=r;c<t;c+=e){var h=n[c],p=n[c+1];a[s++]=i[0]*h+i[2]*p+i[4],a[s++]=i[1]*h+i[3]*p+i[5]}return o&&a.length!=s&&(a.length=s),a}function xu(n,r,t,e,i,o,a){for(var s=a||[],c=Math.cos(i),h=Math.sin(i),p=o[0],m=o[1],w=0,R=r;R<t;R+=e){var M=n[R]-p,U=n[R+1]-m;s[w++]=p+M*c-U*h,s[w++]=m+M*h+U*c;for(var Z=R+2;Z<R+e;++Z)s[w++]=n[Z]}return a&&s.length!=w&&(s.length=w),s}function uv(n,r,t,e,i,o,a,s){for(var c=s||[],h=a[0],p=a[1],m=0,w=r;w<t;w+=e){var R=n[w]-h,M=n[w+1]-p;c[m++]=h+i*R,c[m++]=p+o*M;for(var U=w+2;U<w+e;++U)c[m++]=n[U]}return s&&c.length!=m&&(c.length=m),c}function Uc(n,r,t,e,i,o,a){for(var s=a||[],c=0,h=r;h<t;h+=e){s[c++]=n[h]+i,s[c++]=n[h+1]+o;for(var p=h+2;p<h+e;++p)s[c++]=n[p]}return a&&s.length!=c&&(s.length=c),s}var eh=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rh=Q(),kc=function(n){eh(r,n);function r(){var t=n.call(this)||this;return t.extent_=et(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(Nt.d)(function(e,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),t}return r.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},r.prototype.clone=function(){return Object(ct.b)()},r.prototype.closestPointXY=function(t,e,i,o){return Object(ct.b)()},r.prototype.containsXY=function(t,e){var i=this.getClosestPoint([t,e]);return i[0]===t&&i[1]===e},r.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},r.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},r.prototype.computeExtent=function(t){return Object(ct.b)()},r.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&V(e),this.extentRevision_=this.getRevision()}return Ho(this.extent_,t)},r.prototype.rotate=function(t,e){Object(ct.b)()},r.prototype.scale=function(t,e,i){Object(ct.b)()},r.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},r.prototype.getSimplifiedGeometry=function(t){return Object(ct.b)()},r.prototype.getType=function(){return Object(ct.b)()},r.prototype.applyTransform=function(t){Object(ct.b)()},r.prototype.intersectsExtent=function(t){return Object(ct.b)()},r.prototype.translate=function(t,e){Object(ct.b)()},r.prototype.transform=function(t,e){var i=an(t),o=i.getUnits()==Hi.TILE_PIXELS?function(a,s,c){var h=i.getExtent(),p=i.getWorldExtent(),m=Ur(p)/Ur(h);return Te(rh,p[0],p[3],m,-m,0,0,0),vl(a,0,a.length,c,rh,s),Eu(i,e)(a,s,c)}:Eu(i,e);return this.applyTransform(o),this},r}(Oo.a),Su=kc,nh=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yd=function(n){nh(r,n);function r(){var t=n.call(this)||this;return t.layout=gr.XY,t.stride=2,t.flatCoordinates=null,t}return r.prototype.computeExtent=function(t){return ye(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinates=function(){return Object(ct.b)()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),i=e.getFlatCoordinates();return i.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},r.prototype.getSimplifiedGeometryInternal=function(t){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(t,e){this.stride=wu(t),this.layout=t,this.flatCoordinates=e},r.prototype.setCoordinates=function(t,e){Object(ct.b)()},r.prototype.setLayout=function(t,e,i){var o;if(t)o=wu(t);else{for(var a=0;a<i;++a)if(e.length===0){this.layout=gr.XY,this.stride=2;return}else e=e[0];o=e.length,t=cv(o)}this.layout=t,this.stride=o},r.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var o=this.getStride();xu(i,0,i.length,o,t,e,i),this.changed()}},r.prototype.scale=function(t,e,i){var o=e;o===void 0&&(o=t);var a=i;a||(a=Kn(this.getExtent()));var s=this.getFlatCoordinates();if(s){var c=this.getStride();uv(s,0,s.length,c,t,o,a,s),this.changed()}},r.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Uc(i,0,i.length,o,t,e,i),this.changed()}},r}(Su);function cv(n){var r;return n==2?r=gr.XY:n==3?r=gr.XYZ:n==4&&(r=gr.XYZM),r}function wu(n){var r;return n==gr.XY?r=2:n==gr.XYZ||n==gr.XYM?r=3:n==gr.XYZM&&(r=4),r}function rc(n,r,t){var e=n.getFlatCoordinates();if(e){var i=n.getStride();return vl(e,0,e.length,i,r,t)}else return null}var ma=yd;function kl(n,r,t,e,i,o,a){var s=n[r],c=n[r+1],h=n[t]-s,p=n[t+1]-c,m;if(h===0&&p===0)m=r;else{var w=((i-s)*h+(o-c)*p)/(h*h+p*p);if(w>1)m=t;else if(w>0){for(var R=0;R<e;++R)a[R]=sl(n[r+R],n[t+R],w);a.length=e;return}else m=r}for(var R=0;R<e;++R)a[R]=n[m+R];a.length=e}function nc(n,r,t,e,i){var o=n[r],a=n[r+1];for(r+=e;r<t;r+=e){var s=n[r],c=n[r+1],h=vu(o,a,s,c);h>i&&(i=h),o=s,a=c}return i}function P(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=nc(n,r,s,e,i),r=s}return i}function ot(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];i=P(n,r,s,e,i),r=s[s.length-1]}return i}function It(n,r,t,e,i,o,a,s,c,h,p){if(r==t)return h;var m,w;if(i===0)if(w=vu(a,s,n[r],n[r+1]),w<h){for(m=0;m<e;++m)c[m]=n[r+m];return c.length=e,w}else return h;for(var R=p||[NaN,NaN],M=r+e;M<t;)if(kl(n,M-e,M,e,a,s,R),w=vu(a,s,R[0],R[1]),w<h){for(h=w,m=0;m<e;++m)c[m]=R[m];c.length=e,M+=e}else M+=e*Math.max((Math.sqrt(w)-Math.sqrt(h))/i|0,1);if(o&&(kl(n,t-e,r,e,a,s,R),w=vu(a,s,R[0],R[1]),w<h)){for(h=w,m=0;m<e;++m)c[m]=R[m];c.length=e}return h}function re(n,r,t,e,i,o,a,s,c,h,p){for(var m=p||[NaN,NaN],w=0,R=t.length;w<R;++w){var M=t[w];h=It(n,r,M,e,i,o,a,s,c,h,m),r=M}return h}function me(n,r,t,e,i,o,a,s,c,h,p){for(var m=p||[NaN,NaN],w=0,R=t.length;w<R;++w){var M=t[w];h=re(n,r,M,e,i,o,a,s,c,h,m),r=M[M.length-1]}return h}function ke(n,r,t,e){for(var i=0,o=t.length;i<o;++i)n[r++]=t[i];return r}function cr(n,r,t,e){for(var i=0,o=t.length;i<o;++i)for(var a=t[i],s=0;s<e;++s)n[r++]=a[s];return r}function Nr(n,r,t,e,i){for(var o=i||[],a=0,s=0,c=t.length;s<c;++s){var h=cr(n,r,t[s],e);o[a++]=h,r=h}return o.length=a,o}function cn(n,r,t,e,i){for(var o=i||[],a=0,s=0,c=t.length;s<c;++s){var h=Nr(n,r,t[s],e,o[a]);o[a++]=h,r=h[h.length-1]}return o.length=a,o}function Hn(n,r,t,e,i,o,a){var s=(t-r)/e;if(s<3){for(;r<t;r+=e)o[a++]=n[r],o[a++]=n[r+1];return a}var c=new Array(s);c[0]=1,c[s-1]=1;for(var h=[r,t-e],p=0;h.length>0;){for(var m=h.pop(),w=h.pop(),R=0,M=n[w],U=n[w+1],Z=n[m],lt=n[m+1],pt=w+e;pt<m;pt+=e){var xt=n[pt],ht=n[pt+1],Vt=$u(xt,ht,M,U,Z,lt);Vt>R&&(p=pt,R=Vt)}R>i&&(c[(p-r)/e]=1,w+e<p&&h.push(w,p),p+e<m&&h.push(p,m))}for(var pt=0;pt<s;++pt)c[pt]&&(o[a++]=n[r+pt*e],o[a++]=n[r+pt*e+1]);return a}function Nn(n,r,t,e,i,o,a,s){for(var c=0,h=t.length;c<h;++c){var p=t[c];a=Hn(n,r,p,e,i,o,a),s.push(a),r=p}return a}function $n(n,r){return r*Math.round(n/r)}function ta(n,r,t,e,i,o,a){if(r==t)return a;var s=$n(n[r],i),c=$n(n[r+1],i);r+=e,o[a++]=s,o[a++]=c;var h,p;do if(h=$n(n[r],i),p=$n(n[r+1],i),r+=e,r==t)return o[a++]=h,o[a++]=p,a;while(h==s&&p==c);for(;r<t;){var m=$n(n[r],i),w=$n(n[r+1],i);if(r+=e,!(m==h&&w==p)){var R=h-s,M=p-c,U=m-s,Z=w-c;if(R*Z==M*U&&(R<0&&U<R||R==U||R>0&&U>R)&&(M<0&&Z<M||M==Z||M>0&&Z>M)){h=m,p=w;continue}o[a++]=h,o[a++]=p,s=h,c=p,h=m,p=w}}return o[a++]=h,o[a++]=p,a}function co(n,r,t,e,i,o,a,s){for(var c=0,h=t.length;c<h;++c){var p=t[c];a=ta(n,r,p,e,i,o,a),s.push(a),r=p}return a}function bo(n,r,t,e,i,o,a,s){for(var c=0,h=t.length;c<h;++c){var p=t[c],m=[];a=co(n,r,p,e,i,o,a,m),s.push(m),r=p[p.length-1]}return a}function Qi(n,r,t,e,i){for(var o=i!==void 0?i:[],a=0,s=r;s<t;s+=e)o[a++]=n.slice(s,s+e);return o.length=a,o}function fo(n,r,t,e,i){for(var o=i!==void 0?i:[],a=0,s=0,c=t.length;s<c;++s){var h=t[s];o[a++]=Qi(n,r,h,e,o[a]),r=h}return o.length=a,o}function Za(n,r,t,e,i){for(var o=i!==void 0?i:[],a=0,s=0,c=t.length;s<c;++s){var h=t[s];o[a++]=fo(n,r,h,e,o[a]),r=h[h.length-1]}return o.length=a,o}function Ia(n,r,t,e){for(var i=0,o=n[t-e],a=n[t-e+1];r<t;r+=e){var s=n[r],c=n[r+1];i+=a*s-o*c,o=s,a=c}return i/2}function gl(n,r,t,e){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=Ia(n,r,s,e),r=s}return i}function md(n,r,t,e){for(var i=0,o=0,a=t.length;o<a;++o){var s=t[o];i+=gl(n,r,s,e),r=s[s.length-1]}return i}var ih=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oh=function(n){ih(r,n);function r(t,e){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(t,e,i,o){return o<Bt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),It(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.getArea=function(){return Ia(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return Qi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Hn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,gr.XY)},r.prototype.getType=function(){return $t.LINEAR_RING},r.prototype.intersectsExtent=function(t){return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(ma),Bs=oh,ah=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sh=function(n){ah(r,n);function r(t,e){var i=n.call(this)||this;return i.setCoordinates(t,e),i}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){var a=this.flatCoordinates,s=vu(t,e,a[0],a[1]);if(s<o){for(var c=this.stride,h=0;h<c;++h)i[h]=a[h];return i.length=c,s}else return o},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(t){return at(this.flatCoordinates,t)},r.prototype.getType=function(){return $t.POINT},r.prototype.intersectsExtent=function(t){return ge(t,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ke(this.flatCoordinates,0,t,this.stride),this.changed()},r}(ma),kn=sh;function Ma(n,r,t,e,i){var o=Gn(i,function(a){return!fs(n,r,t,e,a[0],a[1])});return!o}function fs(n,r,t,e,i,o){for(var a=0,s=n[t-e],c=n[t-e+1];r<t;r+=e){var h=n[r],p=n[r+1];c<=o?p>o&&(h-s)*(o-c)-(i-s)*(p-c)>0&&a++:p<=o&&(h-s)*(o-c)-(i-s)*(p-c)<0&&a--,s=h,c=p}return a!==0}function Ou(n,r,t,e,i,o){if(t.length===0||!fs(n,r,t[0],e,i,o))return!1;for(var a=1,s=t.length;a<s;++a)if(fs(n,t[a-1],t[a],e,i,o))return!1;return!0}function zc(n,r,t,e,i,o){if(t.length===0)return!1;for(var a=0,s=t.length;a<s;++a){var c=t[a];if(Ou(n,r,c,e,i,o))return!0;r=c[c.length-1]}return!1}function ic(n,r,t,e,i,o,a){for(var s,c,h,p,m,w,R,M=i[o+1],U=[],Z=0,lt=t.length;Z<lt;++Z){var pt=t[Z];for(p=n[pt-e],w=n[pt-e+1],s=r;s<pt;s+=e)m=n[s],R=n[s+1],(M<=w&&R<=M||w<=M&&M<=R)&&(h=(M-w)/(R-w)*(m-p)+p,U.push(h)),p=m,w=R}var xt=NaN,ht=-1/0;for(U.sort(br.i),p=U[0],s=1,c=U.length;s<c;++s){m=U[s];var Vt=Math.abs(m-p);Vt>ht&&(h=(p+m)/2,Ou(n,r,t,e,h,M)&&(xt=h,ht=Vt)),p=m}return isNaN(xt)&&(xt=i[o]),a?(a.push(xt,M,ht),a):[xt,M,ht]}function _a(n,r,t,e,i){for(var o=[],a=0,s=t.length;a<s;++a){var c=t[a];o=ic(n,r,c,e,i,2*a,o),r=c[c.length-1]}return o}function _d(n,r,t,e,i){var o;for(r+=e;r<t;r+=e)if(o=i(n.slice(r-e,r),n.slice(r,r+e)),o)return o;return!1}function Tu(n,r,t,e,i){var o=Xn(et(),n,r,t,e);return vi(i,o)?he(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:_d(n,r,t,e,function(a,s){return pu(i,a,s)}):!1}function Ed(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){if(Tu(n,r,t[o],e,i))return!0;r=t[o]}return!1}function Gs(n,r,t,e,i){return!!(Tu(n,r,t,e,i)||fs(n,r,t,e,i[0],i[1])||fs(n,r,t,e,i[0],i[3])||fs(n,r,t,e,i[2],i[1])||fs(n,r,t,e,i[2],i[3]))}function Vc(n,r,t,e,i){if(!Gs(n,r,t[0],e,i))return!1;if(t.length===1)return!0;for(var o=1,a=t.length;o<a;++o)if(Ma(n,t[o-1],t[o],e,i)&&!Tu(n,t[o-1],t[o],e,i))return!1;return!0}function fv(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(Vc(n,r,s,e,i))return!0;r=s[s.length-1]}return!1}function hv(n,r,t,e){for(;r<t-e;){for(var i=0;i<e;++i){var o=n[r+i];n[r+i]=n[t-e+i],n[t-e+i]=o}r+=e,t-=e}}function Us(n,r,t,e){for(var i=0,o=n[t-e],a=n[t-e+1];r<t;r+=e){var s=n[r],c=n[r+1];i+=(s-o)*(c+a),o=s,a=c}return i===0?void 0:i>0}function qa(n,r,t,e,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var c=t[a],h=Us(n,r,c,e);if(a===0){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;r=c}return!0}function ks(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o){var s=t[o];if(!qa(n,r,s,e,i))return!1;s.length&&(r=s[s.length-1])}return!0}function yl(n,r,t,e,i){for(var o=i!==void 0?i:!1,a=0,s=t.length;a<s;++a){var c=t[a],h=Us(n,r,c,e),p=a===0?o&&h||!o&&!h:o&&!h||!o&&h;p&&hv(n,r,c,e),r=c}return r}function zs(n,r,t,e,i){for(var o=0,a=t.length;o<a;++o)r=yl(n,r,t[o],e,i);return r}var zl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vl=function(n){zl(r,n);function r(t,e,i){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,e!==void 0&&i?(o.setFlatCoordinates(e,t),o.ends_=i):o.setCoordinates(t,e),o}return r.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(br.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<Bt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(P(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),re(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.containsXY=function(t,e){return Ou(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},r.prototype.getArea=function(){return gl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),yl(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,fo(e,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Kn(this.getExtent());this.flatInteriorPoint_=ic(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new kn(this.getFlatInteriorPoint(),gr.XYM)},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Bs(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,c=i.length;s<c;++s){var h=i[s],p=new Bs(e.slice(a,h),t);o.push(p),a=h}return o},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;qa(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=yl(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=co(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new r(e,gr.XY,i)},r.prototype.getType=function(){return $t.POLYGON},r.prototype.intersectsExtent=function(t){return Vc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Nr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(ma),li=Vl;function Wc(n,r,t,e){for(var i=t||32,o=[],a=0;a<i;++a)Object(br.c)(o,hd(n,r,2*Math.PI*a/i,e));return o.push(o[0],o[1]),new Vl(o,gr.XY,[o.length])}function hs(n){var r=n[0],t=n[1],e=n[2],i=n[3],o=[r,t,r,i,e,i,e,t,r,t];return new Vl(o,gr.XY,[o.length])}function Wl(n,r,t){for(var e=r||32,i=n.getStride(),o=n.getLayout(),a=n.getCenter(),s=i*(e+1),c=new Array(s),h=0;h<s;h+=i){c[h]=0,c[h+1]=0;for(var p=2;p<i;p++)c[h+p]=a[p]}var m=[c.length],w=new Vl(c,o,m);return Vs(w,a,n.getRadius(),t),w}function Vs(n,r,t,e){for(var i=n.getFlatCoordinates(),o=n.getStride(),a=i.length/o-1,s=e||0,c=0;c<=a;++c){var h=c*o,p=s+Ps(c,a)*2*Math.PI/a;i[h]=r[0]+t*Math.cos(p),i[h+1]=r[1]+t*Math.sin(p)}n.changed()}var Yl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hl=0,Yc=function(n){Yl(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=Object(Ir.a)({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=_u(i.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,i.center&&(i.center=Ii(i.center,e.projection_)),i.extent&&(i.extent=fa(i.extent,e.projection_)),e.applyOptions_(i),e}return r.prototype.applyOptions_=function(t){var e=Object(Ir.a)({},t);for(var i in ko)delete e[i];this.setProperties(e,!0);var o=lh(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var a=bu(t),s=o.constraint,c=ds(t);this.constraints_={center:a,resolution:s,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(r.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var i=this.getCenter();if(i){var o=t||[0,0,0,0];e=e||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-e[3]+e[1]-o[1]),c=a/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-c])}},enumerable:!1,configurable:!0}),r.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(Ir.a)({},e,t)},r.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var o=arguments[i];o.center&&(o=Object(Ir.a)({},o),o.center=Ii(o.center,this.getProjection())),o.anchor&&(o=Object(Ir.a)({},o),o.anchor=Ii(o.anchor,this.getProjection())),e[i]=o}this.animateInternal.apply(this,e)},r.prototype.animateInternal=function(t){var e=arguments.length,i;e>1&&typeof arguments[e-1]=="function"&&(i=arguments[e-1],--e);for(var o=0;o<e&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===e){i&&ml(i,!0);return}for(var s=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,p=this.targetRotation_,m=[];o<e;++o){var w=arguments[o],R={start:s,complete:!1,anchor:w.anchor,duration:w.duration!==void 0?w.duration:1e3,easing:w.easing||Ds,callback:i};if(w.center&&(R.sourceCenter=c,R.targetCenter=w.center.slice(),c=R.targetCenter),w.zoom!==void 0?(R.sourceResolution=h,R.targetResolution=this.getResolutionForZoom(w.zoom),h=R.targetResolution):w.resolution&&(R.sourceResolution=h,R.targetResolution=w.resolution,h=R.targetResolution),w.rotation!==void 0){R.sourceRotation=p;var M=Ps(w.rotation-p+Math.PI,2*Math.PI)-Math.PI;R.targetRotation=p+M,p=R.targetRotation}Xl(R)?R.complete=!0:s+=R.duration,m.push(R)}this.animations_.push(m),this.setHint(si.ANIMATING,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[si.ANIMATING]>0},r.prototype.getInteracting=function(){return this.hints_[si.INTERACTING]>0},r.prototype.cancelAnimations=function(){this.setHint(si.ANIMATING,-this.hints_[si.ANIMATING]);for(var t,e=0,i=this.animations_.length;e<i;++e){var o=this.animations_[e];if(o[0].callback&&ml(o[0].callback,!1),!t)for(var a=0,s=o.length;a<s;++a){var c=o[a];if(!c.complete){t=c.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},r.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,c=o.length;s<c;++s){var h=o[s];if(!h.complete){var p=t-h.start,m=h.duration>0?p/h.duration:1;m>=1?(h.complete=!0,m=1):a=!1;var w=h.easing(m);if(h.sourceCenter){var R=h.sourceCenter[0],M=h.sourceCenter[1],U=h.targetCenter[0],Z=h.targetCenter[1];this.nextCenter_=h.targetCenter;var lt=R+w*(U-R),pt=M+w*(Z-M);this.targetCenter_=[lt,pt]}if(h.sourceResolution&&h.targetResolution){var xt=w===1?h.targetResolution:h.sourceResolution+w*(h.targetResolution-h.sourceResolution);if(h.anchor){var ht=this.getViewportSize_(this.getRotation()),Vt=this.constraints_.resolution(xt,0,ht,!0);this.targetCenter_=this.calculateCenterZoom(Vt,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=xt,this.applyTargetState_(!0)}if(h.sourceRotation!==void 0&&h.targetRotation!==void 0){var kt=w===1?Ps(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+w*(h.targetRotation-h.sourceRotation);if(h.anchor){var Zt=this.constraints_.rotation(kt,!0);this.targetCenter_=this.calculateCenterRotate(Zt,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=kt}if(this.applyTargetState_(!0),e=!0,!h.complete)break}}if(a){this.animations_[i]=null,this.setHint(si.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var Xt=o[0].callback;Xt&&ml(Xt,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-e[0],o[1]-e[1]],Y(i,t-this.getRotation()),j(i,e)),i},r.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=e[0]-t*(e[0]-o[0])/a,c=e[1]-t*(e[1]-o[1])/a;i=[s,c]}return i},r.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var i=e[0],o=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return e},r.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&dl(t,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get(ko.CENTER)},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},r.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},r.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Bl(e,this.getProjection())},r.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();qt(i,1);var o=this.getResolution();qt(o!==void 0,2);var a=this.getRotation();return qt(a!==void 0,3),Pi(i,o,a,e)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},r.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get(ko.RESOLUTION)},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(fa(t,this.getProjection()),e)},r.prototype.getResolutionForExtentInternal=function(t,e){var i=e||this.getViewportSizeMinusPadding_(),o=fn(t)/i[0],a=Ur(t)/i[1];return Math.max(o,a)},r.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(e);return function(s){var c=i/Math.pow(e,s*a);return c}},r.prototype.getRotation=function(){return this.get(ko.ROTATION)},r.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/e;return function(s){var c=Math.log(i/s)/e/a;return c}},r.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e},r.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=ji(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],e,i)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},r.prototype.getZoom=function(){var t,e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t},r.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0,i,o;if(this.resolutions_){var a=Object(br.h)(this.resolutions_,t,1);e=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return e+Math.log(i/t)/Math.log(o)},r.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Fi(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(i,Fi(t-e,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},r.prototype.fit=function(t,e){var i;if(qt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){qt(!Do(t),25);var o=fa(t,this.getProjection());i=hs(o)}else if(t.getType()===$t.CIRCLE){var o=fa(t.getExtent(),this.getProjection());i=hs(o),i.rotate(this.getRotation(),Kn(o))}else{var a=ca();a?i=t.clone().transform(a,this.getProjection()):i=t}this.fitInternal(i,e)},r.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),i=Math.cos(e),o=Math.sin(-e),a=t.getFlatCoordinates(),s=t.getStride(),c=1/0,h=1/0,p=-1/0,m=-1/0,w=0,R=a.length;w<R;w+=s){var M=a[w]*i-a[w+1]*o,U=a[w]*o+a[w+1]*i;c=Math.min(c,M),h=Math.min(h,U),p=Math.max(p,M),m=Math.max(m,U)}return[c,h,p,m]},r.prototype.fitInternal=function(t,e){var i=e||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,c;i.minResolution!==void 0?c=i.minResolution:i.maxZoom!==void 0?c=this.getResolutionForZoom(i.maxZoom):c=0;var h=this.rotatedExtentForGeometry(t),p=this.getResolutionForExtentInternal(h,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);p=isNaN(p)?c:Math.max(p,c),p=this.getConstrainedResolution(p,s?0:1);var m=this.getRotation(),w=Math.sin(m),R=Math.cos(m),M=Kn(h);M[0]+=(a[1]-a[3])/2*p,M[1]+=(a[0]-a[2])/2*p;var U=M[0]*R-M[1]*w,Z=M[1]*R+M[0]*w,lt=this.getConstrainedCenter([U,Z],p),pt=i.callback?i.callback:Nt.c;i.duration!==void 0?this.animateInternal({resolution:p,center:lt,duration:i.duration,easing:i.easing},pt):(this.targetResolution_=p,this.targetCenter_=lt,this.applyTargetState_(!1,!0),ml(pt,!0))},r.prototype.centerOn=function(t,e,i){this.centerOnInternal(Ii(t,this.getProjection()),e,i)},r.prototype.centerOnInternal=function(t,e,i){this.setCenterInternal(ji(t,e,i,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(t,e,i,o){var a,s=this.padding_;if(s&&t){var c=this.getViewportSizeMinusPadding_(-i),h=ji(t,o,[c[0]/2+s[3],c[1]/2+s[0]],e,i);a=[t[0]-h[0],t[1]-h[1]]}return a},r.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},r.prototype.adjustCenter=function(t){var e=dl(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustResolution=function(t,e){var i=e&&Ii(e,this.getProjection());this.adjustResolutionInternal(t,i)},r.prototype.adjustResolutionInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,o,i);e&&(this.targetCenter_=this.calculateCenterZoom(a,e)),this.targetResolution_*=t,this.applyTargetState_()},r.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},r.prototype.adjustRotation=function(t,e){e&&(e=Ii(e,this.getProjection())),this.adjustRotationInternal(t,e)},r.prototype.adjustRotationInternal=function(t,e){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},r.prototype.setCenter=function(t){this.setCenterInternal(Ii(t,this.getProjection()))},r.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},r.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},r.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},r.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},r.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},r.prototype.applyTargetState_=function(t,e){var i=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),c=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(ko.ROTATION)!==o&&this.set(ko.ROTATION,o),this.get(ko.RESOLUTION)!==s&&(this.set(ko.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!c||!this.get(ko.CENTER)||!k(this.get(ko.CENTER),c))&&this.set(ko.CENTER,c),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(t,e,i){var o=t!==void 0?t:200,a=e||0,s=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(s),h=this.constraints_.resolution(this.targetResolution_,a,c),p=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,s,c));if(o===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=s,this.targetCenter_=p,this.applyTargetState_();return}var m=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==s||!this.getCenterInternal()||!k(this.getCenterInternal(),p))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:p,resolution:h,duration:o,easing:Pa,anchor:m}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(si.INTERACTING,1)},r.prototype.endInteraction=function(t,e,i){var o=i&&Ii(i,this.getProjection());this.endInteractionInternal(t,e,o)},r.prototype.endInteractionInternal=function(t,e,i){this.setHint(si.INTERACTING,-1),this.resolveConstraints(t,e,i)},r.prototype.getConstrainedCenter=function(t,e){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)},r.prototype.getConstrainedZoom=function(t,e){var i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))},r.prototype.getConstrainedResolution=function(t,e){var i=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,i,o)},r}(Oo.a);function ml(n,r){setTimeout(function(){n(r)},0)}function bu(n){if(n.extent!==void 0){var r=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return Dc(n.extent,n.constrainOnlyCenter,r)}var t=_u(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&t.isGlobal()){var e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Dc(e,!1,!1)}return ec}function lh(n){var r,t,e,i=28,o=2,a=n.minZoom!==void 0?n.minZoom:Hl,s=n.maxZoom!==void 0?n.maxZoom:i,c=n.zoomFactor!==void 0?n.zoomFactor:o,h=n.multiWorld!==void 0?n.multiWorld:!1,p=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,m=n.showFullExtent!==void 0?n.showFullExtent:!1,w=_u(n.projection,"EPSG:3857"),R=w.getExtent(),M=n.constrainOnlyCenter,U=n.extent;if(!h&&!U&&w.isGlobal()&&(M=!1,U=R),n.resolutions!==void 0){var Z=n.resolutions;t=Z[a],e=Z[s]!==void 0?Z[s]:Z[Z.length-1],n.constrainResolution?r=qf(Z,p,!M&&U,m):r=Jf(t,e,p,!M&&U,m)}else{var lt=R?Math.max(fn(R),Ur(R)):360*To[Hi.DEGREES]/w.getMetersPerUnit(),pt=lt/yu/Math.pow(o,Hl),xt=pt/Math.pow(o,i-Hl);t=n.maxResolution,t!==void 0?a=0:t=pt/Math.pow(c,a),e=n.minResolution,e===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?e=t/Math.pow(c,s):e=pt/Math.pow(c,s):e=xt),s=a+Math.floor(Math.log(t/e)/Math.log(c)),e=t/Math.pow(c,s-a),n.constrainResolution?r=Bc(c,t,e,p,!M&&U,m):r=Jf(t,e,p,!M&&U,m)}return{constraint:r,maxResolution:t,minResolution:e,minZoom:a,zoomFactor:c}}function ds(n){var r=n.enableRotation!==void 0?n.enableRotation:!0;if(r){var t=n.constrainRotation;return t===void 0||t===!0?Ul():t===!1?Qf:typeof t=="number"?gd(t):Qf}else return Gc}function Xl(n){return!(n.sourceCenter&&n.targetCenter&&!k(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function ji(n,r,t,e,i){var o=Math.cos(-i),a=Math.sin(-i),s=n[0]*o-n[1]*a,c=n[1]*o+n[0]*a;s+=(r[0]/2-t[0])*e,c+=(t[1]-r[1]/2)*e,a=-a;var h=s*o-c*a,p=c*o+s*a;return[h,p]}var ui=Yc;function ho(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]+2*r,t[1]=n[1]+2*r,t}function Co(n){return n[0]>0&&n[1]>0}function _l(n,r,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*r+.5|0,t[1]=n[1]*r+.5|0,t}function to(n,r){return Array.isArray(n)?n:(r===void 0?r=[n,n]:(r[0]=n,r[1]=n),r)}var Hc=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function uh(n){if(n instanceof E){n.setMapInternal(null);return}n instanceof di&&n.getLayers().forEach(uh)}function dv(n,r){if(n instanceof E){n.setMapInternal(r);return}if(n instanceof di)for(var t=n.getLayers().getArray(),e=0,i=t.length;e<i;++e)dv(t[e],r)}var ry=function(n){Hc(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=ny(t);e.renderComplete_,e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,e.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:jt.a,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=Q(),e.pixelToCoordinateTransform_=Q(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=i.keyboardEventTarget,e.targetChangeHandlerKeys_=null,e.controls=i.controls||new hn,e.interactions=i.interactions||new hn,e.overlays_=i.overlays,e.overlayIdIndex_={},e.renderer_=null,e.postRenderFunctions_=[],e.tileQueue_=new Fl(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addChangeListener(wi.LAYERGROUP,e.handleLayerGroupChanged_),e.addChangeListener(wi.VIEW,e.handleViewChanged_),e.addChangeListener(wi.SIZE,e.handleSizeChanged_),e.addChangeListener(wi.TARGET,e.handleTargetChanged_),e.setProperties(i.values);var o=e;return t.view&&!(t.view instanceof ui)&&t.view.then(function(a){o.setView(new ui(a))}),e.controls.addEventListener(En.ADD,function(a){a.element.setMap(this)}.bind(e)),e.controls.addEventListener(En.REMOVE,function(a){a.element.setMap(null)}.bind(e)),e.interactions.addEventListener(En.ADD,function(a){a.element.setMap(this)}.bind(e)),e.interactions.addEventListener(En.REMOVE,function(a){a.element.setMap(null)}.bind(e)),e.overlays_.addEventListener(En.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(e)),e.overlays_.addEventListener(En.REMOVE,function(a){var s=a.element,c=s.getId();c!==void 0&&delete this.overlayIdIndex_[c.toString()],a.element.setMap(null)}.bind(e)),e.controls.forEach(function(a){a.setMap(this)}.bind(e)),e.interactions.forEach(function(a){a.setMap(this)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e}return r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(t){this.getControls().push(t)},r.prototype.addInteraction=function(t){this.getInteractions().push(t)},r.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},r.prototype.handleLayerAdd_=function(t){dv(t.layer,this)},r.prototype.addOverlay=function(t){this.getOverlays().push(t)},r.prototype.addOverlayInternal_=function(t){var e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(t,e,i){if(!!this.frameState_){var o=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Nt.b,c=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,c,e,null,s,null)}},r.prototype.getFeaturesAtPixel=function(t,e){var i=[];return this.forEachFeatureAtPixel(t,function(o){i.push(o)},e),i},r.prototype.getAllLayers=function(){var t=[];function e(i){i.forEach(function(o){o instanceof di?e(o.getLayers()):t.push(o)})}return e(this.getLayers()),t},r.prototype.forEachLayerAtPixel=function(t,e,i){if(!!this.frameState_){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||Nt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,a,e,s)}},r.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};var o=e.layerFilter!==void 0?e.layerFilter:Nt.b,a=e.hitTolerance!==void 0?e.hitTolerance:0,s=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},r.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},r.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},r.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},r.prototype.getTarget=function(){return this.get(wi.TARGET)},r.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},r.prototype.getCoordinateFromPixel=function(t){return dl(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Me(e.pixelToCoordinateTransform,t.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get(wi.LAYERGROUP)},r.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof hn){e.setLayers(t);return}var i=e.getLayers();i.clear(),i.extend(t)},r.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},r.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var o=t[e].layer,a=o.getSource();if(a&&a.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(t){var e=Ii(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},r.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Me(e.coordinateToPixelTransform,t.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get(wi.SIZE)},r.prototype.getView=function(){return this.get(wi.VIEW)},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},r.prototype.getTilePriority=function(t,e,i,o){return Ns(this.frameState_,t,e,i,o)},r.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new dn(i,this,t);this.handleMapBrowserEvent(o)},r.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var e=t.originalEvent,i=e.type;if(i===la.POINTERDOWN||i===Qr.a.WHEEL||i===Qr.a.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=e.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var c=this.getInteractions().getArray().slice(),h=c.length-1;h>=0;h--){var p=c[h];if(!(p.getMap()!==this||!p.getActive()||!this.getTargetElement())){var m=p.handleEvent(t);if(!m||t.propagationStopped)break}}}},r.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var a=t.viewHints;if(a[si.ANIMATING]||a[si.INTERACTING]){var s=Date.now()-t.time>8;i=s?0:8,o=s?0:2}}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}t&&this.hasListener(Ha.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Ha.RENDERCOMPLETE,t);for(var c=this.postRenderFunctions_,h=0,p=c.length;h<p;++h)c[h](this,t);c.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Object(Tr.c)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Qr.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Qr.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(je.e)(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new cl(this,this.moveTolerance_);for(var o in Yr)this.mapBrowserEventHandler_.addEventListener(Yr[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Qr.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Qr.a.WHEEL,this.boundHandleBrowserEvent_,jt.e?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[Object(Tr.a)(s,Qr.a.KEYDOWN,this.handleBrowserEvent,this),Object(Tr.a)(s,Qr.a.KEYPRESS,this.handleBrowserEvent,this),Object(Tr.a)(a,Qr.a.RESIZE,this.updateSize,this)]}this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(Tr.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(Tr.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(Tr.a)(t,xe.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(Tr.a)(t,Qr.a.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Tr.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new hi("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Object(Tr.a)(t,xe.a.PROPERTYCHANGE,this.render,this),Object(Tr.a)(t,Qr.a.CHANGE,this.render,this),Object(Tr.a)(t,"addlayer",this.handleLayerAdd_,this),Object(Tr.a)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,i=t.length;e<i;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(t){return this.getControls().remove(t)},r.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},r.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},r.prototype.handleLayerRemove_=function(t){uh(t.layer)},r.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},r.prototype.renderFrame_=function(t){var e=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&Co(i)&&o&&o.isDef()){var c=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Pi(h.center,h.resolution,h.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:Object(ct.c)(this),renderTargets:{}},h.nextCenter&&h.nextResolution){var p=isNaN(h.nextRotation)?h.rotation:h.nextRotation;s.nextExtent=Pi(h.nextCenter,h.nextResolution,p,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var m=!this.previousExtent_||!Do(this.previousExtent_)&&!hr(s.extent,this.previousExtent_);m&&(this.dispatchEvent(new Aa(un.a.MOVESTART,this,a)),this.previousExtent_=V(this.previousExtent_))}var w=this.previousExtent_&&!s.viewHints[si.ANIMATING]&&!s.viewHints[si.INTERACTING]&&!hr(s.extent,this.previousExtent_);w&&(this.dispatchEvent(new Aa(un.a.MOVEEND,this,s)),Wt(s.extent,this.previousExtent_))}this.dispatchEvent(new Aa(un.a.POSTRENDER,this,s)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},r.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new hi("removelayer",e)),this.set(wi.LAYERGROUP,t)},r.prototype.setSize=function(t){this.set(wi.SIZE,t)},r.prototype.setTarget=function(t){this.set(wi.TARGET,t)},r.prototype.setView=function(t){if(!t||t instanceof ui){this.set(wi.VIEW,t);return}this.set(wi.VIEW,new ui);var e=this;t.then(function(i){e.setView(new ui(i))})},r.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var i=getComputedStyle(t),o=t.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=t.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(e=[o,a],!Co(e)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(e=[parseInt(i.width,10),parseInt(i.height,10)]),t.setViewportSize(e)}},r}(Oo.a);function ny(n){var r=null;n.keyboardEventTarget!==void 0&&(r=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var t={},e=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new di({layers:n.layers});t[wi.LAYERGROUP]=e,t[wi.TARGET]=n.target,t[wi.VIEW]=n.view instanceof ui?n.view:new ui;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new hn(n.controls.slice()):(qt(typeof n.controls.getArray=="function",47),i=n.controls));var o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new hn(n.interactions.slice()):(qt(typeof n.interactions.getArray=="function",48),o=n.interactions));var a;return n.overlays!==void 0?Array.isArray(n.overlays)?a=new hn(n.overlays.slice()):(qt(typeof n.overlays.getArray=="function",49),a=n.overlays):a=new hn,{controls:i,interactions:o,keyboardEventTarget:r,overlays:a,values:t}}var pv=ry,ii=u("3900"),iy=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vv=function(n){iy(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.ulElement_=document.createElement("ul"),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=i.collapsible!==void 0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",c=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",h=i.collapseClassName!==void 0?i.collapseClassName:o+"-collpase";typeof c=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=c,e.collapseLabel_.className=h):e.collapseLabel_=c;var p=i.label!==void 0?i.label:"i";typeof p=="string"?(e.label_=document.createElement("span"),e.label_.textContent=p,e.label_.className=s):e.label_=p;var m=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;e.toggleButton_=document.createElement("button"),e.toggleButton_.setAttribute("type","button"),e.toggleButton_.setAttribute("aria-expanded",String(!e.collapsed_)),e.toggleButton_.title=a,e.toggleButton_.appendChild(m),e.toggleButton_.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e),!1);var w=o+" "+er+" "+Pt+(e.collapsed_&&e.collapsible_?" "+ue:"")+(e.collapsible_?"":" ol-uncollapsible"),R=e.element;return R.className=w,R.appendChild(e.toggleButton_),R.appendChild(e.ulElement_),e.renderedAttributions_=[],e.renderedVisible_=!0,e}return r.prototype.collectSourceAttributions_=function(t){for(var e={},i=[],o=!0,a=t.layerStatesArray,s=0,c=a.length;s<c;++s){var h=a[s];if(!!T(h,t.viewState)){var p=h.layer.getSource();if(!!p){var m=p.getAttributions();if(!!m){var w=m(t);if(!!w)if(o=o&&p.getAttributionsCollapsible()!==!1,Array.isArray(w))for(var R=0,M=w.length;R<M;++R)w[R]in e||(i.push(w[R]),e[w[R]]=!0);else w in e||(i.push(w),e[w]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},r.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=this.collectSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Object(br.b)(e,this.renderedAttributions_)){Object(je.d)(this.ulElement_);for(var o=0,a=e.length;o<a;++o){var s=document.createElement("li");s.innerHTML=e[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle(ue),this.collapsed_?Object(je.g)(this.collapseLabel_,this.label_):Object(je.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(t){this.updateElement_(t.frameState)},r}(ii.default),ch=vv,Ja=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ps=function(n){Ja(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"\u21E7",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";e.label_=null,typeof a=="string"?(e.label_=document.createElement("span"),e.label_.className=s,e.label_.textContent=a):(e.label_=a,e.label_.classList.add(s));var c=i.tipLabel?i.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=c,h.appendChild(e.label_),h.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e),!1);var p=o+" "+er+" "+Pt,m=e.element;return m.className=p,m.appendChild(h),e.callResetNorth_=i.resetNorth?i.resetNorth:void 0,e.duration_=i.duration!==void 0?i.duration:250,e.autoHide_=i.autoHide!==void 0?i.autoHide:!0,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(pe),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(!!e){var i=e.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Pa}):e.setRotation(0))}},r.prototype.render=function(t){var e=t.frameState;if(!!e){var i=e.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(pe);!a&&i===0?this.element.classList.add(pe):a&&i!==0&&this.element.classList.remove(pe)}this.label_.style.transform=o}this.rotation_=i}},r}(ii.default),fh=ps,xd=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oy=function(n){xd(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",c=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",h=i.zoomInLabel!==void 0?i.zoomInLabel:"+",p=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",m=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",w=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",R=document.createElement("button");R.className=s,R.setAttribute("type","button"),R.title=m,R.appendChild(typeof h=="string"?document.createTextNode(h):h),R.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e,a),!1);var M=document.createElement("button");M.className=c,M.setAttribute("type","button"),M.title=w,M.appendChild(typeof p=="string"?document.createTextNode(p):p),M.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e,-a),!1);var U=o+" "+er+" "+Pt,Z=e.element;return Z.className=U,Z.appendChild(R),Z.appendChild(M),e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},r.prototype.zoomByDelta_=function(t){var e=this.getMap(),i=e.getView();if(!!i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Pa})):i.setZoom(a)}}},r}(ii.default),hh=oy;function Sd(n){var r=n||{},t=new hn,e=r.zoom!==void 0?r.zoom:!0;e&&t.push(new hh(r.zoomOptions));var i=r.rotate!==void 0?r.rotate:!0;i&&t.push(new fh(r.rotateOptions));var o=r.attribution!==void 0?r.attribution:!0;return o&&t.push(new ch(r.attributionOptions)),t}var dh={ACTIVE:"active"},ay=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gv=function(n){ay(r,n);function r(t){var e=n.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return r.prototype.getActive=function(){return this.get(dh.ACTIVE)},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(t){return!0},r.prototype.setActive=function(t){this.set(dh.ACTIVE,t)},r.prototype.setMap=function(t){this.map_=t},r}(Oo.a);function yv(n,r,t){var e=n.getCenterInternal();if(e){var i=[e[0]+r[0],e[1]+r[1]];n.animateInternal({duration:t!==void 0?t:250,easing:$a,center:n.getConstrainedCenter(i)})}}function Xc(n,r,t,e){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+r),a=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:a,anchor:t,duration:e!==void 0?e:250,easing:Pa})}}var Cu=gv,t1=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),e1=function(n){t1(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==Yr.DBLCLICK){var i=t.originalEvent,o=t.map,a=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,c=o.getView();Xc(c,s,a,this.duration_),i.preventDefault(),e=!0}return!e},r}(Cu),sy=e1,r1=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),n1=function(n){r1(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,i.handleDownEvent&&(e.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(e.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(e.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(e.handleUpEvent=i.handleUpEvent),i.stopDown&&(e.stopDown=i.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}return r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(t){return!1},r.prototype.handleDragEvent=function(t){},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Yr.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Yr.POINTERUP){var i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Yr.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==Yr.POINTERMOVE&&this.handleMoveEvent(t);return!e},r.prototype.handleMoveEvent=function(t){},r.prototype.handleUpEvent=function(t){return!1},r.prototype.stopDown=function(t){return t},r.prototype.updateTrackedPointers_=function(t){if(i1(t)){var e=t.originalEvent,i=e.pointerId.toString();t.type==Yr.POINTERUP?delete this.trackedPointers_[i]:t.type==Yr.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=Object(Ir.c)(this.trackedPointers_)}},r}(Cu);function mv(n){for(var r=n.length,t=0,e=0,i=0;i<r;i++)t+=n[i].clientX,e+=n[i].clientY;return[t/r,e/r]}function i1(n){var r=n.type;return r===Yr.POINTERDOWN||r===Yr.POINTERDRAG||r===Yr.POINTERUP}var Qa=n1;function Kc(n){var r=arguments;return function(t){for(var e=!0,i=0,o=r.length;i<o&&(e=e&&r[i](t),!!e);++i);return e}}var wd=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},$c=function(n){var r=n.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},ly=function(n){var r=n.map.getTargetElement(),t=n.map.getOwnerDocument().activeElement;return r.contains(t)},_v=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?ly(n):!0},ph=Nt.b,o1=function(n){return n.type==Yr.CLICK},Ev=function(n){var r=n.originalEvent;return r.button==0&&!(jt.f&&jt.d&&r.ctrlKey)},xv=Nt.a,a1=function(n){return n.type=="pointermove"},Ws=function(n){return n.type==Yr.SINGLECLICK},Ys=function(n){return n.type==Yr.DBLCLICK},vs=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},s1=function(n){var r=n.originalEvent;return!r.altKey&&(jt.d?r.metaKey:r.ctrlKey)&&!r.shiftKey},Zc=function(n){var r=n.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},El=function(n){var r=n.originalEvent,t=r.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},Xo=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.pointerType=="mouse"},l1=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.pointerType==="touch"},u1=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.pointerType==="pen"},Od=function(n){var r=n.originalEvent;return qt(r!==void 0,56),r.isPrimary&&r.button===0},uy=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cy=function(n){uy(r,n);function r(t){var e=n.call(this,{stopDown:Nt.a})||this,i=t||{};e.kinetic_=i.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;var o=i.condition?i.condition:Kc(vs,Od);return e.condition_=i.onFocusOnly?Kc(_v,o):o,e.noKinetic_=!1,e}return r.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,i=mv(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=t.map,s=a.getView();it(o,s.getResolution()),Y(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(t){var e=t.map,i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),c=e.getPixelFromCoordinateInternal(s),h=e.getCoordinateFromPixelInternal([c[0]-o*Math.cos(a),c[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(h),duration:500,easing:Pa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,i=e.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},r}(Qa),fy=cy,c1=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Td=function(n){c1(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{stopDown:Nt.a})||this,e.condition_=i.condition?i.condition:$c,e.lastAngle_=void 0,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){if(!!Xo(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==Gc){var o=e.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var c=s-this.lastAngle_;i.adjustRotationInternal(-c)}this.lastAngle_=s}}},r.prototype.handleUpEvent=function(t){if(!Xo(t))return!0;var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1},r.prototype.handleDownEvent=function(t){if(!Xo(t))return!1;if(Ev(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},r}(Qa),bd=Td,vh=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sv=function(n){vh(r,n);function r(t){var e=n.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}return r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+i,o.top=Math.min(t[1],e[1])+i,o.width=Math.abs(e[0]-t[0])+i,o.height=Math.abs(e[1]-t[1])+i},r.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new li([o])},r.prototype.getGeometry=function(){return this.geometry_},r}(bt.a),hy=Sv,dy=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gh={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},wv=function(n){dy(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.coordinate=e,o.mapBrowserEvent=i,o}return r}(ze.a),f1=function(n){dy(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.box_=new hy(i.className||"ol-dragbox"),e.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(e.onBoxEnd=i.onBoxEnd),e.startPixel_=null,e.condition_=i.condition?i.condition:Ev,e.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:e.defaultBoxEndCondition,e}return r.prototype.defaultBoxEndCondition=function(t,e,i){var o=i[0]-e[0],a=i[1]-e[1];return o*o+a*a>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new wv(gh.BOXDRAG,t.coordinate,t))},r.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new wv(e?gh.BOXEND:gh.BOXCANCEL,t.coordinate,t)),!1},r.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new wv(gh.BOXSTART,t.coordinate,t)),!0):!1},r.prototype.onBoxEnd=function(t){},r}(Qa),h1=f1,d1=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),p1=function(n){d1(r,n);function r(t){var e=this,i=t||{},o=i.condition?i.condition:Zc;return e=n.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,e.duration_=i.duration!==void 0?i.duration:200,e.out_=i.out!==void 0?i.out:!1,e}return r.prototype.onBoxEnd=function(t){var e=this.getMap(),i=e.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),c=i.getResolution()/s;o=o.clone(),o.scale(c*c)}i.fitInternal(o,{duration:this.duration_,easing:Pa})},r}(h1),v1=p1,Au={LEFT:37,UP:38,RIGHT:39,DOWN:40},Cd=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g1=function(n){Cd(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.defaultCondition_=function(o){return vs(o)&&El(o)},e.condition_=i.condition!==void 0?i.condition:e.defaultCondition_,e.duration_=i.duration!==void 0?i.duration:100,e.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==Qr.a.KEYDOWN){var i=t.originalEvent,o=i.keyCode;if(this.condition_(t)&&(o==Au.DOWN||o==Au.LEFT||o==Au.RIGHT||o==Au.UP)){var a=t.map,s=a.getView(),c=s.getResolution()*this.pixelDelta_,h=0,p=0;o==Au.DOWN?p=-c:o==Au.LEFT?h=-c:o==Au.RIGHT?h=c:p=c;var m=[h,p];Y(m,s.getRotation()),yv(s,m,this.duration_),i.preventDefault(),e=!0}}return!e},r}(Cu),y1=g1,py=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g=function(n){py(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.condition_=i.condition?i.condition:El,e.delta_=i.delta?i.delta:1,e.duration_=i.duration!==void 0?i.duration:100,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==Qr.a.KEYDOWN||t.type==Qr.a.KEYPRESS){var i=t.originalEvent,o=i.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=t.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,c=a.getView();Xc(c,s,void 0,this.duration_),i.preventDefault(),e=!0}}return!e},r}(Cu),S=g,N=function(){function n(r,t,e){this.decay_=r,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(r,t){this.points_.push(r,t,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<r)return!1;for(var e=t-3;e>0&&this.points_[e+2]>r;)e-=3;var i=this.points_[t+2]-this.points_[e+2];if(i<1e3/60)return!1;var o=this.points_[t]-this.points_[e],a=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),X=N,nt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),st={TRACKPAD:"trackpad",WHEEL:"wheel"},ut=function(n){nt(r,n);function r(t){var e=this,i=t||{};e=n.call(this,i)||this,e.totalDelta_=0,e.lastDelta_=0,e.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,e.duration_=i.duration!==void 0?i.duration:250,e.timeout_=i.timeout!==void 0?i.timeout:80,e.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,e.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:ph;return e.condition_=i.onFocusOnly?Kc(_v,o):o,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==Qr.a.WHEEL)return!0;var i=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var a;if(t.type==Qr.a.WHEEL&&(a=o.deltaY,jt.b&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=jt.a),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?st.TRACKPAD:st.WHEEL);var c=i.getView();if(this.mode_===st.TRACKPAD&&!(c.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(c.getAnimating()&&c.cancelAnimations(),c.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),c.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var h=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),h),!1},r.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=-Fi(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Xc(e,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},r}(Cu),dt=ut,yt=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),At=function(n){yt(r,n);function r(t){var e=this,i=t||{},o=i;return o.stopDown||(o.stopDown=Nt.a),e=n.call(this,o)||this,e.anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=i.threshold!==void 0?i.threshold:.3,e.duration_=i.duration!==void 0?i.duration:250,e}return r.prototype.handleDragEvent=function(t){var e=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=a;var c=t.map,h=c.getView();if(h.getConstraints().rotation!==Gc){var p=c.getViewport().getBoundingClientRect(),m=mv(this.targetPointers);m[0]-=p.left,m[1]-=p.top,this.anchor_=c.getCoordinateFromPixelInternal(m),this.rotating_&&(c.render(),h.adjustRotationInternal(e,this.anchor_))}},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView();return i.endInteraction(this.duration_),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Qa),ae=At,we=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oe=function(n){we(r,n);function r(t){var e=this,i=t||{},o=i;return o.stopDown||(o.stopDown=Nt.a),e=n.call(this,o)||this,e.anchor_=null,e.duration_=i.duration!==void 0?i.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}return r.prototype.handleDragEvent=function(t){var e=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,c=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(e=this.lastDistance_/c),this.lastDistance_=c;var h=t.map,p=h.getView();e!=1&&(this.lastScaleDelta_=e);var m=h.getViewport().getBoundingClientRect(),w=mv(this.targetPointers);w[0]-=m.left,w[1]-=m.top,this.anchor_=h.getCoordinateFromPixelInternal(w),h.render(),p.adjustResolutionInternal(e,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,i=e.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Qa),de=Oe;function Qe(n){var r=n||{},t=new hn,e=new X(-.005,.05,100),i=r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0;i&&t.push(new bd);var o=r.doubleClickZoom!==void 0?r.doubleClickZoom:!0;o&&t.push(new sy({delta:r.zoomDelta,duration:r.zoomDuration}));var a=r.dragPan!==void 0?r.dragPan:!0;a&&t.push(new fy({onFocusOnly:r.onFocusOnly,kinetic:e}));var s=r.pinchRotate!==void 0?r.pinchRotate:!0;s&&t.push(new ae);var c=r.pinchZoom!==void 0?r.pinchZoom:!0;c&&t.push(new de({duration:r.zoomDuration}));var h=r.keyboard!==void 0?r.keyboard:!0;h&&(t.push(new y1),t.push(new S({delta:r.zoomDelta,duration:r.zoomDuration})));var p=r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0;p&&t.push(new dt({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration}));var m=r.shiftDragZoom!==void 0?r.shiftDragZoom:!0;return m&&t.push(new v1({duration:r.zoomDuration})),t}var De=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),se=function(n){De(r,n);function r(t){var e=this;return t=Object(Ir.a)({},t),t.controls||(t.controls=Sd()),t.interactions||(t.interactions=Qe({onFocusOnly:!0})),e=n.call(this,t)||this,e}return r.prototype.createRenderer=function(){return new fi(this)},r}(pv),le=se;u("b64b"),u("a4d3"),u("4de4"),u("d3b7"),u("e439"),u("159b"),u("dbb4");function qe(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function nr(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);r&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,e)}return t}function Ce(n){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nr(Object(t),!0).forEach(function(e){qe(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nr(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}u("caad"),u("2532");function ar(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=Object(I.toRefs)(n);Object.keys(t).forEach(function(i){t[i]=t[i].value});var e=Object(I.reactive)(Ce({},t));return Object(I.watch)(n,function(){t=Object(I.toRefs)(n),Object.keys(t).forEach(function(i){e[i]!=t[i].value&&!r.includes(i)&&(e[i]=t[i].value)})}),{properties:e}}var Cr={name:"ol-map",setup:function(r,t){var e=t.emit,i=ar(r),o=i.properties,a=Object(I.ref)(null),s=new le(o);Object(I.watch)(o,function(){s.setProperties(o)}),Object(I.onMounted)(function(){s.setTarget(a.value)}),Object(I.onUnmounted)(function(){s.setTarget(null),s=null}),Object(I.provide)("map",s);var c=function(){return s.focus()},h=function(Z,lt){var pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s.forEachFeatureAtPixel(Z,lt,pt)},p=function(Z,lt,pt){return s.forEachLayerAtPixel(Z,lt,pt)},m=function(Z){return s.getCoordinateFromPixel(Z)},w=function(){return s.refresh()},R=function(){return s.render()},M=function(){return s.updateSize()};return s.on("click",function(U){return e("click",U)}),s.on("dblclick",function(U){return e("dblclick",U)}),s.on("singleclick",function(U){return e("singleclick",U)}),s.on("pointerdrag",function(U){return e("pointerdrag",U)}),s.on("pointermove",function(U){return e("pointermove",U)}),s.on("movestart",function(U){return e("movestart",U)}),s.on("moveend",function(U){return e("moveend",U)}),s.on("postrender",function(U){return e("postrender",U)}),s.on("precompose",function(U){return e("precompose",U)}),s.on("postcompose",function(U){return e("postcompose",U)}),{map:s,mapRef:a,focus:c,forEachFeatureAtPixel:h,forEachLayerAtPixel:p,getCoordinateFromPixel:m,refresh:w,render:R,updateSize:M}},props:{loadTilesWhileAnimating:{type:Boolean,default:!1},loadTilesWhileInteracting:{type:Boolean,default:!1},moveTolerance:{type:Number,default:1},pixelRatio:{type:Number,default:1},controls:{type:Array,default:function(){return[]}}}},vn=u("6b0d"),Ae=u.n(vn),Oi=Ae()(Cr,[["render",Et]]);function gi(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}function oi(n,r){var t=Object(I.inject)("map"),e=ar(n),i=e.properties,o=function(){return Ce(Ce({},i),{},{projection:typeof i.projection=="string"?i.projection:new Ra(Ce({},i.projection))})},a=new ui(o());Object(I.onMounted)(function(){t.setView(a)}),a.on("change:center",function(){r("centerChanged",kt()),r("zoomChanged",Dn())}),a.on("change:resolution",function(){return r("resolutionChanged",Gr())}),a.on("change:rotation",function(){return r("rotationChanged",jn())}),Object(I.watch)(i,function(){var xn=o();a.setProperties(xn),a.applyOptions_(xn)});var s=function(yn){return a.adjustCenter(yn)},c=function(yn,No){return a.adjustResolution(yn,No)},h=function(yn,No){return a.adjustRotation(yn,No)},p=function(yn,No){return a.adjustZoom(yn,No)},m=function(yn){return a.animate(yn)},w=function(){return a.beginInteraction()},R=function(yn){return a.calculateExtent(yn)},M=function(){return a.cancelAnimations()},U=function(yn,No,au){return a.centerOn(yn,No,au)},Z=function(){return a.changed()},lt=function(yn){return a.dispatchEvent(yn)},pt=function(yn,No,au){return a.endInteraction(yn,No,au)},xt=function(yn,No){return a.fit(yn,No)},ht=function(yn){return a.get(yn)},Vt=function(){return a.getAnimating()},kt=function(){return a.getCenter()},Zt=function(){return a.getInteracting()},Xt=function(){return a.getKeys()},ce=function(){return a.getMaxResolution()},Ve=function(){return a.getMaxZoom()},Ne=function(){return a.getMinResolution()},Ee=function(){return a.getMinZoom()},rr=function(){return a.getProjection()},Rr=function(){return a.getProperties()},Gr=function(){return a.getResolution()},Hr=function(yn,No){return a.getResolutionForExtent(yn,No)},Jr=function(yn){return a.getResolutionForZoom(yn)},Tn=function(){return a.getResolutions()},bn=function(){return a.getRevision()},jn=function(){return a.getRotation()},Dn=function(){return a.getZoom()},ur=function(yn){return a.getZoomForResolution(yn)},Wo=function(yn){return a.setCenter(yn)},Wn=function(yn){return a.setConstrainResolution(yn)},Zi=function(yn){return a.setMaxZoom(yn)},Mo=function(yn){return a.setMinZoom(yn)},qo=function(yn){return a.setResolution(yn)},Yo=function(yn){return a.setRotation(yn)},oo=function(yn){return a.setZoom(yn)};return{view:a,adjustCenter:s,adjustResolution:c,adjustRotation:h,adjustZoom:p,animate:m,beginInteraction:w,calculateExtent:R,cancelAnimations:M,centerOn:U,changed:Z,dispatchEvent:lt,endInteraction:pt,fit:xt,get:ht,getAnimating:Vt,getCenter:kt,getInteracting:Zt,getKeys:Xt,getMaxResolution:ce,getMaxZoom:Ve,getMinResolution:Ne,getMinZoom:Ee,getProjection:rr,getProperties:Rr,getResolution:Gr,getResolutionForExtent:Hr,getResolutionForZoom:Jr,getResolutions:Tn,getRevision:bn,getRotation:jn,getZoom:Dn,getZoomForResolution:ur,setCenter:Wo,setConstrainResolution:Wn,setMaxZoom:Zi,setMinZoom:Mo,setResolution:qo,setRotation:Yo,setZoom:oo}}var Ui={name:"ol-view",setup:function(r,t){var e=t.emit,i=oi(r,e);return Ce({},i)},props:{center:{type:Array,default:function(){return[0,0]}},constrainRotation:{type:Boolean,default:!0},enableRotation:{type:Boolean,default:!0},extent:{type:Array},constrainOnlyCenter:{type:Boolean,default:!1},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{type:Number},minResolution:{type:Number},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},multiWorld:{type:Boolean,default:!1},constrainResolution:{type:Boolean,default:!1},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean,default:!1},projection:{type:[String,Object],default:"EPSG:3857"},resolution:{type:Number},resolutions:{type:Array},rotation:{type:Number},zoom:{type:Number,default:0},zoomFactor:{type:Number,default:2},padding:{type:Array,default:function(){return[0,0,0,0]}}}},Fn=Ae()(Ui,[["render",gi]]);function Ao(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var Na=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lo=function(n){Na(r,n);function r(t){var e=n.call(this)||this;if(e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var i=t;e.setGeometry(i)}else{var o=t;e.setProperties(o)}return e}return r.prototype.clone=function(){var t=new r(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var i=this.getStyle();return i&&t.setStyle(i),t},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(Tr.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(Tr.a)(t,Qr.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},r.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?Fa(t):void 0,this.changed()},r.prototype.setId=function(t){this.id_=t,this.changed()},r.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(Oo.a);function Fa(n){if(typeof n=="function")return n;var r;if(Array.isArray(n))r=n;else{qt(typeof n.getZIndex=="function",41);var t=n;r=[t]}return function(){return r}}var Xr=Lo,ts={name:"ol-feature",setup:function(r){var t=Object(I.inject)("vectorSource"),e=Object(I.inject)("vectorLayer"),i=Object(I.inject)("animation",null),o=ar(r),a=o.properties,s=Object(I.computed)(function(){var c=new Xr(Ce({},a.properties));return c});return Object(I.watch)(s,function(c,h){t.value.removeFeature(h),t.value.addFeature(c),t.value.changed()}),Object(I.watch)(t,function(c,h){h.removeFeature(s.value),c.addFeature(s.value),c.changed()}),Object(I.onMounted)(function(){t.value.addFeature(s.value),i!=null&&e.value.animateFeature(s.value,i.value)}),Object(I.onUnmounted)(function(){t.value.removeFeature(s.value)}),Object(I.provide)("feature",s),Object(I.provide)("stylable",s),{feature:s}},props:{properties:{type:[Su,Object,Array]}}},Ro=Ae()(ts,[["render",Ao]]),ea={ref:"htmlContent"};function Ea(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",ea,[Object(I.renderSlot)(n.$slots,"default",{position:t.position})],512)}var $i={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},xl=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yi={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Kl=function(n){xl(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un,e.options=t,e.id=t.id,e.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,e.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,e.element=document.createElement("div"),e.element.className=t.className!==void 0?t.className:"ol-overlay-container "+lr,e.element.style.position="absolute",e.element.style.pointerEvents="auto";var i=t.autoPan;return i&&typeof i!="object"&&(i={animation:t.autoPanAnimation,margin:t.autoPanMargin}),e.autoPan=i||!1,e.rendered={transform_:"",visible:!0},e.mapPostrenderListenerKey=null,e.addChangeListener(yi.ELEMENT,e.handleElementChanged),e.addChangeListener(yi.MAP,e.handleMapChanged),e.addChangeListener(yi.OFFSET,e.handleOffsetChanged),e.addChangeListener(yi.POSITION,e.handlePositionChanged),e.addChangeListener(yi.POSITIONING,e.handlePositioningChanged),t.element!==void 0&&e.setElement(t.element),e.setOffset(t.offset!==void 0?t.offset:[0,0]),e.setPositioning(t.positioning!==void 0?t.positioning:$i.TOP_LEFT),t.position!==void 0&&e.setPosition(t.position),e}return r.prototype.getElement=function(){return this.get(yi.ELEMENT)},r.prototype.getId=function(){return this.id},r.prototype.getMap=function(){return this.get(yi.MAP)},r.prototype.getOffset=function(){return this.get(yi.OFFSET)},r.prototype.getPosition=function(){return this.get(yi.POSITION)},r.prototype.getPositioning=function(){return this.get(yi.POSITIONING)},r.prototype.handleElementChanged=function(){Object(je.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},r.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(je.e)(this.element),Object(Tr.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(Tr.a)(t,un.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},r.prototype.render=function(){this.updatePixelPosition()},r.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},r.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},r.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},r.prototype.setElement=function(t){this.set(yi.ELEMENT,t)},r.prototype.setMap=function(t){this.set(yi.MAP,t)},r.prototype.setOffset=function(t){this.set(yi.OFFSET,t)},r.prototype.setPosition=function(t){this.set(yi.POSITION,t)},r.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},r.prototype.panIntoView=function(t){var e=this.getMap();if(!(!e||!e.getTargetElement()||!this.get(yi.POSITION))){var i=this.getRect(e.getTargetElement(),e.getSize()),o=this.getElement(),a=this.getRect(o,[Object(je.c)(o),Object(je.b)(o)]),s=t||{},c=s.margin===void 0?20:s.margin;if(!he(i,a)){var h=a[0]-i[0],p=i[2]-a[2],m=a[1]-i[1],w=i[3]-a[3],R=[0,0];if(h<0?R[0]=h-c:p<0&&(R[0]=Math.abs(p)+c),m<0?R[1]=m-c:w<0&&(R[1]=Math.abs(w)+c),R[0]!==0||R[1]!==0){var M=e.getView().getCenterInternal(),U=e.getPixelFromCoordinateInternal(M);if(!U)return;var Z=[U[0]+R[0],U[1]+R[1]],lt=s.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(Z),duration:lt.duration,easing:lt.easing})}}}},r.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),o=i.left+window.pageXOffset,a=i.top+window.pageYOffset;return[o,a,o+e[0],a+e[1]]},r.prototype.setPositioning=function(t){this.set(yi.POSITIONING,t)},r.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},r.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e){this.setVisible(!1);return}var i=t.getPixelFromCoordinate(e),o=t.getSize();this.updateRenderedPosition(i,o)},r.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,o=this.getOffset(),a=this.getPositioning();this.setVisible(!0);var s=Math.round(t[0]+o[0])+"px",c=Math.round(t[1]+o[1])+"px",h="0%",p="0%";a==$i.BOTTOM_RIGHT||a==$i.CENTER_RIGHT||a==$i.TOP_RIGHT?h="-100%":(a==$i.BOTTOM_CENTER||a==$i.CENTER_CENTER||a==$i.TOP_CENTER)&&(h="-50%"),a==$i.BOTTOM_LEFT||a==$i.BOTTOM_CENTER||a==$i.BOTTOM_RIGHT?p="-100%":(a==$i.CENTER_LEFT||a==$i.CENTER_CENTER||a==$i.CENTER_RIGHT)&&(p="-50%");var m="translate("+h+", "+p+") translate("+s+", "+c+")";this.rendered.transform_!=m&&(this.rendered.transform_=m,i.transform=m,i.msTransform=m)},r.prototype.getOptions=function(){return this.options},r}(Oo.a),Lu=Kl;function qc(n,r){var t=Object(I.inject)("map"),e=Object(I.ref)(null),i=ar(n),o=i.properties,a=Object(I.computed)(function(){return new Lu(o)});Object(I.onMounted)(function(){t.addOverlay(a.value)}),Object(I.onUnmounted)(function(){t.removeOverlay(a.value)}),Object(I.watch)(a,function(Z,lt){t.removeOverlay(lt),t.addOverlay(Z)}),Object(I.watchEffect)(function(){w(e.value)},{flush:"post"}),a.value.on("change:element",function(){return r("elementChanged",s())}),a.value.on("change:offset",function(){return r("offsetChanged",c())}),a.value.on("change:position",function(){return r("positionChanged",h())}),a.value.on("change:positioning",function(){return r("positioningChanged",p())});var s=function(){return a.value.getElement()},c=function(){return a.value.getOffset()},h=function(){return a.value.getPosition()},p=function(){return a.value.getPositioning()},m=function(lt){return a.value.panIntoView(lt)},w=function(lt){return a.value.setElement(lt)},R=function(lt){return a.value.setOffset(lt)},M=function(lt){return a.value.setPosition(lt)},U=function(lt){return a.value.setPositioning(lt)};return{overlay:a,htmlContent:e,getOffset:c,getPosition:h,getPositioning:p,panIntoView:m,setElement:w,setOffset:R,setPosition:M,setPositioning:U}}var Ru={name:"ol-overlay",setup:function(r,t){var e=t.emit,i=new qc(r,e);return Ce({},i)},props:{position:{type:Array},offset:{type:Array},positioning:{type:String},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:Boolean,default:!1},autoPanMargin:{type:Number,default:20},autoPanAnimation:{type:Object,default:void 0}}},yh=Ae()(Ru,[["render",Ea]]);function vy(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default",{position:e.position,speed:e.speed,heading:e.heading,accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,accuracyGeometry:e.accuracyGeometry})}var Ov=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xi={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},mh=function(n){Ov(r,n);function r(t){var e=n.call(this,Qr.a.ERROR)||this;return e.code=t.code,e.message=t.message,e}return r}(ze.a),Ad=function(n){Ov(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};return e.position_=null,e.transform_=Qu,e.watchId_=void 0,e.addChangeListener(Xi.PROJECTION,e.handleProjectionChanged_),e.addChangeListener(Xi.TRACKING,e.handleTrackingChanged_),i.projection!==void 0&&e.setProjection(i.projection),i.trackingOptions!==void 0&&e.setTrackingOptions(i.trackingOptions),e.setTracking(i.tracking!==void 0?i.tracking:!1),e}return r.prototype.disposeInternal=function(){this.setTracking(!1),n.prototype.disposeInternal.call(this)},r.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Dl(an("EPSG:4326"),t),this.position_&&this.set(Xi.POSITION,this.transform_(this.position_)))},r.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!t&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},r.prototype.positionChange_=function(t){var e=t.coords;this.set(Xi.ACCURACY,e.accuracy),this.set(Xi.ALTITUDE,e.altitude===null?void 0:e.altitude),this.set(Xi.ALTITUDE_ACCURACY,e.altitudeAccuracy===null?void 0:e.altitudeAccuracy),this.set(Xi.HEADING,e.heading===null?void 0:Ya(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(Xi.POSITION,i),this.set(Xi.SPEED,e.speed===null?void 0:e.speed);var o=Wc(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(Xi.ACCURACY_GEOMETRY,o),this.changed()},r.prototype.positionError_=function(t){this.dispatchEvent(new mh(t))},r.prototype.getAccuracy=function(){return this.get(Xi.ACCURACY)},r.prototype.getAccuracyGeometry=function(){return this.get(Xi.ACCURACY_GEOMETRY)||null},r.prototype.getAltitude=function(){return this.get(Xi.ALTITUDE)},r.prototype.getAltitudeAccuracy=function(){return this.get(Xi.ALTITUDE_ACCURACY)},r.prototype.getHeading=function(){return this.get(Xi.HEADING)},r.prototype.getPosition=function(){return this.get(Xi.POSITION)},r.prototype.getProjection=function(){return this.get(Xi.PROJECTION)},r.prototype.getSpeed=function(){return this.get(Xi.SPEED)},r.prototype.getTracking=function(){return this.get(Xi.TRACKING)},r.prototype.getTrackingOptions=function(){return this.get(Xi.TRACKING_OPTIONS)},r.prototype.setProjection=function(t){this.set(Xi.PROJECTION,an(t))},r.prototype.setTracking=function(t){this.set(Xi.TRACKING,t)},r.prototype.setTrackingOptions=function(t){this.set(Xi.TRACKING_OPTIONS,t)},r}(Oo.a),Hs=Ad,Jc={name:"ol-geolocation",emits:["positionChanged","speedChanged","headingChanged","altitudeChanged","altitudeAccuracyChanged","accuracyGeometryChanged"],setup:function(r,t){var e=t.emit,i=ar(r),o=i.properties,a=Object(I.computed)(function(){var U=new Hs(o);return U.on("change",M),U}),s=Object(I.ref)([]),c=Object(I.ref)(0),h=Object(I.ref)(0),p=Object(I.ref)(0),m=Object(I.ref)(0),w=Object(I.ref)(0),R=Object(I.ref)({});Object(I.watch)(s,function(){e("positionChanged",s.value)}),Object(I.watch)(m,function(){e("speedChanged",m.value)}),Object(I.watch)(w,function(){e("headingChanged",w.value)}),Object(I.watch)(h,function(){e("altitudeChanged",h.value)}),Object(I.watch)(p,function(){e("altitudeAccuracyChanged",p.value)}),Object(I.watch)(R,function(){e("accuracyGeometryChanged",R.value)});var M=function(){s.value=a.value.getPosition(),m.value=a.value.getSpeed(),w.value=a.value.getHeading(),c.value=a.value.getAccuracy(),h.value=a.value.getAltitude(),p.value=a.value.getAltitudeAccuracy(),R.value=a.value.getAccuracyGeometry()};return Object(I.watch)(a,function(U,Z){Z.un("change",M),U.on("change",M)}),{geoLoc:a,position:s,accuracy:c,altitude:h,altitudeAccuracy:p,speed:m,heading:w,accuracyGeometry:R}},props:{projection:{type:[String,Object],default:"EPSG:3857"},tracking:{type:Boolean,default:!0},trackingOptions:{type:Object,default:function(){return{enableHighAccuracy:!0}}}}},Ld=Ae()(Jc,[["render",vy]]);function Rd(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var gy=function(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]},Sl=1,$l=2,oc=3,Eh=4,Tv=5,yy=6378137,bv=6356752314e-3,Zl=.0066943799901413165,xh=484813681109536e-20,pr=Math.PI/2,m1=.16666666666666666,my=.04722222222222222,Pd=.022156084656084655,Br=1e-10,Ko=.017453292519943295,es=57.29577951308232,Ei=Math.PI/4,ql=Math.PI*2,po=3.14159265359,ja={};ja.greenwich=0,ja.lisbon=-9.131906111111,ja.paris=2.337229166667,ja.bogota=-74.080916666667,ja.madrid=-3.687938888889,ja.rome=12.452333333333,ja.bern=7.439583333333,ja.jakarta=106.807719444444,ja.ferro=-17.666666666667,ja.brussels=4.367975,ja.stockholm=18.058277777778,ja.athens=23.7163375,ja.oslo=10.722916666667;var Id={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Cv=/[\s_\-\/\(\)]/g;function wl(n,r){if(n[r])return n[r];for(var t=Object.keys(n),e=r.toLowerCase().replace(Cv,""),i=-1,o,a;++i<t.length;)if(o=t[i],a=o.toLowerCase().replace(Cv,""),a===e)return n[o]}var Ol=function(n){var r={},t=n.split("+").map(function(s){return s.trim()}).filter(function(s){return s}).reduce(function(s,c){var h=c.split("=");return h.push(!0),s[h[0].toLowerCase()]=h[1],s},{}),e,i,o,a={proj:"projName",datum:"datumCode",rf:function(s){r.rf=parseFloat(s)},lat_0:function(s){r.lat0=s*Ko},lat_1:function(s){r.lat1=s*Ko},lat_2:function(s){r.lat2=s*Ko},lat_ts:function(s){r.lat_ts=s*Ko},lon_0:function(s){r.long0=s*Ko},lon_1:function(s){r.long1=s*Ko},lon_2:function(s){r.long2=s*Ko},alpha:function(s){r.alpha=parseFloat(s)*Ko},gamma:function(s){r.rectified_grid_angle=parseFloat(s)},lonc:function(s){r.longc=s*Ko},x_0:function(s){r.x0=parseFloat(s)},y_0:function(s){r.y0=parseFloat(s)},k_0:function(s){r.k0=parseFloat(s)},k:function(s){r.k0=parseFloat(s)},a:function(s){r.a=parseFloat(s)},b:function(s){r.b=parseFloat(s)},r_a:function(){r.R_A=!0},zone:function(s){r.zone=parseInt(s,10)},south:function(){r.utmSouth=!0},towgs84:function(s){r.datum_params=s.split(",").map(function(c){return parseFloat(c)})},to_meter:function(s){r.to_meter=parseFloat(s)},units:function(s){r.units=s;var c=wl(Id,s);c&&(r.to_meter=c.to_meter)},from_greenwich:function(s){r.from_greenwich=s*Ko},pm:function(s){var c=wl(ja,s);r.from_greenwich=(c||parseFloat(s))*Ko},nadgrids:function(s){s==="@null"?r.datumCode="none":r.nadgrids=s},axis:function(s){var c="ewnsud";s.length===3&&c.indexOf(s.substr(0,1))!==-1&&c.indexOf(s.substr(1,1))!==-1&&c.indexOf(s.substr(2,1))!==-1&&(r.axis=s)},approx:function(){r.approx=!0}};for(e in t)i=t[e],e in a?(o=a[e],typeof o=="function"?o(i):r[o]=i):r[e]=i;return typeof r.datumCode=="string"&&r.datumCode!=="WGS84"&&(r.datumCode=r.datumCode.toLowerCase()),r},_y=Ql,Qc=1,Ey=2,Av=3,Jl=4,xy=5,Md=-1,_1=/\s/,Sy=/[A-Za-z]/,E1=/[A-Za-z84_]/,Pu=/[,\]]/,Nd=/[\d\.E\-\+]/;function ys(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Qc}ys.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==Jl)for(;_1.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case Qc:return this.neutral(n);case Ey:return this.keyword(n);case Jl:return this.quoted(n);case xy:return this.afterquote(n);case Av:return this.number(n);case Md:return}},ys.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=Jl;return}if(Pu.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)},ys.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Qc;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Qc,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Md);return}},ys.prototype.number=function(n){if(Nd.test(n)){this.word+=n;return}if(Pu.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)},ys.prototype.quoted=function(n){if(n==='"'){this.state=xy;return}this.word+=n},ys.prototype.keyword=function(n){if(E1.test(n)){this.word+=n;return}if(n==="["){var r=[];r.push(this.word),this.level++,this.root===null?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,this.state=Qc;return}if(Pu.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)},ys.prototype.neutral=function(n){if(Sy.test(n)){this.word=n,this.state=Ey;return}if(n==='"'){this.word="",this.state=Jl;return}if(Nd.test(n)){this.word=n,this.state=Av;return}if(Pu.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)},ys.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Md)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Ql(n){var r=new ys(n);return r.output()}function tu(n,r,t){Array.isArray(r)&&(t.unshift(r),r=null);var e=r?{}:n,i=t.reduce(function(o,a){return rs(a,o),o},e);r&&(n[r]=i)}function rs(n,r){if(!Array.isArray(n)){r[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){r[t]={},rs(n[0],r[t]);return}r[t]=n[0];return}if(!n.length){r[t]=!0;return}if(t==="TOWGS84"){r[t]=n;return}if(t==="AXIS"){t in r||(r[t]=[]),r[t].push(n);return}Array.isArray(t)||(r[t]={});var e;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":r[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&rs(n[2],r[t]);return;case"SPHEROID":case"ELLIPSOID":r[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&rs(n[3],r[t]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":n[0]=["name",n[0]],tu(r,t,n);return;default:for(e=-1;++e<n.length;)if(!Array.isArray(n[e]))return rs(n,r[t]);return tu(r,t,n)}}var Fd=.017453292519943295;function Lv(n,r){var t=r[0],e=r[1];!(t in n)&&e in n&&(n[t]=n[e],r.length===3&&(n[t]=r[2](n[t])))}function Tl(n){return n*Fd}function x1(n){if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var r="",t=0,e=n.AXIS.length;t<e;++t){var i=[n.AXIS[t][0].toLowerCase(),n.AXIS[t][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?r+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?r+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?r+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(n.axis=r)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var o=n.GEOGCS;n.type==="GEOGCS"&&(o=n),o&&(o.DATUM?n.datumCode=o.DATUM.name.toLowerCase():n.datumCode=o.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),(n.datumCode==="new_zealand_geodetic_datum_1949"||n.datumCode==="new_zealand_1949")&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode.slice(-6)==="_ferro"&&(n.datumCode=n.datumCode.slice(0,-6)),n.datumCode.slice(-8)==="_jakarta"&&(n.datumCode=n.datumCode.slice(0,-8)),~n.datumCode.indexOf("belge")&&(n.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(n.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=o.DATUM.SPHEROID.a,n.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(n.datum_params=o.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function a(h){var p=n.to_meter||1;return h*p}var s=function(h){return Lv(n,h)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Tl],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Tl],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Tl],["lat0","latitude_of_origin",Tl],["lat0","standard_parallel_1",Tl],["lat1","standard_parallel_1",Tl],["lat2","standard_parallel_2",Tl],["azimuth","Azimuth"],["alpha","azimuth",Tl],["srsCode","name"]];c.forEach(s),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")&&(n.lat0=Tl(n.lat1>0?90:-90),n.lat_ts=n.lat1)}var jd=function(n){var r=_y(n),t=r.shift(),e=r.shift();r.unshift(["name",e]),r.unshift(["type",t]);var i={};return rs(r,i),x1(i),i};function Da(n){var r=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?Da[n]=Ol(arguments[1]):Da[n]=jd(arguments[1]):Da[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(e){Array.isArray(e)?Da.apply(r,e):Da(e)});if(typeof n=="string"){if(n in Da)return Da[n]}else"EPSG"in n?Da["EPSG:"+n.EPSG]=n:"ESRI"in n?Da["ESRI:"+n.ESRI]=n:"IAU2000"in n?Da["IAU2000:"+n.IAU2000]=n:console.log(n);return}}gy(Da);var wy=Da;function CA(n){return typeof n=="string"}function AA(n){return n in wy}var LA=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function RA(n){return LA.some(function(r){return n.indexOf(r)>-1})}var PA=["3857","900913","3785","102113"];function IA(n){var r=wl(n,"authority");if(!!r){var t=wl(r,"epsg");return t&&PA.indexOf(t)>-1}}function MA(n){var r=wl(n,"extension");if(!!r)return wl(r,"proj4")}function NA(n){return n[0]==="+"}function FA(n){if(CA(n)){if(AA(n))return wy[n];if(RA(n)){var r=jd(n);if(IA(r))return wy["EPSG:3857"];var t=MA(r);return t?Ol(t):r}if(NA(n))return Ol(n)}else return n}var jA=FA,XE=function(n,r){n=n||{};var t,e;if(!r)return n;for(e in r)t=r[e],t!==void 0&&(n[e]=t);return n},Iu=function(n,r,t){var e=n*r;return t/Math.sqrt(1-e*e)},Rv=function(n){return n<0?-1:1},qr=function(n){return Math.abs(n)<=po?n:n-Rv(n)*ql},eu=function(n,r,t){var e=n*t,i=.5*n;return e=Math.pow((1-e)/(1+e),i),Math.tan(.5*(pr-r))/e},Pv=function(n,r){for(var t=.5*n,e,i,o=pr-2*Math.atan(r),a=0;a<=15;a++)if(e=n*Math.sin(o),i=pr-2*Math.atan(r*Math.pow((1-e)/(1+e),t))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999};function DA(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Iu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function BA(n){var r=n.x,t=n.y;if(t*es>90&&t*es<-90&&r*es>180&&r*es<-180)return null;var e,i;if(Math.abs(Math.abs(t)-pr)<=Br)return null;if(this.sphere)e=this.x0+this.a*this.k0*qr(r-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Ei+.5*t));else{var o=Math.sin(t),a=eu(this.e,t,o);e=this.x0+this.a*this.k0*qr(r-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return n.x=e,n.y=i,n}function GA(n){var r=n.x-this.x0,t=n.y-this.y0,e,i;if(this.sphere)i=pr-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(i=Pv(this.e,o),i===-9999)return null}return e=qr(this.long0+r/(this.a*this.k0)),n.x=e,n.y=i,n}var UA=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],kA={init:DA,forward:BA,inverse:GA,names:UA};function zA(){}function KE(n){return n}var VA=["longlat","identity"],WA={init:zA,forward:KE,inverse:KE,names:VA},YA=[kA,WA],Oy={},Ty=[];function $E(n,r){var t=Ty.length;return n.names?(Ty[t]=n,n.names.forEach(function(e){Oy[e.toLowerCase()]=t}),this):(console.log(r),!0)}function HA(n){if(!n)return!1;var r=n.toLowerCase();if(typeof Oy[r]!="undefined"&&Ty[Oy[r]])return Ty[Oy[r]]}function XA(){YA.forEach($E)}var KA={start:XA,add:$E,get:HA},Vn={};Vn.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Vn.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Vn.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Vn.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Vn.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Vn.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Vn.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Vn.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Vn.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Vn.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Vn.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Vn.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Vn.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Vn.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Vn.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Vn.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Vn.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Vn.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Vn.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Vn.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Vn.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Vn.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Vn.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Vn.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Vn.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Vn.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Vn.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Vn.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Vn.hough={a:6378270,rf:297,ellipseName:"Hough"},Vn.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Vn.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Vn.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Vn.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Vn.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Vn.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Vn.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Vn.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Vn.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Vn.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Vn.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Vn.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var $A=Vn.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Vn.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function ZA(n,r,t,e){var i=n*n,o=r*r,a=(i-o)/i,s=0;e?(n*=1-a*(m1+a*(my+a*Pd)),i=n*n,a=0):s=Math.sqrt(a);var c=(i-o)/o;return{es:a,e:s,ep2:c}}function qA(n,r,t,e,i){if(!n){var o=wl(Vn,e);o||(o=$A),n=o.a,r=o.b,t=o.rf}return t&&!r&&(r=(1-1/t)*n),(t===0||Math.abs(n-r)<Br)&&(i=!0,r=n),{a:n,b:r,rf:t,sphere:i}}var ha={};ha.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ha.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ha.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},ha.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},ha.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},ha.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},ha.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},ha.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},ha.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ha.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},ha.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},ha.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},ha.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},ha.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},ha.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},ha.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},ha.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function JA(n,r,t,e,i,o,a){var s={};return n===void 0||n==="none"?s.datum_type=Tv:s.datum_type=Eh,r&&(s.datum_params=r.map(parseFloat),(s.datum_params[0]!==0||s.datum_params[1]!==0||s.datum_params[2]!==0)&&(s.datum_type=Sl),s.datum_params.length>3&&(s.datum_params[3]!==0||s.datum_params[4]!==0||s.datum_params[5]!==0||s.datum_params[6]!==0)&&(s.datum_type=$l,s.datum_params[3]*=xh,s.datum_params[4]*=xh,s.datum_params[5]*=xh,s.datum_params[6]=s.datum_params[6]/1e6+1)),a&&(s.datum_type=oc,s.grids=a),s.a=t,s.b=e,s.es=i,s.ep2=o,s}var QA=JA,ZE={};function tL(n,r){var t=new DataView(r),e=nL(t),i=iL(t,e);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o=oL(t,i,e),a={header:i,subgrids:o};return ZE[n]=a,a}function eL(n){if(n===void 0)return null;var r=n.split(",");return r.map(rL)}function rL(n){if(n.length===0)return null;var r=n[0]==="@";return r&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!r,grid:null,isNull:!0}:{name:n,mandatory:!r,grid:ZE[n]||null,isNull:!1}}function Dd(n){return n/3600*Math.PI/180}function nL(n){var r=n.getInt32(8,!1);return r===11?!1:(r=n.getInt32(8,!0),r!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function iL(n,r){return{nFields:n.getInt32(8,r),nSubgridFields:n.getInt32(24,r),nSubgrids:n.getInt32(40,r),shiftType:S1(n,56,56+8).trim(),fromSemiMajorAxis:n.getFloat64(120,r),fromSemiMinorAxis:n.getFloat64(136,r),toSemiMajorAxis:n.getFloat64(152,r),toSemiMinorAxis:n.getFloat64(168,r)}}function S1(n,r,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(r,t)))}function oL(n,r,t){for(var e=176,i=[],o=0;o<r.nSubgrids;o++){var a=sL(n,e,t),s=lL(n,e,a,t),c=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),h=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);i.push({ll:[Dd(a.lowerLongitude),Dd(a.lowerLatitude)],del:[Dd(a.longitudeInterval),Dd(a.latitudeInterval)],lim:[c,h],count:a.gridNodeCount,cvs:aL(s)})}return i}function aL(n){return n.map(function(r){return[Dd(r.longitudeShift),Dd(r.latitudeShift)]})}function sL(n,r,t){return{name:S1(n,r+8,r+16).trim(),parent:S1(n,r+24,r+24+8).trim(),lowerLatitude:n.getFloat64(r+72,t),upperLatitude:n.getFloat64(r+88,t),lowerLongitude:n.getFloat64(r+104,t),upperLongitude:n.getFloat64(r+120,t),latitudeInterval:n.getFloat64(r+136,t),longitudeInterval:n.getFloat64(r+152,t),gridNodeCount:n.getInt32(r+168,t)}}function lL(n,r,t,e){for(var i=r+176,o=16,a=[],s=0;s<t.gridNodeCount;s++){var c={latitudeShift:n.getFloat32(i+s*o,e),longitudeShift:n.getFloat32(i+s*o+4,e),latitudeAccuracy:n.getFloat32(i+s*o+8,e),longitudeAccuracy:n.getFloat32(i+s*o+12,e)};a.push(c)}return a}function Bd(n,r){if(!(this instanceof Bd))return new Bd(n);r=r||function(h){if(h)throw h};var t=jA(n);if(typeof t!="object"){r(n);return}var e=Bd.projections.get(t.projName);if(!e){r(n);return}if(t.datumCode&&t.datumCode!=="none"){var i=wl(ha,t.datumCode);i&&(t.datum_params=t.datum_params||(i.towgs84?i.towgs84.split(","):null),t.ellps=i.ellipse,t.datumName=i.datumName?i.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=qA(t.a,t.b,t.rf,t.ellps,t.sphere),a=ZA(o.a,o.b,o.rf,t.R_A),s=eL(t.nadgrids),c=t.datum||QA(t.datumCode,t.datum_params,o.a,o.b,a.es,a.ep2,s);XE(this,t),XE(this,e),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=a.es,this.e=a.e,this.ep2=a.ep2,this.datum=c,this.init(),r(null,this)}Bd.projections=KA,Bd.projections.start();var Iv=Bd;function uL(n,r){return n.datum_type!==r.datum_type||n.a!==r.a||Math.abs(n.es-r.es)>5e-11?!1:n.datum_type===Sl?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]:n.datum_type===$l?n.datum_params[0]===r.datum_params[0]&&n.datum_params[1]===r.datum_params[1]&&n.datum_params[2]===r.datum_params[2]&&n.datum_params[3]===r.datum_params[3]&&n.datum_params[4]===r.datum_params[4]&&n.datum_params[5]===r.datum_params[5]&&n.datum_params[6]===r.datum_params[6]:!0}function qE(n,r,t){var e=n.x,i=n.y,o=n.z?n.z:0,a,s,c,h;if(i<-pr&&i>-1.001*pr)i=-pr;else if(i>pr&&i<1.001*pr)i=pr;else{if(i<-pr)return{x:-1/0,y:-1/0,z:n.z};if(i>pr)return{x:1/0,y:1/0,z:n.z}}return e>Math.PI&&(e-=2*Math.PI),s=Math.sin(i),h=Math.cos(i),c=s*s,a=t/Math.sqrt(1-r*c),{x:(a+o)*h*Math.cos(e),y:(a+o)*h*Math.sin(e),z:(a*(1-r)+o)*s}}function JE(n,r,t,e){var i=1e-12,o=i*i,a=30,s,c,h,p,m,w,R,M,U,Z,lt,pt,xt,ht=n.x,Vt=n.y,kt=n.z?n.z:0,Zt,Xt,ce;if(s=Math.sqrt(ht*ht+Vt*Vt),c=Math.sqrt(ht*ht+Vt*Vt+kt*kt),s/t<i){if(Zt=0,c/t<i)return Xt=pr,ce=-e,{x:n.x,y:n.y,z:n.z}}else Zt=Math.atan2(Vt,ht);h=kt/c,p=s/c,m=1/Math.sqrt(1-r*(2-r)*p*p),M=p*(1-r)*m,U=h*m,xt=0;do xt++,R=t/Math.sqrt(1-r*U*U),ce=s*M+kt*U-R*(1-r*U*U),w=r*R/(R+ce),m=1/Math.sqrt(1-w*(2-w)*p*p),Z=p*(1-w)*m,lt=h*m,pt=lt*M-Z*U,M=Z,U=lt;while(pt*pt>o&&xt<a);return Xt=Math.atan(lt/Math.abs(Z)),{x:Zt,y:Xt,z:ce}}function cL(n,r,t){if(r===Sl)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(r===$l){var e=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],h=t[6];return{x:h*(n.x-c*n.y+s*n.z)+e,y:h*(c*n.x+n.y-a*n.z)+i,z:h*(-s*n.x+a*n.y+n.z)+o}}}function fL(n,r,t){if(r===Sl)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(r===$l){var e=t[0],i=t[1],o=t[2],a=t[3],s=t[4],c=t[5],h=t[6],p=(n.x-e)/h,m=(n.y-i)/h,w=(n.z-o)/h;return{x:p+c*m-s*w,y:-c*p+m+a*w,z:s*p-a*m+w}}}function by(n){return n===Sl||n===$l}var hL=function(n,r,t){if(uL(n,r)||n.datum_type===Tv||r.datum_type===Tv)return t;var e=n.a,i=n.es;if(n.datum_type===oc){var o=QE(n,!1,t);if(o!==0)return;e=yy,i=Zl}var a=r.a,s=r.b,c=r.es;if(r.datum_type===oc&&(a=yy,s=bv,c=Zl),i===c&&e===a&&!by(n.datum_type)&&!by(r.datum_type))return t;if(t=qE(t,i,e),by(n.datum_type)&&(t=cL(t,n.datum_type,n.datum_params)),by(r.datum_type)&&(t=fL(t,r.datum_type,r.datum_params)),t=JE(t,c,a,s),r.datum_type===oc){var h=QE(r,!0,t);if(h!==0)return}return t};function QE(n,r,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;for(var e={x:-t.x,y:t.y},i={x:Number.NaN,y:Number.NaN},o=[],a=0;a<n.grids.length;a++){var s=n.grids[a];if(o.push(s.name),s.isNull){i=e;break}if(s.grid===null){if(s.mandatory)return console.log("Unable to find mandatory grid '"+s.name+"'"),-1;continue}var c=s.grid.subgrids[0],h=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,p=c.ll[0]-h,m=c.ll[1]-h,w=c.ll[0]+(c.lim[0]-1)*c.del[0]+h,R=c.ll[1]+(c.lim[1]-1)*c.del[1]+h;if(!(m>e.y||p>e.x||R<e.y||w<e.x)&&(i=dL(e,r,c),!isNaN(i.x)))break}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*es+" "+e.y*es+" tried: '"+o+"'"),-1):(t.x=-i.x,t.y=i.y,0)}function dL(n,r,t){var e={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return e;var i={x:n.x,y:n.y};i.x-=t.ll[0],i.y-=t.ll[1],i.x=qr(i.x-Math.PI)+Math.PI;var o=tx(i,t);if(r){if(isNaN(o.x))return e;o.x=i.x-o.x,o.y=i.y-o.y;var a=9,s=1e-12,c,h;do{if(h=tx(o,t),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:i.x-(h.x+o.x),y:i.y-(h.y+o.y)},o.x+=c.x,o.y+=c.y}while(a--&&Math.abs(c.x)>s&&Math.abs(c.y)>s);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=qr(o.x+t.ll[0]),e.y=o.y+t.ll[1]}else isNaN(o.x)||(e.x=n.x+o.x,e.y=n.y+o.y);return e}function tx(n,r){var t={x:n.x/r.del[0],y:n.y/r.del[1]},e={x:Math.floor(t.x),y:Math.floor(t.y)},i={x:t.x-1*e.x,y:t.y-1*e.y},o={x:Number.NaN,y:Number.NaN},a;if(e.x<0||e.x>=r.lim[0]||e.y<0||e.y>=r.lim[1])return o;a=e.y*r.lim[0]+e.x;var s={x:r.cvs[a][0],y:r.cvs[a][1]};a++;var c={x:r.cvs[a][0],y:r.cvs[a][1]};a+=r.lim[0];var h={x:r.cvs[a][0],y:r.cvs[a][1]};a--;var p={x:r.cvs[a][0],y:r.cvs[a][1]},m=i.x*i.y,w=i.x*(1-i.y),R=(1-i.x)*(1-i.y),M=(1-i.x)*i.y;return o.x=R*s.x+w*c.x+M*p.x+m*h.x,o.y=R*s.y+w*c.y+M*p.y+m*h.y,o}var ex=function(n,r,t){var e=t.x,i=t.y,o=t.z||0,a,s,c,h={};for(c=0;c<3;c++)if(!(r&&c===2&&t.z===void 0))switch(c===0?(a=e,"ew".indexOf(n.axis[c])!==-1?s="x":s="y"):c===1?(a=i,"ns".indexOf(n.axis[c])!==-1?s="y":s="x"):(a=o,s="z"),n.axis[c]){case"e":h[s]=a;break;case"w":h[s]=-a;break;case"n":h[s]=a;break;case"s":h[s]=-a;break;case"u":t[s]!==void 0&&(h.z=a);break;case"d":t[s]!==void 0&&(h.z=-a);break;default:return null}return h},rx=function(n){var r={x:n[0],y:n[1]};return n.length>2&&(r.z=n[2]),n.length>3&&(r.m=n[3]),r},pL=function(n){nx(n.x),nx(n.y)};function nx(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function vL(n,r){return(n.datum.datum_type===Sl||n.datum.datum_type===$l)&&r.datumCode!=="WGS84"||(r.datum.datum_type===Sl||r.datum.datum_type===$l)&&n.datumCode!=="WGS84"}function Cy(n,r,t,e){var i;if(Array.isArray(t)&&(t=rx(t)),pL(t),n.datum&&r.datum&&vL(n,r)&&(i=new Iv("WGS84"),t=Cy(n,i,t,e),n=i),e&&n.axis!=="enu"&&(t=ex(n,!1,t)),n.projName==="longlat")t={x:t.x*Ko,y:t.y*Ko,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=hL(n.datum,r.datum,t),!!t)return r.from_greenwich&&(t={x:t.x-r.from_greenwich,y:t.y,z:t.z||0}),r.projName==="longlat"?t={x:t.x*es,y:t.y*es,z:t.z||0}:(t=r.forward(t),r.to_meter&&(t={x:t.x/r.to_meter,y:t.y/r.to_meter,z:t.z||0})),e&&r.axis!=="enu"?ex(r,!0,t):t}var ix=Iv("WGS84");function w1(n,r,t,e){var i,o,a;return Array.isArray(t)?(i=Cy(n,r,t,e)||{x:NaN,y:NaN},t.length>2?typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(t.splice(3)):[i.x,i.y,t[2]].concat(t.splice(3)):[i.x,i.y].concat(t.splice(2)):[i.x,i.y]):(o=Cy(n,r,t,e),a=Object.keys(t),a.length===2||a.forEach(function(s){if(typeof n.name!="undefined"&&n.name==="geocent"||typeof r.name!="undefined"&&r.name==="geocent"){if(s==="x"||s==="y"||s==="z")return}else if(s==="x"||s==="y")return;o[s]=t[s]}),o)}function ox(n){return n instanceof Iv?n:n.oProj?n.oProj:Iv(n)}function gL(n,r,t){n=ox(n);var e=!1,i;return typeof r=="undefined"?(r=n,n=ix,e=!0):(typeof r.x!="undefined"||Array.isArray(r))&&(t=r,r=n,n=ix,e=!0),r=ox(r),t?w1(n,r,t):(i={forward:function(o,a){return w1(n,r,o,a)},inverse:function(o,a){return w1(r,n,o,a)}},e&&(i.oProj=r),i)}var Xs=gL,ax=6,sx="AJSAJS",lx="AFAFAF",Gd=65,ms=73,bl=79,Mv=86,Nv=90,yL={forward:ux,inverse:mL,toPoint:cx};function ux(n,r){return r=r||5,xL(_L({lat:n[1],lon:n[0]}),r)}function mL(n){var r=T1(dx(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat,r.lon,r.lat]:[r.left,r.bottom,r.right,r.top]}function cx(n){var r=T1(dx(n.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat]:[(r.left+r.right)/2,(r.top+r.bottom)/2]}function O1(n){return n*(Math.PI/180)}function fx(n){return 180*(n/Math.PI)}function _L(n){var r=n.lat,t=n.lon,e=6378137,i=.00669438,o=.9996,a,s,c,h,p,m,w,R=O1(r),M=O1(t),U,Z;Z=Math.floor((t+180)/6)+1,t===180&&(Z=60),r>=56&&r<64&&t>=3&&t<12&&(Z=32),r>=72&&r<84&&(t>=0&&t<9?Z=31:t>=9&&t<21?Z=33:t>=21&&t<33?Z=35:t>=33&&t<42&&(Z=37)),a=(Z-1)*6-180+3,U=O1(a),s=i/(1-i),c=e/Math.sqrt(1-i*Math.sin(R)*Math.sin(R)),h=Math.tan(R)*Math.tan(R),p=s*Math.cos(R)*Math.cos(R),m=Math.cos(R)*(M-U),w=e*((1-i/4-3*i*i/64-5*i*i*i/256)*R-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*R)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*R)-35*i*i*i/3072*Math.sin(6*R));var lt=o*c*(m+(1-h+p)*m*m*m/6+(5-18*h+h*h+72*p-58*s)*m*m*m*m*m/120)+5e5,pt=o*(w+c*Math.tan(R)*(m*m/2+(5-h+9*p+4*p*p)*m*m*m*m/24+(61-58*h+h*h+600*p-330*s)*m*m*m*m*m*m/720));return r<0&&(pt+=1e7),{northing:Math.round(pt),easting:Math.round(lt),zoneNumber:Z,zoneLetter:EL(r)}}function T1(n){var r=n.northing,t=n.easting,e=n.zoneLetter,i=n.zoneNumber;if(i<0||i>60)return null;var o=.9996,a=6378137,s=.00669438,c,h=(1-Math.sqrt(1-s))/(1+Math.sqrt(1-s)),p,m,w,R,M,U,Z,lt,pt,xt=t-5e5,ht=r;e<"N"&&(ht-=1e7),Z=(i-1)*6-180+3,c=s/(1-s),U=ht/o,lt=U/(a*(1-s/4-3*s*s/64-5*s*s*s/256)),pt=lt+(3*h/2-27*h*h*h/32)*Math.sin(2*lt)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*lt)+151*h*h*h/96*Math.sin(6*lt),p=a/Math.sqrt(1-s*Math.sin(pt)*Math.sin(pt)),m=Math.tan(pt)*Math.tan(pt),w=c*Math.cos(pt)*Math.cos(pt),R=a*(1-s)/Math.pow(1-s*Math.sin(pt)*Math.sin(pt),1.5),M=xt/(p*o);var Vt=pt-p*Math.tan(pt)/R*(M*M/2-(5+3*m+10*w-4*w*w-9*c)*M*M*M*M/24+(61+90*m+298*w+45*m*m-252*c-3*w*w)*M*M*M*M*M*M/720);Vt=fx(Vt);var kt=(M-(1+2*m+w)*M*M*M/6+(5-2*w+28*m-3*w*w+8*c+24*m*m)*M*M*M*M*M/120)/Math.cos(pt);kt=Z+fx(kt);var Zt;if(n.accuracy){var Xt=T1({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});Zt={top:Xt.lat,right:Xt.lon,bottom:Vt,left:kt}}else Zt={lat:Vt,lon:kt};return Zt}function EL(n){var r="Z";return 84>=n&&n>=72?r="X":72>n&&n>=64?r="W":64>n&&n>=56?r="V":56>n&&n>=48?r="U":48>n&&n>=40?r="T":40>n&&n>=32?r="S":32>n&&n>=24?r="R":24>n&&n>=16?r="Q":16>n&&n>=8?r="P":8>n&&n>=0?r="N":0>n&&n>=-8?r="M":-8>n&&n>=-16?r="L":-16>n&&n>=-24?r="K":-24>n&&n>=-32?r="J":-32>n&&n>=-40?r="H":-40>n&&n>=-48?r="G":-48>n&&n>=-56?r="F":-56>n&&n>=-64?r="E":-64>n&&n>=-72?r="D":-72>n&&n>=-80&&(r="C"),r}function xL(n,r){var t="00000"+n.easting,e="00000"+n.northing;return n.zoneNumber+n.zoneLetter+SL(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,r)+e.substr(e.length-5,r)}function SL(n,r,t){var e=hx(t),i=Math.floor(n/1e5),o=Math.floor(r/1e5)%20;return wL(i,o,e)}function hx(n){var r=n%ax;return r===0&&(r=ax),r}function wL(n,r,t){var e=t-1,i=sx.charCodeAt(e),o=lx.charCodeAt(e),a=i+n-1,s=o+r,c=!1;a>Nv&&(a=a-Nv+Gd-1,c=!0),(a===ms||i<ms&&a>ms||(a>ms||i<ms)&&c)&&a++,(a===bl||i<bl&&a>bl||(a>bl||i<bl)&&c)&&(a++,a===ms&&a++),a>Nv&&(a=a-Nv+Gd-1),s>Mv?(s=s-Mv+Gd-1,c=!0):c=!1,(s===ms||o<ms&&s>ms||(s>ms||o<ms)&&c)&&s++,(s===bl||o<bl&&s>bl||(s>bl||o<bl)&&c)&&(s++,s===ms&&s++),s>Mv&&(s=s-Mv+Gd-1);var h=String.fromCharCode(a)+String.fromCharCode(s);return h}function dx(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var r=n.length,t=null,e="",i,o=0;!/[A-Z]/.test(i=n.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+n;e+=i,o++}var a=parseInt(e,10);if(o===0||o+3>r)throw"MGRSPoint bad conversion from: "+n;var s=n.charAt(o++);if(s<="A"||s==="B"||s==="Y"||s>="Z"||s==="I"||s==="O")throw"MGRSPoint zone letter "+s+" not handled: "+n;t=n.substring(o,o+=2);for(var c=hx(a),h=OL(t.charAt(0),c),p=TL(t.charAt(1),c);p<bL(s);)p+=2e6;var m=r-o;if(m%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var w=m/2,R=0,M=0,U,Z,lt,pt,xt;return w>0&&(U=1e5/Math.pow(10,w),Z=n.substring(o,o+w),R=parseFloat(Z)*U,lt=n.substring(o+w),M=parseFloat(lt)*U),pt=R+h,xt=M+p,{easting:pt,northing:xt,zoneLetter:s,zoneNumber:a,accuracy:U}}function OL(n,r){for(var t=sx.charCodeAt(r-1),e=1e5,i=!1;t!==n.charCodeAt(0);){if(t++,t===ms&&t++,t===bl&&t++,t>Nv){if(i)throw"Bad character: "+n;t=Gd,i=!0}e+=1e5}return e}function TL(n,r){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=lx.charCodeAt(r-1),e=0,i=!1;t!==n.charCodeAt(0);){if(t++,t===ms&&t++,t===bl&&t++,t>Mv){if(i)throw"Bad character: "+n;t=Gd,i=!0}e+=1e5}return e}function bL(n){var r;switch(n){case"C":r=11e5;break;case"D":r=2e6;break;case"E":r=28e5;break;case"F":r=37e5;break;case"G":r=46e5;break;case"H":r=55e5;break;case"J":r=64e5;break;case"K":r=73e5;break;case"L":r=82e5;break;case"M":r=91e5;break;case"N":r=0;break;case"P":r=8e5;break;case"Q":r=17e5;break;case"R":r=26e5;break;case"S":r=35e5;break;case"T":r=44e5;break;case"U":r=53e5;break;case"V":r=62e5;break;case"W":r=7e6;break;case"X":r=79e5;break;default:r=-1}if(r>=0)return r;throw"Invalid zone letter: "+n}function Ud(n,r,t){if(!(this instanceof Ud))return new Ud(n,r,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof r=="undefined"){var e=n.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=n,this.y=r,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ud.fromMGRS=function(n){return new Ud(cx(n))},Ud.prototype.toMGRS=function(n){return ux([this.x,this.y],n)};var CL=Ud,AL=1,LL=.25,px=.046875,vx=.01953125,gx=.01068115234375,RL=.75,PL=.46875,IL=.013020833333333334,ML=.007120768229166667,NL=.3645833333333333,FL=.005696614583333333,jL=.3076171875,yx=function(n){var r=[];r[0]=AL-n*(LL+n*(px+n*(vx+n*gx))),r[1]=n*(RL-n*(px+n*(vx+n*gx)));var t=n*n;return r[2]=t*(PL-n*(IL+n*ML)),t*=n,r[3]=t*(NL-n*FL),r[4]=t*n*jL,r},Ay=function(n,r,t,e){return t*=r,r*=r,e[0]*n-t*(e[1]+r*(e[2]+r*(e[3]+r*e[4])))},DL=20,mx=function(n,r,t){for(var e=1/(1-r),i=n,o=DL;o;--o){var a=Math.sin(i),s=1-r*a*a;if(s=(Ay(i,a,Math.cos(i),t)-n)*(s*Math.sqrt(s))*e,i-=s,Math.abs(s)<Br)return i}return i};function BL(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=yx(this.es),this.ml0=Ay(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function GL(n){var r=n.x,t=n.y,e=qr(r-this.long0),i,o,a,s=Math.sin(t),c=Math.cos(t);if(this.es){var p=c*e,m=Math.pow(p,2),w=this.ep2*Math.pow(c,2),R=Math.pow(w,2),M=Math.abs(c)>Br?Math.tan(t):0,U=Math.pow(M,2),Z=Math.pow(U,2);i=1-this.es*Math.pow(s,2),p=p/Math.sqrt(i);var lt=Ay(t,s,c,this.en);o=this.a*(this.k0*p*(1+m/6*(1-U+w+m/20*(5-18*U+Z+14*w-58*U*w+m/42*(61+179*Z-Z*U-479*U)))))+this.x0,a=this.a*(this.k0*(lt-this.ml0+s*e*p/2*(1+m/12*(5-U+9*w+4*R+m/30*(61+Z-58*U+270*w-330*U*w+m/56*(1385+543*Z-Z*U-3111*U))))))+this.y0}else{var h=c*Math.sin(e);if(Math.abs(Math.abs(h)-1)<Br)return 93;if(o=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,a=c*Math.cos(e)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(a),h>=1){if(h-1>Br)return 93;a=0}else a=Math.acos(a);t<0&&(a=-a),a=this.a*this.k0*(a-this.lat0)+this.y0}return n.x=o,n.y=a,n}function UL(n){var r,t,e,i,o=(n.x-this.x0)*(1/this.a),a=(n.y-this.y0)*(1/this.a);if(this.es)if(r=this.ml0+a/this.k0,t=mx(r,this.es,this.en),Math.abs(t)<pr){var m=Math.sin(t),w=Math.cos(t),R=Math.abs(w)>Br?Math.tan(t):0,M=this.ep2*Math.pow(w,2),U=Math.pow(M,2),Z=Math.pow(R,2),lt=Math.pow(Z,2);r=1-this.es*Math.pow(m,2);var pt=o*Math.sqrt(r)/this.k0,xt=Math.pow(pt,2);r=r*R,e=t-r*xt/(1-this.es)*.5*(1-xt/12*(5+3*Z-9*M*Z+M-4*U-xt/30*(61+90*Z-252*M*Z+45*lt+46*M-xt/56*(1385+3633*Z+4095*lt+1574*lt*Z)))),i=qr(this.long0+pt*(1-xt/6*(1+2*Z+M-xt/20*(5+28*Z+24*lt+8*M*Z+6*M-xt/42*(61+662*Z+1320*lt+720*lt*Z))))/w)}else e=pr*Rv(a),i=0;else{var s=Math.exp(o/this.k0),c=.5*(s-1/s),h=this.lat0+a/this.k0,p=Math.cos(h);r=Math.sqrt((1-Math.pow(p,2))/(1+Math.pow(c,2))),e=Math.asin(r),a<0&&(e=-e),c===0&&p===0?i=0:i=qr(Math.atan2(c,p)+this.long0)}return n.x=i,n.y=e,n}var kL=["Fast_Transverse_Mercator","Fast Transverse Mercator"],Ly={init:BL,forward:GL,inverse:UL,names:kL},_x=function(n){var r=Math.exp(n);return r=(r-1/r)/2,r},Ry=function(n,r){n=Math.abs(n),r=Math.abs(r);var t=Math.max(n,r),e=Math.min(n,r)/(t||1);return t*Math.sqrt(1+Math.pow(e,2))},zL=function(n){var r=1+n,t=r-1;return t===0?n:n*Math.log(r)/t},VL=function(n){var r=Math.abs(n);return r=zL(r*(1+r/(Ry(1,r)+1))),n<0?-r:r},b1=function(n,r){for(var t=2*Math.cos(2*r),e=n.length-1,i=n[e],o=0,a;--e>=0;)a=-o+t*i+n[e],o=i,i=a;return r+a*Math.sin(2*r)},WL=function(n,r){for(var t=2*Math.cos(r),e=n.length-1,i=n[e],o=0,a;--e>=0;)a=-o+t*i+n[e],o=i,i=a;return Math.sin(r)*a},YL=function(n){var r=Math.exp(n);return r=(r+1/r)/2,r},Ex=function(n,r,t){for(var e=Math.sin(r),i=Math.cos(r),o=_x(t),a=YL(t),s=2*i*a,c=-2*e*o,h=n.length-1,p=n[h],m=0,w=0,R=0,M,U;--h>=0;)M=w,U=m,w=p,m=R,p=-M+s*w-c*m+n[h],R=-U+c*w+s*m;return s=e*a,c=i*o,[s*p-c*R,s*R+c*p]};function HL(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ly.init.apply(this),this.forward=Ly.forward,this.inverse=Ly.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),r=n/(2-n),t=r;this.cgb[0]=r*(2+r*(-2/3+r*(-2+r*(116/45+r*(26/45+r*(-2854/675)))))),this.cbg[0]=r*(-2+r*(2/3+r*(4/3+r*(-82/45+r*(32/45+r*(4642/4725)))))),t=t*r,this.cgb[1]=t*(7/3+r*(-8/5+r*(-227/45+r*(2704/315+r*(2323/945))))),this.cbg[1]=t*(5/3+r*(-16/15+r*(-13/9+r*(904/315+r*(-1522/945))))),t=t*r,this.cgb[2]=t*(56/15+r*(-136/35+r*(-1262/105+r*(73814/2835)))),this.cbg[2]=t*(-26/15+r*(34/21+r*(8/5+r*(-12686/2835)))),t=t*r,this.cgb[3]=t*(4279/630+r*(-332/35+r*(-399572/14175))),this.cbg[3]=t*(1237/630+r*(-12/5+r*(-24832/14175))),t=t*r,this.cgb[4]=t*(4174/315+r*(-144838/6237)),this.cbg[4]=t*(-734/315+r*(109598/31185)),t=t*r,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(r,2),this.Qn=this.k0/(1+r)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=r*(-.5+r*(2/3+r*(-37/96+r*(1/360+r*(81/512+r*(-96199/604800)))))),this.gtu[0]=r*(.5+r*(-2/3+r*(5/16+r*(41/180+r*(-127/288+r*(7891/37800)))))),this.utg[1]=t*(-1/48+r*(-1/15+r*(437/1440+r*(-46/105+r*(1118711/3870720))))),this.gtu[1]=t*(13/48+r*(-3/5+r*(557/1440+r*(281/630+r*(-1983433/1935360))))),t=t*r,this.utg[2]=t*(-17/480+r*(37/840+r*(209/4480+r*(-5569/90720)))),this.gtu[2]=t*(61/240+r*(-103/140+r*(15061/26880+r*(167603/181440)))),t=t*r,this.utg[3]=t*(-4397/161280+r*(11/504+r*(830251/7257600))),this.gtu[3]=t*(49561/161280+r*(-179/168+r*(6601661/7257600))),t=t*r,this.utg[4]=t*(-4583/161280+r*(108847/3991680)),this.gtu[4]=t*(34729/80640+r*(-3418889/1995840)),t=t*r,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var e=b1(this.cbg,this.lat0);this.Zb=-this.Qn*(e+WL(this.gtu,2*e))}function XL(n){var r=qr(n.x-this.long0),t=n.y;t=b1(this.cbg,t);var e=Math.sin(t),i=Math.cos(t),o=Math.sin(r),a=Math.cos(r);t=Math.atan2(e,a*i),r=Math.atan2(o*i,Ry(e,i*a)),r=VL(Math.tan(r));var s=Ex(this.gtu,2*t,2*r);t=t+s[0],r=r+s[1];var c,h;return Math.abs(r)<=2.623395162778?(c=this.a*(this.Qn*r)+this.x0,h=this.a*(this.Qn*t+this.Zb)+this.y0):(c=1/0,h=1/0),n.x=c,n.y=h,n}function KL(n){var r=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,r=r/this.Qn;var e,i;if(Math.abs(r)<=2.623395162778){var o=Ex(this.utg,2*t,2*r);t=t+o[0],r=r+o[1],r=Math.atan(_x(r));var a=Math.sin(t),s=Math.cos(t),c=Math.sin(r),h=Math.cos(r);t=Math.atan2(a*h,Ry(c,h*s)),r=Math.atan2(c,h*s),e=qr(r+this.long0),i=b1(this.cgb,t)}else e=1/0,i=1/0;return n.x=e,n.y=i,n}var $L=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],Py={init:HL,forward:XL,inverse:KL,names:$L},ZL=function(n,r){if(n===void 0){if(n=Math.floor((qr(r)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n},qL="etmerc";function JL(){var n=ZL(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*Ko,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Py.init.apply(this),this.forward=Py.forward,this.inverse=Py.inverse}var QL=["Universal Transverse Mercator System","utm"],tR={init:JL,names:QL,dependsOn:qL},C1=function(n,r){return Math.pow((1-n)/(1+n),r)},eR=20;function rR(){var n=Math.sin(this.lat0),r=Math.cos(this.lat0);r*=r,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*r*r/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ei)/(Math.pow(Math.tan(.5*this.lat0+Ei),this.C)*C1(this.e*n,this.ratexp))}function nR(n){var r=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+Ei),this.C)*C1(this.e*Math.sin(t),this.ratexp))-pr,n.x=this.C*r,n}function iR(n){for(var r=1e-14,t=n.x/this.C,e=n.y,i=Math.pow(Math.tan(.5*e+Ei)/this.K,1/this.C),o=eR;o>0&&(e=2*Math.atan(i*C1(this.e*Math.sin(n.y),-.5*this.e))-pr,!(Math.abs(e-n.y)<r));--o)n.y=e;return o?(n.x=t,n.y=e,n):null}var oR=["gauss"],A1={init:rR,forward:nR,inverse:iR,names:oR};function aR(){A1.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function sR(n){var r,t,e,i;return n.x=qr(n.x-this.long0),A1.forward.apply(this,[n]),r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i=this.k0*this.R2/(1+this.sinc0*r+this.cosc0*t*e),n.x=i*t*Math.sin(n.x),n.y=i*(this.cosc0*r-this.sinc0*t*e),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function lR(n){var r,t,e,i,o;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,o=Math.sqrt(n.x*n.x+n.y*n.y)){var a=2*Math.atan2(o,this.R2);r=Math.sin(a),t=Math.cos(a),i=Math.asin(t*this.sinc0+n.y*r*this.cosc0/o),e=Math.atan2(n.x*r,o*this.cosc0*t-n.y*this.sinc0*r)}else i=this.phic0,e=0;return n.x=e,n.y=i,A1.inverse.apply(this,[n]),n.x=qr(n.x+this.long0),n}var uR=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],cR={init:aR,forward:sR,inverse:lR,names:uR};function fR(n,r,t){return r*=t,Math.tan(.5*(pr+n))*Math.pow((1-r)/(1+r),.5*t)}function hR(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Br&&(this.k0=.5*(1+Rv(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Br&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Br&&(this.k0=.5*this.cons*Iu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/eu(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Iu(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-pr,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function dR(n){var r=n.x,t=n.y,e=Math.sin(t),i=Math.cos(t),o,a,s,c,h,p,m=qr(r-this.long0);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=Br&&Math.abs(t+this.lat0)<=Br?(n.x=NaN,n.y=NaN,n):this.sphere?(o=2*this.k0/(1+this.sinlat0*e+this.coslat0*i*Math.cos(m)),n.x=this.a*o*i*Math.sin(m)+this.x0,n.y=this.a*o*(this.coslat0*e-this.sinlat0*i*Math.cos(m))+this.y0,n):(a=2*Math.atan(this.ssfn_(t,e,this.e))-pr,c=Math.cos(a),s=Math.sin(a),Math.abs(this.coslat0)<=Br?(h=eu(this.e,t*this.con,this.con*e),p=2*this.a*this.k0*h/this.cons,n.x=this.x0+p*Math.sin(r-this.long0),n.y=this.y0-this.con*p*Math.cos(r-this.long0),n):(Math.abs(this.sinlat0)<Br?(o=2*this.a*this.k0/(1+c*Math.cos(m)),n.y=o*s):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*c*Math.cos(m))),n.y=o*(this.cosX0*s-this.sinX0*c*Math.cos(m))+this.y0),n.x=o*c*Math.sin(m)+this.x0,n))}function pR(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,o,a=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return r=this.long0,t=this.lat0,a<=Br?(n.x=r,n.y=t,n):(t=Math.asin(Math.cos(s)*this.sinlat0+n.y*Math.sin(s)*this.coslat0/a),Math.abs(this.coslat0)<Br?this.lat0>0?r=qr(this.long0+Math.atan2(n.x,-1*n.y)):r=qr(this.long0+Math.atan2(n.x,n.y)):r=qr(this.long0+Math.atan2(n.x*Math.sin(s),a*this.coslat0*Math.cos(s)-n.y*this.sinlat0*Math.sin(s))),n.x=r,n.y=t,n)}else if(Math.abs(this.coslat0)<=Br){if(a<=Br)return t=this.lat0,r=this.long0,n.x=r,n.y=t,n;n.x*=this.con,n.y*=this.con,e=a*this.cons/(2*this.a*this.k0),t=this.con*Pv(this.e,e),r=this.con*qr(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),r=this.long0,a<=Br?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+n.y*Math.sin(i)*this.cosX0/a),r=qr(this.long0+Math.atan2(n.x*Math.sin(i),a*this.cosX0*Math.cos(i)-n.y*this.sinX0*Math.sin(i)))),t=-1*Pv(this.e,Math.tan(.5*(pr+o)));return n.x=r,n.y=t,n}var vR=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],gR={init:hR,forward:dR,inverse:pR,names:vR,ssfn_:fR};function yR(){var n=this.lat0;this.lambda0=this.long0;var r=Math.sin(n),t=this.a,e=this.rf,i=1/e,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(r,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(r/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+n/2)),h=Math.log((1+a*r)/(1-a*r));this.K=s-this.alpha*c+this.alpha*a/2*h}function mR(n){var r=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),e=-this.alpha*(r+t)+this.K,i=2*(Math.atan(Math.exp(e))-Math.PI/4),o=this.alpha*(n.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return n.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,n.x=this.R*a+this.x0,n}function _R(n){for(var r=n.x-this.x0,t=n.y-this.y0,e=r/this.R,i=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),a=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,c=0,h=o,p=-1e3,m=0;Math.abs(h-p)>1e-7;){if(++m>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),p=h,h=2*Math.atan(Math.exp(c))-Math.PI/2}return n.x=s,n.y=h,n}var ER=["somerc"],xR={init:yR,forward:mR,inverse:_R,names:ER},kd=1e-7;function SR(n){var r=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||r.indexOf(t)!==-1}function wR(){var n,r,t,e,i,o,a,s,c,h,p=0,m,w=0,R=0,M=0,U=0,Z=0,lt=0;this.no_off=SR(this),this.no_rot="no_rot"in this;var pt=!1;"alpha"in this&&(pt=!0);var xt=!1;if("rectified_grid_angle"in this&&(xt=!0),pt&&(lt=this.alpha),xt&&(p=this.rectified_grid_angle*Ko),pt||xt)w=this.longc;else if(R=this.long1,U=this.lat1,M=this.long2,Z=this.lat2,Math.abs(U-Z)<=kd||(n=Math.abs(U))<=kd||Math.abs(n-pr)<=kd||Math.abs(Math.abs(this.lat0)-pr)<=kd||Math.abs(Math.abs(Z)-pr)<=kd)throw new Error;var ht=1-this.es;r=Math.sqrt(ht),Math.abs(this.lat0)>Br?(s=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*s*s,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/ht),this.A=this.B*this.k0*r/n,e=this.B*r/(t*Math.sqrt(n)),i=e*e-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=e,this.E*=Math.pow(eu(this.e,this.lat0,s),this.B)):(this.B=1/r,this.A=this.k0,this.E=e=i=1),pt||xt?(pt?(m=Math.asin(Math.sin(lt)/e),xt||(p=lt)):(m=p,lt=Math.asin(e*Math.sin(m))),this.lam0=w-Math.asin(.5*(i-1/i)*Math.tan(m))/this.B):(o=Math.pow(eu(this.e,U,Math.sin(U)),this.B),a=Math.pow(eu(this.e,Z,Math.sin(Z)),this.B),i=this.E/o,c=(a-o)/(a+o),h=this.E*this.E,h=(h-a*o)/(h+a*o),n=R-M,n<-Math.pi?M-=ql:n>Math.pi&&(M+=ql),this.lam0=qr(.5*(R+M)-Math.atan(h*Math.tan(.5*this.B*(R-M))/c)/this.B),m=Math.atan(2*Math.sin(this.B*qr(R-this.lam0))/(i-1/i)),p=lt=Math.asin(e*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(lt))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(Ei-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ei+i))}function OR(n){var r={},t,e,i,o,a,s,c,h;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-pr)>Br){if(a=this.E/Math.pow(eu(this.e,n.y,Math.sin(n.y)),this.B),s=1/a,t=.5*(a-s),e=.5*(a+s),o=Math.sin(this.B*n.x),i=(t*this.singam-o*this.cosgam)/e,Math.abs(Math.abs(i)-1)<Br)throw new Error;h=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*n.x),Math.abs(s)<kd?c=this.A*n.x:c=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,s)}else h=n.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*n.y;return this.no_rot?(r.x=c,r.y=h):(c-=this.u_0,r.x=h*this.cosrot+c*this.sinrot,r.y=c*this.cosrot-h*this.sinrot),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function TR(n){var r,t,e,i,o,a,s,c={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,r=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,r=n.y*this.cosrot+n.x*this.sinrot+this.u_0),e=Math.exp(-this.BrA*t),i=.5*(e-1/e),o=.5*(e+1/e),a=Math.sin(this.BrA*r),s=(a*this.cosgam+i*this.singam)/o,Math.abs(Math.abs(s)-1)<Br)c.x=0,c.y=s<0?-pr:pr;else{if(c.y=this.E/Math.sqrt((1+s)/(1-s)),c.y=Pv(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(i*this.cosgam-a*this.singam,Math.cos(this.BrA*r))}return c.x+=this.lam0,c}var bR=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],CR={init:wR,forward:OR,inverse:TR,names:bR};function AR(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Br)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var r=Math.sin(this.lat1),t=Math.cos(this.lat1),e=Iu(this.e,r,t),i=eu(this.e,this.lat1,r),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=Iu(this.e,o,a),c=eu(this.e,this.lat2,o),h=eu(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Br?this.ns=Math.log(e/s)/Math.log(i/c):this.ns=r,isNaN(this.ns)&&(this.ns=r),this.f0=e/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function LR(n){var r=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=Br&&(t=Rv(t)*(pr-2*Br));var e=Math.abs(Math.abs(t)-pr),i,o;if(e>Br)i=eu(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(i,this.ns);else{if(e=t*this.ns,e<=0)return null;o=0}var a=this.ns*qr(r-this.long0);return n.x=this.k0*(o*Math.sin(a))+this.x0,n.y=this.k0*(this.rh-o*Math.cos(a))+this.y0,n}function RR(n){var r,t,e,i,o,a=(n.x-this.x0)/this.k0,s=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(r=Math.sqrt(a*a+s*s),t=1):(r=-Math.sqrt(a*a+s*s),t=-1);var c=0;if(r!==0&&(c=Math.atan2(t*a,t*s)),r!==0||this.ns>0){if(t=1/this.ns,e=Math.pow(r/(this.a*this.f0),t),i=Pv(this.e,e),i===-9999)return null}else i=-pr;return o=qr(c/this.ns+this.long0),n.x=o,n.y=i,n}var PR=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"],IR={init:AR,forward:LR,inverse:RR,names:PR};function MR(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function NR(n){var r,t,e,i,o,a,s,c=n.x,h=n.y,p=qr(c-this.long0);return r=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/r)-this.s45),e=-p*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(e)),o=Math.asin(Math.cos(t)*Math.sin(e)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),n.y=s*Math.cos(a)/1,n.x=s*Math.sin(a)/1,this.czech||(n.y*=-1,n.x*=-1),n}function FR(n){var r,t,e,i,o,a,s,c,h=n.x;n.x=n.y,n.y=h,this.czech||(n.y*=-1,n.x*=-1),a=Math.sqrt(n.x*n.x+n.y*n.y),o=Math.atan2(n.y,n.x),i=o/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),r=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),t=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(r)),n.x=this.long0-t/this.alfa,s=r,c=0;var p=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(r/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-n.y)<1e-10&&(c=1),s=n.y,p+=1;while(c===0&&p<15);return p>=15?null:n}var jR=["Krovak","krovak"],DR={init:MR,forward:NR,inverse:FR,names:jR},ns=function(n,r,t,e,i){return n*i-r*Math.sin(2*i)+t*Math.sin(4*i)-e*Math.sin(6*i)},Fv=function(n){return 1-.25*n*(1+n/16*(3+1.25*n))},jv=function(n){return .375*n*(1+.25*n*(1+.46875*n))},Dv=function(n){return .05859375*n*n*(1+.75*n)},Bv=function(n){return n*n*n*(35/3072)},zd=function(n,r,t){var e=r*t;return n/Math.sqrt(1-e*e)},Vd=function(n){return Math.abs(n)<pr?n:n-Rv(n)*Math.PI},Iy=function(n,r,t,e,i){var o,a;o=n/r;for(var s=0;s<15;s++)if(a=(n-(r*o-t*Math.sin(2*o)+e*Math.sin(4*o)-i*Math.sin(6*o)))/(r-2*t*Math.cos(2*o)+4*e*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN};function BR(){this.sphere||(this.e0=Fv(this.es),this.e1=jv(this.es),this.e2=Dv(this.es),this.e3=Bv(this.es),this.ml0=this.a*ns(this.e0,this.e1,this.e2,this.e3,this.lat0))}function GR(n){var r,t,e=n.x,i=n.y;if(e=qr(e-this.long0),this.sphere)r=this.a*Math.asin(Math.cos(i)*Math.sin(e)),t=this.a*(Math.atan2(Math.tan(i),Math.cos(e))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=zd(this.a,this.e,o),c=Math.tan(i)*Math.tan(i),h=e*Math.cos(i),p=h*h,m=this.es*a*a/(1-this.es),w=this.a*ns(this.e0,this.e1,this.e2,this.e3,i);r=s*h*(1-p*c*(1/6-(8-c+8*m)*p/120)),t=w-this.ml0+s*o/a*p*(.5+(5-c+6*m)*p/24)}return n.x=r+this.x0,n.y=t+this.y0,n}function UR(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i;if(this.sphere){var o=t+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),i=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+t,s=Iy(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-pr)<=Br)return n.x=this.long0,n.y=pr,t<0&&(n.y*=-1),n;var c=zd(this.a,this.e,Math.sin(s)),h=c*c*c/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(s),2),m=r*this.a/c,w=m*m;e=s-c*Math.tan(s)/h*m*m*(.5-(1+3*p)*m*m/24),i=m*(1-w*(p/3+(1+3*p)*p*w/15))/Math.cos(s)}return n.x=qr(i+this.long0),n.y=Vd(e),n}var kR=["Cassini","Cassini_Soldner","cass"],zR={init:BR,forward:GR,inverse:UR,names:kR},tf=function(n,r){var t;return n>1e-7?(t=n*r,(1-n*n)*(r/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*r},VR=1,WR=2,YR=3,HR=4;function XR(){var n=Math.abs(this.lat0);if(Math.abs(n-pr)<Br?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<Br?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var r;switch(this.qp=tf(this.e,1),this.mmf=.5/(1-this.es),this.apa=rP(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),r=Math.sin(this.lat0),this.sinb1=tf(this.e,r)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*r*r)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function KR(n){var r,t,e,i,o,a,s,c,h,p,m=n.x,w=n.y;if(m=qr(m-this.long0),this.sphere){if(o=Math.sin(w),p=Math.cos(w),e=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+p*e:1+this.sinph0*o+this.cosph0*p*e,t<=Br)return null;t=Math.sqrt(2/t),r=t*p*Math.sin(m),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*p*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(w+this.lat0)<Br)return null;t=Ei-w*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),r=t*Math.sin(m),t*=e}}else{switch(s=0,c=0,h=0,e=Math.cos(m),i=Math.sin(m),o=Math.sin(w),a=tf(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(s=a/this.qp,c=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:h=1+this.sinb1*s+this.cosb1*c*e;break;case this.EQUIT:h=1+c*e;break;case this.N_POLE:h=pr+w,a=this.qp-a;break;case this.S_POLE:h=w-pr,a=this.qp+a;break}if(Math.abs(h)<Br)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?t=this.ymf*h*(this.cosb1*s-this.sinb1*c*e):t=(h=Math.sqrt(2/(1+c*e)))*s*this.ymf,r=this.xmf*h*c*i;break;case this.N_POLE:case this.S_POLE:a>=0?(r=(h=Math.sqrt(a))*i,t=e*(this.mode===this.S_POLE?h:-h)):r=t=0;break}}return n.x=this.a*r+this.x0,n.y=this.a*t+this.y0,n}function $R(n){n.x-=this.x0,n.y-=this.y0;var r=n.x/this.a,t=n.y/this.a,e,i,o,a,s,c,h;if(this.sphere){var p=0,m,w=0;if(m=Math.sqrt(r*r+t*t),i=m*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(w=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(m)<=Br?0:Math.asin(t*w/m),r*=w,t=p*m;break;case this.OBLIQ:i=Math.abs(m)<=Br?this.lat0:Math.asin(p*this.sinph0+t*w*this.cosph0/m),r*=w*this.cosph0,t=(p-Math.sin(i)*this.sinph0)*m;break;case this.N_POLE:t=-t,i=pr-i;break;case this.S_POLE:i-=pr;break}e=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(r,t)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r/=this.dd,t*=this.dd,c=Math.sqrt(r*r+t*t),c<Br)return n.x=this.long0,n.y=this.lat0,n;a=2*Math.asin(.5*c/this.rq),o=Math.cos(a),r*=a=Math.sin(a),this.mode===this.OBLIQ?(h=o*this.sinb1+t*a*this.cosb1/c,s=this.qp*h,t=c*this.cosb1*o-t*this.sinb1*a):(h=t*a/c,s=this.qp*h,t=c*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),s=r*r+t*t,!s)return n.x=this.long0,n.y=this.lat0,n;h=1-s/this.qp,this.mode===this.S_POLE&&(h=-h)}e=Math.atan2(r,t),i=nP(Math.asin(h),this.apa)}return n.x=qr(this.long0+e),n.y=i,n}var ZR=.3333333333333333,qR=.17222222222222222,JR=.10257936507936508,QR=.06388888888888888,tP=.0664021164021164,eP=.016415012942191543;function rP(n){var r,t=[];return t[0]=n*ZR,r=n*n,t[0]+=r*qR,t[1]=r*QR,r*=n,t[0]+=r*JR,t[1]+=r*tP,t[2]=r*eP,t}function nP(n,r){var t=n+n;return n+r[0]*Math.sin(t)+r[1]*Math.sin(t+t)+r[2]*Math.sin(t+t+t)}var iP=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],oP={init:XR,forward:KR,inverse:$R,names:iP,S_POLE:VR,N_POLE:WR,EQUIT:YR,OBLIQ:HR},ef=function(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)};function aP(){Math.abs(this.lat1+this.lat2)<Br||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Iu(this.e3,this.sin_po,this.cos_po),this.qs1=tf(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Iu(this.e3,this.sin_po,this.cos_po),this.qs2=tf(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=tf(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Br?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function sP(n){var r=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var e=tf(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,o=this.ns0*qr(r-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return n.x=a,n.y=s,n}function lP(n){var r,t,e,i,o,a;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(r=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(r=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1),i=0,r!==0&&(i=Math.atan2(e*n.x,e*n.y)),e=r*this.ns0/this.a,this.sphere?a=Math.asin((this.c-e*e)/(2*this.ns0)):(t=(this.c-e*e)/this.ns0,a=this.phi1z(this.e3,t)),o=qr(i/this.ns0+this.long0),n.x=o,n.y=a,n}function uP(n,r){var t,e,i,o,a,s=ef(.5*r);if(n<Br)return s;for(var c=n*n,h=1;h<=25;h++)if(t=Math.sin(s),e=Math.cos(s),i=n*t,o=1-i*i,a=.5*o*o/e*(r/(1-c)-t/o+.5/n*Math.log((1-i)/(1+i))),s=s+a,Math.abs(a)<=1e-7)return s;return null}var cP=["Albers_Conic_Equal_Area","Albers","aea"],fP={init:aP,forward:sP,inverse:lP,names:cP,phi1z:uP};function hP(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function dP(n){var r,t,e,i,o,a,s,c,h=n.x,p=n.y;return e=qr(h-this.long0),r=Math.sin(p),t=Math.cos(p),i=Math.cos(e),a=this.sin_p14*r+this.cos_p14*t*i,o=1,a>0||Math.abs(a)<=Br?(s=this.x0+this.a*o*t*Math.sin(e)/a,c=this.y0+this.a*o*(this.cos_p14*r-this.sin_p14*t*i)/a):(s=this.x0+this.infinity_dist*t*Math.sin(e),c=this.y0+this.infinity_dist*(this.cos_p14*r-this.sin_p14*t*i)),n.x=s,n.y=c,n}function pP(n){var r,t,e,i,o,a;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(r=Math.sqrt(n.x*n.x+n.y*n.y))?(i=Math.atan2(r,this.rc),t=Math.sin(i),e=Math.cos(i),a=ef(e*this.sin_p14+n.y*t*this.cos_p14/r),o=Math.atan2(n.x*t,r*this.cos_p14*e-n.y*this.sin_p14*t),o=qr(this.long0+o)):(a=this.phic0,o=0),n.x=o,n.y=a,n}var vP=["gnom"],gP={init:hP,forward:dP,inverse:pP,names:vP},yP=function(n,r){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(r)-t)<1e-6)return r<0?-1*pr:pr;for(var e=Math.asin(.5*r),i,o,a,s,c=0;c<30;c++)if(o=Math.sin(e),a=Math.cos(e),s=n*o,i=Math.pow(1-s*s,2)/(2*a)*(r/(1-n*n)-o/(1-s*s)+.5/n*Math.log((1-s)/(1+s))),e+=i,Math.abs(i)<=1e-10)return e;return NaN};function mP(){this.sphere||(this.k0=Iu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function _P(n){var r=n.x,t=n.y,e,i,o=qr(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var a=tf(this.e,Math.sin(t));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*a*.5/this.k0}return n.x=e,n.y=i,n}function EP(n){n.x-=this.x0,n.y-=this.y0;var r,t;return this.sphere?(r=qr(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=yP(this.e,2*n.y*this.k0/this.a),r=qr(this.long0+n.x/(this.a*this.k0))),n.x=r,n.y=t,n}var xP=["cea"],SP={init:mP,forward:_P,inverse:EP,names:xP};function wP(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function OP(n){var r=n.x,t=n.y,e=qr(r-this.long0),i=Vd(t-this.lat0);return n.x=this.x0+this.a*e*this.rc,n.y=this.y0+this.a*i,n}function TP(n){var r=n.x,t=n.y;return n.x=qr(this.long0+(r-this.x0)/(this.a*this.rc)),n.y=Vd(this.lat0+(t-this.y0)/this.a),n}var bP=["Equirectangular","Equidistant_Cylindrical","eqc"],CP={init:wP,forward:OP,inverse:TP,names:bP},xx=20;function AP(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Fv(this.es),this.e1=jv(this.es),this.e2=Dv(this.es),this.e3=Bv(this.es),this.ml0=this.a*ns(this.e0,this.e1,this.e2,this.e3,this.lat0)}function LP(n){var r=n.x,t=n.y,e,i,o,a=qr(r-this.long0);if(o=a*Math.sin(t),this.sphere)Math.abs(t)<=Br?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(o)/Math.tan(t),i=this.a*(Vd(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=Br)e=this.a*a,i=-1*this.ml0;else{var s=zd(this.a,this.e,Math.sin(t))/Math.tan(t);e=s*Math.sin(o),i=this.a*ns(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+s*(1-Math.cos(o))}return n.x=e+this.x0,n.y=i+this.y0,n}function RP(n){var r,t,e,i,o,a,s,c,h;if(e=n.x-this.x0,i=n.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Br)r=qr(e/this.a+this.long0),t=0;else{a=this.lat0+i/this.a,s=e*e/this.a/this.a+a*a,c=a;var p;for(o=xx;o;--o)if(p=Math.tan(c),h=-1*(a*(c*p+1)-c-.5*(c*c+s)*p)/((c-a)/p-1),c+=h,Math.abs(h)<=Br){t=c;break}r=qr(this.long0+Math.asin(e*Math.tan(c)/this.a)/Math.sin(t))}else if(Math.abs(i+this.ml0)<=Br)t=0,r=qr(this.long0+e/this.a);else{a=(this.ml0+i)/this.a,s=e*e/this.a/this.a+a*a,c=a;var m,w,R,M,U;for(o=xx;o;--o)if(U=this.e*Math.sin(c),m=Math.sqrt(1-U*U)*Math.tan(c),w=this.a*ns(this.e0,this.e1,this.e2,this.e3,c),R=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),M=w/this.a,h=(a*(m*M+1)-M-.5*m*(M*M+s))/(this.es*Math.sin(2*c)*(M*M+s-2*a*M)/(4*m)+(a-M)*(m*R-2/Math.sin(2*c))-R),c-=h,Math.abs(h)<=Br){t=c;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),r=qr(this.long0+Math.asin(e*m/this.a)/Math.sin(t))}return n.x=r,n.y=t,n}var PP=["Polyconic","poly"],IP={init:AP,forward:LP,inverse:RP,names:PP};function MP(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function NP(n){var r,t=n.x,e=n.y,i=e-this.lat0,o=t-this.long0,a=i/xh*1e-5,s=o,c=1,h=0;for(r=1;r<=10;r++)c=c*a,h=h+this.A[r]*c;var p=h,m=s,w=1,R=0,M,U,Z=0,lt=0;for(r=1;r<=6;r++)M=w*p-R*m,U=R*p+w*m,w=M,R=U,Z=Z+this.B_re[r]*w-this.B_im[r]*R,lt=lt+this.B_im[r]*w+this.B_re[r]*R;return n.x=lt*this.a+this.x0,n.y=Z*this.a+this.y0,n}function FP(n){var r,t=n.x,e=n.y,i=t-this.x0,o=e-this.y0,a=o/this.a,s=i/this.a,c=1,h=0,p,m,w=0,R=0;for(r=1;r<=6;r++)p=c*a-h*s,m=h*a+c*s,c=p,h=m,w=w+this.C_re[r]*c-this.C_im[r]*h,R=R+this.C_im[r]*c+this.C_re[r]*h;for(var M=0;M<this.iterations;M++){var U=w,Z=R,lt,pt,xt=a,ht=s;for(r=2;r<=6;r++)lt=U*w-Z*R,pt=Z*w+U*R,U=lt,Z=pt,xt=xt+(r-1)*(this.B_re[r]*U-this.B_im[r]*Z),ht=ht+(r-1)*(this.B_im[r]*U+this.B_re[r]*Z);U=1,Z=0;var Vt=this.B_re[1],kt=this.B_im[1];for(r=2;r<=6;r++)lt=U*w-Z*R,pt=Z*w+U*R,U=lt,Z=pt,Vt=Vt+r*(this.B_re[r]*U-this.B_im[r]*Z),kt=kt+r*(this.B_im[r]*U+this.B_re[r]*Z);var Zt=Vt*Vt+kt*kt;w=(xt*Vt+ht*kt)/Zt,R=(ht*Vt-xt*kt)/Zt}var Xt=w,ce=R,Ve=1,Ne=0;for(r=1;r<=9;r++)Ve=Ve*Xt,Ne=Ne+this.D[r]*Ve;var Ee=this.lat0+Ne*xh*1e5,rr=this.long0+ce;return n.x=rr,n.y=Ee,n}var jP=["New_Zealand_Map_Grid","nzmg"],DP={init:MP,forward:NP,inverse:FP,names:jP};function BP(){}function GP(n){var r=n.x,t=n.y,e=qr(r-this.long0),i=this.x0+this.a*e,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=i,n.y=o,n}function UP(n){n.x-=this.x0,n.y-=this.y0;var r=qr(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=r,n.y=t,n}var kP=["Miller_Cylindrical","mill"],zP={init:BP,forward:GP,inverse:UP,names:kP},VP=20;function WP(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=yx(this.es)}function YP(n){var r,t,e=n.x,i=n.y;if(e=qr(e-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var o=this.n*Math.sin(i),a=VP;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<Br)break}r=this.a*this.C_x*e*(this.m+Math.cos(i)),t=this.a*this.C_y*i}else{var c=Math.sin(i),h=Math.cos(i);t=this.a*Ay(i,c,h,this.en),r=this.a*e*h/Math.sqrt(1-this.es*c*c)}return n.x=r,n.y=t,n}function HP(n){var r,t,e,i;return n.x-=this.x0,e=n.x/this.a,n.y-=this.y0,r=n.y/this.a,this.sphere?(r/=this.C_y,e=e/(this.C_x*(this.m+Math.cos(r))),this.m?r=ef((this.m*r+Math.sin(r))/this.n):this.n!==1&&(r=ef(Math.sin(r)/this.n)),e=qr(e+this.long0),r=Vd(r)):(r=mx(n.y/this.a,this.es,this.en),i=Math.abs(r),i<pr?(i=Math.sin(r),t=this.long0+n.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(r)),e=qr(t)):i-Br<pr&&(e=this.long0)),n.x=e,n.y=r,n}var XP=["Sinusoidal","sinu"],KP={init:WP,forward:YP,inverse:HP,names:XP};function $P(){}function ZP(n){for(var r=n.x,t=n.y,e=qr(r-this.long0),i=t,o=Math.PI*Math.sin(t);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<Br)break}i/=2,Math.PI/2-Math.abs(t)<Br&&(e=0);var s=.900316316158*this.a*e*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return n.x=s,n.y=c,n}function qP(n){var r,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),r=Math.asin(t);var e=qr(this.long0+n.x/(.900316316158*this.a*Math.cos(r)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),t=(2*r+Math.sin(2*r))/Math.PI,Math.abs(t)>1&&(t=1);var i=Math.asin(t);return n.x=e,n.y=i,n}var JP=["Mollweide","moll"],QP={init:$P,forward:ZP,inverse:qP,names:JP};function t3(){Math.abs(this.lat1+this.lat2)<Br||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Fv(this.es),this.e1=jv(this.es),this.e2=Dv(this.es),this.e3=Bv(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Iu(this.e,this.sinphi,this.cosphi),this.ml1=ns(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Br?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Iu(this.e,this.sinphi,this.cosphi),this.ml2=ns(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ns(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function e3(n){var r=n.x,t=n.y,e;if(this.sphere)e=this.a*(this.g-t);else{var i=ns(this.e0,this.e1,this.e2,this.e3,t);e=this.a*(this.g-i)}var o=this.ns*qr(r-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return n.x=a,n.y=s,n}function r3(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var r,t,e,i;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),r=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),r=-1);var o=0;if(t!==0&&(o=Math.atan2(r*n.x,r*n.y)),this.sphere)return i=qr(this.long0+o/this.ns),e=Vd(this.g-t/this.a),n.x=i,n.y=e,n;var a=this.g-t/this.a;return e=Iy(a,this.e0,this.e1,this.e2,this.e3),i=qr(this.long0+o/this.ns),n.x=i,n.y=e,n}var n3=["Equidistant_Conic","eqdc"],i3={init:t3,forward:e3,inverse:r3,names:n3};function o3(){this.R=this.a}function a3(n){var r=n.x,t=n.y,e=qr(r-this.long0),i,o;Math.abs(t)<=Br&&(i=this.x0+this.R*e,o=this.y0);var a=ef(2*Math.abs(t/Math.PI));(Math.abs(e)<=Br||Math.abs(Math.abs(t)-pr)<=Br)&&(i=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*a):o=this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/e-e/Math.PI),c=s*s,h=Math.sin(a),p=Math.cos(a),m=p/(h+p-1),w=m*m,R=m*(2/h-1),M=R*R,U=Math.PI*this.R*(s*(m-M)+Math.sqrt(c*(m-M)*(m-M)-(M+c)*(w-M)))/(M+c);e<0&&(U=-U),i=this.x0+U;var Z=c+m;return U=Math.PI*this.R*(R*Z-s*Math.sqrt((M+c)*(c+1)-Z*Z))/(M+c),t>=0?o=this.y0+U:o=this.y0-U,n.x=i,n.y=o,n}function s3(n){var r,t,e,i,o,a,s,c,h,p,m,w,R;return n.x-=this.x0,n.y-=this.y0,m=Math.PI*this.R,e=n.x/m,i=n.y/m,o=e*e+i*i,a=-Math.abs(i)*(1+o),s=a-2*i*i+e*e,c=-2*a+1+2*i*i+o*o,R=i*i/c+(2*s*s*s/c/c/c-9*a*s/c/c)/27,h=(a-s*s/3/c)/c,p=2*Math.sqrt(-h/3),m=3*R/h/p,Math.abs(m)>1&&(m>=0?m=1:m=-1),w=Math.acos(m)/3,n.y>=0?t=(-p*Math.cos(w+Math.PI/3)-s/3/c)*Math.PI:t=-(-p*Math.cos(w+Math.PI/3)-s/3/c)*Math.PI,Math.abs(e)<Br?r=this.long0:r=qr(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(e*e-i*i)+o*o))/2/e),n.x=r,n.y=t,n}var l3=["Van_der_Grinten_I","VanDerGrinten","vandg"],u3={init:o3,forward:a3,inverse:s3,names:l3};function c3(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function f3(n){var r=n.x,t=n.y,e=Math.sin(n.y),i=Math.cos(n.y),o=qr(r-this.long0),a,s,c,h,p,m,w,R,M,U,Z,lt,pt,xt,ht,Vt,kt,Zt,Xt,ce,Ve,Ne,Ee;return this.sphere?Math.abs(this.sin_p12-1)<=Br?(n.x=this.x0+this.a*(pr-t)*Math.sin(o),n.y=this.y0-this.a*(pr-t)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Br?(n.x=this.x0+this.a*(pr+t)*Math.sin(o),n.y=this.y0+this.a*(pr+t)*Math.cos(o),n):(Zt=this.sin_p12*e+this.cos_p12*i*Math.cos(o),Vt=Math.acos(Zt),kt=Vt?Vt/Math.sin(Vt):1,n.x=this.x0+this.a*kt*i*Math.sin(o),n.y=this.y0+this.a*kt*(this.cos_p12*e-this.sin_p12*i*Math.cos(o)),n):(a=Fv(this.es),s=jv(this.es),c=Dv(this.es),h=Bv(this.es),Math.abs(this.sin_p12-1)<=Br?(p=this.a*ns(a,s,c,h,pr),m=this.a*ns(a,s,c,h,t),n.x=this.x0+(p-m)*Math.sin(o),n.y=this.y0-(p-m)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Br?(p=this.a*ns(a,s,c,h,pr),m=this.a*ns(a,s,c,h,t),n.x=this.x0+(p+m)*Math.sin(o),n.y=this.y0+(p+m)*Math.cos(o),n):(w=e/i,R=zd(this.a,this.e,this.sin_p12),M=zd(this.a,this.e,e),U=Math.atan((1-this.es)*w+this.es*R*this.sin_p12/(M*i)),Z=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(U)-this.sin_p12*Math.cos(o)),Z===0?Xt=Math.asin(this.cos_p12*Math.sin(U)-this.sin_p12*Math.cos(U)):Math.abs(Math.abs(Z)-Math.PI)<=Br?Xt=-Math.asin(this.cos_p12*Math.sin(U)-this.sin_p12*Math.cos(U)):Xt=Math.asin(Math.sin(o)*Math.cos(U)/Math.sin(Z)),lt=this.e*this.sin_p12/Math.sqrt(1-this.es),pt=this.e*this.cos_p12*Math.cos(Z)/Math.sqrt(1-this.es),xt=lt*pt,ht=pt*pt,ce=Xt*Xt,Ve=ce*Xt,Ne=Ve*Xt,Ee=Ne*Xt,Vt=R*Xt*(1-ce*ht*(1-ht)/6+Ve/8*xt*(1-2*ht)+Ne/120*(ht*(4-7*ht)-3*lt*lt*(1-7*ht))-Ee/48*xt),n.x=this.x0+Vt*Math.sin(Z),n.y=this.y0+Vt*Math.cos(Z),n))}function h3(n){n.x-=this.x0,n.y-=this.y0;var r,t,e,i,o,a,s,c,h,p,m,w,R,M,U,Z,lt,pt,xt,ht,Vt,kt,Zt,Xt;return this.sphere?(r=Math.sqrt(n.x*n.x+n.y*n.y),r>2*pr*this.a?void 0:(t=r/this.a,e=Math.sin(t),i=Math.cos(t),o=this.long0,Math.abs(r)<=Br?a=this.lat0:(a=ef(i*this.sin_p12+n.y*e*this.cos_p12/r),s=Math.abs(this.lat0)-pr,Math.abs(s)<=Br?this.lat0>=0?o=qr(this.long0+Math.atan2(n.x,-n.y)):o=qr(this.long0-Math.atan2(-n.x,n.y)):o=qr(this.long0+Math.atan2(n.x*e,r*this.cos_p12*i-n.y*this.sin_p12*e))),n.x=o,n.y=a,n)):(c=Fv(this.es),h=jv(this.es),p=Dv(this.es),m=Bv(this.es),Math.abs(this.sin_p12-1)<=Br?(w=this.a*ns(c,h,p,m,pr),r=Math.sqrt(n.x*n.x+n.y*n.y),R=w-r,a=Iy(R/this.a,c,h,p,m),o=qr(this.long0+Math.atan2(n.x,-1*n.y)),n.x=o,n.y=a,n):Math.abs(this.sin_p12+1)<=Br?(w=this.a*ns(c,h,p,m,pr),r=Math.sqrt(n.x*n.x+n.y*n.y),R=r-w,a=Iy(R/this.a,c,h,p,m),o=qr(this.long0+Math.atan2(n.x,n.y)),n.x=o,n.y=a,n):(r=Math.sqrt(n.x*n.x+n.y*n.y),Z=Math.atan2(n.x,n.y),M=zd(this.a,this.e,this.sin_p12),lt=Math.cos(Z),pt=this.e*this.cos_p12*lt,xt=-pt*pt/(1-this.es),ht=3*this.es*(1-xt)*this.sin_p12*this.cos_p12*lt/(1-this.es),Vt=r/M,kt=Vt-xt*(1+xt)*Math.pow(Vt,3)/6-ht*(1+3*xt)*Math.pow(Vt,4)/24,Zt=1-xt*kt*kt/2-Vt*kt*kt*kt/6,U=Math.asin(this.sin_p12*Math.cos(kt)+this.cos_p12*Math.sin(kt)*lt),o=qr(this.long0+Math.asin(Math.sin(Z)*Math.sin(kt)/Math.cos(U))),Xt=Math.sin(U),a=Math.atan2((Xt-this.es*Zt*this.sin_p12)*Math.tan(U),Xt*(1-this.es)),n.x=o,n.y=a,n))}var d3=["Azimuthal_Equidistant","aeqd"],p3={init:c3,forward:f3,inverse:h3,names:d3};function v3(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function g3(n){var r,t,e,i,o,a,s,c,h=n.x,p=n.y;return e=qr(h-this.long0),r=Math.sin(p),t=Math.cos(p),i=Math.cos(e),a=this.sin_p14*r+this.cos_p14*t*i,o=1,(a>0||Math.abs(a)<=Br)&&(s=this.a*o*t*Math.sin(e),c=this.y0+this.a*o*(this.cos_p14*r-this.sin_p14*t*i)),n.x=s,n.y=c,n}function y3(n){var r,t,e,i,o,a,s;return n.x-=this.x0,n.y-=this.y0,r=Math.sqrt(n.x*n.x+n.y*n.y),t=ef(r/this.a),e=Math.sin(t),i=Math.cos(t),a=this.long0,Math.abs(r)<=Br?(s=this.lat0,n.x=a,n.y=s,n):(s=ef(i*this.sin_p14+n.y*e*this.cos_p14/r),o=Math.abs(this.lat0)-pr,Math.abs(o)<=Br?(this.lat0>=0?a=qr(this.long0+Math.atan2(n.x,-n.y)):a=qr(this.long0-Math.atan2(-n.x,n.y)),n.x=a,n.y=s,n):(a=qr(this.long0+Math.atan2(n.x*e,r*this.cos_p14*i-n.y*this.sin_p14*e)),n.x=a,n.y=s,n))}var m3=["ortho"],_3={init:v3,forward:g3,inverse:y3,names:m3},mo={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Di={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function E3(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=pr-Ei/2?this.face=mo.TOP:this.lat0<=-(pr-Ei/2)?this.face=mo.BOTTOM:Math.abs(this.long0)<=Ei?this.face=mo.FRONT:Math.abs(this.long0)<=pr+Ei?this.face=this.long0>0?mo.RIGHT:mo.LEFT:this.face=mo.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function x3(n){var r={x:0,y:0},t,e,i,o,a,s,c={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,e=n.x,this.face===mo.TOP)o=pr-t,e>=Ei&&e<=pr+Ei?(c.value=Di.AREA_0,i=e-pr):e>pr+Ei||e<=-(pr+Ei)?(c.value=Di.AREA_1,i=e>0?e-po:e+po):e>-(pr+Ei)&&e<=-Ei?(c.value=Di.AREA_2,i=e+pr):(c.value=Di.AREA_3,i=e);else if(this.face===mo.BOTTOM)o=pr+t,e>=Ei&&e<=pr+Ei?(c.value=Di.AREA_0,i=-e+pr):e<Ei&&e>=-Ei?(c.value=Di.AREA_1,i=-e):e<-Ei&&e>=-(pr+Ei)?(c.value=Di.AREA_2,i=-e-pr):(c.value=Di.AREA_3,i=e>0?-e+po:-e-po);else{var h,p,m,w,R,M,U;this.face===mo.RIGHT?e=Wd(e,+pr):this.face===mo.BACK?e=Wd(e,+po):this.face===mo.LEFT&&(e=Wd(e,-pr)),w=Math.sin(t),R=Math.cos(t),M=Math.sin(e),U=Math.cos(e),h=R*U,p=R*M,m=w,this.face===mo.FRONT?(o=Math.acos(h),i=My(o,m,p,c)):this.face===mo.RIGHT?(o=Math.acos(p),i=My(o,m,-h,c)):this.face===mo.BACK?(o=Math.acos(-h),i=My(o,m,-p,c)):this.face===mo.LEFT?(o=Math.acos(-p),i=My(o,m,h,c)):(o=i=0,c.value=Di.AREA_0)}return s=Math.atan(12/po*(i+Math.acos(Math.sin(i)*Math.cos(Ei))-pr)),a=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),c.value===Di.AREA_1?s+=pr:c.value===Di.AREA_2?s+=po:c.value===Di.AREA_3&&(s+=1.5*po),r.x=a*Math.cos(s),r.y=a*Math.sin(s),r.x=r.x*this.a+this.x0,r.y=r.y*this.a+this.y0,n.x=r.x,n.y=r.y,n}function S3(n){var r={lam:0,phi:0},t,e,i,o,a,s,c,h,p,m={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,e=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?m.value=Di.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(m.value=Di.AREA_1,t-=pr):n.x<0&&-n.x>=Math.abs(n.y)?(m.value=Di.AREA_2,t=t<0?t+po:t-po):(m.value=Di.AREA_3,t+=pr),p=po/12*Math.tan(t),a=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),s=Math.atan(a),i=Math.cos(t),o=Math.tan(e),c=1-i*i*o*o*(1-Math.cos(Math.atan(1/Math.cos(s)))),c<-1?c=-1:c>1&&(c=1),this.face===mo.TOP)h=Math.acos(c),r.phi=pr-h,m.value===Di.AREA_0?r.lam=s+pr:m.value===Di.AREA_1?r.lam=s<0?s+po:s-po:m.value===Di.AREA_2?r.lam=s-pr:r.lam=s;else if(this.face===mo.BOTTOM)h=Math.acos(c),r.phi=h-pr,m.value===Di.AREA_0?r.lam=-s+pr:m.value===Di.AREA_1?r.lam=-s:m.value===Di.AREA_2?r.lam=-s-pr:r.lam=s<0?-s-po:-s+po;else{var w,R,M;w=c,p=w*w,p>=1?M=0:M=Math.sqrt(1-p)*Math.sin(s),p+=M*M,p>=1?R=0:R=Math.sqrt(1-p),m.value===Di.AREA_1?(p=R,R=-M,M=p):m.value===Di.AREA_2?(R=-R,M=-M):m.value===Di.AREA_3&&(p=R,R=M,M=-p),this.face===mo.RIGHT?(p=w,w=-R,R=p):this.face===mo.BACK?(w=-w,R=-R):this.face===mo.LEFT&&(p=w,w=R,R=-p),r.phi=Math.acos(-M)-pr,r.lam=Math.atan2(R,w),this.face===mo.RIGHT?r.lam=Wd(r.lam,-pr):this.face===mo.BACK?r.lam=Wd(r.lam,-po):this.face===mo.LEFT&&(r.lam=Wd(r.lam,+pr))}if(this.es!==0){var U,Z,lt;U=r.phi<0?1:0,Z=Math.tan(r.phi),lt=this.b/Math.sqrt(Z*Z+this.one_minus_f_squared),r.phi=Math.atan(Math.sqrt(this.a*this.a-lt*lt)/(this.one_minus_f*lt)),U&&(r.phi=-r.phi)}return r.lam+=this.long0,n.x=r.lam,n.y=r.phi,n}function My(n,r,t,e){var i;return n<Br?(e.value=Di.AREA_0,i=0):(i=Math.atan2(r,t),Math.abs(i)<=Ei?e.value=Di.AREA_0:i>Ei&&i<=pr+Ei?(e.value=Di.AREA_1,i-=pr):i>pr+Ei||i<=-(pr+Ei)?(e.value=Di.AREA_2,i=i>=0?i-po:i+po):(e.value=Di.AREA_3,i+=pr)),i}function Wd(n,r){var t=n+r;return t<-po?t+=ql:t>+po&&(t-=ql),t}var w3=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],O3={init:E3,forward:x3,inverse:S3,names:w3},L1=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Gv=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Sx=.8487,wx=1.3523,Ox=es/5,T3=1/Ox,Yd=18,Ny=function(n,r){return n[0]+r*(n[1]+r*(n[2]+r*n[3]))},b3=function(n,r){return n[1]+r*(2*n[2]+r*3*n[3])};function C3(n,r,t,e){for(var i=r;e;--e){var o=n(i);if(i-=o,Math.abs(o)<t)break}return i}function A3(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function L3(n){var r=qr(n.x-this.long0),t=Math.abs(n.y),e=Math.floor(t*Ox);e<0?e=0:e>=Yd&&(e=Yd-1),t=es*(t-T3*e);var i={x:Ny(L1[e],t)*r,y:Ny(Gv[e],t)};return n.y<0&&(i.y=-i.y),i.x=i.x*this.a*Sx+this.x0,i.y=i.y*this.a*wx+this.y0,i}function R3(n){var r={x:(n.x-this.x0)/(this.a*Sx),y:Math.abs(n.y-this.y0)/(this.a*wx)};if(r.y>=1)r.x/=L1[Yd][0],r.y=n.y<0?-pr:pr;else{var t=Math.floor(r.y*Yd);for(t<0?t=0:t>=Yd&&(t=Yd-1);;)if(Gv[t][0]>r.y)--t;else if(Gv[t+1][0]<=r.y)++t;else break;var e=Gv[t],i=5*(r.y-e[0])/(Gv[t+1][0]-e[0]);i=C3(function(o){return(Ny(e,o)-r.y)/b3(e,o)},i,Br,100),r.x/=Ny(L1[t],i),r.y=(5*t+i)*Ko,n.y<0&&(r.y=-r.y)}return r.x=qr(r.x+this.long0),r}var P3=["Robinson","robin"],I3={init:A3,forward:L3,inverse:R3,names:P3};function M3(){this.name="geocent"}function N3(n){var r=qE(n,this.es,this.a);return r}function F3(n){var r=JE(n,this.es,this.a,this.b);return r}var j3=["Geocentric","geocentric","geocent","Geocent"],D3={init:M3,forward:N3,inverse:F3,names:j3},Ba={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Uv={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function B3(){if(Object.keys(Uv).forEach(function(t){if(typeof this[t]=="undefined")this[t]=Uv[t].def;else{if(Uv[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Uv[t].num&&(this[t]=parseFloat(this[t]))}Uv[t].degrees&&(this[t]=this[t]*Ko)}.bind(this)),Math.abs(Math.abs(this.lat0)-pr)<Br?this.mode=this.lat0<0?Ba.S_POLE:Ba.N_POLE:Math.abs(this.lat0)<Br?this.mode=Ba.EQUIT:(this.mode=Ba.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,r=this.azi;this.cg=Math.cos(r),this.sg=Math.sin(r),this.cw=Math.cos(n),this.sw=Math.sin(n)}function G3(n){n.x-=this.long0;var r=Math.sin(n.y),t=Math.cos(n.y),e=Math.cos(n.x),i,o;switch(this.mode){case Ba.OBLIQ:o=this.sinph0*r+this.cosph0*t*e;break;case Ba.EQUIT:o=t*e;break;case Ba.S_POLE:o=-r;break;case Ba.N_POLE:o=r;break}switch(o=this.pn1/(this.p-o),i=o*t*Math.sin(n.x),this.mode){case Ba.OBLIQ:o*=this.cosph0*r-this.sinph0*t*e;break;case Ba.EQUIT:o*=r;break;case Ba.N_POLE:o*=-(t*e);break;case Ba.S_POLE:o*=t*e;break}var a,s;return a=o*this.cg+i*this.sg,s=1/(a*this.sw*this.h1+this.cw),i=(i*this.cg-o*this.sg)*this.cw*s,o=a*s,n.x=i*this.a,n.y=o*this.a,n}function U3(n){n.x/=this.a,n.y/=this.a;var r={x:n.x,y:n.y},t,e,i;i=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*i,e=this.pn1*n.y*this.cw*i,n.x=t*this.cg+e*this.sg,n.y=e*this.cg-t*this.sg;var o=Ry(n.x,n.y);if(Math.abs(o)<Br)r.x=0,r.y=n.y;else{var a,s;switch(s=1-o*o*this.pfact,s=(this.p-Math.sqrt(s))/(this.pn1/o+o/this.pn1),a=Math.sqrt(1-s*s),this.mode){case Ba.OBLIQ:r.y=Math.asin(a*this.sinph0+n.y*s*this.cosph0/o),n.y=(a-this.sinph0*Math.sin(r.y))*o,n.x*=s*this.cosph0;break;case Ba.EQUIT:r.y=Math.asin(n.y*s/o),n.y=a*o,n.x*=s;break;case Ba.N_POLE:r.y=Math.asin(a),n.y=-n.y;break;case Ba.S_POLE:r.y=-Math.asin(a);break}r.x=Math.atan2(n.x,n.y)}return n.x=r.x+this.long0,n.y=r.y,n}var k3=["Tilted_Perspective","tpers"],z3={init:B3,forward:G3,inverse:U3,names:k3},V3=function(n){n.Proj.projections.add(Ly),n.Proj.projections.add(Py),n.Proj.projections.add(tR),n.Proj.projections.add(cR),n.Proj.projections.add(gR),n.Proj.projections.add(xR),n.Proj.projections.add(CR),n.Proj.projections.add(IR),n.Proj.projections.add(DR),n.Proj.projections.add(zR),n.Proj.projections.add(oP),n.Proj.projections.add(fP),n.Proj.projections.add(gP),n.Proj.projections.add(SP),n.Proj.projections.add(CP),n.Proj.projections.add(IP),n.Proj.projections.add(DP),n.Proj.projections.add(zP),n.Proj.projections.add(KP),n.Proj.projections.add(QP),n.Proj.projections.add(i3),n.Proj.projections.add(u3),n.Proj.projections.add(p3),n.Proj.projections.add(_3),n.Proj.projections.add(O3),n.Proj.projections.add(I3),n.Proj.projections.add(D3),n.Proj.projections.add(z3)};Xs.defaultDatum="WGS84",Xs.Proj=Iv,Xs.WGS84=new Xs.Proj("WGS84"),Xs.Point=CL,Xs.toPoint=rx,Xs.defs=wy,Xs.nadgrid=tL,Xs.transform=Cy,Xs.mgrs=yL,Xs.version="__VERSION__",V3(Xs);var Tx=Xs;function W3(n){var r=Object.keys(n.defs),t=r.length,e,i;for(e=0;e<t;++e){var o=r[e];if(!an(o)){var a=n.defs(o),s=a.units;!s&&a.projName==="longlat"&&(s=Hi.DEGREES),dd(new Ra({code:o,axisOrientation:a.axis,metersPerUnit:a.to_meter,units:s}))}}for(e=0;e<t;++e){var c=r[e],h=an(c);for(i=0;i<t;++i){var p=r[i],m=an(p);if(!Mc(c,p))if(n.defs[c]===n.defs[p])$f([h,m]);else{var w=n(c,p);pd(h,m,vd(h,m,w.forward),vd(m,h,w.inverse))}}}}var Y3={name:"ol-projection-register",setup:function(r){var t=Object(I.toRefs)(r),e=t.projectionName,i=t.projectionDef,o=t.projectionExtent;Tx.defs(e.value,i.value),W3(Tx);var a=new Ra({code:e.value,extent:o.value});return{projection:a}},props:{projectionName:{type:String},projectionDef:{type:String},projectionExtent:{type:Array}}},R1=Ae()(Y3,[["render",Rd]]);function Fy(n){Fy.installed||(Fy.installed=!0,n.component(Oi.name,Oi),n.component(Fn.name,Fn),n.component(Ro.name,Ro),n.component(yh.name,yh),n.component(Ld.name,Ld),n.component(R1.name,R1))}var H3=Fy;function X3(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var rf={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},K3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$3=function(n){K3(r,n);function r(t){var e=this,i=t||{},o=Object(Ir.a)({},i);return delete o.preload,delete o.useInterimTilesOnError,e=n.call(this,o)||this,e.on,e.once,e.un,e.setPreload(i.preload!==void 0?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e}return r.prototype.getPreload=function(){return this.get(rf.PRELOAD)},r.prototype.setPreload=function(t){this.set(rf.PRELOAD,t)},r.prototype.getUseInterimTilesOnError=function(){return this.get(rf.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setUseInterimTilesOnError=function(t){this.set(rf.USE_INTERIM_TILES_ON_ERROR,t)},r}(E),bx=$3,zn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Ks=u("35a7"),Z3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q3=function(n){Z3(r,n);function r(t){var e=n.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}return r.prototype.getFeatures=function(t){return Object(ct.b)()},r.prototype.prepareFrame=function(t){return Object(ct.b)()},r.prototype.renderFrame=function(t,e){return Object(ct.b)()},r.prototype.loadedTileCallback=function(t,e,i){t[e]||(t[e]={}),t[e][i.tileCoord.toString()]=i},r.prototype.createLoadedTileFinder=function(t,e,i){return function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return t.forEachLoadedTile(e,o,a,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){},r.prototype.getDataAtPixel=function(t,e,i){return null},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===zn.LOADED&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(t){var e=t.getState();return e!=zn.LOADED&&e!=zn.ERROR&&t.addEventListener(Qr.a.CHANGE,this.boundHandleImageChange_),e==zn.IDLE&&(t.load(),e=t.getState()),e==zn.LOADED},r.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Ms.READY&&t.changed()},r}(Ks.a),Cx=q3,J3=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q3=function(n){J3(r,n);function r(t){var e=n.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=Q(),e.pixelTransform=Q(),e.inversePixelTransform=Q(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e}return r.prototype.getBackground=function(t){var e=this.getLayer(),i=e.getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0},r.prototype.useContainer=function(t,e,i,o){var a=this.getLayer().getClassName(),s,c;if(t&&t.className===a&&t.style.opacity===""&&i===1&&(!o||t.style.backgroundColor&&Object(br.b)(ya(t.style.backgroundColor),ya(o)))){var h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&c.canvas.style.transform===e?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var p=s.style;p.position="absolute",p.width="100%",p.height="100%",o&&(p.backgroundColor=o),c=Object(je.a)();var h=c.canvas;s.appendChild(h),p=h.style,p.position="absolute",p.left="0",p.transformOrigin="top left",this.container=s,this.context=c}},r.prototype.clipUnrotated=function(t,e,i){var o=qn(i),a=wo(i),s=Ji(i),c=zr(i);Me(e.coordinateToPixelTransform,o),Me(e.coordinateToPixelTransform,a),Me(e.coordinateToPixelTransform,s),Me(e.coordinateToPixelTransform,c);var h=this.inversePixelTransform;Me(h,o),Me(h,a),Me(h,s),Me(h,c),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.clip()},r.prototype.dispatchRenderEvent_=function(t,e,i){var o=this.getLayer();if(o.hasListener(t)){var a=new Ue(t,this.inversePixelTransform,i,e);o.dispatchEvent(a)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Ha.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Ha.POSTRENDER,t,e)},r.prototype.getRenderTransform=function(t,e,i,o,a,s,c){var h=a/2,p=s/2,m=o/e,w=-m,R=-t[0]+c,M=-t[1];return Te(this.tempTransform,h,p,m,w,-i,R,M)},r.prototype.getDataAtPixel=function(t,e,i){var o=Me(this.inversePixelTransform,t.slice()),a=this.context,s=this.getLayer(),c=s.getExtent();if(c){var h=Me(e.pixelToCoordinateTransform,t.slice());if(!Jt(c,h))return null}var p=Math.round(o[0]),m=Math.round(o[1]),w=this.pixelContext_;if(!w){var R=document.createElement("canvas");R.width=1,R.height=1,w=R.getContext("2d"),this.pixelContext_=w}w.clearRect(0,0,1,1);var M;try{w.drawImage(a.canvas,p,m,1,1,0,0,1,1),M=w.getImageData(0,0,1,1).data}catch(U){return U.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):M}return M[3]===0?null:M},r}(Cx),P1=Q3,Ax=function(){function n(r,t,e,i){this.minX=r,this.maxX=t,this.minY=e,this.maxY=i}return n.prototype.contains=function(r){return this.containsXY(r[1],r[2])},n.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},n.prototype.containsXY=function(r,t){return this.minX<=r&&r<=this.maxX&&this.minY<=t&&t<=this.maxY},n.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},n.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},n}();function Hd(n,r,t,e,i){return i!==void 0?(i.minX=n,i.maxX=r,i.minY=t,i.maxY=e,i):new Ax(n,r,t,e)}var I1=Ax,kv={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Lx={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},tI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rx=function(n){tI(r,n);function r(t){var e=n.call(this,t)||this;return e.extentChanged=!0,e.renderedExtent_=null,e.renderedPixelRatio,e.renderedProjection=null,e.renderedRevision,e.renderedTiles=[],e.newTiles_=!1,e.tmpExtent=et(),e.tmpTileRange_=new I1(0,0,0,0),e}return r.prototype.isDrawableTile=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==Lr.LOADED||i==Lr.EMPTY||i==Lr.ERROR&&!o},r.prototype.getTile=function(t,e,i,o){var a=o.pixelRatio,s=o.viewState.projection,c=this.getLayer(),h=c.getSource(),p=h.getTile(t,e,i,a,s);return p.getState()==Lr.ERROR&&(c.getUseInterimTilesOnError()?c.getPreload()>0&&(this.newTiles_=!0):p.setState(Lr.LOADED)),this.isDrawableTile(p)||(p=p.getInterimTile()),p},r.prototype.loadedTileCallback=function(t,e,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,t,e,i):!1},r.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(t,e){var i=t.layerStatesArray[t.layerIndex],o=t.viewState,a=o.projection,s=o.resolution,c=o.center,h=o.rotation,p=t.pixelRatio,m=this.getLayer(),w=m.getSource(),R=w.getRevision(),M=w.getTileGridForProjection(a),U=M.getZForResolution(s,w.zDirection),Z=M.getResolution(U),lt=t.extent,pt=i.extent&&fa(i.extent);pt&&(lt=Pr(lt,fa(i.extent)));var xt=w.getTilePixelRatio(p),ht=Math.round(t.size[0]*xt),Vt=Math.round(t.size[1]*xt);if(h){var kt=Math.round(Math.sqrt(ht*ht+Vt*Vt));ht=kt,Vt=kt}var Zt=Z*ht/2/xt,Xt=Z*Vt/2/xt,ce=[c[0]-Zt,c[1]-Xt,c[0]+Zt,c[1]+Xt],Ve=M.getTileRangeForExtentAndZ(lt,U),Ne={};Ne[U]={};var Ee=this.createLoadedTileFinder(w,a,Ne),rr=this.tmpExtent,Rr=this.tmpTileRange_;this.newTiles_=!1;for(var Gr=Ve.minX;Gr<=Ve.maxX;++Gr)for(var Hr=Ve.minY;Hr<=Ve.maxY;++Hr){var Jr=this.getTile(U,Gr,Hr,t);if(this.isDrawableTile(Jr)){var Tn=Object(ct.c)(this);if(Jr.getState()==Lr.LOADED){Ne[U][Jr.tileCoord.toString()]=Jr;var bn=Jr.inTransition(Tn);!this.newTiles_&&(bn||this.renderedTiles.indexOf(Jr)===-1)&&(this.newTiles_=!0)}if(Jr.getAlpha(Tn,t.time)===1)continue}var jn=M.getTileCoordChildTileRange(Jr.tileCoord,Rr,rr),Dn=!1;jn&&(Dn=Ee(U+1,jn)),Dn||M.forEachTileCoordParentTileRange(Jr.tileCoord,Ee,Rr,rr)}var ur=Z/s;Te(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/xt,1/xt,h,-ht/2,-Vt/2);var Wo=_r(this.pixelTransform);this.useContainer(e,Wo,i.opacity,this.getBackground(t));var Wn=this.context,Zi=Wn.canvas;Ze(this.inversePixelTransform,this.pixelTransform),Te(this.tempTransform,ht/2,Vt/2,ur,ur,0,-ht/2,-Vt/2),Zi.width!=ht||Zi.height!=Vt?(Zi.width=ht,Zi.height=Vt):this.containerReused||Wn.clearRect(0,0,ht,Vt),pt&&this.clipUnrotated(Wn,t,pt),w.getInterpolate()||Object(Ir.a)(Wn,kv),this.preRender(Wn,t),this.renderedTiles.length=0;var Mo=Object.keys(Ne).map(Number);Mo.sort(br.i);var qo,Yo,oo;i.opacity===1&&(!this.containerReused||w.getOpaque(t.viewState.projection))?Mo=Mo.reverse():(qo=[],Yo=[]);for(var xn=Mo.length-1;xn>=0;--xn){var yn=Mo[xn],No=w.getTilePixelSize(yn,p,a),au=M.getResolution(yn),Uu=au/Z,_f=No[0]*Uu*ur,jh=No[1]*Uu*ur,Dh=M.getTileCoordForCoordAndZ(qn(ce),yn),dg=M.getTileCoordExtent(Dh),vc=Me(this.tempTransform,[xt*(dg[0]-ce[0])/Z,xt*(ce[3]-dg[3])/Z]),pg=xt*w.getGutterForProjection(a),H0=Ne[yn];for(var gp in H0){var Jr=H0[gp],Ef=Jr.tileCoord,yp=Dh[1]-Ef[1],p5=Math.round(vc[0]-(yp-1)*_f),X0=Dh[2]-Ef[2],vg=Math.round(vc[1]-(X0-1)*jh),Gr=Math.round(vc[0]-yp*_f),Hr=Math.round(vc[1]-X0*jh),xf=p5-Gr,gc=vg-Hr,Bh=U===yn,bn=Bh&&Jr.getAlpha(Object(ct.c)(this),t.time)!==1;if(!bn)if(qo){Wn.save(),oo=[Gr,Hr,Gr+xf,Hr,Gr+xf,Hr+gc,Gr,Hr+gc];for(var mp=0,su=qo.length;mp<su;++mp)if(U!==yn&&yn<Yo[mp]){var lu=qo[mp];Wn.beginPath(),Wn.moveTo(oo[0],oo[1]),Wn.lineTo(oo[2],oo[3]),Wn.lineTo(oo[4],oo[5]),Wn.lineTo(oo[6],oo[7]),Wn.moveTo(lu[6],lu[7]),Wn.lineTo(lu[4],lu[5]),Wn.lineTo(lu[2],lu[3]),Wn.lineTo(lu[0],lu[1]),Wn.clip()}qo.push(oo),Yo.push(yn)}else Wn.clearRect(Gr,Hr,xf,gc);this.drawTileImage(Jr,t,Gr,Hr,xf,gc,pg,Bh),qo&&!bn?(Wn.restore(),this.renderedTiles.unshift(Jr)):this.renderedTiles.push(Jr),this.updateUsedTiles(t.usedTiles,w,Jr)}}this.renderedRevision=R,this.renderedResolution=Z,this.extentChanged=!this.renderedExtent_||!hr(this.renderedExtent_,ce),this.renderedExtent_=ce,this.renderedPixelRatio=p,this.renderedProjection=a,this.manageTilePyramid(t,w,M,p,a,lt,U,m.getPreload()),this.scheduleExpireCache(t,w),this.postRender(Wn,t),i.extent&&Wn.restore(),Object(Ir.a)(Wn,Lx),Wo!==Zi.style.transform&&(Zi.style.transform=Wo);var Gh=or(i.opacity),_p=this.container;return Gh!==_p.style.opacity&&(_p.style.opacity=Gh),this.container},r.prototype.drawTileImage=function(t,e,i,o,a,s,c,h){var p=this.getTileImage(t);if(!!p){var m=Object(ct.c)(this),w=h?t.getAlpha(m,e.time):1,R=w!==this.context.globalAlpha;R&&(this.context.save(),this.context.globalAlpha=w),this.context.drawImage(p,c,c,p.width-2*c,p.height-2*c,i,o,a,s),R&&this.context.restore(),w!==1?e.animate=!0:h&&t.endTransition(m)}},r.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},r.prototype.getTileImage=function(t){return t.getImage()},r.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(o,a,s){var c=Object(ct.c)(o);c in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[c])}.bind(null,e);t.postRenderFunctions.push(i)}},r.prototype.updateUsedTiles=function(t,e,i){var o=Object(ct.c)(e);o in t||(t[o]={}),t[o][i.getKey()]=!0},r.prototype.manageTilePyramid=function(t,e,i,o,a,s,c,h,p){var m=Object(ct.c)(e);m in t.wantedTiles||(t.wantedTiles[m]={});var w=t.wantedTiles[m],R=t.tileQueue,M=i.getMinZoom(),U=0,Z,lt,pt,xt,ht,Vt;for(Vt=M;Vt<=c;++Vt)for(lt=i.getTileRangeForExtentAndZ(s,Vt,lt),pt=i.getResolution(Vt),xt=lt.minX;xt<=lt.maxX;++xt)for(ht=lt.minY;ht<=lt.maxY;++ht)c-Vt<=h?(++U,Z=e.getTile(Vt,xt,ht,o,a),Z.getState()==Lr.IDLE&&(w[Z.getKey()]=!0,R.isKeyQueued(Z.getKey())||R.enqueue([Z,m,i.getTileCoordCenter(Z.tileCoord),pt])),p!==void 0&&p(Z)):e.useTile(Vt,xt,ht,a);e.updateCacheSize(U,a)},r}(P1);Rx.prototype.getLayer;var Px=Rx,eI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rI=function(n){eI(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new Px(this)},r}(bx),M1=rI;function nI(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div")}var iI={props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},title:{type:String},name:{type:String},preview:{type:String},baseLayer:{type:Boolean},properties:{type:Object,default:function(){}}}},Xd=Ae()(iI,[["render",nI]]),oI={extends:Xd,name:"ol-tile-layer",setup:function(r){var t=Object(I.inject)("map"),e=Object(I.inject)("overviewMap",null),i=ar(r),o=i.properties,a=Object(I.computed)(function(){return new M1(o)}),s=function(){e!=null?(e.value.getOverviewMap().addLayer(a.value),e.value.changed()):t.addLayer(a.value)},c=function(){e!=null?(e.value.getOverviewMap().removeLayer(a.value),e.value.changed()):t.removeLayer(a.value)};return e!=null&&Object(I.watch)(e,function(){c(),s()}),Object(I.onMounted)(function(){s()}),Object(I.onUnmounted)(function(){c()}),Object(I.provide)("tileLayer",a),{tileLayer:a}},props:{preload:{type:Number,default:1}}},N1=Ae()(oI,[["render",X3]]);function aI(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var sI=function(){function n(r){this.highWaterMark=r!==void 0?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},n.prototype.forEach=function(r){for(var t=this.oldest_;t;)r(t.value_,t.key_,this),t=t.newer},n.prototype.get=function(r,t){var e=this.entries_[r];return qt(e!==void 0,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},n.prototype.remove=function(r){var t=this.entries_[r];return qt(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[r],--this.count_,t.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.key_;return r},n.prototype.getValues=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.value_;return r},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},n.prototype.replace=function(r,t){this.get(r),this.entries_[r].value_=t},n.prototype.set=function(r,t){qt(!(r in this.entries_),16);var e={key_:r,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[r]=e,++this.count_},n.prototype.setSize=function(r){this.highWaterMark=r},n}(),Ix=sI,lI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uI=function(n){lI(r,n);function r(t,e,i){var o=n.call(this)||this,a=i||{};return o.tileCoord=t,o.state=e,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return r.prototype.changed=function(){this.dispatchEvent(Qr.a.CHANGE)},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Lr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},r.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Lr.LOADED){t.interimTile=null;break}else t.getState()==Lr.LOADING?e=t:t.getState()==Lr.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(t){if(this.state!==Lr.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},r.prototype.load=function(){Object(ct.b)()},r.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(!i)i=e,this.transitionStarts_[t]=i;else if(i===-1)return 1;var o=e-i+1e3/60;return o>=this.transition_?1:pl(o/this.transition_)},r.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},r.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},r}(Re.a),Mx=uI,cI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fI=function(n){cI(r,n);function r(t,e,i,o){var a=n.call(this)||this;return a.extent=t,a.pixelRatio_=i,a.resolution=e,a.state=o,a}return r.prototype.changed=function(){this.dispatchEvent(Qr.a.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return Object(ct.b)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){Object(ct.b)()},r}(Re.a),Nx=fI,hI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dI=function(n){hI(r,n);function r(t,e,i,o,a,s){var c=n.call(this,t,e,i,zn.IDLE)||this;return c.src_=o,c.image_=new Image,a!==null&&(c.image_.crossOrigin=a),c.unlisten_=null,c.state=zn.IDLE,c.imageLoadFunction_=s,c}return r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=zn.ERROR,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=Ur(this.extent)/this.image_.height),this.state=zn.LOADED,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(this.state==zn.IDLE||this.state==zn.ERROR)&&(this.state=zn.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=F1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(t){this.image_=t,this.resolution=Ur(this.extent)/this.image_.height},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Nx);function F1(n,r,t){var e=n,i=!0,o=!1,a=!1,s=[Object(Tr.b)(e,Qr.a.LOAD,function(){a=!0,o||r()})];return e.src&&jt.c?(o=!0,e.decode().then(function(){i&&r()}).catch(function(c){i&&(a?r():t())})):s.push(Object(Tr.b)(e,Qr.a.ERROR,t)),function(){i=!1,s.forEach(Tr.c)}}var Fx=dI,pI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vI=function(n){pI(r,n);function r(t,e,i,o,a,s){var c=n.call(this,t,e,s)||this;return c.crossOrigin_=o,c.src_=i,c.key=i,c.image_=new Image,o!==null&&(c.image_.crossOrigin=o),c.unlisten_=null,c.tileLoadFunction_=a,c}return r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t,this.state=Lr.LOADED,this.unlistenImage_(),this.changed()},r.prototype.handleImageError_=function(){this.state=Lr.ERROR,this.unlistenImage_(),this.image_=gI(),this.changed()},r.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Lr.LOADED:this.state=Lr.EMPTY,this.unlistenImage_(),this.changed()},r.prototype.load=function(){this.state==Lr.ERROR&&(this.state=Lr.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Lr.IDLE&&(this.state=Lr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=F1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Mx);function gI(){var n=Object(je.a)(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var j1=vI,jx=.5,yI=10,Dx=.25,mI=function(){function n(r,t,e,i,o,a){this.sourceProj_=r,this.targetProj_=t;var s={},c=Eu(this.targetProj_,this.sourceProj_);this.transformInv_=function(xt){var ht=xt[0]+"/"+xt[1];return s[ht]||(s[ht]=c(xt)),s[ht]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&fn(i)==fn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?fn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?fn(this.targetProj_.getExtent()):null;var h=qn(e),p=wo(e),m=Ji(e),w=zr(e),R=this.transformInv_(h),M=this.transformInv_(p),U=this.transformInv_(m),Z=this.transformInv_(w),lt=yI+(a?Math.max(0,Math.ceil(Wf(pi(e)/(a*a*256*256)))):0);if(this.addQuad_(h,p,m,w,R,M,U,Z,lt),this.wrapsXInSource_){var pt=1/0;this.triangles_.forEach(function(xt,ht,Vt){pt=Math.min(pt,xt.source[0][0],xt.source[1][0],xt.source[2][0])}),this.triangles_.forEach(function(xt){if(Math.max(xt.source[0][0],xt.source[1][0],xt.source[2][0])-pt>this.sourceWorldWidth_/2){var ht=[[xt.source[0][0],xt.source[0][1]],[xt.source[1][0],xt.source[1][1]],[xt.source[2][0],xt.source[2][1]]];ht[0][0]-pt>this.sourceWorldWidth_/2&&(ht[0][0]-=this.sourceWorldWidth_),ht[1][0]-pt>this.sourceWorldWidth_/2&&(ht[1][0]-=this.sourceWorldWidth_),ht[2][0]-pt>this.sourceWorldWidth_/2&&(ht[2][0]-=this.sourceWorldWidth_);var Vt=Math.min(ht[0][0],ht[1][0],ht[2][0]),kt=Math.max(ht[0][0],ht[1][0],ht[2][0]);kt-Vt<this.sourceWorldWidth_/2&&(xt.source=ht)}}.bind(this))}s={}}return n.prototype.addTriangle_=function(r,t,e,i,o,a){this.triangles_.push({source:[i,o,a],target:[r,t,e]})},n.prototype.addQuad_=function(r,t,e,i,o,a,s,c,h){var p=Lt([o,a,s,c]),m=this.sourceWorldWidth_?fn(p)/this.sourceWorldWidth_:null,w=this.sourceWorldWidth_,R=this.sourceProj_.canWrapX()&&m>.5&&m<1,M=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var U=Lt([r,t,e,i]),Z=fn(U)/this.targetWorldWidth_;M=Z>Dx||M}!R&&this.sourceProj_.isGlobal()&&m&&(M=m>Dx||M)}if(!(!M&&this.maxSourceExtent_&&isFinite(p[0])&&isFinite(p[1])&&isFinite(p[2])&&isFinite(p[3])&&!vi(p,this.maxSourceExtent_))){var lt=0;if(!M&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(c[0])||!isFinite(c[1]))){if(h>0)M=!0;else if(lt=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),lt!=1&&lt!=2&&lt!=4&&lt!=8)return}if(h>0){if(!M){var pt=[(r[0]+e[0])/2,(r[1]+e[1])/2],xt=this.transformInv_(pt),ht=void 0;if(R){var Vt=(Ps(o[0],w)+Ps(s[0],w))/2;ht=Vt-Ps(xt[0],w)}else ht=(o[0]+s[0])/2-xt[0];var kt=(o[1]+s[1])/2-xt[1],Zt=ht*ht+kt*kt;M=Zt>this.errorThresholdSquared_}if(M){if(Math.abs(r[0]-e[0])<=Math.abs(r[1]-e[1])){var Xt=[(t[0]+e[0])/2,(t[1]+e[1])/2],ce=this.transformInv_(Xt),Ve=[(i[0]+r[0])/2,(i[1]+r[1])/2],Ne=this.transformInv_(Ve);this.addQuad_(r,t,Xt,Ve,o,a,ce,Ne,h-1),this.addQuad_(Ve,Xt,e,i,Ne,ce,s,c,h-1)}else{var Ee=[(r[0]+t[0])/2,(r[1]+t[1])/2],rr=this.transformInv_(Ee),Rr=[(e[0]+i[0])/2,(e[1]+i[1])/2],Gr=this.transformInv_(Rr);this.addQuad_(r,Ee,Rr,i,o,rr,Gr,c,h-1),this.addQuad_(Ee,t,e,Rr,rr,a,s,Gr,h-1)}return}}if(R){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(lt&11)==0&&this.addTriangle_(r,e,i,o,s,c),(lt&14)==0&&this.addTriangle_(r,e,t,o,s,a),lt&&((lt&13)==0&&this.addTriangle_(t,i,r,a,c,o),(lt&7)==0&&this.addTriangle_(t,i,e,a,c,s))}},n.prototype.calculateSourceExtent=function(){var r=et();return this.triangles_.forEach(function(t,e,i){var o=t.source;Ln(r,o[0]),Ln(r,o[1]),Ln(r,o[2])}),r},n.prototype.getTriangles=function(){return this.triangles_},n}(),Bx=mI,D1;function Gx(n,r,t,e,i){n.beginPath(),n.moveTo(0,0),n.lineTo(r,t),n.lineTo(e,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(r,e)+1,Math.max(t,i)),n.restore()}function B1(n,r){return Math.abs(n[r*4]-210)>2||Math.abs(n[r*4+3]-.75*255)>2}function _I(){if(D1===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",Gx(n,4,5,4,0),Gx(n,4,5,0,5);var r=n.getImageData(0,0,3,3).data;D1=B1(r,0)||B1(r,4)||B1(r,8)}return D1}function zv(n,r,t,e){var i=pn(t,r,n),o=Fc(r,e,t),a=r.getMetersPerUnit();a!==void 0&&(o*=a);var s=n.getMetersPerUnit();s!==void 0&&(o/=s);var c=n.getExtent();if(!c||Jt(c,i)){var h=Fc(n,o,i)/o;isFinite(h)&&h>0&&(o/=h)}return o}function EI(n,r,t,e){var i=Kn(t),o=zv(n,r,i,e);return(!isFinite(o)||o<=0)&&Gn(t,function(a){return o=zv(n,r,a,e),isFinite(o)&&o>0}),o}function Ux(n,r,t,e,i,o,a,s,c,h,p,m){var w=Object(je.a)(Math.round(t*n),Math.round(t*r));if(m||Object(Ir.a)(w,kv),c.length===0)return w.canvas;w.scale(t,t);function R(ht){return Math.round(ht*t)/t}w.globalCompositeOperation="lighter";var M=et();c.forEach(function(ht,Vt,kt){Ar(M,ht.extent)});var U=fn(M),Z=Ur(M),lt=Object(je.a)(Math.round(t*U/e),Math.round(t*Z/e));m||Object(Ir.a)(lt,kv);var pt=t/e;c.forEach(function(ht,Vt,kt){var Zt=ht.extent[0]-M[0],Xt=-(ht.extent[3]-M[3]),ce=fn(ht.extent),Ve=Ur(ht.extent);ht.image.width>0&&ht.image.height>0&&lt.drawImage(ht.image,h,h,ht.image.width-2*h,ht.image.height-2*h,Zt*pt,Xt*pt,ce*pt,Ve*pt)});var xt=qn(a);return s.getTriangles().forEach(function(ht,Vt,kt){var Zt=ht.source,Xt=ht.target,ce=Zt[0][0],Ve=Zt[0][1],Ne=Zt[1][0],Ee=Zt[1][1],rr=Zt[2][0],Rr=Zt[2][1],Gr=R((Xt[0][0]-xt[0])/o),Hr=R(-(Xt[0][1]-xt[1])/o),Jr=R((Xt[1][0]-xt[0])/o),Tn=R(-(Xt[1][1]-xt[1])/o),bn=R((Xt[2][0]-xt[0])/o),jn=R(-(Xt[2][1]-xt[1])/o),Dn=ce,ur=Ve;ce=0,Ve=0,Ne-=Dn,Ee-=ur,rr-=Dn,Rr-=ur;var Wo=[[Ne,Ee,0,0,Jr-Gr],[rr,Rr,0,0,bn-Gr],[0,0,Ne,Ee,Tn-Hr],[0,0,rr,Rr,jn-Hr]],Wn=Tc(Wo);if(!!Wn){if(w.save(),w.beginPath(),_I()||!m){w.moveTo(Jr,Tn);for(var Zi=4,Mo=Gr-Jr,qo=Hr-Tn,Yo=0;Yo<Zi;Yo++)w.lineTo(Jr+R((Yo+1)*Mo/Zi),Tn+R(Yo*qo/(Zi-1))),Yo!=Zi-1&&w.lineTo(Jr+R((Yo+1)*Mo/Zi),Tn+R((Yo+1)*qo/(Zi-1)));w.lineTo(bn,jn)}else w.moveTo(Jr,Tn),w.lineTo(Gr,Hr),w.lineTo(bn,jn);w.clip(),w.transform(Wn[0],Wn[2],Wn[1],Wn[3],Gr,Hr),w.translate(M[0]-Dn,M[3]-ur),w.scale(e/t,-e/t),w.drawImage(lt.canvas,0,0),w.restore()}}),p&&(w.save(),w.globalCompositeOperation="source-over",w.strokeStyle="black",w.lineWidth=1,s.getTriangles().forEach(function(ht,Vt,kt){var Zt=ht.target,Xt=(Zt[0][0]-xt[0])/o,ce=-(Zt[0][1]-xt[1])/o,Ve=(Zt[1][0]-xt[0])/o,Ne=-(Zt[1][1]-xt[1])/o,Ee=(Zt[2][0]-xt[0])/o,rr=-(Zt[2][1]-xt[1])/o;w.beginPath(),w.moveTo(Ve,Ne),w.lineTo(Xt,ce),w.lineTo(Ee,rr),w.closePath(),w.stroke()}),w.restore()),w.canvas}var xI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),SI=function(n){xI(r,n);function r(t,e,i,o,a,s,c,h,p,m,w,R){var M=n.call(this,a,Lr.IDLE,{interpolate:!!R})||this;M.renderEdges_=w!==void 0?w:!1,M.pixelRatio_=c,M.gutter_=h,M.canvas_=null,M.sourceTileGrid_=e,M.targetTileGrid_=o,M.wrappedTileCoord_=s||a,M.sourceTiles_=[],M.sourcesListenerKeys_=null,M.sourceZ_=0;var U=o.getTileCoordExtent(M.wrappedTileCoord_),Z=M.targetTileGrid_.getExtent(),lt=M.sourceTileGrid_.getExtent(),pt=Z?Pr(U,Z):U;if(pi(pt)===0)return M.state=Lr.EMPTY,M;var xt=t.getExtent();xt&&(lt?lt=Pr(lt,xt):lt=xt);var ht=o.getResolution(M.wrappedTileCoord_[0]),Vt=EI(t,i,pt,ht);if(!isFinite(Vt)||Vt<=0)return M.state=Lr.EMPTY,M;var kt=m!==void 0?m:jx;if(M.triangulation_=new Bx(t,i,pt,lt,Vt*kt,ht),M.triangulation_.getTriangles().length===0)return M.state=Lr.EMPTY,M;M.sourceZ_=e.getZForResolution(Vt);var Zt=M.triangulation_.calculateSourceExtent();if(lt&&(t.canWrapX()?(Zt[1]=Fi(Zt[1],lt[1],lt[3]),Zt[3]=Fi(Zt[3],lt[1],lt[3])):Zt=Pr(Zt,lt)),!pi(Zt))M.state=Lr.EMPTY;else{for(var Xt=e.getTileRangeForExtentAndZ(Zt,M.sourceZ_),ce=Xt.minX;ce<=Xt.maxX;ce++)for(var Ve=Xt.minY;Ve<=Xt.maxY;Ve++){var Ne=p(M.sourceZ_,ce,Ve,c);Ne&&M.sourceTiles_.push(Ne)}M.sourceTiles_.length===0&&(M.state=Lr.EMPTY)}return M}return r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(p,m,w){p&&p.getState()==Lr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(p.tileCoord),image:p.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Lr.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(e),c=this.sourceTileGrid_.getResolution(this.sourceZ_),h=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ux(o,a,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),s,h,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Lr.LOADED}this.changed()},r.prototype.load=function(){if(this.state==Lr.IDLE){this.state=Lr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,o){var a=e.getState();if(a==Lr.IDLE||a==Lr.LOADING){t++;var s=Object(Tr.a)(e,Qr.a.CHANGE,function(c){var h=e.getState();(h==Lr.LOADED||h==Lr.ERROR||h==Lr.EMPTY)&&(Object(Tr.c)(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,i,o){var a=e.getState();a==Lr.IDLE&&e.load()})}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Tr.c),this.sourcesListenerKeys_=null},r}(Mx),kx=SI,Vv=34962,jy=34963,wI=35040,G1=35044,Dy=35048,OI=5121,TI=5123,bI=5125,zx=5126,Vx=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Wx(n,r){for(var t=Object(Ir.a)({preserveDrawingBuffer:!0},r),e=Vx.length,i=0;i<e;++i)try{var o=n.getContext(Vx[i],t);if(o)return o}catch{}return null}var CI={STATIC_DRAW:G1,STREAM_DRAW:wI,DYNAMIC_DRAW:Dy},AI=function(){function n(r,t){this.array=null,this.type=r,qt(r===Vv||r===jy,62),this.usage=t!==void 0?t:CI.STATIC_DRAW}return n.prototype.ofSize=function(r){this.array=new(U1(this.type))(r)},n.prototype.fromArray=function(r){var t=U1(this.type);this.array=t.from?t.from(r):new t(r)},n.prototype.fromArrayBuffer=function(r){this.array=new(U1(this.type))(r)},n.prototype.getType=function(){return this.type},n.prototype.getArray=function(){return this.array},n.prototype.getUsage=function(){return this.usage},n.prototype.getSize=function(){return this.array?this.array.length:0},n}();function U1(n){switch(n){case Vv:return Float32Array;case jy:return Uint32Array;default:return Float32Array}}var Wv=AI,LI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Yx(n,r,t){var e=t?n.LINEAR:n.NEAREST;n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e)}function RI(n,r,t,e){Yx(n,r,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t)}function Hx(n,r,t,e,i,o){var a=n.getGL();Yx(a,r,o);var s=t.byteLength/e[1],c=1;s%8===0?c=8:s%4===0?c=4:s%2===0&&(c=2);var h;switch(i){case 1:{h=a.LUMINANCE;break}case 2:{h=a.LUMINANCE_ALPHA;break}case 3:{h=a.RGB;break}case 4:{h=a.RGBA;break}default:throw new Error("Unsupported number of bands: "+i)}var p;t instanceof Float32Array?(p=a.FLOAT,n.getExtension("OES_texture_float"),n.getExtension("OES_texture_float_linear")):p=a.UNSIGNED_BYTE;var m=a.getParameter(a.UNPACK_ALIGNMENT);a.pixelStorei(a.UNPACK_ALIGNMENT,c),a.texImage2D(a.TEXTURE_2D,0,h,e[0],e[1],0,h,p,t),a.pixelStorei(a.UNPACK_ALIGNMENT,m)}var PI=function(n){LI(r,n);function r(t,e,i){var o=n.call(this)||this;o.tile,o.textures=[],o.handleTileChange_=o.handleTileChange_.bind(o),o.size=to(e.getTileSize(t.tileCoord[0])),o.bandCount=NaN,o.helper_=i;var a=new Wv(Vv,G1);return a.fromArray([0,1,1,1,1,0,0,0]),i.flushBufferData(a),o.coords=a,o.setTile(t),o}return r.prototype.setTile=function(t){if(t!==this.tile)if(this.tile&&this.tile.removeEventListener(Qr.a.CHANGE,this.handleTileChange_),this.tile=t,this.textures.length=0,this.loaded=t.getState()===Lr.LOADED,this.loaded)this.uploadTile_();else{if(t instanceof j1){var e=t.getImage();e instanceof Image&&!e.crossOrigin&&(e.crossOrigin="anonymous")}t.addEventListener(Qr.a.CHANGE,this.handleTileChange_)}},r.prototype.uploadTile_=function(){var t=this.helper_,e=t.getGL(),i=this.tile;if(i instanceof j1||i instanceof kx){var o=e.createTexture();this.textures.push(o),this.bandCount=4,RI(e,o,i.getImage(),i.interpolate);return}var a=i.getData(),s=a instanceof Float32Array,c=this.size[0]*this.size[1],h=s?Float32Array:Uint8Array,p=h.BYTES_PER_ELEMENT,m=a.byteLength/this.size[1];this.bandCount=Math.floor(m/p/this.size[0]);var w=Math.ceil(this.bandCount/4);if(w===1){var o=e.createTexture();this.textures.push(o),Hx(t,o,a,this.size,this.bandCount,i.interpolate);return}for(var R=new Array(w),M=0;M<w;++M){var o=e.createTexture();this.textures.push(o);var U=M<w-1?4:this.bandCount%4;R[M]=new h(c*U)}for(var Z=0,lt=0,pt=this.size[0]*this.bandCount,xt=0;xt<this.size[1];++xt){for(var ht=0;ht<pt;++ht){var Vt=a[lt+ht],kt=Math.floor(Z/this.bandCount),Zt=ht%this.bandCount,M=Math.floor(Zt/4),Xt=R[M],U=Xt.length/c,ce=Zt%4;Xt[kt*U+ce]=Vt,++Z}lt+=m/p}for(var M=0;M<w;++M){var o=this.textures[M],Xt=R[M],U=Xt.length/c;Hx(t,o,Xt,this.size,U,i.interpolate)}},r.prototype.handleTileChange_=function(){this.tile.getState()===Lr.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(Qr.a.CHANGE))},r.prototype.disposeInternal=function(){var t=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var e=0;e<this.textures.length;++e)t.deleteTexture(this.textures[e]);this.tile.removeEventListener(Qr.a.CHANGE,this.handleTileChange_)},r}(Re.a),II=PI,By={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},MI=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,NI=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`,FI=function(){function n(r){this.gl_=r.webGlContext;var t=this.gl_;this.scaleRatio_=r.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,r.vertexShader||MI),t.compileShader(e);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,r.fragmentShader||NI),t.compileShader(i),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,e),t.attachShader(this.renderTargetProgram_,i),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();var o=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array(o),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],r.uniforms&&Object.keys(r.uniforms).forEach(function(a){this.uniforms_.push({value:r.uniforms[a],location:t.getUniformLocation(this.renderTargetProgram_,a)})}.bind(this))}return n.prototype.getGL=function(){return this.gl_},n.prototype.init=function(r){var t=this.getGL(),e=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,e[0],e[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==e[0]||this.renderTargetTextureSize_[1]!==e[1]){this.renderTargetTextureSize_=e;var i=0,o=t.RGBA,a=0,s=t.RGBA,c=t.UNSIGNED_BYTE,h=null;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,i,o,e[0],e[1],a,s,c,h),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},n.prototype.apply=function(r,t,e,i){var o=this.getGL(),a=r.size;if(o.bindFramebuffer(o.FRAMEBUFFER,t?t.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!t){var s=Object(ct.c)(o.canvas);if(!r.renderTargets[s]){var c=o.getContextAttributes();c&&c.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),r.renderTargets[s]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var h=r.layerStatesArray[r.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,h),this.applyUniforms(r),e&&e(o,r),o.drawArrays(o.TRIANGLES,0,6),i&&i(o,r)},n.prototype.getFrameBuffer=function(){return this.frameBuffer_},n.prototype.applyUniforms=function(r){var t=this.getGL(),e,i=1;this.uniforms_.forEach(function(o){if(e=typeof o.value=="function"?o.value(r):o.value,e instanceof HTMLCanvasElement||e instanceof ImageData)o.texture||(o.texture=t.createTexture()),t.activeTexture(t["TEXTURE"+i]),t.bindTexture(t.TEXTURE_2D,o.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e instanceof ImageData?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,e.width,e.height,0,t.UNSIGNED_BYTE,new Uint8Array(e.data)):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.uniform1i(o.location,i++);else if(Array.isArray(e))switch(e.length){case 2:t.uniform2f(o.location,e[0],e[1]);return;case 3:t.uniform3f(o.location,e[0],e[1],e[2]);return;case 4:t.uniform4f(o.location,e[0],e[1],e[2],e[3]);return;default:return}else typeof e=="number"&&t.uniform1f(o.location,e)})},n}(),Xx=FI;function Kx(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Gy(n,r){return n[0]=r[0],n[1]=r[1],n[4]=r[2],n[5]=r[3],n[12]=r[4],n[13]=r[5],n}var jI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kd={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},Cl={UNSIGNED_BYTE:OI,UNSIGNED_SHORT:TI,UNSIGNED_INT:bI,FLOAT:zx},Uy={};function $x(n){return"shared/"+n}var Zx=0;function DI(){var n="unique/"+Zx;return Zx+=1,n}function BI(n){var r=Uy[n];if(!r){var t=document.createElement("canvas");t.style.position="absolute",t.style.left="0",r={users:0,canvas:t},Uy[n]=r}return r.users+=1,r.canvas}function GI(n){var r=Uy[n];if(!!r&&(r.users-=1,!(r.users>0))){var t=r.canvas,e=Wx(t),i=e.getExtension("WEBGL_lose_context");i&&i.loseContext(),delete Uy[n]}}var UI=function(n){jI(r,n);function r(t){var e=n.call(this)||this,i=t||{};e.boundHandleWebGLContextLost_=e.handleWebGLContextLost.bind(e),e.boundHandleWebGLContextRestored_=e.handleWebGLContextRestored.bind(e),e.canvasCacheKey_=i.canvasCacheKey?$x(i.canvasCacheKey):DI(),e.canvas_=BI(e.canvasCacheKey_),e.gl_=Wx(e.canvas_),e.bufferCache_={},e.extensionCache_={},e.currentProgram_=null,e.canvas_.addEventListener(By.LOST,e.boundHandleWebGLContextLost_),e.canvas_.addEventListener(By.RESTORED,e.boundHandleWebGLContextRestored_),e.offsetRotateMatrix_=Q(),e.offsetScaleMatrix_=Q(),e.tmpMat4_=Kx(),e.uniformLocations_={},e.attribLocations_={},e.uniforms_=[],i.uniforms&&e.setUniforms(i.uniforms);var o=e.getGL();return e.postProcessPasses_=i.postProcesses?i.postProcesses.map(function(a){return new Xx({webGlContext:o,scaleRatio:a.scaleRatio,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,uniforms:a.uniforms})}):[new Xx({webGlContext:o})],e.shaderCompileErrors_=null,e.startTime_=Date.now(),e}return r.prototype.setUniforms=function(t){this.uniforms_=[];for(var e in t)this.uniforms_.push({name:e,value:t[e]});this.uniformLocations_={}},r.prototype.canvasCacheKeyMatches=function(t){return this.canvasCacheKey_===$x(t)},r.prototype.getExtension=function(t){if(t in this.extensionCache_)return this.extensionCache_[t];var e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e},r.prototype.bindBuffer=function(t){var e=this.getGL(),i=Object(ct.c)(t),o=this.bufferCache_[i];if(!o){var a=e.createBuffer();o={buffer:t,webGlBuffer:a},this.bufferCache_[i]=o}e.bindBuffer(t.getType(),o.webGlBuffer)},r.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},r.prototype.deleteBuffer=function(t){var e=this.getGL(),i=Object(ct.c)(t),o=this.bufferCache_[i];o&&!e.isContextLost()&&e.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[i]},r.prototype.disposeInternal=function(){this.canvas_.removeEventListener(By.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(By.RESTORED,this.boundHandleWebGLContextRestored_),GI(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},r.prototype.prepareDraw=function(t,e){var i=this.getGL(),o=this.getCanvas(),a=t.size,s=t.pixelRatio;o.width=a[0]*s,o.height=a[1]*s,o.style.width=a[0]+"px",o.style.height=a[1]+"px",i.useProgram(this.currentProgram_);for(var c=this.postProcessPasses_.length-1;c>=0;c--)this.postProcessPasses_[c].init(t);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,e?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.prepareDrawToRenderTarget=function(t,e,i){var o=this.getGL(),a=e.getSize();o.bindFramebuffer(o.FRAMEBUFFER,e.getFramebuffer()),o.viewport(0,0,a[0],a[1]),o.bindTexture(o.TEXTURE_2D,e.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,i?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},r.prototype.drawElements=function(t,e){var i=this.getGL();this.getExtension("OES_element_index_uint");var o=i.UNSIGNED_INT,a=4,s=e-t,c=t*a;i.drawElements(i.TRIANGLES,s,o,c)},r.prototype.finalizeDraw=function(t,e,i){for(var o=0,a=this.postProcessPasses_.length;o<a;o++)o===a-1?this.postProcessPasses_[o].apply(t,null,e,i):this.postProcessPasses_[o].apply(t,this.postProcessPasses_[o+1])},r.prototype.getCanvas=function(){return this.canvas_},r.prototype.getGL=function(){return this.gl_},r.prototype.applyFrameState=function(t){var e=t.size,i=t.viewState.rotation,o=Tt(this.offsetScaleMatrix_);Sr(o,2/e[0],2/e[1]);var a=Tt(this.offsetRotateMatrix_);i!==0&&ir(a,-i),this.setUniformMatrixValue(Kd.OFFSET_SCALE_MATRIX,Gy(this.tmpMat4_,o)),this.setUniformMatrixValue(Kd.OFFSET_ROTATION_MATRIX,Gy(this.tmpMat4_,a)),this.setUniformFloatValue(Kd.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(Kd.ZOOM,t.viewState.zoom),this.setUniformFloatValue(Kd.RESOLUTION,t.viewState.resolution)},r.prototype.applyUniforms=function(t){var e=this.getGL(),i,o=0;this.uniforms_.forEach(function(a){if(i=typeof a.value=="function"?a.value(t):a.value,i instanceof HTMLCanvasElement||i instanceof HTMLImageElement||i instanceof ImageData){a.texture||(a.prevValue=void 0,a.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+o]),e.bindTexture(e.TEXTURE_2D,a.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);var s=!(i instanceof HTMLImageElement)||i.complete;s&&a.prevValue!==i&&(a.prevValue=i,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)),e.uniform1i(this.getUniformLocation(a.name),o++)}else if(Array.isArray(i)&&i.length===6)this.setUniformMatrixValue(a.name,Gy(this.tmpMat4_,i));else if(Array.isArray(i)&&i.length<=4)switch(i.length){case 2:e.uniform2f(this.getUniformLocation(a.name),i[0],i[1]);return;case 3:e.uniform3f(this.getUniformLocation(a.name),i[0],i[1],i[2]);return;case 4:e.uniform4f(this.getUniformLocation(a.name),i[0],i[1],i[2],i[3]);return;default:return}else typeof i=="number"&&e.uniform1f(this.getUniformLocation(a.name),i)}.bind(this))},r.prototype.useProgram=function(t){if(t==this.currentProgram_)return!1;var e=this.getGL();return e.useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0},r.prototype.compileShader=function(t,e){var i=this.getGL(),o=i.createShader(e);return i.shaderSource(o,t),i.compileShader(o),o},r.prototype.getProgram=function(t,e){var i=this.getGL(),o=this.compileShader(t,i.FRAGMENT_SHADER),a=this.compileShader(e,i.VERTEX_SHADER),s=i.createProgram();if(i.attachShader(s,o),i.attachShader(s,a),i.linkProgram(s),!i.getShaderParameter(o,i.COMPILE_STATUS)){var c="Fragment shader compliation failed: "+i.getShaderInfoLog(o);throw new Error(c)}if(i.deleteShader(o),!i.getShaderParameter(a,i.COMPILE_STATUS)){var c="Vertex shader compilation failed: "+i.getShaderInfoLog(a);throw new Error(c)}if(i.deleteShader(a),!i.getProgramParameter(s,i.LINK_STATUS)){var c="GL program linking failed: "+i.getShaderInfoLog(a);throw new Error(c)}return s},r.prototype.getUniformLocation=function(t){return this.uniformLocations_[t]===void 0&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},r.prototype.getAttributeLocation=function(t){return this.attribLocations_[t]===void 0&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},r.prototype.makeProjectionTransform=function(t,e){var i=t.size,o=t.viewState.rotation,a=t.viewState.resolution,s=t.viewState.center;return Tt(e),Te(e,0,0,2/(a*i[0]),2/(a*i[1]),-o,-s[0],-s[1]),e},r.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},r.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},r.prototype.enableAttributeArray_=function(t,e,i,o,a){var s=this.getAttributeLocation(t);s<0||(this.getGL().enableVertexAttribArray(s),this.getGL().vertexAttribPointer(s,e,i,!1,o,a))},r.prototype.enableAttributes=function(t){for(var e=kI(t),i=0,o=0;o<t.length;o++){var a=t[o];this.enableAttributeArray_(a.name,a.size,a.type||zx,e,i),i+=a.size*qx(a.type)}},r.prototype.handleWebGLContextLost=function(){Object(Ir.b)(this.bufferCache_),this.currentProgram_=null},r.prototype.handleWebGLContextRestored=function(){},r.prototype.createTexture=function(t,e,i){var o=this.getGL(),a=i||o.createTexture(),s=0,c=o.RGBA,h=0,p=o.RGBA,m=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,a),e?o.texImage2D(o.TEXTURE_2D,s,c,p,m,e):o.texImage2D(o.TEXTURE_2D,s,c,t[0],t[1],h,p,m,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),a},r}(bt.a);function kI(n){for(var r=0,t=0;t<n.length;t++){var e=n[t];r+=e.size*qx(e.type)}return r}function qx(n){switch(n){case Cl.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Cl.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Cl.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Cl.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var zI=UI,VI=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),k1={GENERATE_BUFFERS:"GENERATE_BUFFERS"},WI=function(n){VI(r,n);function r(t,e){var i=n.call(this,t)||this,o=e||{};return i.inversePixelTransform_=Q(),i.pixelContext_=null,i.postProcesses_=o.postProcesses,i.uniforms_=o.uniforms,i.helper,t.addChangeListener(Si.MAP,i.removeHelper_.bind(i)),i.dispatchPreComposeEvent=i.dispatchPreComposeEvent.bind(i),i.dispatchPostComposeEvent=i.dispatchPostComposeEvent.bind(i),i}return r.prototype.dispatchPreComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(Ha.PRECOMPOSE)){var o=new Ue(Ha.PRECOMPOSE,void 0,e,t);i.dispatchEvent(o)}},r.prototype.dispatchPostComposeEvent=function(t,e){var i=this.getLayer();if(i.hasListener(Ha.POSTCOMPOSE)){var o=new Ue(Ha.POSTCOMPOSE,void 0,e,t);i.dispatchEvent(o)}},r.prototype.reset=function(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},r.prototype.removeHelper_=function(){this.helper&&(this.helper.dispose(),delete this.helper)},r.prototype.prepareFrame=function(t){if(this.getLayer().getSource()){for(var e=!0,i=-1,o=void 0,a=0,s=t.layerStatesArray.length;a<s;a++){var c=t.layerStatesArray[a].layer,h=c.getRenderer();if(!(h instanceof r)){e=!0;continue}var p=c.getClassName();if((e||p!==o)&&(i+=1,e=!1),o=p,h===this)break}var m="map/"+t.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(m))&&(this.helper&&this.helper.dispose(),this.helper=new zI({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:m}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(t)},r.prototype.afterHelperCreated=function(){},r.prototype.prepareFrameInternal=function(t){return!0},r.prototype.disposeInternal=function(){this.removeHelper_(),n.prototype.disposeInternal.call(this)},r.prototype.dispatchRenderEvent_=function(t,e,i){var o=this.getLayer();if(o.hasListener(t)){Te(this.inversePixelTransform_,0,0,i.pixelRatio,-i.pixelRatio,0,0,-i.size[1]);var a=new Ue(t,this.inversePixelTransform_,i,e);o.dispatchEvent(a)}},r.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Ha.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Ha.POSTRENDER,t,e)},r.prototype.getDataAtPixel=function(t,e,i){var o=Me([e.pixelRatio,0,0,e.pixelRatio,0,0],t.slice()),a=this.helper.getGL();if(!a)return null;var s=this.getLayer(),c=s.getExtent();if(c){var h=Me(e.pixelToCoordinateTransform,t.slice());if(!Jt(c,h))return null}var p=a.getContextAttributes();if(!p||!p.preserveDrawingBuffer)return new Uint8Array;var m=Math.round(o[0]),w=Math.round(o[1]),R=this.pixelContext_;if(!R){var M=document.createElement("canvas");M.width=1,M.height=1,R=M.getContext("2d"),this.pixelContext_=R}R.clearRect(0,0,1,1);var U;try{R.drawImage(a.canvas,m,w,1,1,0,0,1,1),U=R.getImageData(0,0,1,1).data}catch{return U}return U[3]===0?null:U},r}(Cx);function YI(n,r){var t=r||[],e=256,i=e-1;return t[0]=Math.floor(n/e/e/e)/i,t[1]=Math.floor(n/e/e)%e/i,t[2]=Math.floor(n/e)%e/i,t[3]=n%e/i,t}function HI(n){var r=0,t=256,e=t-1;return r+=Math.round(n[0]*t*t*t*e),r+=Math.round(n[1]*t*t*e),r+=Math.round(n[2]*t*e),r+=Math.round(n[3]*e),r}var Jx=WI;function Yv(n,r,t,e){return e!==void 0?(e[0]=n,e[1]=r,e[2]=t,e):[n,r,t]}function Hv(n,r,t){return n+"/"+r+"/"+t}function Xv(n){return Hv(n[0],n[1],n[2])}function XI(n){return n.split("/").map(Number)}function Qx(n){return(n[1]<<n[0])+n[2]}function KI(n,r){var t=n[0],e=n[1],i=n[2];if(r.getMinZoom()>t||t>r.getMaxZoom())return!1;var o=r.getFullTileRange(t);return o?o.containsXY(e,i):!0}var $I=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_o={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",RESOLUTION:"u_resolution",ZOOM:"u_zoom"},ky={TEXTURE_COORD:"a_textureCoord"},ZI=[{name:ky.TEXTURE_COORD,size:2,type:Cl.FLOAT}],qI={};function JI(n){return 2*(1-1/(n+1))-1}function tS(n,r,t){t in n||(n[t]=[]),n[t].push(r)}function z1(n,r){var t=n.layerStatesArray[n.layerIndex];t.extent&&(r=Pr(r,fa(t.extent,n.viewState.projection)));var e=t.layer.getSource();if(!e.getWrapX()){var i=e.getTileGridForProjection(n.viewState.projection).getExtent();i&&(r=Pr(r,i))}return r}var eS=function(n){$I(r,n);function r(t,e){var i=n.call(this,t,{uniforms:e.uniforms})||this;i.tileTransform_=Q(),i.tempMat4_=Kx(),i.tempTileRange_=new I1(0,0,0,0),i.tempTileCoord_=Yv(0,0,0),i.tempSize_=[0,0],i.program_,i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.indices_=new Wv(jy,G1),i.indices_.fromArray([0,1,3,1,2,3]);var o=e.cacheSize!==void 0?e.cacheSize:512;return i.tileTextureCache_=new Ix(o),i.paletteTextures_=e.paletteTextures||[],i}return r.prototype.reset=function(t){n.prototype.reset.call(this,{uniforms:t.uniforms}),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.paletteTextures_=t.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))},r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)},r.prototype.isDrawableTile_=function(t){var e=this.getLayer(),i=t.getState(),o=e.getUseInterimTilesOnError();return i==Lr.LOADED||i==Lr.EMPTY||i==Lr.ERROR&&!o},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource();return!i||Do(z1(t,t.extent))?!1:i.getState()===Ms.READY},r.prototype.enqueueTiles=function(t,e,i,o){var a=t.viewState,s=this.getLayer(),c=s.getSource(),h=c.getTileGridForProjection(a.projection),p=this.tileTextureCache_,m=h.getTileRangeForExtentAndZ(e,i,this.tempTileRange_),w=Object(ct.c)(c);w in t.wantedTiles||(t.wantedTiles[w]={});for(var R=t.wantedTiles[w],M=h.getResolution(i),U=m.minX;U<=m.maxX;++U)for(var Z=m.minY;Z<=m.maxY;++Z){var lt=Yv(i,U,Z,this.tempTileCoord_),pt=Xv(lt),xt=void 0,ht=void 0;if(p.containsKey(pt)&&(xt=p.get(pt),ht=xt.tile),!xt||xt.tile.key!==c.getKey())if(ht=c.getTile(i,U,Z,t.pixelRatio,a.projection),!xt)xt=new II(ht,h,this.helper),p.set(pt,xt);else if(this.isDrawableTile_(ht))xt.setTile(ht);else{var Vt=ht.getInterimTile();xt.setTile(Vt)}tS(o,xt,i);var kt=ht.getKey();R[kt]=!0,ht.getState()===Lr.IDLE&&(t.tileQueue.isKeyQueued(kt)||t.tileQueue.enqueue([ht,w,h.getTileCoordCenter(lt),M]))}},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=t.viewState,o=this.getLayer(),a=o.getSource(),s=a.getTileGridForProjection(i.projection),c=z1(t,t.extent),h=s.getZForResolution(i.resolution,a.zDirection),p={};if(t.nextExtent){var m=s.getZForResolution(i.nextResolution,a.zDirection),w=z1(t,t.nextExtent);this.enqueueTiles(t,w,m,p)}this.enqueueTiles(t,c,h,p);for(var R={},M=Object(ct.c)(this),U=t.time,Z=!1,lt=p[h],pt=0,xt=lt.length;pt<xt;++pt){var ht=lt[pt],Vt=ht.tile,kt=Vt.tileCoord;if(ht.loaded){var Zt=Vt.getAlpha(M,U);if(Zt===1){Vt.endTransition(M);continue}Z=!0;var Xt=Xv(kt);R[Xt]=Zt}var ce=this.findAltTiles_(s,kt,h+1,p);if(!ce)for(var Ve=s.getMinZoom(),Ne=h-1;Ne>=Ve;--Ne){var Ee=this.findAltTiles_(s,kt,Ne,p);if(Ee)break}}this.helper.useProgram(this.program_),this.helper.prepareDraw(t,!Z);for(var rr=Object.keys(p).map(Number).sort(br.i),Rr=i.center[0],Gr=i.center[1],Hr=0,Jr=rr.length;Hr<Jr;++Hr)for(var Tn=rr[Hr],bn=s.getResolution(Tn),jn=to(s.getTileSize(Tn),this.tempSize_),Dn=s.getOrigin(Tn),ur=(Rr-Dn[0])/(jn[0]*bn),Wo=(Dn[1]-Gr)/(jn[1]*bn),Wn=i.resolution/bn,Zi=JI(Tn),Mo=p[Tn],pt=0,xt=Mo.length;pt<xt;++pt){var ht=Mo[pt];if(!!ht.loaded){var Vt=ht.tile,kt=Vt.tileCoord,Xt=Xv(kt),qo=kt[1],Yo=kt[2];Te(this.tileTransform_,0,0,2/(t.size[0]*Wn/jn[0]),-2/(t.size[1]*Wn/jn[1]),i.rotation,-(ur-qo),-(Wo-Yo)),this.helper.setUniformMatrixValue(_o.TILE_TRANSFORM,Gy(this.tempMat4_,this.tileTransform_)),this.helper.bindBuffer(ht.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(ZI);for(var oo=0;oo<ht.textures.length;){var xn="TEXTURE"+oo,yn=_o.TILE_TEXTURE_ARRAY+"["+oo+"]";e.activeTexture(e[xn]),e.bindTexture(e.TEXTURE_2D,ht.textures[oo]),e.uniform1i(this.helper.getUniformLocation(yn),oo),++oo}for(var No=0;No<this.paletteTextures_.length;++No){var au=this.paletteTextures_[No];e.activeTexture(e["TEXTURE"+oo]);var Uu=au.getTexture(e);e.bindTexture(e.TEXTURE_2D,Uu),e.uniform1i(this.helper.getUniformLocation(au.name),oo),++oo}var Zt=Xt in R?R[Xt]:1;Zt<1&&(t.animate=!0),this.helper.setUniformFloatValue(_o.TRANSITION_ALPHA,Zt),this.helper.setUniformFloatValue(_o.DEPTH,Zi),this.helper.setUniformFloatValue(_o.TEXTURE_PIXEL_WIDTH,jn[0]),this.helper.setUniformFloatValue(_o.TEXTURE_PIXEL_HEIGHT,jn[1]),this.helper.setUniformFloatValue(_o.RESOLUTION,i.resolution),this.helper.setUniformFloatValue(_o.ZOOM,i.zoom),this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);for(var _f=this.helper.getCanvas(),jh=this.tileTextureCache_;jh.canExpireCache();){var ht=jh.pop();ht.dispose()}var Dh=function(dg,vc){a.expireCache(vc.viewState.projection,qI)};return t.postRenderFunctions.push(Dh),this.postRender(e,t),_f},r.prototype.findAltTiles_=function(t,e,i,o){var a=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!a)return!1;for(var s=!0,c=this.tileTextureCache_,h=a.minX;h<=a.maxX;++h)for(var p=a.minY;p<=a.maxY;++p){var m=Hv(i,h,p),w=!1;if(c.containsKey(m)){var R=c.get(m);R.loaded&&(tS(o,R,i),w=!0)}w||(s=!1)}return s},r.prototype.disposeInternal=function(){var t=this.helper,e=t.getGL();t.deleteBuffer(this.indices_),delete this.indices_,e.deleteProgram(this.program_),delete this.program_;var i=this.tileTextureCache_;i.forEach(function(o){o.dispose()}),i.clear(),delete this.tileTextureCache_,n.prototype.disposeInternal.call(this)},r}(Jx);eS.prototype.getLayer;var QI=eS,tM=function(){function n(r,t){this.name=r,this.data=t,this.texture_=null}return n.prototype.getTexture=function(r){if(!this.texture_){var t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,this.data.length/4,1,0,r.RGBA,r.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_},n}(),eM=tM,Vr={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0},ai={};function Mu(n){if(typeof n=="number")return Vr.NUMBER;if(typeof n=="boolean")return Vr.BOOLEAN;if(typeof n=="string")return $m(n)?Vr.COLOR|Vr.STRING:Vr.STRING;if(!Array.isArray(n))throw new Error("Unhandled value type: "+JSON.stringify(n));var r=n,t=r.every(function(i){return typeof i=="number"});if(t)return r.length===3||r.length===4?Vr.COLOR|Vr.NUMBER_ARRAY:Vr.NUMBER_ARRAY;if(typeof r[0]!="string")throw new Error("Expected an expression operator but received: "+JSON.stringify(r));var e=ai[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.getReturnType(r.slice(1))}function rM(n){return Wf(n)%1===0}function zy(n){var r=n.toString();return r.indexOf(".")===-1?r+".0":r}function rS(n){if(n.length<2||n.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+n.length+"("+n.map(zy).join(", ")+")"}function nM(n){var r=ya(n).slice();return r.length<4&&r.push(1),rS(r.map(function(t,e){return e<3?t/255:t}))}function Vy(n,r){return n.stringLiteralsMap[r]===void 0&&(n.stringLiteralsMap[r]=Object.keys(n.stringLiteralsMap).length),n.stringLiteralsMap[r]}function iM(n,r){return zy(Vy(n,r))}function Zr(n,r,t){if(Array.isArray(r)&&typeof r[0]=="string"){var e=ai[r[0]];if(e===void 0)throw new Error("Unrecognized expression operator: "+JSON.stringify(r));return e.toGlsl(n,r.slice(1),t)}var i=Mu(r);if((i&Vr.NUMBER)>0)return zy(r);if((i&Vr.BOOLEAN)>0)return r.toString();if((i&Vr.STRING)>0&&(t===void 0||t==Vr.STRING))return iM(n,r.toString());if((i&Vr.COLOR)>0&&(t===void 0||t==Vr.COLOR))return nM(r);if((i&Vr.NUMBER_ARRAY)>0)return rS(r);throw new Error("Unexpected expression "+r+" (expected type "+t+")")}function nS(n){if(!(Mu(n)&Vr.NUMBER))throw new Error("A numeric value was expected, got "+JSON.stringify(n)+" instead")}function da(n){for(var r=0;r<n.length;r++)nS(n[r])}function iS(n){if(!(Mu(n)&Vr.STRING))throw new Error("A string value was expected, got "+JSON.stringify(n)+" instead")}function V1(n){if(!(Mu(n)&Vr.BOOLEAN))throw new Error("A boolean value was expected, got "+JSON.stringify(n)+" instead")}function Eo(n,r){if(n.length!==r)throw new Error("Exactly "+r+" arguments were expected, got "+n.length+" instead")}function nf(n,r){if(n.length<r)throw new Error("At least "+r+" arguments were expected, got "+n.length+" instead")}function Wy(n,r){if(n.length>r)throw new Error("At most "+r+" arguments were expected, got "+n.length+" instead")}function oS(n){if(n.length%2!==0)throw new Error("An even amount of arguments was expected, got "+n+" instead")}function oM(n){if(n.length%2===0)throw new Error("An odd amount of arguments was expected, got "+n+" instead")}function W1(n,r){if(!rM(r))throw new Error("Could not infer only one type from the following expression: "+JSON.stringify(n))}ai.get={getReturnType:function(n){return Vr.ANY},toGlsl:function(n,r){Eo(r,1),iS(r[0]);var t=r[0].toString();n.attributes.indexOf(t)===-1&&n.attributes.push(t);var e=n.inFragmentShader?"v_":"a_";return e+t}};function Y1(n){return"u_var_"+n}ai.var={getReturnType:function(n){return Vr.ANY},toGlsl:function(n,r){Eo(r,1),iS(r[0]);var t=r[0].toString();return n.variables.indexOf(t)===-1&&n.variables.push(t),Y1(t)}};var aS="u_paletteTextures";ai.palette={getReturnType:function(n){return Vr.COLOR},toGlsl:function(n,r){Eo(r,2),nS(r[0]);var t=Zr(n,r[0]),e=r[1];if(!Array.isArray(e))throw new Error("The second argument of palette must be an array");for(var i=e.length,o=new Uint8Array(i*4),a=0;a<i;a++){var s=e[a],c=void 0;if(typeof s=="string")c=us(s);else{if(!Array.isArray(s))throw new Error("The second argument of palette must be an array of strings or colors");var h=s.length;if(h===4)c=s;else{if(h!==3)throw new Error("Expected palette color to have 3 or 4 values, got "+h);c=[s[0],s[1],s[2],1]}}var p=a*4;o[p]=c[0],o[p+1]=c[1],o[p+2]=c[2],o[p+3]=c[3]*255}n.paletteTextures||(n.paletteTextures=[]);var m=aS+"["+n.paletteTextures.length+"]",w=new eM(m,o);return n.paletteTextures.push(w),"texture2D("+m+", vec2(("+t+" + 0.5) / "+i+".0, 0.5))"}};var H1="getBandValue";ai.band={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){nf(r,1),Wy(r,3);var t=r[0];if(!(H1 in n.functions)){for(var e="",i=n.bandCount||1,o=0;o<i;o++){var a=Math.floor(o/4),s=o%4;s===i-1&&s===1&&(s=3);var c=_o.TILE_TEXTURE_ARRAY+"["+a+"]";e+=`
          if (band == `+(o+1)+`.0) {
            return texture2D(`+c+", v_textureCoord + vec2(dx, dy))["+s+`];
          }
        `}n.functions[H1]=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / `+_o.TEXTURE_PIXEL_WIDTH+`;
          float dy = yOffset / `+_o.TEXTURE_PIXEL_HEIGHT+`;
          `+e+`
        }
      `}var h=Zr(n,t),p=Zr(n,r[1]||0),m=Zr(n,r[2]||0);return H1+"("+h+", "+p+", "+m+")"}},ai.time={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,0),"u_time"}},ai.zoom={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,0),"u_zoom"}},ai.resolution={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,0),"u_resolution"}},ai["*"]={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" * "+Zr(n,r[1])+")"}},ai["/"]={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" / "+Zr(n,r[1])+")"}},ai["+"]={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" + "+Zr(n,r[1])+")"}},ai["-"]={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" - "+Zr(n,r[1])+")"}},ai.clamp={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){Eo(r,3),da(r);var t=Zr(n,r[1]),e=Zr(n,r[2]);return"clamp("+Zr(n,r[0])+", "+t+", "+e+")"}},ai["%"]={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,2),da(r),"mod("+Zr(n,r[0])+", "+Zr(n,r[1])+")"}},ai["^"]={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,2),da(r),"pow("+Zr(n,r[0])+", "+Zr(n,r[1])+")"}},ai.abs={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,1),da(r),"abs("+Zr(n,r[0])+")"}},ai.sin={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,1),da(r),"sin("+Zr(n,r[0])+")"}},ai.cos={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return Eo(r,1),da(r),"cos("+Zr(n,r[0])+")"}},ai.atan={getReturnType:function(n){return Vr.NUMBER},toGlsl:function(n,r){return nf(r,1),Wy(r,2),da(r),r.length===2?"atan("+Zr(n,r[0])+", "+Zr(n,r[1])+")":"atan("+Zr(n,r[0])+")"}},ai[">"]={getReturnType:function(n){return Vr.BOOLEAN},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" > "+Zr(n,r[1])+")"}},ai[">="]={getReturnType:function(n){return Vr.BOOLEAN},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" >= "+Zr(n,r[1])+")"}},ai["<"]={getReturnType:function(n){return Vr.BOOLEAN},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" < "+Zr(n,r[1])+")"}},ai["<="]={getReturnType:function(n){return Vr.BOOLEAN},toGlsl:function(n,r){return Eo(r,2),da(r),"("+Zr(n,r[0])+" <= "+Zr(n,r[1])+")"}};function sS(n){return{getReturnType:function(r){return Vr.BOOLEAN},toGlsl:function(r,t){Eo(t,2);for(var e=Vr.ANY,i=0;i<t.length;i++)e&=Mu(t[i]);if(e===Vr.NONE)throw new Error("All arguments should be of compatible type, got "+JSON.stringify(t)+" instead");return e&=~Vr.COLOR,"("+Zr(r,t[0],e)+" "+n+" "+Zr(r,t[1],e)+")"}}}ai["=="]=sS("=="),ai["!="]=sS("!="),ai["!"]={getReturnType:function(n){return Vr.BOOLEAN},toGlsl:function(n,r){return Eo(r,1),V1(r[0]),"(!"+Zr(n,r[0])+")"}};function lS(n){return{getReturnType:function(r){return Vr.BOOLEAN},toGlsl:function(r,t){nf(t,2);for(var e=0;e<t.length;e++)V1(t[e]);var i="";return i=t.map(function(o){return Zr(r,o)}).join(" "+n+" "),i="("+i+")",i}}}ai.all=lS("&&"),ai.any=lS("||"),ai.between={getReturnType:function(n){return Vr.BOOLEAN},toGlsl:function(n,r){Eo(r,3),da(r);var t=Zr(n,r[1]),e=Zr(n,r[2]),i=Zr(n,r[0]);return"("+i+" >= "+t+" && "+i+" <= "+e+")"}},ai.array={getReturnType:function(n){return Vr.NUMBER_ARRAY},toGlsl:function(n,r){nf(r,2),Wy(r,4),da(r);var t=r.map(function(e){return Zr(n,e,Vr.NUMBER)});return"vec"+r.length+"("+t.join(", ")+")"}},ai.color={getReturnType:function(n){return Vr.COLOR},toGlsl:function(n,r){nf(r,3),Wy(r,4),da(r);var t=r;r.length===3&&t.push(1);var e=r.map(function(i,o){return Zr(n,i,Vr.NUMBER)+(o<3?" / 255.0":"")});return"vec"+r.length+"("+e.join(", ")+")"}},ai.interpolate={getReturnType:function(n){for(var r=Vr.COLOR|Vr.NUMBER,t=3;t<n.length;t+=2)r=r&Mu(n[t]);return r},toGlsl:function(n,r,t){oS(r),nf(r,6);var e=r[0],i;switch(e[0]){case"linear":i=1;break;case"exponential":i=e[1];break;default:i=null}if(!i)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(e));var o=t!==void 0?t:Vr.ANY,a=ai.interpolate.getReturnType(r)&o;W1(r,a);for(var s=Zr(n,r[1]),c=zy(i),h="",p=2;p<r.length-2;p+=2){var m=Zr(n,r[p]),w=h||Zr(n,r[p+1],a),R=Zr(n,r[p+2]),M=Zr(n,r[p+3],a);h="mix("+w+", "+M+", pow(clamp(("+s+" - "+m+") / ("+R+" - "+m+"), 0.0, 1.0), "+c+"))"}return h}},ai.match={getReturnType:function(n){for(var r=Vr.ANY,t=2;t<n.length;t+=2)r=r&Mu(n[t]);return r=r&Mu(n[n.length-1]),r},toGlsl:function(n,r,t){oS(r),nf(r,4);var e=t!==void 0?t:Vr.ANY,i=ai.match.getReturnType(r)&e;W1(r,i);for(var o=Zr(n,r[0]),a=Zr(n,r[r.length-1],i),s=null,c=r.length-3;c>=1;c-=2){var h=Zr(n,r[c]),p=Zr(n,r[c+1],i);s="("+o+" == "+h+" ? "+p+" : "+(s||a)+")"}return s}},ai.case={getReturnType:function(n){for(var r=Vr.ANY,t=1;t<n.length;t+=2)r=r&Mu(n[t]);return r=r&Mu(n[n.length-1]),r},toGlsl:function(n,r,t){oM(r),nf(r,3);var e=t!==void 0?t:Vr.ANY,i=ai.case.getReturnType(r)&e;W1(r,i);for(var o=0;o<r.length-1;o+=2)V1(r[o]);for(var a=Zr(n,r[r.length-1],i),s=null,o=r.length-3;o>=0;o-=2){var c=Zr(n,r[o]),h=Zr(n,r[o+1],i);s="("+c+" ? "+h+" : "+(s||a)+")"}return s}};var aM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function uS(n,r){var t=`
    attribute vec2 `+ky.TEXTURE_COORD+`;
    uniform mat4 `+_o.TILE_TRANSFORM+`;
    uniform float `+_o.DEPTH+`;

    varying vec2 v_textureCoord;

    void main() {
      v_textureCoord = `+ky.TEXTURE_COORD+`;
      gl_Position = `+_o.TILE_TRANSFORM+" * vec4("+ky.TEXTURE_COORD+", "+_o.DEPTH+`, 1.0);
    }
  `,e={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:r},i=[];if(n.color!==void 0){var o=Zr(e,n.color,Vr.COLOR);i.push("color = "+o+";")}if(n.contrast!==void 0){var a=Zr(e,n.contrast,Vr.NUMBER);i.push("color.rgb = clamp(("+a+" + 1.0) * color.rgb - ("+a+" / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.exposure!==void 0){var s=Zr(e,n.exposure,Vr.NUMBER);i.push("color.rgb = clamp(("+s+" + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}if(n.saturation!==void 0){var c=Zr(e,n.saturation,Vr.NUMBER);i.push(`
      float saturation = `+c+` + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(n.gamma!==void 0){var h=Zr(e,n.gamma,Vr.NUMBER);i.push("color.rgb = pow(color.rgb, vec3(1.0 / "+h+"));")}if(n.brightness!==void 0){var p=Zr(e,n.brightness,Vr.NUMBER);i.push("color.rgb = clamp(color.rgb + "+p+", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")}var m={},w=e.variables.length;if(w>1&&!n.variables)throw new Error("Missing variables in style (expected "+e.variables+")");for(var R=function(xt){var ht=e.variables[xt];if(!(ht in n.variables))throw new Error("Missing '"+ht+"' in style variables");var Vt=Y1(ht);m[Vt]=function(){var kt=n.variables[ht];return typeof kt=="string"&&(kt=Vy(e,kt)),kt!==void 0?kt:-9999999}},M=0;M<w;++M)R(M);var U=Object.keys(m).map(function(xt){return"uniform float "+xt+";"}),Z=Math.ceil(r/4);U.push("uniform sampler2D "+_o.TILE_TEXTURE_ARRAY+"["+Z+"];"),e.paletteTextures&&U.push("uniform sampler2D "+aS+"["+e.paletteTextures.length+"];");var lt=Object.keys(e.functions).map(function(xt){return e.functions[xt]}),pt=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    uniform float `+_o.TRANSITION_ALPHA+`;
    uniform float `+_o.TEXTURE_PIXEL_WIDTH+`;
    uniform float `+_o.TEXTURE_PIXEL_HEIGHT+`;
    uniform float `+_o.RESOLUTION+`;
    uniform float `+_o.ZOOM+`;

    `+U.join(`
`)+`

    `+lt.join(`
`)+`

    void main() {
      vec4 color = texture2D(`+_o.TILE_TEXTURE_ARRAY+`[0],  v_textureCoord);

      `+i.join(`
`)+`

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= `+_o.TRANSITION_ALPHA+`;
    }`;return{vertexShader:t,fragmentShader:pt,uniforms:m,paletteTextures:e.paletteTextures}}var cS=function(n){aM(r,n);function r(t){var e=this,i=t?Object(Ir.a)({},t):{},o=i.style||{};delete i.style;var a=i.cacheSize;return delete i.cacheSize,e=n.call(this,i)||this,e.style_=o,e.cacheSize_=a,e.styleVariables_=e.style_.variables||{},e.addChangeListener(Si.SOURCE,e.handleSourceUpdate_),e}return r.prototype.handleSourceUpdate_=function(){this.setStyle(this.style_)},r.prototype.getSourceBandCount_=function(){var t=this.getSource();return t&&"bandCount"in t?t.bandCount:4},r.prototype.createRenderer=function(){var t=uS(this.style_,this.getSourceBandCount_());return new QI(this,{vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,cacheSize:this.cacheSize_,paletteTextures:t.paletteTextures})},r.prototype.setStyle=function(t){this.style_=t;var e=uS(this.style_,this.getSourceBandCount_()),i=this.getRenderer();i.reset({vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,paletteTextures:e.paletteTextures}),this.changed()},r.prototype.updateStyleVariables=function(t){Object(Ir.a)(this.styleVariables_,t),this.changed()},r}(bx);cS.prototype.dispose;var sM=cS,lM={extends:Xd,name:"ol-webgl-tile-layer",setup:function(r){var t=Object(I.inject)("map"),e=Object(I.inject)("overviewMap",null),i=ar(r),o=i.properties,a=Object(I.computed)(function(){return new sM(o)}),s=function(){e!=null?(e.value.getOverviewMap().addLayer(a.value),e.value.changed()):t.addLayer(a.value)},c=function(){e!=null?(e.value.getOverviewMap().removeLayer(a.value),e.value.changed()):t.removeLayer(a.value)};return e!=null&&Object(I.watch)(e,function(){c(),s()}),Object(I.onMounted)(function(){s()}),Object(I.onUnmounted)(function(){c()}),Object(I.provide)("tileLayer",a),{tileLayer:a}},props:{preload:{type:Number,default:1}}},X1=Ae()(lM,[["render",aI]]);function uM(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var cM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fM=function(n){cM(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e}return r}(E),hM=fM,dM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pM=function(n){dM(r,n);function r(t){var e=n.call(this,t)||this;return e.image_=null,e}return r.prototype.getImage=function(){return this.image_?this.image_.getImage():null},r.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],i=t.pixelRatio,o=t.viewState,a=o.resolution,s=this.getLayer().getSource(),c=t.viewHints,h=t.extent;if(e.extent!==void 0&&(h=Pr(h,fa(e.extent,o.projection))),!c[si.ANIMATING]&&!c[si.INTERACTING]&&!Do(h))if(s){var p=o.projection,m=s.getImage(h,a,i,p);m&&this.loadImage(m)&&(this.image_=m)}else this.image_=null;return!!this.image_},r.prototype.renderFrame=function(t,e){var i=this.image_,o=i.getExtent(),a=i.getResolution(),s=i.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],h=t.pixelRatio,p=t.viewState,m=p.center,w=p.resolution,R=t.size,M=h*a/(w*s),U=Math.round(R[0]*h),Z=Math.round(R[1]*h),lt=p.rotation;if(lt){var pt=Math.round(Math.sqrt(U*U+Z*Z));U=pt,Z=pt}Te(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/h,1/h,lt,-U/2,-Z/2),Ze(this.inversePixelTransform,this.pixelTransform);var xt=_r(this.pixelTransform);this.useContainer(e,xt,c.opacity,this.getBackground(t));var ht=this.context,Vt=ht.canvas;Vt.width!=U||Vt.height!=Z?(Vt.width=U,Vt.height=Z):this.containerReused||ht.clearRect(0,0,U,Z);var kt=!1,Zt=!0;if(c.extent){var Xt=fa(c.extent,p.projection);Zt=vi(Xt,t.extent),kt=Zt&&!he(Xt,t.extent),kt&&this.clipUnrotated(ht,t,Xt)}var ce=i.getImage(),Ve=Te(this.tempTransform,U/2,Z/2,M,M,0,s*(o[0]-m[0])/a,s*(m[1]-o[3])/a);this.renderedResolution=a*h/s;var Ne=ce.width*Ve[0],Ee=ce.height*Ve[3];if(this.getLayer().getSource().getInterpolate()||Object(Ir.a)(ht,kv),this.preRender(ht,t),Zt&&Ne>=.5&&Ee>=.5){var rr=Ve[4],Rr=Ve[5],Gr=c.opacity,Hr=void 0;Gr!==1&&(Hr=ht.globalAlpha,ht.globalAlpha=Gr),ht.drawImage(ce,0,0,+ce.width,+ce.height,Math.round(rr),Math.round(Rr),Math.round(Ne),Math.round(Ee)),Gr!==1&&(ht.globalAlpha=Hr)}return this.postRender(ht,t),kt&&ht.restore(),Object(Ir.a)(ht,Lx),xt!==Vt.style.transform&&(Vt.style.transform=xt),this.container},r}(P1),vM=pM,gM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yM=function(n){gM(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new vM(this)},r}(hM),fS=yM,mM={extends:Xd,name:"ol-image-layer",setup:function(r){var t=Object(I.inject)("map"),e=ar(r),i=e.properties,o=new fS(i);return Object(I.watch)(i,function(){o.setProperties(i)}),Object(I.onMounted)(function(){t.addLayer(o)}),Object(I.onUnmounted)(function(){t.removeLayer(o)}),Object(I.provide)("imageLayer",o),{imageLayer:o}}},K1=Ae()(mM,[["render",uM]]);function _M(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var EM=u("25a5"),hS=u.n(EM),xM=function(){function n(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=to(r.scale),this.displacement_=r.displacement}return n.prototype.clone=function(){var r=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return Object(ct.b)()},n.prototype.getImage=function(r){return Object(ct.b)()},n.prototype.getHitDetectionImage=function(){return Object(ct.b)()},n.prototype.getPixelRatio=function(r){return 1},n.prototype.getImageState=function(){return Object(ct.b)()},n.prototype.getImageSize=function(){return Object(ct.b)()},n.prototype.getOrigin=function(){return Object(ct.b)()},n.prototype.getSize=function(){return Object(ct.b)()},n.prototype.setDisplacement=function(r){this.displacement_=r},n.prototype.setOpacity=function(r){this.opacity_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=to(r)},n.prototype.listenImageChange=function(r){Object(ct.b)()},n.prototype.load=function(){Object(ct.b)()},n.prototype.unlistenImageChange=function(r){Object(ct.b)()},n}(),dS=xM;function Nu(n){return Array.isArray(n)?Is(n):n}var SM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wM=function(n){SM(r,n);function r(t){var e=this,i=t.rotateWithView!==void 0?t.rotateWithView:!1;return e=n.call(this,{opacity:1,rotateWithView:i,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,e.canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=t.fill!==void 0?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=t.radius!==void 0?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=t.angle!==void 0?t.angle:0,e.stroke_=t.stroke!==void 0?t.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},r.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var i=this.renderOptions_,o=Object(je.a)(i.size*t,i.size*t);this.draw_(i,o,t),e=o.canvas,this.canvas_[t]=e}return e},r.prototype.getPixelRatio=function(t){return t},r.prototype.getImageSize=function(){return this.size_},r.prototype.getImageState=function(){return zn.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.calculateLineJoinSize_=function(t,e,i){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,p=a*Math.sin(h),m=Math.sqrt(a*a-p*p),w=o-m,R=Math.sqrt(p*p+w*w),M=R/p;if(t==="miter"&&M<=i)return M*e;var U=e/2/M,Z=e/2*(w/R),lt=Math.sqrt((o+U)*(o+U)+Z*Z),pt=lt-o;if(this.radius2_===void 0||t==="bevel")return pt*2;var xt=o*Math.sin(h),ht=Math.sqrt(o*o-xt*xt),Vt=a-ht,kt=Math.sqrt(xt*xt+Vt*Vt),Zt=kt/xt;if(Zt<=i){var Xt=Zt*e/2-a-o;return 2*Math.max(pt,Xt)}return pt*2},r.prototype.createRenderOptions=function(){var t=fe,e=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=be),a=Nu(a),s=this.stroke_.getWidth(),s===void 0&&(s=yr),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=fe),e=this.stroke_.getMiterLimit(),e===void 0&&(e=ve));var c=this.calculateLineJoinSize_(t,s,e),h=Math.max(this.radius_,this.radius2_||0),p=Math.ceil(2*h+c);return{strokeStyle:a,strokeWidth:s,size:p,lineDash:i,lineDashOffset:o,lineJoin:t,miterLimit:e}},r.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},r.prototype.draw_=function(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var o=this.fill_.getColor();o===null&&(o=Kr),e.fillStyle=Nu(o),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),i=0;if(typeof e=="string"&&(e=ya(e)),e===null?i=1:Array.isArray(e)&&(i=e.length===4?e[3]:1),i===0){var o=Object(je.a)(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},r.prototype.createPath_=function(t){var e=this.points_,i=this.radius_;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(e*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/e,c=0;c<e;c++){var h=a+c*s,p=c%2===0?i:o;t.lineTo(p*Math.cos(h),p*Math.sin(h))}t.closePath()}},r.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Kr,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r}(dS),Yy=wM,OM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TM=function(n){OM(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this,e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.setRadius=function(t){this.radius_=t,this.render()},r}(Yy),Kv=TM,bM=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(r){this.color_=r},n}(),xa=bM,CM=function(){function n(r){var t=r||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return n.prototype.clone=function(){var r=this.getColor();return new n({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(r){this.color_=r},n.prototype.setLineCap=function(r){this.lineCap_=r},n.prototype.setLineDash=function(r){this.lineDash_=r},n.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},n.prototype.setLineJoin=function(r){this.lineJoin_=r},n.prototype.setMiterLimit=function(r){this.miterLimit_=r},n.prototype.setWidth=function(r){this.width_=r},n}(),ra=CM,$d=function(){function n(r){var t=r||{};this.geometry_=null,this.geometryFunction_=pS,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return n.prototype.clone=function(){var r=this.getGeometry();return r&&typeof r=="object"&&(r=r.clone()),new n({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(r){this.renderer_=r},n.prototype.setHitDetectionRenderer=function(r){this.hitDetectionRenderer_=r},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(r){this.fill_=r},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(r){this.image_=r},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(r){this.text_=r},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(r){typeof r=="function"?this.geometryFunction_=r:typeof r=="string"?this.geometryFunction_=function(t){return t.get(r)}:r?r!==void 0&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=pS,this.geometry_=r},n.prototype.setZIndex=function(r){this.zIndex_=r},n}();function AM(n){var r;if(typeof n=="function")r=n;else{var t;if(Array.isArray(n))t=n;else{qt(typeof n.getZIndex=="function",41);var e=n;t=[e]}r=function(){return t}}return r}var $1=null;function LM(n,r){if(!$1){var t=new xa({color:"rgba(255,255,255,0.4)"}),e=new ra({color:"#3399CC",width:1.25});$1=[new $d({image:new Kv({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return $1}function Z1(){var n={},r=[255,255,255,1],t=[0,153,255,1],e=3;return n[$t.POLYGON]=[new $d({fill:new xa({color:[255,255,255,.5]})})],n[$t.MULTI_POLYGON]=n[$t.POLYGON],n[$t.LINE_STRING]=[new $d({stroke:new ra({color:r,width:e+2})}),new $d({stroke:new ra({color:t,width:e})})],n[$t.MULTI_LINE_STRING]=n[$t.LINE_STRING],n[$t.CIRCLE]=n[$t.POLYGON].concat(n[$t.LINE_STRING]),n[$t.POINT]=[new $d({image:new Kv({radius:e*2,fill:new xa({color:t}),stroke:new ra({color:r,width:e/2})}),zIndex:1/0})],n[$t.MULTI_POINT]=n[$t.POINT],n[$t.GEOMETRY_COLLECTION]=n[$t.POLYGON].concat(n[$t.LINE_STRING],n[$t.POINT]),n}function pS(n){return n.getGeometry()}var Sa=$d,RM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vS={RENDER_ORDER:"renderOrder"},PM=function(n){RM(r,n);function r(t){var e=this,i=t||{},o=Object(Ir.a)({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,e=n.call(this,o)||this,e.declutter_=i.declutter!==void 0?i.declutter:!1,e.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(i.style),e.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,e.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,e}return r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get(vS.RENDER_ORDER)},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new hS.a(9)),this.getRenderer().renderDeclutter(t)},r.prototype.setRenderOrder=function(t){this.set(vS.RENDER_ORDER,t)},r.prototype.setStyle=function(t){this.style_=t!==void 0?t:LM,this.styleFunction_=t===null?void 0:AM(this.style_),this.changed()},r}(E),Hy=PM,$v={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Xy=[$v.FILL],of=[$v.STROKE],Sh=[$v.BEGIN_PATH],gS=[$v.CLOSE_PATH],Cn=$v,IM=function(){function n(){}return n.prototype.drawCustom=function(r,t,e,i){},n.prototype.drawGeometry=function(r){},n.prototype.setStyle=function(r){},n.prototype.drawCircle=function(r,t){},n.prototype.drawFeature=function(r,t){},n.prototype.drawGeometryCollection=function(r,t){},n.prototype.drawLineString=function(r,t){},n.prototype.drawMultiLineString=function(r,t){},n.prototype.drawMultiPoint=function(r,t){},n.prototype.drawMultiPolygon=function(r,t){},n.prototype.drawPoint=function(r,t){},n.prototype.drawPolygon=function(r,t){},n.prototype.drawText=function(r,t){},n.prototype.setFillStrokeStyle=function(r,t){},n.prototype.setImageStyle=function(r,t){},n.prototype.setTextStyle=function(r,t){},n}(),yS=IM,MM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),NM=function(n){MM(r,n);function r(t,e,i,o){var a=n.call(this)||this;return a.tolerance=t,a.maxExtent=e,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return r.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(i){return i*e})},r.prototype.appendFlatPointCoordinates=function(t,e){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,c=0,h=t.length;c<h;c+=e)o[0]=t[c],o[1]=t[c+1],Jt(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},r.prototype.appendFlatLineCoordinates=function(t,e,i,o,a,s){var c=this.coordinates,h=c.length,p=this.getBufferedMaxExtent();s&&(e+=o);var m=t[e],w=t[e+1],R=this.tmpCoordinate_,M=!0,U,Z,lt;for(U=e+o;U<i;U+=o)R[0]=t[U],R[1]=t[U+1],lt=He(p,R),lt!==Z?(M&&(c[h++]=m,c[h++]=w,M=!1),c[h++]=R[0],c[h++]=R[1]):lt===Er.INTERSECTING?(c[h++]=R[0],c[h++]=R[1],M=!1):M=!0,m=R[0],w=R[1],Z=lt;return(a&&M||U===e+o)&&(c[h++]=m,c[h++]=w),h},r.prototype.drawCustomCoordinates_=function(t,e,i,o,a){for(var s=0,c=i.length;s<c;++s){var h=i[s],p=this.appendFlatLineCoordinates(t,e,h,o,!1,!1);a.push(p),e=h}return e},r.prototype.drawCustom=function(t,e,i,o){this.beginGeometry(t,e);var a=t.getType(),s=t.getStride(),c=this.coordinates.length,h,p,m,w,R;switch(a){case $t.MULTI_POLYGON:h=t.getOrientedFlatCoordinates(),w=[];var M=t.getEndss();R=0;for(var U=0,Z=M.length;U<Z;++U){var lt=[];R=this.drawCustomCoordinates_(h,R,M[U],s,lt),w.push(lt)}this.instructions.push([Cn.CUSTOM,c,w,t,i,Za]),this.hitDetectionInstructions.push([Cn.CUSTOM,c,w,t,o||i,Za]);break;case $t.POLYGON:case $t.MULTI_LINE_STRING:m=[],h=a==$t.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),R=this.drawCustomCoordinates_(h,0,t.getEnds(),s,m),this.instructions.push([Cn.CUSTOM,c,m,t,i,fo]),this.hitDetectionInstructions.push([Cn.CUSTOM,c,m,t,o||i,fo]);break;case $t.LINE_STRING:case $t.CIRCLE:h=t.getFlatCoordinates(),p=this.appendFlatLineCoordinates(h,0,h.length,s,!1,!1),this.instructions.push([Cn.CUSTOM,c,p,t,i,Qi]),this.hitDetectionInstructions.push([Cn.CUSTOM,c,p,t,o||i,Qi]);break;case $t.MULTI_POINT:h=t.getFlatCoordinates(),p=this.appendFlatPointCoordinates(h,s),p>c&&(this.instructions.push([Cn.CUSTOM,c,p,t,i,Qi]),this.hitDetectionInstructions.push([Cn.CUSTOM,c,p,t,o||i,Qi]));break;case $t.POINT:h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),p=this.coordinates.length,this.instructions.push([Cn.CUSTOM,c,p,t,i]),this.hitDetectionInstructions.push([Cn.CUSTOM,c,p,t,o||i]);break}this.endGeometry(e)},r.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Cn.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Cn.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,i=t.length,o,a,s=-1;for(e=0;e<i;++e)o=t[e],a=o[0],a==Cn.END_GEOMETRY?s=e:a==Cn.BEGIN_GEOMETRY&&(o[2]=e,Object(br.j)(this.hitDetectionInstructions,s,e),s=-1)},r.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var o=t.getColor();i.fillStyle=Nu(o||Kr)}else i.fillStyle=void 0;if(e){var a=e.getColor();i.strokeStyle=Nu(a||be);var s=e.getLineCap();i.lineCap=s!==void 0?s:ft;var c=e.getLineDash();i.lineDash=c?c.slice():Ft;var h=e.getLineDashOffset();i.lineDashOffset=h||Kt;var p=e.getLineJoin();i.lineJoin=p!==void 0?p:fe;var m=e.getWidth();i.lineWidth=m!==void 0?m:yr;var w=e.getMiterLimit();i.miterLimit=w!==void 0?w:ve,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},r.prototype.createFill=function(t){var e=t.fillStyle,i=[Cn.SET_FILL_STYLE,e];return typeof e!="string"&&i.push(!0),i},r.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},r.prototype.createStroke=function(t){return[Cn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(t,e){var i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)},r.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,o=t.lineCap,a=t.lineDash,s=t.lineDashOffset,c=t.lineJoin,h=t.lineWidth,p=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=o||a!=t.currentLineDash&&!Object(br.b)(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=c||t.currentLineWidth!=h||t.currentMiterLimit!=p)&&(i!==void 0&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=o,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=c,t.currentLineWidth=h,t.currentMiterLimit=p)},r.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Cn.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},r.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Wt(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ct(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},r}(yS),Zv=NM,FM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jM=function(n){FM(r,n);function r(t,e,i,o){var a=n.call(this,t,e,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return r.prototype.drawPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Cn.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Cn.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.drawMultiPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Cn.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Cn.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},r.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),o=t.getSize(),a=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),c=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=c[0]*this.imagePixelRatio_,this.originY_=c[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=e},r}(Zv),DM=jM,BM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),GM=function(n){BM(r,n);function r(t,e,i,o){return n.call(this,t,e,i,o)||this}return r.prototype.drawFlatCoordinates_=function(t,e,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,i,o,!1,!1),c=[Cn.MOVE_TO_LINE_TO,a,s];return this.instructions.push(c),this.hitDetectionInstructions.push(c),i},r.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Cn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Ft,Kt],Sh);var s=t.getFlatCoordinates(),c=t.getStride();this.drawFlatCoordinates_(s,0,s.length,c),this.hitDetectionInstructions.push(of),this.endGeometry(e)}},r.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Cn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Sh);for(var s=t.getEnds(),c=t.getFlatCoordinates(),h=t.getStride(),p=0,m=0,w=s.length;m<w;++m)p=this.drawFlatCoordinates_(c,p,s[m],h);this.hitDetectionInstructions.push(of),this.endGeometry(e)}},r.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(of),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},r.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(of),t.lastStroke=this.coordinates.length),t.lastStroke=0,n.prototype.applyStroke.call(this,t),this.instructions.push(Sh)},r}(Zv),UM=GM,kM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zM=function(n){kM(r,n);function r(t,e,i,o){return n.call(this,t,e,i,o)||this}return r.prototype.drawFlatCoordinatess_=function(t,e,i,o){var a=this.state,s=a.fillStyle!==void 0,c=a.strokeStyle!==void 0,h=i.length;this.instructions.push(Sh),this.hitDetectionInstructions.push(Sh);for(var p=0;p<h;++p){var m=i[p],w=this.coordinates.length,R=this.appendFlatLineCoordinates(t,e,m,o,!0,!c),M=[Cn.MOVE_TO_LINE_TO,w,R];this.instructions.push(M),this.hitDetectionInstructions.push(M),c&&(this.instructions.push(gS),this.hitDetectionInstructions.push(gS)),e=m}return s&&(this.instructions.push(Xy),this.hitDetectionInstructions.push(Xy)),c&&(this.instructions.push(of),this.hitDetectionInstructions.push(of)),e},r.prototype.drawCircle=function(t,e){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Cn.SET_FILL_STYLE,Kr]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Cn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getFlatCoordinates(),c=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,c,!1,!1);var p=[Cn.CIRCLE,h];this.instructions.push(Sh,p),this.hitDetectionInstructions.push(Sh,p),i.fillStyle!==void 0&&(this.instructions.push(Xy),this.hitDetectionInstructions.push(Xy)),i.strokeStyle!==void 0&&(this.instructions.push(of),this.hitDetectionInstructions.push(of)),this.endGeometry(e)}},r.prototype.drawPolygon=function(t,e){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Cn.SET_FILL_STYLE,Kr]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Cn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=t.getEnds(),c=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(c,0,s,h),this.endGeometry(e)}},r.prototype.drawMultiPolygon=function(t,e){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Cn.SET_FILL_STYLE,Kr]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Cn.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=t.getEndss(),c=t.getOrientedFlatCoordinates(),h=t.getStride(),p=0,m=0,w=s.length;m<w;++m)p=this.drawFlatCoordinatess_(c,p,s[m],h);this.endGeometry(e)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var e=this.coordinates,i=0,o=e.length;i<o;++i)e[i]=$n(e[i],t);return n.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;e!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},r}(Zv),mS=zM,_S={POINT:"point",LINE:"line"};function VM(n,r,t,e,i){var o=t,a=t,s=0,c=0,h=t,p,m,w,R,M,U,Z,lt,pt,xt;for(m=t;m<e;m+=i){var ht=r[m],Vt=r[m+1];M!==void 0&&(pt=ht-M,xt=Vt-U,R=Math.sqrt(pt*pt+xt*xt),Z!==void 0&&(c+=w,p=Math.acos((Z*pt+lt*xt)/(w*R)),p>n&&(c>s&&(s=c,o=h,a=m),c=0,h=m-i)),w=R,Z=pt,lt=xt),M=ht,U=Vt}return c+=R,c>s?[h,m]:[o,a]}var WM=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ky={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},YM=function(n){WM(r,n);function r(t,e,i,o){var a=n.call(this,t,e,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return r.prototype.finish=function(){var t=n.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},r.prototype.drawText=function(t,e){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,c=s.length,h=t.getType(),p=null,m=t.getStride();if(a.placement===_S.LINE&&(h==$t.LINE_STRING||h==$t.MULTI_LINE_STRING||h==$t.POLYGON||h==$t.MULTI_POLYGON)){if(!vi(this.getBufferedMaxExtent(),t.getExtent()))return;var w=void 0;if(p=t.getFlatCoordinates(),h==$t.LINE_STRING)w=[p.length];else if(h==$t.MULTI_LINE_STRING)w=t.getEnds();else if(h==$t.POLYGON)w=t.getEnds().slice(0,1);else if(h==$t.MULTI_POLYGON){var R=t.getEndss();w=[];for(var M=0,U=R.length;M<U;++M)w.push(R[M][0])}this.beginGeometry(t,e);for(var Z=a.textAlign,lt=0,pt=void 0,xt=0,ht=w.length;xt<ht;++xt){if(Z==null){var Vt=VM(a.maxAngle,p,lt,w[xt],m);lt=Vt[0],pt=Vt[1]}else pt=w[xt];for(var M=lt;M<pt;M+=m)s.push(p[M],p[M+1]);var kt=s.length;lt=w[xt],this.drawChars_(c,kt),c=kt}this.endGeometry(e)}else{var Zt=a.overflow?null:[];switch(h){case $t.POINT:case $t.MULTI_POINT:p=t.getFlatCoordinates();break;case $t.LINE_STRING:p=t.getFlatMidpoint();break;case $t.CIRCLE:p=t.getCenter();break;case $t.MULTI_LINE_STRING:p=t.getFlatMidpoints(),m=2;break;case $t.POLYGON:p=t.getFlatInteriorPoint(),a.overflow||Zt.push(p[2]/this.resolution),m=3;break;case $t.MULTI_POLYGON:var Xt=t.getFlatInteriorPoints();p=[];for(var M=0,U=Xt.length;M<U;M+=3)a.overflow||Zt.push(Xt[M+2]/this.resolution),p.push(Xt[M],Xt[M+1]);if(p.length===0)return;m=2;break}var kt=this.appendFlatPointCoordinates(p,m);if(kt===c)return;if(Zt&&(kt-c)/2!==p.length/m){var ce=c/2;Zt=Zt.filter(function(Tn,bn){var jn=s[(ce+bn)*2]===p[bn*m]&&s[(ce+bn)*2+1]===p[bn*m+1];return jn||--ce,jn})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var Ve=a.padding;if(Ve!=mr&&(a.scale[0]<0||a.scale[1]<0)){var Ne=a.padding[0],Ee=a.padding[1],rr=a.padding[2],Rr=a.padding[3];a.scale[0]<0&&(Ee=-Ee,Rr=-Rr),a.scale[1]<0&&(Ne=-Ne,rr=-rr),Ve=[Ne,Ee,rr,Rr]}var Gr=this.pixelRatio;this.instructions.push([Cn.DRAW_IMAGE,c,kt,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,Ve==mr?mr:Ve.map(function(Tn){return Tn*Gr}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Zt]);var Hr=1/Gr;this.hitDetectionInstructions.push([Cn.DRAW_IMAGE,c,kt,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Hr,Hr],NaN,this.declutterImageWithText_,Ve,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,Zt]),this.endGeometry(e)}}},r.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:e.font,textAlign:e.textAlign||Pe,textBaseline:e.textBaseline||Ie,scale:e.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},r.prototype.drawChars_=function(t,e){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,c=this.fillKey_;this.saveTextStates_();var h=this.pixelRatio,p=Ky[o.textBaseline],m=this.textOffsetY_*h,w=this.text_,R=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Cn.DRAW_CHARS,t,e,p,o.overflow,c,o.maxAngle,h,m,a,R*h,w,s,1]),this.hitDetectionInstructions.push([Cn.DRAW_CHARS,t,e,p,o.overflow,c,o.maxAngle,1,m,a,R,w,s,1/h])},r.prototype.setTextStyle=function(t,e){var i,o,a;if(!t)this.text_="";else{var s=t.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Nu(s.getColor()||Kr)):(o=null,this.textFillState_=o);var c=t.getStroke();if(!c)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var h=c.getLineDash(),p=c.getLineDashOffset(),m=c.getWidth(),w=c.getMiterLimit();a.lineCap=c.getLineCap()||ft,a.lineDash=h?h.slice():Ft,a.lineDashOffset=p===void 0?Kt:p,a.lineJoin=c.getLineJoin()||fe,a.lineWidth=m===void 0?yr:m,a.miterLimit=w===void 0?ve:w,a.strokeStyle=Nu(c.getColor()||be)}i=this.textState_;var R=t.getFont()||Je;Un(R);var M=t.getScaleArray();i.overflow=t.getOverflow(),i.font=R,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||Ie,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||mr,i.scale=M===void 0?[1,1]:M;var U=t.getOffsetX(),Z=t.getOffsetY(),lt=t.getRotateWithView(),pt=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=U===void 0?0:U,this.textOffsetY_=Z===void 0?0:Z,this.textRotateWithView_=lt===void 0?!1:lt,this.textRotation_=pt===void 0?0:pt,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:Object(ct.c)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+Object(ct.c)(o.fillStyle):""}this.declutterImageWithText_=e},r}(Zv),HM=YM,XM={Circle:mS,Default:Zv,Image:DM,LineString:UM,Polygon:mS,Text:HM},KM=function(){function n(r,t,e,i){this.tolerance_=r,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=e,this.buildersByZIndex_={}}return n.prototype.finish=function(){var r={};for(var t in this.buildersByZIndex_){r[t]=r[t]||{};var e=this.buildersByZIndex_[t];for(var i in e){var o=e[i].finish();r[t][i]=o}}return r},n.prototype.getBuilder=function(r,t){var e=r!==void 0?r.toString():"0",i=this.buildersByZIndex_[e];i===void 0&&(i={},this.buildersByZIndex_[e]=i);var o=i[t];if(o===void 0){var a=XM[t];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=o}return o},n}(),$y=KM,ei={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function $M(n,r,t,e,i,o,a,s,c,h,p,m){var w=n[r],R=n[r+1],M=0,U=0,Z=0,lt=0;function pt(){M=w,U=R,r+=e,w=n[r],R=n[r+1],lt+=Z,Z=Math.sqrt((w-M)*(w-M)+(R-U)*(R-U))}do pt();while(r<t-e&&lt+Z<o);for(var xt=Z===0?0:(o-lt)/Z,ht=sl(M,w,xt),Vt=sl(U,R,xt),kt=r-e,Zt=lt,Xt=o+s*c(h,i,p);r<t-e&&lt+Z<Xt;)pt();xt=Z===0?0:(Xt-lt)/Z;var ce=sl(M,w,xt),Ve=sl(U,R,xt),Ne;if(m){var Ee=[ht,Vt,ce,Ve];xu(Ee,0,4,2,m,Ee,Ee),Ne=Ee[0]>Ee[2]}else Ne=ht>ce;var rr=Math.PI,Rr=[],Gr=kt+e===r;r=kt,Z=0,lt=Zt,w=n[r],R=n[r+1];var Hr;if(Gr){pt(),Hr=Math.atan2(R-U,w-M),Ne&&(Hr+=Hr>0?-rr:rr);var Jr=(ce+ht)/2,Tn=(Ve+Vt)/2;return Rr[0]=[Jr,Tn,(Xt-o)/2,Hr,i],Rr}for(var bn=0,jn=i.length;bn<jn;){pt();var Dn=Math.atan2(R-U,w-M);if(Ne&&(Dn+=Dn>0?-rr:rr),Hr!==void 0){var ur=Dn-Hr;if(ur+=ur>rr?-2*rr:ur<-rr?2*rr:0,Math.abs(ur)>a)return null}Hr=Dn;for(var Wo=bn,Wn=0;bn<jn;++bn){var Zi=Ne?jn-bn-1:bn,Mo=s*c(h,i[Zi],p);if(r+e<t&&lt+Z<o+Wn+Mo/2)break;Wn+=Mo}if(bn!==Wo){var qo=Ne?i.substring(jn-Wo,jn-bn):i.substring(Wo,bn);xt=Z===0?0:(o+Wn/2-lt)/Z;var Jr=sl(M,w,xt),Tn=sl(U,R,xt);Rr.push([Jr,Tn,Wn/2,Dn,qo]),o+=Wn}}return Rr}function ES(n,r,t,e){for(var i=n[r],o=n[r+1],a=0,s=r+e;s<t;s+=e){var c=n[s],h=n[s+1];a+=Math.sqrt((c-i)*(c-i)+(h-o)*(h-o)),i=c,o=h}return a}var Zd=et(),af=[],ac=[],sc=[],sf=[];function xS(n){return n[3].declutterBox}var ZM=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function SS(n,r){return(r==="start"||r==="end")&&!ZM.test(n)&&(r=r==="start"?"left":"right"),Ky[r]}var qM=function(){function n(r,t,e,i){this.overlaps=e,this.pixelRatio=t,this.resolution=r,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Q(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(r,t,e,i){var o=r+t+e+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=e?this.fillStates[e]:null,c=this.textStates[t],h=this.pixelRatio,p=[c.scale[0]*h,c.scale[1]*h],m=SS(r,c.textAlign||Pe),w=i&&a.lineWidth?a.lineWidth:0,R=r.split(`
`),M=R.length,U=[],Z=jr(c.font,R,U),lt=tn(c.font),pt=lt*M,xt=Z+w,ht=[],Vt=(xt+2)*p[0],kt=(pt+w)*p[1],Zt={width:Vt<0?Math.floor(Vt):Math.ceil(Vt),height:kt<0?Math.floor(kt):Math.ceil(kt),contextInstructions:ht};if((p[0]!=1||p[1]!=1)&&ht.push("scale",p),ht.push("font",c.font),i){ht.push("strokeStyle",a.strokeStyle),ht.push("lineWidth",w),ht.push("lineCap",a.lineCap),ht.push("lineJoin",a.lineJoin),ht.push("miterLimit",a.miterLimit);var Xt=jt.g?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;Xt.prototype.setLineDash&&(ht.push("setLineDash",[a.lineDash]),ht.push("lineDashOffset",a.lineDashOffset))}e&&ht.push("fillStyle",s.fillStyle),ht.push("textBaseline","middle"),ht.push("textAlign","center");var ce=.5-m,Ve=m*xt+ce*w,Ne;if(i)for(Ne=0;Ne<M;++Ne)ht.push("strokeText",[R[Ne],Ve+ce*U[Ne],.5*(w+lt)+Ne*lt]);if(e)for(Ne=0;Ne<M;++Ne)ht.push("fillText",[R[Ne],Ve+ce*U[Ne],.5*(w+lt)+Ne*lt]);return this.labels_[o]=Zt,Zt},n.prototype.replayTextBackground_=function(r,t,e,i,o,a,s){r.beginPath(),r.moveTo.apply(r,t),r.lineTo.apply(r,e),r.lineTo.apply(r,i),r.lineTo.apply(r,o),r.lineTo.apply(r,t),a&&(this.alignFill_=a[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(r,t,e,i,o,a,s,c,h,p,m,w,R,M,U,Z){s*=w[0],c*=w[1];var lt=e-s,pt=i-c,xt=o+h>r?r-h:o,ht=a+p>t?t-p:a,Vt=M[3]+xt*w[0]+M[1],kt=M[0]+ht*w[1]+M[2],Zt=lt-M[3],Xt=pt-M[0];(U||m!==0)&&(af[0]=Zt,sf[0]=Zt,af[1]=Xt,ac[1]=Xt,ac[0]=Zt+Vt,sc[0]=ac[0],sc[1]=Xt+kt,sf[1]=sc[1]);var ce;return m!==0?(ce=Te(Q(),e,i,1,1,m,-e,-i),Me(ce,af),Me(ce,ac),Me(ce,sc),Me(ce,sf),z(Math.min(af[0],ac[0],sc[0],sf[0]),Math.min(af[1],ac[1],sc[1],sf[1]),Math.max(af[0],ac[0],sc[0],sf[0]),Math.max(af[1],ac[1],sc[1],sf[1]),Zd)):z(Math.min(Zt,Zt+Vt),Math.min(Xt,Xt+kt),Math.max(Zt,Zt+Vt),Math.max(Xt,Xt+kt),Zd),R&&(lt=Math.round(lt),pt=Math.round(pt)),{drawImageX:lt,drawImageY:pt,drawImageW:xt,drawImageH:ht,originX:h,originY:p,declutterBox:{minX:Zd[0],minY:Zd[1],maxX:Zd[2],maxY:Zd[3],value:Z},canvasTransform:ce,scale:w}},n.prototype.replayImageOrLabel_=function(r,t,e,i,o,a,s){var c=!!(a||s),h=i.declutterBox,p=r.canvas,m=s?s[2]*i.scale[0]/2:0,w=h.minX-m<=p.width/t&&h.maxX+m>=0&&h.minY-m<=p.height/t&&h.maxY+m>=0;return w&&(c&&this.replayTextBackground_(r,af,ac,sc,sf,a,s),ln(r,i.canvasTransform,o,e,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(r){if(this.alignFill_){var t=Me(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;r.save(),r.translate(t[0]%e,t[1]%e),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},n.prototype.setStrokeStyle_=function(r,t){r.strokeStyle=t[1],r.lineWidth=t[2],r.lineCap=t[3],r.lineJoin=t[4],r.miterLimit=t[5],r.setLineDash&&(r.lineDashOffset=t[7],r.setLineDash(t[6]))},n.prototype.drawLabelWithPointPlacement_=function(r,t,e,i){var o=this.textStates[t],a=this.createLabel(r,t,i,e),s=this.strokeStates[e],c=this.pixelRatio,h=SS(r,o.textAlign||Pe),p=Ky[o.textBaseline||Ie],m=s&&s.lineWidth?s.lineWidth:0,w=a.width/c-2*o.scale[0],R=h*w+2*(.5-h)*m,M=p*a.height/c+2*(.5-p)*m;return{label:a,anchorX:R,anchorY:M}},n.prototype.execute_=function(r,t,e,i,o,a,s,c){var h;this.pixelCoordinates_&&Object(br.b)(e,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=vl(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Ye(this.renderedTransform_,e));for(var p=0,m=i.length,w=0,R,M,U,Z,lt,pt,xt,ht,Vt,kt,Zt,Xt,ce=0,Ve=0,Ne=null,Ee=null,rr=this.coordinateCache_,Rr=this.viewRotation_,Gr=Math.round(Math.atan2(-e[1],e[0])*1e12)/1e12,Hr={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Rr},Jr=this.instructions!=i||this.overlaps?0:200,Tn,bn,jn,Dn;p<m;){var ur=i[p],Wo=ur[0];switch(Wo){case Cn.BEGIN_GEOMETRY:Tn=ur[1],Dn=ur[3],Tn.getGeometry()?s!==void 0&&!vi(s,Dn.getExtent())?p=ur[2]+1:++p:p=ur[2];break;case Cn.BEGIN_PATH:ce>Jr&&(this.fill_(r),ce=0),Ve>Jr&&(r.stroke(),Ve=0),!ce&&!Ve&&(r.beginPath(),Z=NaN,lt=NaN),++p;break;case Cn.CIRCLE:w=ur[1];var Wn=h[w],Zi=h[w+1],Mo=h[w+2],qo=h[w+3],Yo=Mo-Wn,oo=qo-Zi,xn=Math.sqrt(Yo*Yo+oo*oo);r.moveTo(Wn+xn,Zi),r.arc(Wn,Zi,xn,0,2*Math.PI,!0),++p;break;case Cn.CLOSE_PATH:r.closePath(),++p;break;case Cn.CUSTOM:w=ur[1],R=ur[2];var yn=ur[3],No=ur[4],au=ur.length==6?ur[5]:void 0;Hr.geometry=yn,Hr.feature=Tn,p in rr||(rr[p]=[]);var Uu=rr[p];au?au(h,w,R,2,Uu):(Uu[0]=h[w],Uu[1]=h[w+1],Uu.length=2),No(Uu,Hr),++p;break;case Cn.DRAW_IMAGE:w=ur[1],R=ur[2],ht=ur[3],M=ur[4],U=ur[5];var _f=ur[6],jh=ur[7],Dh=ur[8],dg=ur[9],vc=ur[10],pg=ur[11],H0=ur[12],gp=ur[13],Ef=ur[14];if(!ht&&ur.length>=19){Vt=ur[18],kt=ur[19],Zt=ur[20],Xt=ur[21];var yp=this.drawLabelWithPointPlacement_(Vt,kt,Zt,Xt);ht=yp.label,ur[3]=ht;var p5=ur[22];M=(yp.anchorX-p5)*this.pixelRatio,ur[4]=M;var X0=ur[23];U=(yp.anchorY-X0)*this.pixelRatio,ur[5]=U,_f=ht.height,ur[6]=_f,gp=ht.width,ur[13]=gp}var vg=void 0;ur.length>24&&(vg=ur[24]);var xf=void 0,gc=void 0,Bh=void 0;ur.length>16?(xf=ur[15],gc=ur[16],Bh=ur[17]):(xf=mr,gc=!1,Bh=!1),vc&&Gr?pg+=Rr:!vc&&!Gr&&(pg-=Rr);for(var mp=0;w<R;w+=2)if(!(vg&&vg[mp++]<gp/this.pixelRatio)){var su=this.calculateImageOrLabelDimensions_(ht.width,ht.height,h[w],h[w+1],gp,_f,M,U,Dh,dg,pg,H0,o,xf,gc||Bh,Tn),lu=[r,t,ht,su,jh,gc?Ne:null,Bh?Ee:null],Gh=void 0,_p=void 0;if(c&&Ef){var K0=R-w;if(!Ef[K0]){Ef[K0]=lu;continue}if(Gh=Ef[K0],delete Ef[K0],_p=xS(Gh),c.collides(_p))continue}c&&c.collides(su.declutterBox)||(Gh&&(c&&c.insert(_p),this.replayImageOrLabel_.apply(this,Gh)),c&&c.insert(su.declutterBox),this.replayImageOrLabel_.apply(this,lu))}++p;break;case Cn.DRAW_CHARS:var JO=ur[1],QO=ur[2],v5=ur[3],pz=ur[4];Xt=ur[5];var vz=ur[6],tT=ur[7],eT=ur[8];Zt=ur[9];var g5=ur[10];Vt=ur[11],kt=ur[12];var rT=[ur[13],ur[13]],y5=this.textStates[kt],gg=y5.font,yg=[y5.scale[0]*tT,y5.scale[1]*tT],mg=void 0;gg in this.widths_?mg=this.widths_[gg]:(mg={},this.widths_[gg]=mg);var nT=ES(h,JO,QO,2),iT=Math.abs(yg[0])*kr(gg,Vt,mg);if(pz||iT<=nT){var gz=this.textStates[kt].textAlign,yz=(nT-iT)*Ky[gz],_g=$M(h,JO,QO,2,Vt,yz,vz,Math.abs(yg[0]),kr,gg,mg,Gr?0:this.viewRotation_);t:if(_g){var Eg=[],Sf=void 0,$0=void 0,Z0=void 0,As=void 0,Pl=void 0;if(Zt)for(Sf=0,$0=_g.length;Sf<$0;++Sf){Pl=_g[Sf],Z0=Pl[4],As=this.createLabel(Z0,kt,"",Zt),M=Pl[2]+(yg[0]<0?-g5:g5),U=v5*As.height+(.5-v5)*2*g5*yg[1]/yg[0]-eT;var su=this.calculateImageOrLabelDimensions_(As.width,As.height,Pl[0],Pl[1],As.width,As.height,M,U,0,0,Pl[3],rT,!1,mr,!1,Tn);if(c&&c.collides(su.declutterBox))break t;Eg.push([r,t,As,su,1,null,null])}if(Xt)for(Sf=0,$0=_g.length;Sf<$0;++Sf){Pl=_g[Sf],Z0=Pl[4],As=this.createLabel(Z0,kt,Xt,""),M=Pl[2],U=v5*As.height-eT;var su=this.calculateImageOrLabelDimensions_(As.width,As.height,Pl[0],Pl[1],As.width,As.height,M,U,0,0,Pl[3],rT,!1,mr,!1,Tn);if(c&&c.collides(su.declutterBox))break t;Eg.push([r,t,As,su,1,null,null])}c&&c.load(Eg.map(xS));for(var m5=0,mz=Eg.length;m5<mz;++m5)this.replayImageOrLabel_.apply(this,Eg[m5])}}++p;break;case Cn.END_GEOMETRY:if(a!==void 0){Tn=ur[1];var oT=a(Tn,Dn);if(oT)return oT}++p;break;case Cn.FILL:Jr?ce++:this.fill_(r),++p;break;case Cn.MOVE_TO_LINE_TO:for(w=ur[1],R=ur[2],bn=h[w],jn=h[w+1],pt=bn+.5|0,xt=jn+.5|0,(pt!==Z||xt!==lt)&&(r.moveTo(bn,jn),Z=pt,lt=xt),w+=2;w<R;w+=2)bn=h[w],jn=h[w+1],pt=bn+.5|0,xt=jn+.5|0,(w==R-2||pt!==Z||xt!==lt)&&(r.lineTo(bn,jn),Z=pt,lt=xt);++p;break;case Cn.SET_FILL_STYLE:Ne=ur,this.alignFill_=ur[2],ce&&(this.fill_(r),ce=0,Ve&&(r.stroke(),Ve=0)),r.fillStyle=ur[1],++p;break;case Cn.SET_STROKE_STYLE:Ee=ur,Ve&&(r.stroke(),Ve=0),this.setStrokeStyle_(r,ur),++p;break;case Cn.STROKE:Jr?Ve++:r.stroke(),++p;break;default:++p;break}}ce&&this.fill_(r),Ve&&r.stroke()},n.prototype.execute=function(r,t,e,i,o,a){this.viewRotation_=i,this.execute_(r,t,e,this.instructions,o,void 0,void 0,a)},n.prototype.executeHitDetection=function(r,t,e,i,o){return this.viewRotation_=e,this.execute_(r,1,t,this.hitDetectionInstructions,!0,i,o)},n}(),JM=qM,q1=[ei.POLYGON,ei.CIRCLE,ei.LINE_STRING,ei.IMAGE,ei.TEXT,ei.DEFAULT],QM=function(){function n(r,t,e,i,o,a){this.maxExtent_=r,this.overlaps_=i,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Q(),this.createExecutors_(o)}return n.prototype.clip=function(r,t){var e=this.getClipCoords(t);r.beginPath(),r.moveTo(e[0],e[1]),r.lineTo(e[2],e[3]),r.lineTo(e[4],e[5]),r.lineTo(e[6],e[7]),r.clip()},n.prototype.createExecutors_=function(r){for(var t in r){var e=this.executorsByZIndex_[t];e===void 0&&(e={},this.executorsByZIndex_[t]=e);var i=r[t];for(var o in i){var a=i[o];e[o]=new JM(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},n.prototype.hasExecutors=function(r){for(var t in this.executorsByZIndex_)for(var e=this.executorsByZIndex_[t],i=0,o=r.length;i<o;++i)if(r[i]in e)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(r,t,e,i,o,a){i=Math.round(i);var s=i*2+1,c=Te(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-e,-r[0],-r[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Object(je.a)(s,s));var p=this.hitDetectionContext_;p.canvas.width!==s||p.canvas.height!==s?(p.canvas.width=s,p.canvas.height=s):h||p.clearRect(0,0,s,s);var m;this.renderBuffer_!==void 0&&(m=et(),Ln(m,r),Ct(m,t*(this.renderBuffer_+i),m));var w=tN(i),R;function M(kt,Zt){for(var Xt=p.getImageData(0,0,s,s).data,ce=0,Ve=w.length;ce<Ve;ce++)if(Xt[w[ce]]>0){if(!a||R!==ei.IMAGE&&R!==ei.TEXT||a.indexOf(kt)!==-1){var Ne=(w[ce]-3)/4,Ee=i-Ne%s,rr=i-(Ne/s|0),Rr=o(kt,Zt,Ee*Ee+rr*rr);if(Rr)return Rr}p.clearRect(0,0,s,s);break}}var U=Object.keys(this.executorsByZIndex_).map(Number);U.sort(br.i);var Z,lt,pt,xt,ht;for(Z=U.length-1;Z>=0;--Z){var Vt=U[Z].toString();for(pt=this.executorsByZIndex_[Vt],lt=q1.length-1;lt>=0;--lt)if(R=q1[lt],xt=pt[R],xt!==void 0&&(ht=xt.executeHitDetection(p,c,e,M,m),ht))return ht}},n.prototype.getClipCoords=function(r){var t=this.maxExtent_;if(!t)return null;var e=t[0],i=t[1],o=t[2],a=t[3],s=[e,i,e,a,o,a,o,i];return vl(s,0,8,2,r,s),s},n.prototype.isEmpty=function(){return Object(Ir.d)(this.executorsByZIndex_)},n.prototype.execute=function(r,t,e,i,o,a,s){var c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(br.i),this.maxExtent_&&(r.save(),this.clip(r,e));var h=a||q1,p,m,w,R,M,U;for(s&&c.reverse(),p=0,m=c.length;p<m;++p){var Z=c[p].toString();for(M=this.executorsByZIndex_[Z],w=0,R=h.length;w<R;++w){var lt=h[w];U=M[lt],U!==void 0&&U.execute(r,t,e,i,o,s)}}this.maxExtent_&&r.restore()},n}(),J1={};function tN(n){if(J1[n]!==void 0)return J1[n];for(var r=n*2+1,t=n*n,e=new Array(t+1),i=0;i<=n;++i)for(var o=0;o<=n;++o){var a=i*i+o*o;if(a>t)break;var s=e[a];s||(s=[],e[a]=s),s.push(((n+i)*r+(n+o))*4+3),i>0&&s.push(((n-i)*r+(n+o))*4+3),o>0&&(s.push(((n+i)*r+(n-o))*4+3),i>0&&s.push(((n-i)*r+(n-o))*4+3))}for(var c=[],i=0,h=e.length;i<h;++i)e[i]&&c.push.apply(c,e[i]);return J1[n]=c,c}var Zy=QM,eN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rN=function(n){eN(r,n);function r(t,e,i,o,a,s,c){var h=n.call(this)||this;return h.context_=t,h.pixelRatio_=e,h.extent_=i,h.transform_=o,h.viewRotation_=a,h.squaredTolerance_=s,h.userTransform_=c,h.contextFillState_=null,h.contextStrokeState_=null,h.contextTextState_=null,h.fillState_=null,h.strokeState_=null,h.image_=null,h.imageAnchorX_=0,h.imageAnchorY_=0,h.imageHeight_=0,h.imageOpacity_=0,h.imageOriginX_=0,h.imageOriginY_=0,h.imageRotateWithView_=!1,h.imageRotation_=0,h.imageScale_=[0,0],h.imageWidth_=0,h.text_="",h.textOffsetX_=0,h.textOffsetY_=0,h.textRotateWithView_=!1,h.textRotation_=0,h.textScale_=[0,0],h.textFillState_=null,h.textStrokeState_=null,h.textState_=null,h.pixelCoordinates_=[],h.tmpLocalTransform_=Q(),h}return r.prototype.drawImages_=function(t,e,i,o){if(!!this.image_){var a=vl(t,e,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,c=this.tmpLocalTransform_,h=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=h*this.imageOpacity_);var p=this.imageRotation_;this.imageRotateWithView_&&(p+=this.viewRotation_);for(var m=0,w=a.length;m<w;m+=2){var R=a[m]-this.imageAnchorX_,M=a[m+1]-this.imageAnchorY_;if(p!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var U=R+this.imageAnchorX_,Z=M+this.imageAnchorY_;Te(c,U,Z,1,1,p,-U,-Z),s.setTransform.apply(s,c),s.translate(U,Z),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,R,M,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=h)}},r.prototype.drawText_=function(t,e,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=vl(t,e,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,c=this.textRotation_;for(this.textRotateWithView_&&(c+=this.viewRotation_);e<i;e+=o){var h=a[e]+this.textOffsetX_,p=a[e+1]+this.textOffsetY_;if(c!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var m=Te(this.tmpLocalTransform_,h,p,1,1,c,-h,-p);s.setTransform.apply(s,m),s.translate(h,p),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,h,p),this.textFillState_&&s.fillText(this.text_,h,p)}}},r.prototype.moveToLineTo_=function(t,e,i,o,a){var s=this.context_,c=vl(t,e,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(c[0],c[1]);var h=c.length;a&&(h-=2);for(var p=2;p<h;p+=2)s.lineTo(c[p],c[p+1]);return a&&s.closePath(),i},r.prototype.drawRings_=function(t,e,i,o){for(var a=0,s=i.length;a<s;++a)e=this.moveToLineTo_(t,e,i[a],o,!0);return e},r.prototype.drawCircle=function(t){if(!!vi(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=rc(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],o=e[3]-e[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(e[0],e[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},r.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},r.prototype.setTransform=function(t){this.transform_=t},r.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case $t.POINT:this.drawPoint(t);break;case $t.LINE_STRING:this.drawLineString(t);break;case $t.POLYGON:this.drawPolygon(t);break;case $t.MULTI_POINT:this.drawMultiPoint(t);break;case $t.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case $t.MULTI_POLYGON:this.drawMultiPolygon(t);break;case $t.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case $t.CIRCLE:this.drawCircle(t);break}},r.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);!i||!vi(this.extent_,i.getExtent())||(this.setStyle(e),this.drawGeometry(i))},r.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,o=e.length;i<o;++i)this.drawGeometry(e[i])},r.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)},r.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},r.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(!!vi(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),c=t.getStride();i.beginPath();for(var h=0,p=s.length;h<p;++h)a=this.moveToLineTo_(o,a,s[h],c,!1);i.stroke()}if(this.text_!==""){var m=t.getFlatMidpoints();this.drawText_(m,0,m.length,2)}}},r.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},r.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vi(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();e.beginPath();for(var c=0,h=a.length;c<h;++c){var p=a[c];o=this.drawRings_(i,o,p,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var m=t.getFlatInteriorPoints();this.drawText_(m,0,m.length,2)}}},r.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},r.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(br.b)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},r.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,o=t.textAlign?t.textAlign:Pe;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=o&&(i.textAlign=o,e.textAlign=o),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},r.prototype.setFillStrokeStyle=function(t,e){var i=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:Nu(o||Kr)}}if(!e)this.strokeState_=null;else{var a=e.getColor(),s=e.getLineCap(),c=e.getLineDash(),h=e.getLineDashOffset(),p=e.getLineJoin(),m=e.getWidth(),w=e.getMiterLimit(),R=c||Ft;this.strokeState_={lineCap:s!==void 0?s:ft,lineDash:this.pixelRatio_===1?R:R.map(function(M){return M*i.pixelRatio_}),lineDashOffset:(h||Kt)*this.pixelRatio_,lineJoin:p!==void 0?p:fe,lineWidth:(m!==void 0?m:yr)*this.pixelRatio_,miterLimit:w!==void 0?w:ve,strokeStyle:Nu(a||be)}}},r.prototype.setImageStyle=function(t){var e;if(!t||!(e=t.getSize())){this.image_=null;return}var i=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_},r.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var e=t.getFill();if(!e)this.textFillState_=null;else{var i=e.getColor();this.textFillState_={fillStyle:Nu(i||Kr)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),c=o.getLineDash(),h=o.getLineDashOffset(),p=o.getLineJoin(),m=o.getWidth(),w=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:ft,lineDash:c||Ft,lineDashOffset:h||Kt,lineJoin:p!==void 0?p:fe,lineWidth:m!==void 0?m:yr,miterLimit:w!==void 0?w:ve,strokeStyle:Nu(a||be)}}var R=t.getFont(),M=t.getOffsetX(),U=t.getOffsetY(),Z=t.getRotateWithView(),lt=t.getRotation(),pt=t.getScaleArray(),xt=t.getText(),ht=t.getTextAlign(),Vt=t.getTextBaseline();this.textState_={font:R!==void 0?R:Je,textAlign:ht!==void 0?ht:Pe,textBaseline:Vt!==void 0?Vt:Ie},this.text_=xt!==void 0?xt:"",this.textOffsetX_=M!==void 0?this.pixelRatio_*M:0,this.textOffsetY_=U!==void 0?this.pixelRatio_*U:0,this.textRotateWithView_=Z!==void 0?Z:!1,this.textRotation_=lt!==void 0?lt:0,this.textScale_=[this.pixelRatio_*pt[0],this.pixelRatio_*pt[1]]}},r}(yS),Q1=rN,is={FRACTION:"fraction",PIXELS:"pixels"},na={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},nN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qv=null,iN=function(n){nN(r,n);function r(t,e,i,o,a,s){var c=n.call(this)||this;return c.hitDetectionImage_=null,c.image_=t||new Image,o!==null&&(c.image_.crossOrigin=o),c.canvas_={},c.color_=s,c.unlisten_=null,c.imageState_=a,c.size_=i,c.src_=e,c.tainted_,c}return r.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===zn.LOADED){qv||(qv=Object(je.a)(1,1)),qv.drawImage(this.image_,0,0);try{qv.getImageData(0,0,1,1),this.tainted_=!1}catch{qv=null,this.tainted_=!0}}return this.tainted_===!0},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Qr.a.CHANGE)},r.prototype.handleImageError_=function(){this.imageState_=zn.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=zn.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},r.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],i=Object(je.a)(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(this.imageState_==zn.IDLE){this.imageState_=zn.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=F1(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==zn.LOADED)){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var i=e.getContext("2d");if(i.scale(t,t),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=Go(this.color_),i.fillRect(0,0,e.width/t,e.height/t),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,e.width,e.height),a=o.data,s=this.color_[0]/255,c=this.color_[1]/255,h=this.color_[2]/255,p=this.color_[3],m=0,w=a.length;m<w;m+=4)a[m]*=s,a[m+1]*=c,a[m+2]*=h,a[m+3]*=p;i.putImageData(o,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(Re.a);function oN(n,r,t,e,i,o){var a=ad.get(r,e,o);return a||(a=new iN(n,r,t,e,i,o),ad.set(r,e,o,a)),a}var aN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sN=function(n){aN(r,n);function r(t){var e=this,i=t||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,c=i.rotateWithView!==void 0?i.rotateWithView:!1;e=n.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:c})||this,e.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:na.TOP_LEFT,e.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:is.FRACTION,e.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:is.FRACTION,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var h=i.img!==void 0?i.img:null,p=i.imgSize!==void 0?i.imgSize:null,m=i.src;qt(!(m!==void 0&&h),4),qt(!h||h&&p,5),(m===void 0||m.length===0)&&h&&(m=h.src||Object(ct.c)(h)),qt(m!==void 0&&m.length>0,6);var w=i.src!==void 0?zn.IDLE:zn.LOADED;return e.color_=i.color!==void 0?ya(i.color):null,e.iconImage_=oN(h,m,p,e.crossOrigin_,w,e.color_),e.offset_=i.offset!==void 0?i.offset:[0,0],e.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:na.TOP_LEFT,e.origin_=null,e.size_=i.size!==void 0?i.size:null,e}return r.prototype.clone=function(){var t=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==is.FRACTION||this.anchorYUnits_==is.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==is.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==is.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=na.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==na.TOP_RIGHT||this.anchorOrigin_==na.BOTTOM_RIGHT)&&(t[0]=-t[0]+e[0]),(this.anchorOrigin_==na.BOTTOM_LEFT||this.anchorOrigin_==na.BOTTOM_RIGHT)&&(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var i=this.getDisplacement();return[t[0]-i[0],t[1]+i[1]]},r.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(t){return this.iconImage_.getImage(t)},r.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=na.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),(this.offsetOrigin_==na.TOP_RIGHT||this.offsetOrigin_==na.BOTTOM_RIGHT)&&(t[0]=i[0]-e[0]-t[0]),(this.offsetOrigin_==na.BOTTOM_LEFT||this.offsetOrigin_==na.BOTTOM_RIGHT)&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Qr.a.CHANGE,t)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Qr.a.CHANGE,t)},r}(dS),qy=sN,$s=.5;function wS(n,r,t,e,i,o,a){var s=n[0]*$s,c=n[1]*$s,h=Object(je.a)(s,c);h.imageSmoothingEnabled=!1;for(var p=h.canvas,m=new Q1(h,$s,i,null,a),w=t.length,R=Math.floor((256*256*256-1)/w),M={},U=1;U<=w;++U){var Z=t[U-1],lt=Z.getStyleFunction()||e;if(!!e){var pt=lt(Z,o);if(!!pt){Array.isArray(pt)||(pt=[pt]);for(var xt=U*R,ht="#"+("000000"+xt.toString(16)).slice(-6),Vt=0,kt=pt.length;Vt<kt;++Vt){var Zt=pt[Vt],Xt=Zt.getGeometryFunction()(Z);if(!(!Xt||!vi(i,Xt.getExtent()))){var ce=Zt.clone(),Ve=ce.getFill();Ve&&Ve.setColor(ht);var Ne=ce.getStroke();Ne&&(Ne.setColor(ht),Ne.setLineDash(null)),ce.setText(void 0);var Ee=Zt.getImage();if(Ee&&Ee.getOpacity()!==0){var rr=Ee.getImageSize();if(!rr)continue;var Rr=Object(je.a)(rr[0],rr[1],void 0,{alpha:!1}),Gr=Rr.canvas;Rr.fillStyle=ht,Rr.fillRect(0,0,Gr.width,Gr.height),ce.setImage(new qy({img:Gr,imgSize:rr,anchor:Ee.getAnchor(),anchorXUnits:is.PIXELS,anchorYUnits:is.PIXELS,offset:Ee.getOrigin(),opacity:1,size:Ee.getSize(),scale:Ee.getScale(),rotation:Ee.getRotation(),rotateWithView:Ee.getRotateWithView()}))}var Hr=ce.getZIndex()||0,Jr=M[Hr];Jr||(Jr={},M[Hr]=Jr,Jr[$t.POLYGON]=[],Jr[$t.CIRCLE]=[],Jr[$t.LINE_STRING]=[],Jr[$t.POINT]=[]),Jr[Xt.getType().replace("Multi","")].push(Xt,ce)}}}}}for(var Tn=Object.keys(M).map(Number).sort(br.i),U=0,bn=Tn.length;U<bn;++U){var Jr=M[Tn[U]];for(var jn in Jr)for(var Dn=Jr[jn],Vt=0,kt=Dn.length;Vt<kt;Vt+=2){m.setStyle(Dn[Vt+1]);for(var ur=0,Wo=r.length;ur<Wo;++ur)m.setTransform(r[ur]),m.drawGeometry(Dn[Vt])}}return h.getImageData(0,0,p.width,p.height)}function OS(n,r,t){var e=[];if(t){var i=Math.floor(Math.round(n[0])*$s),o=Math.floor(Math.round(n[1])*$s),a=(Fi(i,0,t.width-1)+Fi(o,0,t.height-1)*t.width)*4,s=t.data[a],c=t.data[a+1],h=t.data[a+2],p=h+256*(c+256*s),m=Math.floor((256*256*256-1)/r.length);p&&p%m===0&&e.push(r[p/m-1])}return e}var lN=.5,TS={Point:gN,LineString:dN,Polygon:mN,MultiPoint:yN,MultiLineString:pN,MultiPolygon:vN,GeometryCollection:hN,Circle:cN};function uN(n,r){return parseInt(Object(ct.c)(n),10)-parseInt(Object(ct.c)(r),10)}function bS(n,r){var t=t_(n,r);return t*t}function t_(n,r){return lN*n/r}function cN(n,r,t,e,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=n.getBuilder(t.getZIndex(),ei.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(r,e)}var c=t.getText();if(c&&c.getText()){var h=(i||n).getBuilder(t.getZIndex(),ei.TEXT);h.setTextStyle(c),h.drawText(r,e)}}function Jy(n,r,t,e,i,o,a){var s=!1,c=t.getImage();if(c){var h=c.getImageState();h==zn.LOADED||h==zn.ERROR?c.unlistenImageChange(i):(h==zn.IDLE&&c.load(),h=c.getImageState(),c.listenImageChange(i),s=!0)}return fN(n,r,t,e,o,a),s}function fN(n,r,t,e,i,o){var a=t.getGeometryFunction()(r);if(!!a){var s=a.simplifyTransformed(e,i),c=t.getRenderer();if(c)CS(n,s,t,r);else{var h=TS[s.getType()];h(n,s,t,r,o)}}}function CS(n,r,t,e){if(r.getType()==$t.GEOMETRY_COLLECTION){for(var i=r.getGeometries(),o=0,a=i.length;o<a;++o)CS(n,i[o],t,e);return}var s=n.getBuilder(t.getZIndex(),ei.DEFAULT);s.drawCustom(r,e,t.getRenderer(),t.getHitDetectionRenderer())}function hN(n,r,t,e,i){var o=r.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var c=TS[o[a].getType()];c(n,o[a],t,e,i)}}function dN(n,r,t,e,i){var o=t.getStroke();if(o){var a=n.getBuilder(t.getZIndex(),ei.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(r,e)}var s=t.getText();if(s&&s.getText()){var c=(i||n).getBuilder(t.getZIndex(),ei.TEXT);c.setTextStyle(s),c.drawText(r,e)}}function pN(n,r,t,e,i){var o=t.getStroke();if(o){var a=n.getBuilder(t.getZIndex(),ei.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(r,e)}var s=t.getText();if(s&&s.getText()){var c=(i||n).getBuilder(t.getZIndex(),ei.TEXT);c.setTextStyle(s),c.drawText(r,e)}}function vN(n,r,t,e,i){var o=t.getFill(),a=t.getStroke();if(a||o){var s=n.getBuilder(t.getZIndex(),ei.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(r,e)}var c=t.getText();if(c&&c.getText()){var h=(i||n).getBuilder(t.getZIndex(),ei.TEXT);h.setTextStyle(c),h.drawText(r,e)}}function gN(n,r,t,e,i){var o=t.getImage(),a=t.getText(),s;if(i&&(n=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=zn.LOADED)return;var c=n.getBuilder(t.getZIndex(),ei.IMAGE);c.setImageStyle(o,s),c.drawPoint(r,e)}if(a&&a.getText()){var h=n.getBuilder(t.getZIndex(),ei.TEXT);h.setTextStyle(a,s),h.drawText(r,e)}}function yN(n,r,t,e,i){var o=t.getImage(),a=t.getText(),s;if(i&&(n=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=zn.LOADED)return;var c=n.getBuilder(t.getZIndex(),ei.IMAGE);c.setImageStyle(o,s),c.drawMultiPoint(r,e)}if(a&&a.getText()){var h=(i||n).getBuilder(t.getZIndex(),ei.TEXT);h.setTextStyle(a,s),h.drawText(r,e)}}function mN(n,r,t,e,i){var o=t.getFill(),a=t.getStroke();if(o||a){var s=n.getBuilder(t.getZIndex(),ei.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(r,e)}var c=t.getText();if(c&&c.getText()){var h=(i||n).getBuilder(t.getZIndex(),ei.TEXT);h.setTextStyle(c),h.drawText(r,e)}}var _N=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EN=function(n){_N(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=et(),e.wrappedRenderedExtent_=et(),e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}return r.prototype.renderWorlds=function(t,e,i){var o=e.extent,a=e.viewState,s=a.center,c=a.resolution,h=a.projection,p=a.rotation,m=h.getExtent(),w=this.getLayer().getSource(),R=e.pixelRatio,M=e.viewHints,U=!(M[si.ANIMATING]||M[si.INTERACTING]),Z=this.context,lt=Math.round(e.size[0]*R),pt=Math.round(e.size[1]*R),xt=w.getWrapX()&&h.canWrapX(),ht=xt?fn(m):null,Vt=xt?Math.ceil((o[2]-m[2])/ht)+1:1,kt=xt?Math.floor((o[0]-m[0])/ht):0;do{var Zt=this.getRenderTransform(s,c,p,R,lt,pt,kt*ht);t.execute(Z,1,Zt,p,U,void 0,i)}while(++kt<Vt)},r.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},r.prototype.renderFrame=function(t,e){var i=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];$r(this.pixelTransform,1/i,1/i),Ze(this.inversePixelTransform,this.pixelTransform);var a=_r(this.pixelTransform);this.useContainer(e,a,o.opacity,this.getBackground(t));var s=this.context,c=s.canvas,h=this.replayGroup_,p=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!p||p.isEmpty()))return null;var m=Math.round(t.size[0]*i),w=Math.round(t.size[1]*i);c.width!=m||c.height!=w?(c.width=m,c.height=w,c.style.transform!==a&&(c.style.transform=a)):this.containerReused||s.clearRect(0,0,m,w),this.preRender(s,t);var R=t.viewState;R.projection;var M=!1,U=!0;if(o.extent&&this.clipping){var Z=fa(o.extent);U=vi(Z,t.extent),M=U&&!he(Z,t.extent),M&&this.clipUnrotated(s,t,Z)}U&&this.renderWorlds(h,t),M&&s.restore(),this.postRender(s,t);var lt=or(o.opacity),pt=this.container;return lt!==pt.style.opacity&&(pt.style.opacity=lt),this.renderedRotation_!==R.rotation&&(this.renderedRotation_=R.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Me(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,c=this.renderedProjection_,h=this.wrappedRenderedExtent_,p=this.getLayer(),m=[],w=i[0]*$s,R=i[1]*$s;m.push(this.getRenderTransform(o,a,s,$s,w,R,0).slice());var M=p.getSource(),U=c.getExtent();if(M.getWrapX()&&c.canWrapX()&&!he(U,h)){for(var Z=h[0],lt=fn(U),pt=0,xt=void 0;Z<U[0];)--pt,xt=lt*pt,m.push(this.getRenderTransform(o,a,s,$s,w,R,xt).slice()),Z+=lt;for(pt=0,Z=h[2];Z>U[2];)++pt,xt=lt*pt,m.push(this.getRenderTransform(o,a,s,$s,w,R,xt).slice()),Z-=lt}this.hitDetectionImageData_=wS(i,m,this.renderedFeatures_,p.getStyleFunction(),h,a,s)}e(OS(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){var s=this;if(!!this.replayGroup_){var c=e.viewState.resolution,h=e.viewState.rotation,p=this.getLayer(),m={},w=function(U,Z,lt){var pt=Object(ct.c)(U),xt=m[pt];if(xt){if(xt!==!0&&lt<xt.distanceSq){if(lt===0)return m[pt]=!0,a.splice(a.lastIndexOf(xt),1),o(U,p,Z);xt.geometry=Z,xt.distanceSq=lt}}else{if(lt===0)return m[pt]=!0,o(U,p,Z);a.push(m[pt]={feature:U,layer:p,geometry:Z,distanceSq:lt,callback:o})}},R,M=[this.replayGroup_];return this.declutterExecutorGroup&&M.push(this.declutterExecutorGroup),M.some(function(U){return R=U.forEachFeatureAtCoordinate(t,c,h,i,w,U===s.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(function(Z){return Z.value}):null)}),R}},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(t){var e=this.getLayer(),i=e.getSource();if(!i)return!1;var o=t.viewHints[si.ANIMATING],a=t.viewHints[si.INTERACTING],s=e.getUpdateWhileAnimating(),c=e.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!c&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var h=t.extent,p=t.viewState,m=p.projection,w=p.resolution,R=t.pixelRatio,M=e.getRevision(),U=e.getRenderBuffer(),Z=e.getRenderOrder();Z===void 0&&(Z=uN);var lt=p.center.slice(),pt=Ct(h,U*w),xt=pt.slice(),ht=[pt.slice()],Vt=m.getExtent();if(i.getWrapX()&&m.canWrapX()&&!he(Vt,t.extent)){var kt=fn(Vt),Zt=Math.max(fn(pt)/2,kt);pt[0]=Vt[0]-Zt,pt[2]=Vt[2]+Zt,K(lt,m);var Xt=Ml(ht[0],m);Xt[0]<Vt[0]&&Xt[2]<Vt[2]?ht.push([Xt[0]+kt,Xt[1],Xt[2]+kt,Xt[3]]):Xt[0]>Vt[0]&&Xt[2]>Vt[2]&&ht.push([Xt[0]-kt,Xt[1],Xt[2]-kt,Xt[3]])}if(!this.dirty_&&this.renderedResolution_==w&&this.renderedRevision_==M&&this.renderedRenderOrder_==Z&&he(this.wrappedRenderedExtent_,pt))return Object(br.b)(this.renderedExtent_,xt)||(this.hitDetectionImageData_=null,this.renderedExtent_=xt),this.renderedCenter_=lt,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var ce=new $y(t_(w,R),pt,w,R),Ve;this.getLayer().getDeclutter()&&(Ve=new $y(t_(w,R),pt,w,R));for(var Ne,Ee,rr,Ee=0,rr=ht.length;Ee<rr;++Ee)i.loadFeatures(ht[Ee],w,m);var Rr=bS(w,R),Gr=function(jn){var Dn,ur=jn.getStyleFunction()||e.getStyleFunction();if(ur&&(Dn=ur(jn,w)),Dn){var Wo=this.renderFeature(jn,Rr,Dn,ce,Ne,Ve);this.dirty_=this.dirty_||Wo}}.bind(this),Hr=Bl(pt),Jr=i.getFeaturesInExtent(Hr);Z&&Jr.sort(Z);for(var Ee=0,rr=Jr.length;Ee<rr;++Ee)Gr(Jr[Ee]);this.renderedFeatures_=Jr;var Tn=ce.finish(),bn=new Zy(pt,w,R,i.getOverlaps(),Tn,e.getRenderBuffer());return Ve&&(this.declutterExecutorGroup=new Zy(pt,w,R,i.getOverlaps(),Ve.finish(),e.getRenderBuffer())),this.renderedResolution_=w,this.renderedRevision_=M,this.renderedRenderOrder_=Z,this.renderedExtent_=xt,this.wrappedRenderedExtent_=pt,this.renderedCenter_=lt,this.renderedProjection_=m,this.replayGroup_=bn,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(t,e,i,o,a,s){if(!i)return!1;var c=!1;if(Array.isArray(i))for(var h=0,p=i.length;h<p;++h)c=Jy(o,t,i[h],e,this.boundHandleStyleImageChange_,a,s)||c;else c=Jy(o,t,i,e,this.boundHandleStyleImageChange_,a,s);return c},r}(P1),xN=EN,SN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wN=function(n){SN(r,n);function r(t){return n.call(this,t)||this}return r.prototype.createRenderer=function(){return new xN(this)},r}(Hy),Fu=wN,ON={extends:Xd,name:"ol-vector-layer",setup:function(r){var t=Object(I.inject)("map"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new Fu(i)});return Object(I.watch)(i,function(){o.value.setProperties(i)}),Object(I.onMounted)(function(){t.addLayer(o.value)}),Object(I.onUnmounted)(function(){t.removeLayer(o.value)}),Object(I.provide)("vectorLayer",o),Object(I.provide)("stylable",o),{vectorLayer:o}},props:{renderBuffer:{type:Number,default:100},updateWhileAnimating:{type:Boolean,default:!1},style:{type:Function},updateWhileInteracting:{type:Boolean,default:!1}}},e_=Ae()(ON,[["render",_M]]);function TN(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var bN=function(){function n(r){this.rbush_=new hS.a(r),this.items_={}}return n.prototype.insert=function(r,t){var e={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:t};this.rbush_.insert(e),this.items_[Object(ct.c)(t)]=e},n.prototype.load=function(r,t){for(var e=new Array(t.length),i=0,o=t.length;i<o;i++){var a=r[i],s=t[i],c={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};e[i]=c,this.items_[Object(ct.c)(s)]=c}this.rbush_.load(e)},n.prototype.remove=function(r){var t=Object(ct.c)(r),e=this.items_[t];return delete this.items_[t],this.rbush_.remove(e)!==null},n.prototype.update=function(r,t){var e=this.items_[Object(ct.c)(t)],i=[e.minX,e.minY,e.maxX,e.maxY];hr(i,r)||(this.remove(t),this.insert(r,t))},n.prototype.getAll=function(){var r=this.rbush_.all();return r.map(function(t){return t.value})},n.prototype.getInExtent=function(r){var t={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},e=this.rbush_.search(t);return e.map(function(i){return i.value})},n.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},n.prototype.forEachInExtent=function(r,t){return this.forEach_(this.getInExtent(r),t)},n.prototype.forEach_=function(r,t){for(var e,i=0,o=r.length;i<o;i++)if(e=t(r[i]),e)return e;return e},n.prototype.isEmpty=function(){return Object(Ir.d)(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(r){var t=this.rbush_.toJSON();return z(t.minX,t.minY,t.maxX,t.maxY,r)},n.prototype.concat=function(r){this.rbush_.load(r.rbush_.all());for(var t in r.items_)this.items_[t]=r.items_[t]},n}(),Qy=bN,CN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AN=function(n){CN(r,n);function r(t){var e=n.call(this)||this;e.projection=an(t.projection),e.attributions_=AS(t.attributions),e.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,e.loading=!1,e.state_=t.state!==void 0?t.state:Ms.READY,e.wrapX_=t.wrapX!==void 0?t.wrapX:!1,e.interpolate_=!!t.interpolate,e.viewResolver=null,e.viewRejector=null;var i=e;return e.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),e}return r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection},r.prototype.getResolutions=function(){return Object(ct.b)()},r.prototype.getView=function(){return this.viewPromise_},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getInterpolate=function(){return this.interpolate_},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(t){this.attributions_=AS(t),this.changed()},r.prototype.setState=function(t){this.state_=t,this.changed()},r}(Oo.a);function AS(n){return n?Array.isArray(n)?function(r){return n}:typeof n=="function"?n:function(r){return[n]}:null}var t0=AN,pa={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function LS(n,r){return[[-1/0,-1/0,1/0,1/0]]}function LN(n,r){return[n]}function RN(n){return function(r,t,e){var i=n.getZForResolution(sv(t)),o=n.getTileRangeForExtentAndZ(fa(r),i),a=[],s=[i,0,0];for(s[1]=o.minX;s[1]<=o.maxX;++s[1])for(s[2]=o.minY;s[2]<=o.maxY;++s[2])a.push(Bl(n.getTileCoordExtent(s)));return a}}var ru={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},PN=!1;function IN(n,r,t,e,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof n=="function"?n(t,e,i):n,!0),r.getType()==ru.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=PN,s.onload=function(c){if(!s.status||s.status>=200&&s.status<300){var h=r.getType(),p=void 0;h==ru.JSON||h==ru.TEXT?p=s.responseText:h==ru.XML?(p=s.responseXML,p||(p=new DOMParser().parseFromString(s.responseText,"application/xml"))):h==ru.ARRAY_BUFFER&&(p=s.response),p?o(r.readFeatures(p,{extent:t,featureProjection:i}),r.readProjection(p)):a()}else a()},s.onerror=a,s.send()}function RS(n,r){return function(t,e,i,o,a){var s=this;IN(n,r,t,e,i,function(c,h){s.addFeatures(c),o!==void 0&&o(c)},a||Nt.c)}}var PS=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lf=function(n){PS(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.feature=e,o.features=i,o}return r}(ze.a),MN=function(n){PS(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{attributions:i.attributions,interpolate:!0,projection:void 0,state:Ms.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,e.on,e.once,e.un,e.loader_=Nt.c,e.format_=i.format,e.overlaps_=i.overlaps===void 0?!0:i.overlaps,e.url_=i.url,i.loader!==void 0?e.loader_=i.loader:e.url_!==void 0&&(qt(e.format_,7),e.loader_=RS(e.url_,e.format_)),e.strategy_=i.strategy!==void 0?i.strategy:LS;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;e.featuresRtree_=o?new Qy:null,e.loadedExtentsRtree_=new Qy,e.loadingExtentsCount_=0,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new hn(s)),s!==void 0&&e.addFeaturesInternal(s),a!==void 0&&e.bindFeaturesCollection_(a),e}return r.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},r.prototype.addFeatureInternal=function(t){var e=Object(ct.c)(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new lf(pa.ADDFEATURE,t))},r.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(Tr.a)(e,Qr.a.CHANGE,this.handleFeatureChange_,this),Object(Tr.a)(e,xe.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(t,e){var i=!0,o=e.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=e),i&&(qt(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),i},r.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},r.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],o=[],a=0,s=t.length;a<s;a++){var c=t[a],h=Object(ct.c)(c);this.addToIndex_(h,c)&&i.push(c)}for(var a=0,p=i.length;a<p;a++){var c=i[a],h=Object(ct.c)(c);this.setupChangeEvents_(h,c);var m=c.getGeometry();if(m){var w=m.getExtent();e.push(w),o.push(c)}else this.nullGeometryFeatures_[h]=c}this.featuresRtree_&&this.featuresRtree_.load(e,o);for(var a=0,R=i.length;a<R;a++)this.dispatchEvent(new lf(pa.ADDFEATURE,i[a]))},r.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(pa.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(pa.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(En.ADD,function(i){e||(e=!0,this.addFeature(i.element),e=!1)}.bind(this)),t.addEventListener(En.REMOVE,function(i){e||(e=!0,this.removeFeature(i.element),e=!1)}.bind(this)),this.featuresCollection_=t},r.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var i=this.featureChangeKeys_[e];i.forEach(Tr.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(c){this.removeFeatureInternal(c)}.bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new lf(pa.CLEAR);this.dispatchEvent(s),this.changed()},r.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},r.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(t))return e(o)})},r.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){var o=i.getGeometry();if(o.intersectsExtent(t)){var a=e(i);if(a)return a}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(Ir.d)(this.nullGeometryFeatures_)||Object(br.c)(t,Object(Ir.c)(this.nullGeometryFeatures_))),t},r.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){e.push(i)}),e},r.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},r.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],o=t[1],a=null,s=[NaN,NaN],c=1/0,h=[-1/0,-1/0,1/0,1/0],p=e||Nt.b;return this.featuresRtree_.forEachInExtent(h,function(m){if(p(m)){var w=m.getGeometry(),R=c;if(c=w.closestPointXY(i,o,s,c),c<R){a=m;var M=Math.sqrt(c);h[0]=i-M,h[1]=o-M,h[2]=i+M,h[3]=o+M}}}),a},r.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},r.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return e!==void 0?e:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(t){var e=t.target,i=Object(ct.c)(e),o=e.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,e)):this.featuresRtree_&&this.featuresRtree_.update(a,e)}var s=e.getId();if(s!==void 0){var c=s.toString();this.idIndex_[c]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[c]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new lf(pa.CHANGEFEATURE,e))},r.prototype.hasFeature=function(t){var e=t.getId();return e!==void 0?e in this.idIndex_:Object(ct.c)(t)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(Ir.d)(this.nullGeometryFeatures_)},r.prototype.loadFeatures=function(t,e,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(t,e,i),s=function(m,w){var R=a[m],M=o.forEachInExtent(R,function(U){return he(U.extent,R)});M||(++c.loadingExtentsCount_,c.dispatchEvent(new lf(pa.FEATURESLOADSTART)),c.loader_.call(c,R,e,i,function(U){--this.loadingExtentsCount_,this.dispatchEvent(new lf(pa.FEATURESLOADEND,void 0,U))}.bind(c),function(){--this.loadingExtentsCount_,this.dispatchEvent(new lf(pa.FEATURESLOADERROR))}.bind(c)),o.insert(R,{extent:R.slice()}))},c=this,h=0,p=a.length;h<p;++h)s(h);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_,i;e.forEachInExtent(t,function(o){if(hr(o.extent,t))return i=o,!0}),i&&e.remove(i)},r.prototype.removeFeature=function(t){if(!!t){var e=Object(ct.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);var i=this.removeFeatureInternal(t);i&&this.changed()}},r.prototype.removeFeatureInternal=function(t){var e=Object(ct.c)(t),i=this.featureChangeKeys_[e];if(!!i){i.forEach(Tr.c),delete this.featureChangeKeys_[e];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[e],this.dispatchEvent(new lf(pa.REMOVEFEATURE,t)),t}},r.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},r.prototype.setLoader=function(t){this.loader_=t},r.prototype.setUrl=function(t){qt(this.format_,7),this.url_=t,this.setLoader(RS(t,this.format_))},r}(t0),lc=MN,NN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FN=function(n){NN(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return e.resolution=void 0,e.distance=t.distance!==void 0?t.distance:20,e.minDistance=t.minDistance||0,e.interpolationRatio=0,e.features=[],e.geometryFunction=t.geometryFunction||function(i){var o=i.getGeometry();return qt(o.getType()==$t.POINT,10),o},e.createCustomCluster_=t.createCluster,e.source=null,e.boundRefresh_=e.refresh.bind(e),e.updateDistance(e.distance,e.minDistance),e.setSource(t.source||null),e}return r.prototype.clear=function(t){this.features.length=0,n.prototype.clear.call(this,t)},r.prototype.getDistance=function(){return this.distance},r.prototype.getSource=function(){return this.source},r.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.resolution=e,this.refresh())},r.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},r.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},r.prototype.getMinDistance=function(){return this.minDistance},r.prototype.setSource=function(t){this.source&&this.source.removeEventListener(Qr.a.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(Qr.a.CHANGE,this.boundRefresh_),this.refresh()},r.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},r.prototype.updateDistance=function(t,e){var i=t===0?0:Math.min(e,t)/t,o=t!==this.distance||this.interpolationRatio!==i;this.distance=t,this.minDistance=e,this.interpolationRatio=i,o&&this.refresh()},r.prototype.cluster=function(){if(!(this.resolution===void 0||!this.source))for(var t=et(),e=this.distance*this.resolution,i=this.source.getFeatures(),o={},a=0,s=i.length;a<s;a++){var c=i[a];if(!(Object(ct.c)(c)in o)){var h=this.geometryFunction(c);if(h){var p=h.getCoordinates();at(p,t),Ct(t,e,t);var m=this.source.getFeaturesInExtent(t).filter(function(w){var R=Object(ct.c)(w);return R in o?!1:(o[R]=!0,!0)});this.features.push(this.createCluster(m,t))}}}},r.prototype.createCluster=function(t,e){for(var i=[0,0],o=t.length-1;o>=0;--o){var a=this.geometryFunction(t[o]);a?j(i,a.getCoordinates()):t.splice(o,1)}it(i,1/t.length);var s=Kn(e),c=this.interpolationRatio,h=new kn([i[0]*(1-c)+s[0]*c,i[1]*(1-c)+s[1]*c]);return this.createCustomCluster_?this.createCustomCluster_(h,t):new Xr({geometry:h,features:t})},r}(lc),IS=FN;window.ol&&!ol.ext&&(ol.ext={});var r_=function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n};window.ol&&(ol.inherits||(ol.inherits=r_)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Ti=r_;function jN(n){const r=n.frameState,t=Ut(n.inversePixelTransform.slice(),r.coordinateToPixelTransform);return new Q1(n.context,r.pixelRatio,r.extent,t,r.viewState.rotation)}var e0=jN,wh=function(n){var r=n||{};Fu.call(this,r),this.oldcluster=new lc,this.clusters=[],this.animation={start:!1},this.set("animationDuration",typeof r.animationDuration=="number"?r.animationDuration:700),this.set("animationMethod",r.animationMethod||Pa),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))};Ti(wh,Fu),wh.prototype.saveCluster=function(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var n=this.getSource().getFeatures();n.length&&n[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=n.slice(0),this.sourceChanged=!0)}},wh.prototype.getClusterForFeature=function(n,r){for(var t=0,e;e=r[t];t++){var i=e.get("features");if(i&&i.length){for(var o=0,a;a=i[o];o++)if(n===a)return e}}return!1},wh.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},wh.prototype.animate=function(n){var r=this.get("animationDuration");if(!!r){var t=n.frameState.viewState.resolution,e,i,o=this.animation,a=n.frameState.time;if(o.resolution!=t&&this.sourceChanged){var s=n.frameState.extent;for(o.resolution<t?(s=Ct(s,100*t),o.cA=this.oldcluster.getFeaturesInExtent(s),o.cB=this.getSource().getFeaturesInExtent(s),o.revers=!1):(s=Ct(s,100*t),o.cA=this.getSource().getFeaturesInExtent(s),o.cB=this.oldcluster.getFeaturesInExtent(s),o.revers=!0),o.clusters=[],e=0,i;i=o.cA[e];e++){var c=i.get("features");if(c&&c.length){var h=this.getClusterForFeature(c[0],o.cB);h&&o.clusters.push({f:i,pt:h.getGeometry().getCoordinates()})}}if(o.resolution=t,this.sourceChanged=!1,!o.clusters.length||o.clusters.length>1e3){this.stopAnimation();return}a=o.start=new Date().getTime()}if(o.start){var p=n.vectorContext||e0(n),m=(a-o.start)/r;m>1&&(this.stopAnimation(),m=1),m=this.get("animationMethod")(m);var w=this.getStyle(),R=typeof w=="function"?w:w.length?function(){return w}:function(){return[w]};for(n.context.save(),n.context.globalAlpha=this.getOpacity(),e=0,h;h=o.clusters[e];e++){var M=h.f.getGeometry().getCoordinates(),U=M[0]-h.pt[0],Z=M[1]-h.pt[1];o.revers?(M[0]=h.pt[0]+m*U,M[1]=h.pt[1]+m*Z):(M[0]=M[0]-m*U,M[1]=M[1]-m*Z);var lt=R(h.f,t,!0);if(lt.length||(lt=[lt]),h.f.get("features").length===1&&!U&&!Z)c=h.f.get("features")[0];else{var pt=new kn(M);c=new Xr(pt)}for(var xt=0,ht;ht=lt[xt];xt++)if(ht.getText()&&/\n/.test(ht.getText().getText())){var Vt=ht.getText().getOffsetX(),kt=ht.getText().getOffsetY(),Zt=ht.getText().getRotation()||0,Xt=Number((ht.getText().getFont()||"10px").match(/\d+/))*1.2,ce=ht.getText().getText().split(`
`),Ve,Ne=ce.length-1,Ee=ht.clone();ce.forEach(function(rr,Rr){switch(Rr==1&&(Ee.setImage(),Ee.setFill(),Ee.setStroke()),ht.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":{Ve=Ne;break}case"hanging":case"top":{Ve=0;break}default:{Ve=Ne/2;break}}Ee.getText().setOffsetX(Vt-Math.sin(Zt)*Xt*(Rr-Ve)),Ee.getText().setOffsetY(kt+Math.cos(Zt)*Xt*(Rr-Ve)),Ee.getText().setText(rr),p.drawFeature(c,Ee)})}else p.drawFeature(c,ht)}n.context.restore(),n.frameState.animate=!0,n.context.save(),n.context.beginPath(),n.context.rect(0,0,0,0),n.context.clip(),this.clip_=!0}}},wh.prototype.postanimate=function(n){this.clip_&&(n.context.restore(),this.clip_=!1)};var DN=wh,BN={extends:Xd,name:"ol-animated-clusterlayer",setup:function(r){var t=Object(I.inject)("map"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){var s=new DN(Ce(Ce({},i),{},{source:new IS({distance:i.distance,geometryFunction:function(h){return h.getGeometry()}})}));return s}),a=Object(I.computed)(function(){return o.value.getSource()});return Object(I.watch)(i,function(){o.value.setProperties(i),o.value.changed()}),Object(I.onMounted)(function(){t.addLayer(o.value),o.value.changed(),t.changed()}),Object(I.onUnmounted)(function(){t.removeLayer(o.value)}),Object(I.provide)("vectorLayer",a),Object(I.provide)("stylable",o),{vectorLayer:o,map:t}},props:{animationDuration:{type:Number,default:700},distance:{type:Number,default:20},animationMethod:{type:Function,default:Pa},updateWhileAnimating:{type:Boolean,default:!1},updateWhileInteracting:{type:Boolean,default:!1}}},n_=Ae()(BN,[["render",TN]]);function GN(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var ju=new Uint8Array(4),UN=function(){function n(r,t){this.helper_=r;var e=r.getGL();this.texture_=e.createTexture(),this.framebuffer_=e.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return n.prototype.setSize=function(r){Object(br.b)(r,this.size_)||(this.size_[0]=r[0],this.size_[1]=r[1],this.updateSize_())},n.prototype.getSize=function(){return this.size_},n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},n.prototype.readAll=function(){if(this.dataCacheDirty_){var r=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,r[0],r[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},n.prototype.readPixel=function(r,t){if(r<0||t<0||r>this.size_[0]||t>=this.size_[1])return ju[0]=0,ju[1]=0,ju[2]=0,ju[3]=0,ju;this.readAll();var e=Math.floor(r)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return ju[0]=this.data_[e*4],ju[1]=this.data_[e*4+1],ju[2]=this.data_[e*4+2],ju[3]=this.data_[e*4+3],ju},n.prototype.getTexture=function(){return this.texture_},n.prototype.getFramebuffer=function(){return this.framebuffer_},n.prototype.updateSize_=function(){var r=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(r,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,r[0],r[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(r[0]*r[1]*4)},n}(),kN=UN,zN=u("7fd1"),VN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WN=function(n){VN(r,n);function r(t,e){var i=this,o=e.uniforms||{},a=Q();o[Kd.PROJECTION_MATRIX]=a,i=n.call(this,t,{uniforms:o,postProcesses:e.postProcesses})||this,i.sourceRevision_=-1,i.verticesBuffer_=new Wv(Vv,Dy),i.hitVerticesBuffer_=new Wv(Vv,Dy),i.indicesBuffer_=new Wv(jy,Dy),i.vertexShader_=e.vertexShader,i.fragmentShader_=e.fragmentShader,i.program_,i.hitDetectionEnabled_=!!(e.hitFragmentShader&&e.hitVertexShader),i.hitVertexShader_=e.hitVertexShader,i.hitFragmentShader_=e.hitFragmentShader,i.hitProgram_;var s=e.attributes?e.attributes.map(function(h){return{name:"a_"+h.name,size:1,type:Cl.FLOAT}}):[];i.attributes=[{name:"a_position",size:2,type:Cl.FLOAT},{name:"a_index",size:1,type:Cl.FLOAT}].concat(s),i.hitDetectionAttributes=[{name:"a_position",size:2,type:Cl.FLOAT},{name:"a_index",size:1,type:Cl.FLOAT},{name:"a_hitColor",size:4,type:Cl.FLOAT},{name:"a_featureUid",size:1,type:Cl.FLOAT}].concat(s),i.customAttributes=e.attributes?e.attributes:[],i.previousExtent_=et(),i.currentTransform_=a,i.renderTransform_=Q(),i.invertRenderTransform_=Q(),i.renderInstructions_=new Float32Array(0),i.hitRenderInstructions_=new Float32Array(0),i.hitRenderTarget_,i.worker_=Object(zN.a)(),i.worker_.addEventListener("message",function(h){var p=h.data;if(p.type===k1.GENERATE_BUFFERS){var m=p.projectionTransform;p.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(p.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(p.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(p.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=m,Ze(this.invertRenderTransform_,this.renderTransform_),p.hitDetection?this.hitRenderInstructions_=new Float32Array(h.data.renderInstructions):this.renderInstructions_=new Float32Array(h.data.renderInstructions),this.getLayer().changed()}}.bind(i)),i.featureCache_={},i.featureCount_=0;var c=i.getLayer().getSource();return i.sourceListenKeys_=[Object(Tr.a)(c,pa.ADDFEATURE,i.handleSourceFeatureAdded_,i),Object(Tr.a)(c,pa.CHANGEFEATURE,i.handleSourceFeatureChanged_,i),Object(Tr.a)(c,pa.REMOVEFEATURE,i.handleSourceFeatureDelete_,i),Object(Tr.a)(c,pa.CLEAR,i.handleSourceFeatureClear_,i)],c.forEachFeature(function(h){this.featureCache_[Object(ct.c)(h)]={feature:h,properties:h.getProperties(),geometry:h.getGeometry()},this.featureCount_++}.bind(i)),i}return r.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new kN(this.helper))},r.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[Object(ct.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},r.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[Object(ct.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},r.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[Object(ct.c)(e)],this.featureCount_--},r.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},r.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var o=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(t),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),o},r.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),i=e.getSource(),o=t.viewState,a=!t.viewHints[si.ANIMATING]&&!t.viewHints[si.INTERACTING],s=!hr(this.previousExtent_,t.extent),c=this.sourceRevision_<i.getRevision();if(c&&(this.sourceRevision_=i.getRevision()),a&&(s||c)){var h=o.projection,p=o.resolution,m=e instanceof Hy?e.getRenderBuffer():0,w=Ct(t.extent,m*p);i.loadFeatures(w,p,h),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.makeProjectionTransform(t,this.currentTransform_),Ut(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},r.prototype.rebuildBuffers_=function(t){var e=Q();this.helper.makeProjectionTransform(t,e);var i=(2+this.customAttributes.length)*this.featureCount_;if((!this.renderInstructions_||this.renderInstructions_.length!==i)&&(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;(!this.hitRenderInstructions_||this.hitRenderInstructions_.length!==o)&&(this.hitRenderInstructions_=new Float32Array(o))}var a,s,c=[],h=[],p=0,m=0,w;for(var R in this.featureCache_)if(a=this.featureCache_[R],s=a.geometry,!(!s||s.getType()!==$t.POINT)){c[0]=s.getFlatCoordinates()[0],c[1]=s.getFlatCoordinates()[1],Me(e,c),w=YI(m+6,h),this.renderInstructions_[p++]=c[0],this.renderInstructions_[p++]=c[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[m++]=c[0],this.hitRenderInstructions_[m++]=c[1],this.hitRenderInstructions_[m++]=w[0],this.hitRenderInstructions_[m++]=w[1],this.hitRenderInstructions_[m++]=w[2],this.hitRenderInstructions_[m++]=w[3],this.hitRenderInstructions_[m++]=Number(R));for(var M=void 0,U=0;U<this.customAttributes.length;U++)M=this.customAttributes[U].callback(a.feature,a.properties),this.renderInstructions_[p++]=M,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[m++]=M)}var Z={type:k1.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(Z.projectionTransform=e,this.worker_.postMessage(Z,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var lt={type:k1.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};lt.projectionTransform=e,lt.hitDetection=!0,this.worker_.postMessage(lt,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){if(qt(this.hitDetectionEnabled_,66),!!this.hitRenderInstructions_){var s=Me(e.coordinateToPixelTransform,t.slice()),c=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),h=[c[0]/255,c[1]/255,c[2]/255,c[3]/255],p=HI(h),m=this.hitRenderInstructions_[p],w=Math.floor(m).toString(),R=this.getLayer().getSource(),M=R.getFeatureByUid(w);if(M)return o(M,this.getLayer(),null)}},r.prototype.renderHitDetection=function(t){if(!!this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var e=this.indicesBuffer_.getSize();this.helper.drawElements(0,e)}},r.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(t){Object(Tr.c)(t)}),this.sourceListenKeys_=null,n.prototype.disposeInternal.call(this)},r}(Jx),MS=WN,YN=function(){function n(){this.uniforms=[],this.attributes=[],this.varyings=[],this.sizeExpression="vec2(1.0)",this.rotationExpression="0.0",this.offsetExpression="vec2(0.0)",this.colorExpression="vec4(1.0)",this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression="false",this.rotateWithView=!1}return n.prototype.addUniform=function(r){return this.uniforms.push(r),this},n.prototype.addAttribute=function(r){return this.attributes.push(r),this},n.prototype.addVarying=function(r,t,e){return this.varyings.push({name:r,type:t,expression:e}),this},n.prototype.setSizeExpression=function(r){return this.sizeExpression=r,this},n.prototype.setRotationExpression=function(r){return this.rotationExpression=r,this},n.prototype.setSymbolOffsetExpression=function(r){return this.offsetExpression=r,this},n.prototype.setColorExpression=function(r){return this.colorExpression=r,this},n.prototype.setTextureCoordinateExpression=function(r){return this.texCoordExpression=r,this},n.prototype.setFragmentDiscardExpression=function(r){return this.discardExpression=r,this},n.prototype.setSymbolRotateWithView=function(r){return this.rotateWithView=r,this},n.prototype.getSizeExpression=function(){return this.sizeExpression},n.prototype.getOffsetExpression=function(){return this.offsetExpression},n.prototype.getColorExpression=function(){return this.colorExpression},n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression},n.prototype.getFragmentDiscardExpression=function(){return this.discardExpression},n.prototype.getSymbolVertexShader=function(r){var t=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",e=this.attributes,i=this.varyings;return r&&(e=e.concat("vec4 a_hitColor"),i=i.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform mat4 u_projectionMatrix;
uniform mat4 u_offsetScaleMatrix;
uniform mat4 u_offsetRotateMatrix;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(o){return"uniform "+o+";"}).join(`
`)+`
attribute vec2 a_position;
attribute float a_index;
`+e.map(function(o){return"attribute "+o+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+i.map(function(o){return"varying "+o.type+" "+o.name+";"}).join(`
`)+`
void main(void) {
  mat4 offsetMatrix = `+t+`;
  vec2 halfSize = `+this.sizeExpression+` * 0.5;
  vec2 offset = `+this.offsetExpression+`;
  float angle = `+this.rotationExpression+`;
  float offsetX;
  float offsetY;
  if (a_index == 0.0) {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  } else if (a_index == 1.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else if (a_index == 2.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  }
  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
  vec4 texCoord = `+this.texCoordExpression+`;
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;
  v_quadCoord = vec2(u, v);
`+i.map(function(o){return"  "+o.name+" = "+o.expression+";"}).join(`
`)+`
}`},n.prototype.getSymbolFragmentShader=function(r){var t=r?"  if (gl_FragColor.a < 0.1) { discard; } gl_FragColor = v_hitColor;":"",e=this.varyings;return r&&(e=e.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"})),`precision mediump float;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
`+this.uniforms.map(function(i){return"uniform "+i+";"}).join(`
`)+`
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
`+e.map(function(i){return"varying "+i.type+" "+i.name+";"}).join(`
`)+`
void main(void) {
  if (`+this.discardExpression+`) { discard; }
  gl_FragColor = `+this.colorExpression+`;
  gl_FragColor.rgb *= gl_FragColor.a;
`+t+`
}`},n}();function HN(n){var r=n.symbol,t=r.size!==void 0?r.size:1,e=r.color||"white",i=r.textureCoord||[0,0,1,1],o=r.offset||[0,0],a=r.opacity!==void 0?r.opacity:1,s=r.rotation!==void 0?r.rotation:0,c={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},h=Zr(c,t,Vr.NUMBER_ARRAY|Vr.NUMBER),p=Zr(c,o,Vr.NUMBER_ARRAY),m=Zr(c,i,Vr.NUMBER_ARRAY),w=Zr(c,s,Vr.NUMBER),R={inFragmentShader:!0,variables:c.variables,attributes:[],stringLiteralsMap:c.stringLiteralsMap,functions:{}},M=Zr(R,e,Vr.COLOR),U=Zr(R,a,Vr.NUMBER),Z="1.0",lt="vec2("+Zr(R,t,Vr.NUMBER_ARRAY|Vr.NUMBER)+").x";switch(r.symbolType){case"square":break;case"image":break;case"circle":Z="(1.0-smoothstep(1.-4./"+lt+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case"triangle":var pt="(v_quadCoord*2.-1.)",xt="(atan("+pt+".x,"+pt+".y))";Z="(1.0-smoothstep(.5-3./"+lt+",.5,cos(floor(.5+"+xt+"/2.094395102)*2.094395102-"+xt+")*length("+pt+")))";break;default:throw new Error("Unexpected symbol type: "+r.symbolType)}var ht=new YN().setSizeExpression("vec2("+h+")").setRotationExpression(w).setSymbolOffsetExpression(p).setTextureCoordinateExpression(m).setSymbolRotateWithView(!!r.rotateWithView).setColorExpression("vec4("+M+".rgb, "+M+".a * "+U+" * "+Z+")");if(n.filter){var Vt=Zr(R,n.filter,Vr.BOOLEAN);ht.setFragmentDiscardExpression("!"+Vt)}var kt={};if(R.variables.forEach(function(Xt){var ce=Y1(Xt);ht.addUniform("float "+ce),kt[ce]=function(){if(!n.variables||n.variables[Xt]===void 0)throw new Error("The following variable is missing from the style: "+Xt);var Ve=n.variables[Xt];return typeof Ve=="string"&&(Ve=Vy(c,Ve)),Ve!==void 0?Ve:-9999999}}),r.symbolType==="image"&&r.src){var Zt=new Image;Zt.src=r.src,ht.addUniform("sampler2D u_texture").setColorExpression(ht.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),kt.u_texture=Zt}return R.attributes.forEach(function(Xt){c.attributes.indexOf(Xt)===-1&&c.attributes.push(Xt),ht.addVarying("v_"+Xt,"float","a_"+Xt)}),c.attributes.forEach(function(Xt){ht.addAttribute("float a_"+Xt)}),{builder:ht,attributes:c.attributes.map(function(Xt){return{name:Xt,callback:function(ce,Ve){var Ne=Ve[Xt];return typeof Ne=="string"&&(Ne=Vy(c,Ne)),Ne!==void 0?Ne:-9999999}}}),uniforms:kt}}var XN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KN=function(n){XN(r,n);function r(t){var e=this,i=Object(Ir.a)({},t);return e=n.call(this,i)||this,e.parseResult_=HN(t.style),e.hitDetectionDisabled_=!!t.disableHitDetection,e}return r.prototype.createRenderer=function(){return new MS(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})},r}(E),$N=KN,ZN={extends:Xd,name:"ol-webglpoints-layer",setup:function(r){var t=Object(I.inject)("map"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new $N(i)});return Object(I.watch)(i,function(){o.value.setProperties(i)}),Object(I.onMounted)(function(){t.addLayer(o.value)}),Object(I.onUnmounted)(function(){t.removeLayer(o.value)}),Object(I.provide)("webglPointsLayer",o),{webglPointsLayer:o}},props:{disableHitDetection:{type:Boolean,default:!1},style:{type:Object,default:function(){return{symbol:{symbolType:"circle",size:8,color:"#33AAFF",opacity:.9}}}}}},i_=Ae()(ZN,[["render",GN]]);function r0(n){r0.installed||(r0.installed=!0,n.component(N1.name,N1),n.component(X1.name,X1),n.component(K1.name,K1),n.component(e_.name,e_),n.component(n_.name,n_),n.component(i_.name,i_))}var qN=r0;function JN(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var QN=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),t4=function(n){QN(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},r.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),e=XI(t),i=e[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(Xv(o.tileCoord)),o.release())}.bind(this))}},r}(Ix),NS=t4,o_={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},e4=[0,0,0],uf=5,r4=function(){function n(r){this.minZoom=r.minZoom!==void 0?r.minZoom:0,this.resolutions_=r.resolutions,qt(Object(br.g)(this.resolutions_,function(a,s){return s-a},!0),17);var t;if(!r.origins){for(var e=0,i=this.resolutions_.length-1;e<i;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=r.origin!==void 0?r.origin:null,this.origins_=null,r.origins!==void 0&&(this.origins_=r.origins,qt(this.origins_.length==this.resolutions_.length,20));var o=r.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=qn(o)),qt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,r.tileSizes!==void 0&&(this.tileSizes_=r.tileSizes,qt(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=r.tileSize!==void 0?r.tileSize:this.tileSizes_?null:yu,qt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],r.sizes!==void 0?this.fullTileRanges_=r.sizes.map(function(a,s){var c=new I1(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var h=this.getTileRangeForExtentAndZ(o,s);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(r,t,e){for(var i=this.getTileRangeForExtentAndZ(r,t),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,c=i.maxY;s<=c;++s)e([t,o,s])},n.prototype.forEachTileCoordParentTileRange=function(r,t,e,i){var o,a,s,c=null,h=r[0]-1;for(this.zoomFactor_===2?(a=r[1],s=r[2]):c=this.getTileCoordExtent(r,i);h>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Hd(a,a,s,s,e)):o=this.getTileRangeForExtentAndZ(c,h,e),t(h,o))return!0;--h}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},n.prototype.getResolution=function(r){return this.resolutions_[r]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(r,t,e){if(r[0]<this.maxZoom){if(this.zoomFactor_===2){var i=r[1]*2,o=r[2]*2;return Hd(i,i+1,o,o+1,t)}var a=this.getTileCoordExtent(r,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,r[0]+1,t)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(r,t,e){if(t>this.maxZoom||t<this.minZoom)return null;var i=r[0],o=r[1],a=r[2];if(t===i)return Hd(o,a,o,a,e);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-i),c=Math.floor(o*s),h=Math.floor(a*s);if(t<i)return Hd(c,c,h,h,e);var p=Math.floor(s*(o+1))-1,m=Math.floor(s*(a+1))-1;return Hd(c,p,h,m,e)}var w=this.getTileCoordExtent(r,this.tmpExtent_);return this.getTileRangeForExtentAndZ(w,t,e)},n.prototype.getTileRangeExtent=function(r,t,e){var i=this.getOrigin(r),o=this.getResolution(r),a=to(this.getTileSize(r),this.tmpSize_),s=i[0]+t.minX*a[0]*o,c=i[0]+(t.maxX+1)*a[0]*o,h=i[1]+t.minY*a[1]*o,p=i[1]+(t.maxY+1)*a[1]*o;return z(s,h,c,p,e)},n.prototype.getTileRangeForExtentAndZ=function(r,t,e){var i=e4;this.getTileCoordForXYAndZ_(r[0],r[3],t,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(r[2],r[1],t,!0,i),Hd(o,i[1],a,i[2],e)},n.prototype.getTileCoordCenter=function(r){var t=this.getOrigin(r[0]),e=this.getResolution(r[0]),i=to(this.getTileSize(r[0]),this.tmpSize_);return[t[0]+(r[1]+.5)*i[0]*e,t[1]-(r[2]+.5)*i[1]*e]},n.prototype.getTileCoordExtent=function(r,t){var e=this.getOrigin(r[0]),i=this.getResolution(r[0]),o=to(this.getTileSize(r[0]),this.tmpSize_),a=e[0]+r[1]*o[0]*i,s=e[1]-(r[2]+1)*o[1]*i,c=a+o[0]*i,h=s+o[1]*i;return z(a,s,c,h,t)},n.prototype.getTileCoordForCoordAndResolution=function(r,t,e){return this.getTileCoordForXYAndResolution_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordForXYAndResolution_=function(r,t,e,i,o){var a=this.getZForResolution(e),s=e/this.getResolution(a),c=this.getOrigin(a),h=to(this.getTileSize(a),this.tmpSize_),p=s*(r-c[0])/e/h[0],m=s*(c[1]-t)/e/h[1];return i?(p=gu(p,uf)-1,m=gu(m,uf)-1):(p=bc(p,uf),m=bc(m,uf)),Yv(a,p,m,o)},n.prototype.getTileCoordForXYAndZ_=function(r,t,e,i,o){var a=this.getOrigin(e),s=this.getResolution(e),c=to(this.getTileSize(e),this.tmpSize_),h=(r-a[0])/s/c[0],p=(a[1]-t)/s/c[1];return i?(h=gu(h,uf)-1,p=gu(p,uf)-1):(h=bc(h,uf),p=bc(p,uf)),Yv(e,h,p,o)},n.prototype.getTileCoordForCoordAndZ=function(r,t,e){return this.getTileCoordForXYAndZ_(r[0],r[1],t,!1,e)},n.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},n.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},n.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},n.prototype.getZForResolution=function(r,t){var e=Object(br.h)(this.resolutions_,r,t||0);return Fi(e,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(r){for(var t=this.resolutions_.length,e=new Array(t),i=this.minZoom;i<t;++i)e[i]=this.getTileRangeForExtentAndZ(r,i);this.fullTileRanges_=e},n}(),a_=r4;function FS(n){var r=n.getDefaultTileGrid();return r||(r=o4(n),n.setDefaultTileGrid(r)),r}function n4(n,r,t){var e=r[0],i=n.getTileCoordCenter(r),o=n0(t);if(Jt(o,i))return r;var a=fn(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,n.getTileCoordForCoordAndZ(i,e)}function i4(n,r,t,e){var i=e!==void 0?e:Fr.TOP_LEFT,o=DS(n,r,t);return new a_({extent:n,origin:aa(n,i),resolutions:o,tileSize:t})}function jS(n){var r=n||{},t=r.extent||an("EPSG:3857").getExtent(),e={extent:t,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:DS(t,r.maxZoom,r.tileSize,r.maxResolution)};return new a_(e)}function DS(n,r,t,e){for(var i=r!==void 0?r:Ac,o=Ur(n),a=fn(n),s=to(t!==void 0?t:yu),c=e>0?e:Math.max(a/s[0],o/s[1]),h=i+1,p=new Array(h),m=0;m<h;++m)p[m]=c/Math.pow(2,m);return p}function o4(n,r,t,e){var i=n0(n);return i4(i,r,t,e)}function n0(n){n=an(n);var r=n.getExtent();if(!r){var t=180*To[Hi.DEGREES]/n.getMetersPerUnit();r=z(-t,-t,t,t)}return r}var BS=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),a4=function(n){BS(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;e.on,e.once,e.un,e.opaque_=t.opaque!==void 0?t.opaque:!1,e.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,e.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var i=[256,256],o=t.tileGrid;return o&&to(o.getTileSize(o.getMinZoom()),i),e.tileCache=new NS(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition,interpolate:t.interpolate},e.zDirection=t.zDirection?t.zDirection:0,e}return r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},r.prototype.forEachLoadedTile=function(t,e,i,o){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var s=!0,c,h,p,m=i.minX;m<=i.maxX;++m)for(var w=i.minY;w<=i.maxY;++w)h=Hv(e,m,w),p=!1,a.containsKey(h)&&(c=a.get(h),p=c.getState()===Lr.LOADED,p&&(p=o(c)!==!1)),p||(s=!1);return s},r.prototype.getGutterForProjection=function(t){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},r.prototype.getOpaque=function(t){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},r.prototype.getTile=function(t,e,i,o,a){return Object(ct.b)()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:FS(t)},r.prototype.getTileCacheForProjection=function(t){return qt(Ki(this.getProjection(),t),68),this.tileCache},r.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(t,e,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(e),s=to(o.getTileSize(t),this.tmpSize);return a==1?s:_l(s,a,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=e!==void 0?e:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=n4(o,t,i)),KI(t,o)?t:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(t,e){var i=this.getTileCacheForProjection(e);t>i.highWaterMark&&(i.highWaterMark=t)},r.prototype.useTile=function(t,e,i,o){},r}(t0),s4=function(n){BS(r,n);function r(t,e){var i=n.call(this,t)||this;return i.tile=e,i}return r}(ze.a),GS=a4;function l4(n,r){var t=/\{z\}/g,e=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,c){if(a)return n.replace(t,a[0].toString()).replace(e,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var h=a[0],p=r.getFullTileRange(h);qt(p,55);var m=p.getHeight()-a[2]-1;return m.toString()})}}function u4(n,r){for(var t=n.length,e=new Array(t),i=0;i<t;++i)e[i]=l4(n[i],r);return i0(e)}function i0(n){return n.length===1?n[0]:function(r,t,e){if(r){var i=Qx(r),o=Ps(i,n.length);return n[o](r,t,e)}else return}}function US(n){var r=[],t=/\{([a-z])-([a-z])\}/.exec(n);if(t){var e=t[1].charCodeAt(0),i=t[2].charCodeAt(0),o=void 0;for(o=e;o<=i;++o)r.push(n.replace(t[0],String.fromCharCode(o)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){for(var a=parseInt(t[2],10),s=parseInt(t[1],10);s<=a;s++)r.push(n.replace(t[0],s.toString()));return r}return r.push(n),r}var c4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f4=function(n){c4(r,n);function r(t){var e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===r.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(t){var e=t.target,i=Object(ct.c)(e),o=e.getState(),a;o==Lr.LOADING?(this.tileLoadingKeys_[i]=!0,a=o_.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==Lr.ERROR?o_.TILELOADERROR:o==Lr.LOADED?o_.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new s4(a,e))},r.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},r.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e!="undefined"?this.setKey(e):this.changed()},r.prototype.setUrl=function(t){var e=US(t);this.urls=e,this.setUrls(e)},r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(u4(t,this.tileGrid),e):this.setKey(e)},r.prototype.tileUrlFunction=function(t,e,i){},r.prototype.useTile=function(t,e,i){var o=Hv(t,e,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},r}(GS),h4=f4,d4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),p4=function(n){d4(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:v4,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:i,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,e.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,e.tileClass=t.tileClass!==void 0?t.tileClass:j1,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.renderReprojectionEdges_=!1,e}return r.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},r.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?e:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?e:{})}},r.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ki(this.getProjection(),t)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){var t=n.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},r.prototype.getOpaque=function(t){return this.getProjection()&&t&&!Ki(this.getProjection(),t)?!1:n.prototype.getOpaque.call(this,t)},r.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(this.tileGrid&&(!e||Ki(e,t)))return this.tileGrid;var i=Object(ct.c)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=FS(t)),this.tileGridForProjection[i]},r.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ki(e,t))return this.tileCache;var i=Object(ct.c)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new NS(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},r.prototype.createTile_=function(t,e,i,o,a,s){var c=[t,e,i],h=this.getTileCoordForTileUrlFunction(c,a),p=h?this.tileUrlFunction(h,o,a):void 0,m=new this.tileClass(c,p!==void 0?Lr.IDLE:Lr.EMPTY,p!==void 0?p:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=s,m.addEventListener(Qr.a.CHANGE,this.handleTileChange.bind(this)),m},r.prototype.getTile=function(t,e,i,o,a){var s=this.getProjection();if(!s||!a||Ki(s,a))return this.getTileInternal(t,e,i,o,s||a);var c=this.getTileCacheForProjection(a),h=[t,e,i],p=void 0,m=Xv(h);c.containsKey(m)&&(p=c.get(m));var w=this.getKey();if(p&&p.key==w)return p;var R=this.getTileGridForProjection(s),M=this.getTileGridForProjection(a),U=this.getTileCoordForTileUrlFunction(h,a),Z=new kx(s,R,a,M,h,U,this.getTilePixelRatio(o),this.getGutter(),function(lt,pt,xt,ht){return this.getTileInternal(lt,pt,xt,ht,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return Z.key=w,p?(Z.interimTile=p,Z.refreshInterimChain(),c.replace(m,Z)):c.set(m,Z),Z},r.prototype.getTileInternal=function(t,e,i,o,a){var s=null,c=Hv(t,e,i),h=this.getKey();if(!this.tileCache.containsKey(c))s=this.createTile_(t,e,i,o,a,h),this.tileCache.set(c,s);else if(s=this.tileCache.get(c),s.key!=h){var p=s;s=this.createTile_(t,e,i,o,a,h),p.getState()==Lr.IDLE?s.interimTile=p.interimTile:s.interimTile=p,s.refreshInterimChain(),this.tileCache.replace(c,s)}return s},r.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},r.prototype.setTileGridForProjection=function(t,e){{var i=an(t);if(i){var o=Object(ct.c)(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},r}(h4);function v4(n,r){n.getImage().src=r}var o0=p4,g4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),y4=function(n){g4(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.projection!==void 0?i.projection:"EPSG:3857",s=i.tileGrid!==void 0?i.tileGrid:jS({extent:n0(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return e=n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this,e}return r}(o0),kS=y4,m4={name:"ol-source-xyz",setup:function(r){var t=Object(I.inject)("tileLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new kS(i)});return Object(I.watch)(o,function(){t.value.setSource(o.value)}),Object(I.watch)(t,function(){t.value.setSource(o.value)}),Object(I.onMounted)(function(){t.value.setSource(o.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:[String,Array]},url:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},opaque:{type:Boolean},projection:{type:String,default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tileSize:{type:Array,default:function(){return[256,256]}},tilePixelRatio:{type:Number,default:1},tileKey:{type:String},transition:{type:Number},tileGrid:{type:Object}}},s_=Ae()(m4,[["render",JN]]);function _4(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var E4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x4='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',S4=function(n){E4(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a;i.attributions!==void 0?a=i.attributions:a=[x4];var s=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",c=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e=n.call(this,{attributions:a,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:s,interpolate:o,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:c,wrapX:i.wrapX,zDirection:i.zDirection})||this,e}return r}(kS),w4=S4,O4={name:"ol-source-osm",setup:function(r){var t=Object(I.inject)("tileLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new w4(i)});return Object(I.watch)(o,function(){t.value.setSource(o.value)}),Object(I.watch)(t,function(){t.value.setSource(o.value)}),Object(I.onMounted)(function(){t.value.setSource(o.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{attributions:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String,default:"anonymous"},imageSmoothing:{type:Boolean,default:!0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{type:Number,default:.5},transition:{type:Number,default:250},url:{type:String,default:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0}}},l_=Ae()(O4,[["render",_4]]);function T4(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var b4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C4=function(n){b4(r,n);function r(t,e,i,o,a,s,c){var h=this,p=t.getExtent(),m=e.getExtent(),w=m?Pr(i,m):i,R=Kn(w),M=zv(t,e,R,o),U=jx,Z=new Bx(t,e,w,p,M*U,o),lt=Z.calculateSourceExtent(),pt=s(lt,M,a),xt=pt?zn.IDLE:zn.EMPTY,ht=pt?pt.getPixelRatio():1;return h=n.call(this,i,o,ht,xt)||this,h.targetProj_=e,h.maxSourceExtent_=p,h.triangulation_=Z,h.targetResolution_=o,h.targetExtent_=i,h.sourceImage_=pt,h.sourcePixelRatio_=ht,h.interpolate_=c,h.canvas_=null,h.sourceListenerKey_=null,h}return r.prototype.disposeInternal=function(){this.state==zn.LOADING&&this.unlistenSource_(),n.prototype.disposeInternal.call(this)},r.prototype.getImage=function(){return this.canvas_},r.prototype.getProjection=function(){return this.targetProj_},r.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==zn.LOADED){var e=fn(this.targetExtent_)/this.targetResolution_,i=Ur(this.targetExtent_)/this.targetResolution_;this.canvas_=Ux(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},r.prototype.load=function(){if(this.state==zn.IDLE){this.state=zn.LOADING,this.changed();var t=this.sourceImage_.getState();t==zn.LOADED||t==zn.ERROR?this.reproject_():(this.sourceListenerKey_=Object(Tr.a)(this.sourceImage_,Qr.a.CHANGE,function(e){var i=this.sourceImage_.getState();(i==zn.LOADED||i==zn.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},r.prototype.unlistenSource_=function(){Object(Tr.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},r}(Nx),A4=C4,zS=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),u_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},c_=function(n){zS(r,n);function r(t,e){var i=n.call(this,t)||this;return i.image=e,i}return r}(ze.a),L4=function(n){zS(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(i=t.interpolate),e=n.call(this,{attributions:t.attributions,projection:t.projection,state:t.state,interpolate:i})||this,e.on,e.once,e.un,e.resolutions_=t.resolutions!==void 0?t.resolutions:null,e.reprojectedImage_=null,e.reprojectedRevision_=0,e}return r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(br.h)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},r.prototype.getImage=function(t,e,i,o){var a=this.getProjection();if(!a||!o||Ki(a,o))return a&&(o=a),this.getImageInternal(t,e,i,o);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ki(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==e&&hr(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new A4(a,o,t,e,i,function(s,c,h){return this.getImageInternal(s,c,h,a)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_},r.prototype.getImageInternal=function(t,e,i,o){return Object(ct.b)()},r.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case zn.LOADING:this.loading=!0,this.dispatchEvent(new c_(u_.IMAGELOADSTART,e));break;case zn.LOADED:this.loading=!1,this.dispatchEvent(new c_(u_.IMAGELOADEND,e));break;case zn.ERROR:this.loading=!1,this.dispatchEvent(new c_(u_.IMAGELOADERROR,e));break}},r}(t0);function VS(n,r){n.getImage().src=r}var WS=L4,R4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),P4=function(n){R4(r,n);function r(t){var e=this,i=t.crossOrigin!==void 0?t.crossOrigin:null,o=t.imageLoadFunction!==void 0?t.imageLoadFunction:VS,a=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(a=t.interpolate),e=n.call(this,{attributions:t.attributions,interpolate:a,projection:an(t.projection)})||this,e.url_=t.url,e.imageExtent_=t.imageExtent,e.image_=new Fx(e.imageExtent_,void 0,1,e.url_,i,o),e.imageSize_=t.imageSize?t.imageSize:null,e.image_.addEventListener(Qr.a.CHANGE,e.handleImageChange.bind(e)),e}return r.prototype.getImageExtent=function(){return this.imageExtent_},r.prototype.getImageInternal=function(t,e,i,o){return vi(t,this.image_.getExtent())?this.image_:null},r.prototype.getUrl=function(){return this.url_},r.prototype.handleImageChange=function(t){if(this.image_.getState()==zn.LOADED){var e=this.image_.getExtent(),i=this.image_.getImage(),o=void 0,a=void 0;this.imageSize_?(o=this.imageSize_[0],a=this.imageSize_[1]):(o=i.width,a=i.height);var s=fn(e),c=Ur(e),h=s/o,p=c/a,m=o,w=a;if(h>p?m=Math.round(s/p):w=Math.round(c/h),m!==o||w!==a){var R=Object(je.a)(m,w);this.getInterpolate()||Object(Ir.a)(R,kv);var M=R.canvas;R.drawImage(i,0,0,o,a,0,0,M.width,M.height),this.image_.setImage(M)}}n.prototype.handleImageChange.call(this,t)},r}(WS),I4=P4,M4={name:"ol-source-image-static",setup:function(r){var t=Object(I.inject)("imageLayer"),e=ar(r),i=e.properties,o=function(){return new I4(Ce(Ce({},i),{},{projection:typeof i.projection=="string"?i.projection:new Ra(Ce({},i.projection))}))},a=o();return Object(I.watch)(i,function(){t.setSource(null),a=o(),t.setSource(a)}),Object(I.onMounted)(function(){t.setSource(a)}),Object(I.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object]},imageSmoothing:{type:Boolean,default:!0},imageSize:{type:Array},url:{type:String}}},f_=Ae()(M4,[["render",T4]]);function N4(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var a0={KVP:"KVP",REST:"REST"};function qd(n,r){var t=[];Object.keys(r).forEach(function(i){r[i]!==null&&r[i]!==void 0&&t.push(i+"="+encodeURIComponent(r[i]))});var e=t.join("&");return n=n.replace(/[?&]$/,""),n=n.indexOf("?")===-1?n+"?":n+"&",n+e}var F4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),j4=function(n){F4(r,n);function r(t){var e=n.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return e.matrixIds_=t.matrixIds,e}return r.prototype.getMatrixId=function(t){return this.matrixIds_[t]},r.prototype.getMatrixIds=function(){return this.matrixIds_},r}(a_),h_=j4,D4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),B4=function(n){D4(r,n);function r(t){var e=this,i=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(i=t.interpolate);var o=t.requestEncoding!==void 0?t.requestEncoding:a0.KVP,a=t.tileGrid,s=t.urls;return s===void 0&&t.url!==void 0&&(s=US(t.url)),e=n.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:i,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:a,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,urls:s,wrapX:t.wrapX!==void 0?t.wrapX:!1,transition:t.transition,zDirection:t.zDirection})||this,e.version_=t.version!==void 0?t.version:"1.0.0",e.format_=t.format!==void 0?t.format:"image/jpeg",e.dimensions_=t.dimensions!==void 0?t.dimensions:{},e.layer_=t.layer,e.matrixSet_=t.matrixSet,e.style_=t.style,e.requestEncoding_=o,e.setKey(e.getKeyForDimensions_()),s&&s.length>0&&(e.tileUrlFunction=i0(s.map(e.createFromWMTSTemplate.bind(e)))),e}return r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.setTileUrlFunction(i0(t.map(this.createFromWMTSTemplate.bind(this))),e)},r.prototype.getDimensions=function(){return this.dimensions_},r.prototype.getFormat=function(){return this.format_},r.prototype.getLayer=function(){return this.layer_},r.prototype.getMatrixSet=function(){return this.matrixSet_},r.prototype.getRequestEncoding=function(){return this.requestEncoding_},r.prototype.getStyle=function(){return this.style_},r.prototype.getVersion=function(){return this.version_},r.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},r.prototype.updateDimensions=function(t){Object(Ir.a)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},r.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==a0.KVP&&Object(Ir.a)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==a0.KVP?qd(t,i):t.replace(/\{(\w+?)\}/g,function(s,c){return c.toLowerCase()in i?i[c.toLowerCase()]:s});var o=this.tileGrid,a=this.dimensions_;return function(s,c,h){if(s){var p={TileMatrix:o.getMatrixId(s[0]),TileCol:s[1],TileRow:s[2]};Object(Ir.a)(p,a);var m=t;return e==a0.KVP?m=qd(m,p):m=m.replace(/\{(\w+?)\}/g,function(w,R){return p[R]}),m}else return}},r}(o0),YS=B4,G4={name:"ol-source-wmts",setup:function(r){var t=Object(I.inject)("tileLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return an(i.projection).getExtent()}),a=Object(I.computed)(function(){return qn(o.value)}),s=Object(I.computed)(function(){return fn(o.value)/256}),c=Object(I.computed)(function(){for(var p=new Array(14),m=new Array(14),w=0;w<14;++w)p[w]=s.value/Math.pow(2,w),m[w]=w;return new h_({origin:a.value,resolutions:p,matrixIds:m})}),h=Object(I.computed)(function(){return new YS(Ce(Ce({},i),{},{projection:typeof i.projection=="string"?i.projection:new Ra(Ce({},i.projection)),tileGrid:c.value}))});return Object(I.watch)(h,function(){t.value.setSource(h.value)}),Object(I.watch)(t,function(){t.value.setSource(h.value)}),Object(I.onMounted)(function(){t.value.setSource(h.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),{tileLayer:t,source:h}},props:{attributions:{type:String},cacheSize:{type:Number},crossOrigin:{type:String},imageSmoothing:{type:Boolean,default:!0},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tilePixelRatio:{type:Number,default:1},format:{type:String,default:"image/jpeg"},version:{type:String,default:"1.0.0"},matrixSet:{type:String},dimensions:{type:Object},requestEncoding:{type:String,default:"KVP"},url:{type:String},urls:{type:Array},wrapX:{type:Boolean,default:!1},transition:{type:Number},layer:{type:String},style:{type:String}}},d_=Ae()(G4,[["render",N4]]);function U4(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var k4={name:"ol-source-vector",setup:function(r){var t=Object(I.inject)("vectorLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new lc(i)}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(I.watch)(i,function(){a()}),Object(I.watch)(t,function(){a()}),Object(I.onMounted)(function(){t.value.setSource(o.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),Object(I.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},p_=Ae()(k4,[["render",U4]]);function z4(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var V4={name:"ol-source-cluster",setup:function(r){var t=Object(I.inject)("vectorLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){var s=new IS(i);return s}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(I.watch)(i,function(){a()}),Object(I.watch)(t,function(){a()}),Object(I.onMounted)(function(){t.value.setSource(o.value),t.value.changed()}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),Object(I.provide)("vectorLayer",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},distance:{type:Number,default:20},geometryFunction:{type:Function,default:function(r){return r.getGeometry()}},wrapX:{type:Boolean,default:!0}}},v_=Ae()(V4,[["render",z4]]);function W4(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var Y4=u("e4e0"),H4=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function X4(n){var r=n[0],t=new Array(r),e=1<<r-1,i,o;for(i=0;i<r;++i)o=48,n[1]&e&&(o+=1),n[2]&e&&(o+=2),t[i]=String.fromCharCode(o),e>>=1;return t.join("")}var K4='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',$4=function(n){H4(r,n);function r(t){var e=this,i=t.hidpi!==void 0?t.hidpi:!1,o=t.imageSmoothing!==void 0?t.imageSmoothing:!0;t.interpolate!==void 0&&(o=t.interpolate),e=n.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:o,opaque:!0,projection:an("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:Ms.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,zDirection:t.zDirection})||this,e.hidpi_=i,e.culture_=t.culture!==void 0?t.culture:"en-us",e.maxZoom_=t.maxZoom!==void 0?t.maxZoom:-1,e.apiKey_=t.key,e.imagerySet_=t.imagerySet;var a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+e.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+e.apiKey_+"&c="+e.culture_;return Object(Y4.a)(a,e.handleImageryMetadataResponse.bind(e),void 0,"jsonp"),e}return r.prototype.getApiKey=function(){return this.apiKey_},r.prototype.getImagerySet=function(){return this.imagerySet_},r.prototype.handleImageryMetadataResponse=function(t){if(t.statusCode!=200||t.statusDescription!="OK"||t.authenticationResultCode!="ValidCredentials"||t.resourceSets.length!=1||t.resourceSets[0].resources.length!=1){this.setState(Ms.ERROR);return}var e=t.resourceSets[0].resources[0],i=this.maxZoom_==-1?e.zoomMax:this.maxZoom_,o=this.getProjection(),a=n0(o),s=this.hidpi_?2:1,c=e.imageWidth==e.imageHeight?e.imageWidth/s:[e.imageWidth/s,e.imageHeight/s],h=jS({extent:a,minZoom:e.zoomMin,maxZoom:i,tileSize:c});this.tileGrid=h;var p=this.culture_,m=this.hidpi_;if(this.tileUrlFunction=i0(e.imageUrlSubdomains.map(function(R){var M=[0,0,0],U=e.imageUrl.replace("{subdomain}",R).replace("{culture}",p);return function(Z,lt,pt){if(Z){Yv(Z[0],Z[1],Z[2],M);var xt=U;return m&&(xt+="&dpi=d1&device=mobile"),xt.replace("{quadkey}",X4(M))}else return}})),e.imageryProviders){var w=Dl(an("EPSG:4326"),this.getProjection());this.setAttributions(function(R){var M=[],U=R.viewState,Z=this.getTileGrid(),lt=Z.getZForResolution(U.resolution,this.zDirection),pt=Z.getTileCoordForCoordAndZ(U.center,lt),xt=pt[0];return e.imageryProviders.map(function(ht){for(var Vt=!1,kt=ht.coverageAreas,Zt=0,Xt=kt.length;Zt<Xt;++Zt){var ce=kt[Zt];if(xt>=ce.zoomMin&&xt<=ce.zoomMax){var Ve=ce.bbox,Ne=[Ve[1],Ve[0],Ve[3],Ve[2]],Ee=al(Ne,w);if(vi(Ee,R.extent)){Vt=!0;break}}}Vt&&M.push(ht.attribution)}),M.push(K4),M}.bind(this))}this.setState(Ms.READY)},r}(o0),Z4=$4,q4={name:"ol-source-bingmaps",setup:function(r){var t=Object(I.inject)("tileLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new Z4(Ce(Ce({},i),{},{key:i.apiKey}))});return Object(I.watch)(o,function(){t.value.setSource(o.value)}),Object(I.watch)(t,function(){t.value.setSource(o.value)}),Object(I.onMounted)(function(){t.value.setSource(o.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{cacheSize:{type:Number},hidpi:{type:Boolean,default:!1},culture:{type:String,default:"en-us"},apiKey:{type:String},imagerySet:{type:String},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number,default:.5},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},HS=Ae()(q4,[["render",W4]]);function J4(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}u("d9e2");function Q4(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function XS(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function t6(n,r,t){return r&&XS(n.prototype,r),t&&XS(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function KS(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function s0(n,r){return s0=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e},s0(n,r)}function e6(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&s0(n,r)}u("4ae1"),u("f8c9"),u("3410");function l0(n){return l0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},l0(n)}function $S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}u("e01a"),u("d28b"),u("e260"),u("3ca3"),u("ddb0");function g_(n){return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},g_(n)}function r6(n,r){if(r&&(g_(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KS(n)}function n6(n){var r=$S();return function(){var e=l0(n),i;if(r){var o=l0(this).constructor;i=Reflect.construct(e,arguments,o)}else i=e.apply(this,arguments);return r6(this,i)}}u("99af"),u("ac1f"),u("5319");var i6=function(n){e6(t,n);var r=n6(t);function t(e){var i;Q4(this,t),t.layerLabelMap={vec:"cva",ter:"cta",img:"cia"},t.layerZoomMap={vec:18,ter:14,img:18};var o=e||{};o.layerType=o.layerType||"vec",o.layerType=o.isLabel?t.layerLabelMap[o.layerType]:o.layerType,o.matrixSet=o.projection==="EPSG:4326"||o.projection==="EPSG:4490"?"c":"w",!o.url&&!o.urls&&(o.url="https://t{0-7}.tianditu.gov.cn/{layer}_{proj}/wmts?"),o.tk&&(o.url="".concat(o.url,"tk=").concat(o.tk)),o.url=o.url.replace("{layer}",o.layerType).replace("{proj}",o.matrixSet);var a=o.tileGrid||t.getTileGrid(o.projection||"EPSG:3857"),s=o.crossOrigin!==void 0?o.crossOrigin:"anonymous",c={version:o.version||"1.0.0",format:o.format||"tiles",dimensions:o.dimensions||{},layer:o.layerType,matrixSet:o.matrixSet,tileGrid:a,style:o.style||"default",cacheSize:o.cacheSize,crossOrigin:s,opaque:o.opaque===void 0?!0:o.opaque,maxZoom:t.layerZoomMap[o.layerType],reprojectionErrorThreshold:o.reprojectionErrorThreshold,url:o.url,urls:o.urls,projection:o.projection||"EPSG:3857",wrapX:o.wrapX};o.tileProxy&&(c.tileLoadFunction=p),i=r.call(this,c),o.tileProxy&&(i.tileProxy=o.tileProxy);var h=KS(i);function p(m,w){m.getImage().src=h.tileProxy+encodeURIComponent(w)}return i}return t6(t,null,[{key:"getTileGrid",value:function(i){return i==="EPSG:4326"||i==="EPSG:4490"?t.default4326TileGrid():t.default3857TileGrid()}},{key:"default4326TileGrid",value:function(){for(var i=[],o=[],a=1;a<19;a++)i.push(.703125*2/Math.pow(2,a)),o.push(a);var s=new h_({extent:[-180,-90,180,90],resolutions:i,origin:[-180,90],matrixIds:o,minZoom:1});return s}},{key:"default3857TileGrid",value:function(){for(var i=[],o=[],a=1;a<19;a++)i.push(78271.51696402031*2/Math.pow(2,a)),o.push(a);var s=new h_({extent:[-200375083427892e-7,-200375083427892e-7,200375083427892e-7,200375083427892e-7],resolutions:i,matrixIds:o,origin:[-200375083427892e-7,200375083427892e-7],minZoom:1});return s}}]),t}(YS),o6={name:"ol-source-tianditu",setup:function(r){var t=Object(I.inject)("tileLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new i6(i)});return Object(I.watch)(o,function(){t.value.setSource(o.value)}),Object(I.watch)(t,function(){t.value.setSource(o.value)}),Object(I.onMounted)(function(){t.value.setSource(o.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),{layer:t,source:o}},props:{layerType:{type:String,default:"img"},tk:{type:String},isLabel:{type:Boolean,default:!1},cacheSize:{type:Number},crossOrigin:{type:String},projection:{Type:String,default:"EPSG:3857"},hidpi:{type:Boolean,default:!1},requestEncoding:{type:String,default:"KVP"},format:{type:String},version:{type:String,default:"1.0.0"},culture:{type:String,default:"en-us"},matrixSet:{type:String},dimensions:{type:Object,default:function(){}},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number},tileLoadFunction:{type:Function,default:function(r,t){return r.getImage().src=t}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}},y_=Ae()(o6,[["render",J4]]);function a6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var cf="1.3.0",ff={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},s6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hf=4,ZS=[101,101],l6=function(n){s6(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;return i.interpolate!==void 0&&(o=i.interpolate),e=n.call(this,{attributions:i.attributions,interpolate:o,projection:i.projection,resolutions:i.resolutions})||this,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null,e.url_=i.url,e.imageLoadFunction_=i.imageLoadFunction!==void 0?i.imageLoadFunction:VS,e.params_=i.params||{},e.v13_=!0,e.updateV13_(),e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.image_=null,e.imageSize_=[0,0],e.renderedRevision_=0,e.ratio_=i.ratio!==void 0?i.ratio:1.5,e}return r.prototype.getFeatureInfoUrl=function(t,e,i,o){if(this.url_!==void 0){var a=an(i),s=this.getProjection();s&&s!==a&&(e=zv(s,a,t,e),t=pn(t,a,s));var c=Pi(t,e,0,ZS),h={SERVICE:"WMS",VERSION:cf,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(Ir.a)(h,this.params_,o);var p=bc((t[0]-c[0])/e,hf),m=bc((c[3]-t[1])/e,hf);return h[this.v13_?"I":"X"]=p,h[this.v13_?"J":"Y"]=m,this.getRequestUrl_(c,ZS,1,s||a,h)}},r.prototype.getLegendUrl=function(t,e){if(this.url_!==void 0){var i={SERVICE:"WMS",VERSION:cf,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;i.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,c=28e-5;i.SCALE=t*s/c}return Object(Ir.a)(i,e),qd(this.url_,i)}},r.prototype.getParams=function(){return this.params_},r.prototype.getImageInternal=function(t,e,i,o){if(this.url_===void 0)return null;e=this.findNearestResolution(e),i!=1&&(!this.hidpi_||this.serverType_===void 0)&&(i=1);var a=e/i,s=Kn(t),c=gu(fn(t)/a,hf),h=gu(Ur(t)/a,hf),p=Pi(s,a,0,[c,h]),m=gu(this.ratio_*fn(t)/a,hf),w=gu(this.ratio_*Ur(t)/a,hf),R=Pi(s,a,0,[m,w]),M=this.image_;if(M&&this.renderedRevision_==this.getRevision()&&M.getResolution()==e&&M.getPixelRatio()==i&&he(M.getExtent(),p))return M;var U={SERVICE:"WMS",VERSION:cf,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(Ir.a)(U,this.params_),this.imageSize_[0]=Jp(fn(R)/a,hf),this.imageSize_[1]=Jp(Ur(R)/a,hf);var Z=this.getRequestUrl_(R,this.imageSize_,i,o,U);return this.image_=new Fx(R,e,i,Z,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(Qr.a.CHANGE,this.handleImageChange.bind(this)),this.image_},r.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},r.prototype.getRequestUrl_=function(t,e,i,o,a){if(qt(this.url_!==void 0,9),a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),i!=1)switch(this.serverType_){case ff.GEOSERVER:var s=90*i+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+s:a.FORMAT_OPTIONS="dpi:"+s;break;case ff.MAPSERVER:a.MAP_RESOLUTION=90*i;break;case ff.CARMENTA_SERVER:case ff.QGIS:a.DPI=90*i;break;default:qt(!1,8);break}a.WIDTH=e[0],a.HEIGHT=e[1];var c=o.getAxisOrientation(),h;return this.v13_&&c.substr(0,2)=="ne"?h=[t[1],t[0],t[3],t[2]]:h=t,a.BBOX=h.join(","),qd(this.url_,a)},r.prototype.getUrl=function(){return this.url_},r.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},r.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},r.prototype.updateParams=function(t){Object(Ir.a)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},r.prototype.updateV13_=function(){var t=this.params_.VERSION||cf;this.v13_=C(t,"1.3")>=0},r}(WS),u6=l6,c6={name:"ol-source-image-wms",setup:function(r){var t=Object(I.inject)("imageLayer"),e=ar(r),i=e.properties,o=function(){return new u6(Ce(Ce({},i),{},{params:{LAYERS:r.layers,STYLES:r.styles,TIME:r.time},projection:typeof i.projection=="string"?i.projection:new Ra(Ce({},i.projection))}))},a=o();return Object(I.watch)(i,function(){t.setSource(null),a=o(),t.setSource(a)}),Object(I.onMounted)(function(){t.setSource(a)}),Object(I.onUnmounted)(function(){t.setSource(null)}),{layer:t,source:a}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},format:{type:String,default:"image/png"},version:{type:String,default:"1.3.0"},matrixSet:{type:String},serverType:{type:String,default:"mapserver"},imageSmoothing:{type:Boolean,default:!0},layers:{type:[String,Array],required:!0},styles:{type:[String,Array],default:""},time:{type:String},ratio:{type:Number,default:1},imageSize:{type:Array},url:{type:String},params:{type:Object}}},m_=Ae()(c6,[["render",a6]]);function f6(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var h6={name:"ol-source-webglpoints",setup:function(r){var t=Object(I.inject)("webglPointsLayer"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new lc(i)}),a=function(){t.value.setSource(null),t.value.setSource(o.value),t.value.changed()};return Object(I.watch)(i,function(){a()}),Object(I.watch)(t,function(){a()}),Object(I.onMounted)(function(){t.value.setSource(o.value)}),Object(I.onUnmounted)(function(){t.value.setSource(null)}),Object(I.provide)("vectorSource",o),{layer:t,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}},__=Ae()(h6,[["render",f6]]);function u0(n){u0.installed||(u0.installed=!0,n.component(s_.name,s_),n.component(l_.name,l_),n.component(f_.name,f_),n.component(d_.name,d_),n.component(p_.name,p_),n.component(v_.name,v_),n.component(HS.name,HS),n.component(y_.name,y_),n.component(m_.name,m_),n.component(__.name,__))}var d6=u0;function p6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var v6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qS=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],JS={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},g6=function(n){v6(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.on,e.once,e.un,e.cssClassName_=i.className!==void 0?i.className:"ol-full-screen",e.documentListeners_=[],e.activeClassName_=i.activeClassName!==void 0?i.activeClassName.split(" "):[e.cssClassName_+"-true"],e.inactiveClassName_=i.inactiveClassName!==void 0?i.inactiveClassName.split(" "):[e.cssClassName_+"-false"];var o=i.label!==void 0?i.label:"\u2922";e.labelNode_=typeof o=="string"?document.createTextNode(o):o;var a=i.labelActive!==void 0?i.labelActive:"\xD7";e.labelActiveNode_=typeof a=="string"?document.createTextNode(a):a,e.button_=document.createElement("button");var s=i.tipLabel?i.tipLabel:"Toggle full-screen";return e.button_.setAttribute("type","button"),e.button_.title=s,e.button_.appendChild(e.labelNode_),e.button_.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e),!1),e.element.className=e.cssClassName_+" "+er+" "+Pt,e.element.appendChild(e.button_),e.keys_=i.keys!==void 0?i.keys:!1,e.source_=i.source,e.isInFullscreen_=!1,e.boundHandleMapTargetChange_=e.handleMapTargetChange_.bind(e),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},r.prototype.handleFullScreen_=function(){var t=this.getMap();if(!!t){var e=t.getOwnerDocument();if(!!QS(e))if(tw(e))m6(e);else{var i=void 0;this.source_?i=typeof this.source_=="string"?e.getElementById(this.source_):this.source_:i=t.getTargetElement(),this.keys_?y6(i):ew(i)}}},r.prototype.handleFullScreenChange_=function(){var t=this.getMap();if(!!t){var e=this.isInFullscreen_;this.isInFullscreen_=tw(t.getOwnerDocument()),e!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(Object(je.g)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(JS.ENTERFULLSCREEN)):(Object(je.g)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(JS.LEAVEFULLSCREEN)),t.updateSize())}},r.prototype.setClassName_=function(t,e){var i,o,a,s=this.activeClassName_,c=this.inactiveClassName_,h=e?s:c;(i=t.classList).remove.apply(i,s),(o=t.classList).remove.apply(o,c),(a=t.classList).add.apply(a,h)},r.prototype.setMap=function(t){var e=this.getMap();e&&e.removeChangeListener(wi.TARGET,this.boundHandleMapTargetChange_),n.prototype.setMap.call(this,t),this.handleMapTargetChange_(),t&&t.addChangeListener(wi.TARGET,this.boundHandleMapTargetChange_)},r.prototype.handleMapTargetChange_=function(){for(var t=this.documentListeners_,e=0,i=t.length;e<i;++e)Object(Tr.c)(t[e]);t.length=0;var o=this.getMap();if(o){var a=o.getOwnerDocument();QS(a)?this.element.classList.remove(Rt):this.element.classList.add(Rt);for(var e=0,i=qS.length;e<i;++e)t.push(Object(Tr.a)(a,qS[e],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}},r}(ii.default);function QS(n){var r=n.body;return!!(r.webkitRequestFullscreen||r.msRequestFullscreen&&n.msFullscreenEnabled||r.requestFullscreen&&n.fullscreenEnabled)}function tw(n){return!!(n.webkitIsFullScreen||n.msFullscreenElement||n.fullscreenElement)}function ew(n){n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function y6(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():ew(n)}function m6(n){n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}var _6=g6;function E_(n,r){(r==null||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function E6(n){if(Array.isArray(n))return E_(n)}u("a630");function x6(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}u("fb6a"),u("00b4");function S6(n,r){if(!!n){if(typeof n=="string")return E_(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E_(n,r)}}function w6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rw(n){return E6(n)||x6(n)||S6(n)||w6()}u("4e82"),u("c740"),u("a434");function ia(n,r,t){var e=Object(I.inject)("map"),i=Object(I.inject)("controlBar",null),o=i!=null?i.value:e,a=ar(r),s=a.properties,c=Object(I.computed)(function(){return new n(Ce({},s))});return c.value.set("order",t.attrs.order==null?0:t.attrs.order),Object(I.watch)(c,function(h,p){o.removeControl&&(o.removeControl(p),o.addControl(h),e.changed())}),Object(I.onMounted)(function(){if(o.addControl(c.value),o.controls_!=null){var h=rw(o.controls_);h.sort(function(p,m){return p.get("order")-m.get("order")}),o.controls_=[],h.forEach(function(p){o.addControl(p)}),o.changed()}e.changed()}),Object(I.onUnmounted)(function(){if(o.removeControl)o.removeControl(c.value);else{var h=o.controls_.findIndex(function(p){return p==c.value});o.controls_.splice(h,1),c.value.dispose()}e.changed()}),{map:e,control:c}}var O6={name:"ol-fullscreen-control",setup:function(r,t){var e=ia(_6,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-full-screen"},label:{type:String,default:"\u2922"},labelActive:{type:String,default:"\xD7"},activeClassName:{type:String,default:"ol-full-screen-true"},inactiveClassName:{type:String,default:"ol-full-screen-false"},tipLabel:{type:String,default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{type:Object,default:void 0},source:{type:Object,default:void 0}}},x_=Ae()(O6,[["render",p6]]);function T6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var b6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S_="projection",nw="coordinateFormat",C6=function(n){b6(r,n);function r(t){var e=this,i=t||{},o=document.createElement("div");o.className=i.className!==void 0?i.className:"ol-mouse-position",e=n.call(this,{element:o,render:i.render,target:i.target})||this,e.on,e.once,e.un,e.addChangeListener(S_,e.handleProjectionChanged_),i.coordinateFormat&&e.setCoordinateFormat(i.coordinateFormat),i.projection&&e.setProjection(i.projection);var a=!0,s="&#160;";return"undefinedHTML"in i?(i.undefinedHTML!==void 0&&(s=i.undefinedHTML),a=!!s):"placeholder"in i&&(i.placeholder===!1?a=!1:s=String(i.placeholder)),e.placeholder_=s,e.renderOnMouseOut_=a,e.renderedHTML_=o.innerHTML,e.mapProjection_=null,e.transform_=null,e}return r.prototype.handleProjectionChanged_=function(){this.transform_=null},r.prototype.getCoordinateFormat=function(){return this.get(nw)},r.prototype.getProjection=function(){return this.get(S_)},r.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},r.prototype.handleMouseOut=function(t){this.updateHTML_(null)},r.prototype.setMap=function(t){if(n.prototype.setMap.call(this,t),t){var e=t.getViewport();this.listenerKeys.push(Object(Tr.a)(e,la.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(Tr.a)(e,la.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},r.prototype.setCoordinateFormat=function(t){this.set(nw,t)},r.prototype.setProjection=function(t){this.set(S_,an(t))},r.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();i?this.transform_=Dl(this.mapProjection_,i):this.transform_=Qu}var o=this.getMap(),a=o.getCoordinateFromPixelInternal(t);if(a){var s=ca();s&&(this.transform_=Dl(this.mapProjection_,s)),this.transform_(a,a);var c=this.getCoordinateFormat();c?e=c(a):e=a.toString()}}(!this.renderedHTML_||e!==this.renderedHTML_)&&(this.element.innerHTML=e,this.renderedHTML_=e)},r.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},r}(ii.default),A6=C6,L6={name:"ol-mouseposition-control",setup:function(r,t){var e=ia(A6,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-mouse-position"},coordinateFormat:{type:[String,Function]},projection:{type:String},render:{type:Function},target:{type:HTMLElement},undefinedHTML:{type:String,default:"&#160;"}}},w_=Ae()(L6,[["render",T6]]);function R6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var P6={name:"ol-attribution-control",setup:function(r,t){var e=ia(ch,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-attribution"},target:{type:HTMLElement},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{type:String,default:"Attributions"},label:{type:String,default:"i"},expandClassName:{type:String,default:"ol-attribution-expand"},collapseLabel:{type:String,default:"\xBB"},collapseClassName:{type:String,default:"ol-attribution-collapse"},render:{type:Function}}},O_=Ae()(P6,[["render",R6]]);function I6(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var iw=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T_=.75,c0=.1,M6=function(n){iw(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.createRenderer=function(){return new fi(this)},r}(pv),N6=function(n){iw(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.boundHandleRotationChanged_=e.handleRotationChanged_.bind(e),e.collapsed_=i.collapsed!==void 0?i.collapsed:!0,e.collapsible_=i.collapsible!==void 0?i.collapsible:!0,e.collapsible_||(e.collapsed_=!1),e.rotateWithView_=i.rotateWithView!==void 0?i.rotateWithView:!1,e.viewExtent_=void 0;var o=i.className!==void 0?i.className:"ol-overviewmap",a=i.tipLabel!==void 0?i.tipLabel:"Overview map",s=i.collapseLabel!==void 0?i.collapseLabel:"\u2039";typeof s=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=s):e.collapseLabel_=s;var c=i.label!==void 0?i.label:"\u203A";typeof c=="string"?(e.label_=document.createElement("span"),e.label_.textContent=c):e.label_=c;var h=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_,p=document.createElement("button");p.setAttribute("type","button"),p.title=a,p.appendChild(h),p.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e),!1),e.ovmapDiv_=document.createElement("div"),e.ovmapDiv_.className="ol-overviewmap-map",e.view_=i.view,e.ovmap_=new M6({view:i.view});var m=e.ovmap_;i.layers&&i.layers.forEach(function(Vt){m.addLayer(Vt)});var w=document.createElement("div");w.className="ol-overviewmap-box",w.style.boxSizing="border-box",e.boxOverlay_=new Lu({position:[0,0],positioning:$i.CENTER_CENTER,element:w}),e.ovmap_.addOverlay(e.boxOverlay_);var R=o+" "+er+" "+Pt+(e.collapsed_&&e.collapsible_?" "+ue:"")+(e.collapsible_?"":" ol-uncollapsible"),M=e.element;M.className=R,M.appendChild(e.ovmapDiv_),M.appendChild(p);var U=e,Z=e.boxOverlay_,lt=e.boxOverlay_.getElement(),pt=function(Vt){return{clientX:Vt.clientX,clientY:Vt.clientY}},xt=function(Vt){var kt=pt(Vt),Zt=m.getEventCoordinateInternal(kt);Z.setPosition(Zt)},ht=function(Vt){var kt=m.getEventCoordinateInternal(Vt);U.getMap().getView().setCenterInternal(kt),window.removeEventListener("mousemove",xt),window.removeEventListener("mouseup",ht)};return lt.addEventListener("mousedown",function(){window.addEventListener("mousemove",xt),window.addEventListener("mouseup",ht)}),e}return r.prototype.setMap=function(t){var e=this.getMap();if(t!==e){if(e){var i=e.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(n.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(Tr.a)(t,xe.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},r.prototype.handleMapPropertyChange_=function(t){if(t.key===wi.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(t.key===wi.TARGET||t.key===wi.SIZE)&&this.ovmap_.updateSize()},r.prototype.bindView_=function(t){if(!this.view_){var e=new ui({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(ko.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},r.prototype.unbindView_=function(t){t.removeChangeListener(ko.ROTATION,this.boundHandleRotationChanged_)},r.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},r.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),o=t.getView(),a=o.calculateExtentInternal(i);if(!(this.viewExtent_&&hr(a,this.viewExtent_))){this.viewExtent_=a;var s=e.getSize(),c=e.getView(),h=c.calculateExtentInternal(s),p=e.getPixelFromCoordinateInternal(qn(a)),m=e.getPixelFromCoordinateInternal(Ji(a)),w=Math.abs(p[0]-m[0]),R=Math.abs(p[1]-m[1]),M=s[0],U=s[1];w<M*c0||R<U*c0||w>M*T_||R>U*T_?this.resetExtent_():he(h,a)||this.recenter_()}}},r.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),o=t.getView(),a=o.calculateExtentInternal(i),s=e.getView(),c=Math.log(T_/c0)/Math.LN2,h=1/(Math.pow(2,c/2)*c0);Bo(a,h),s.fitInternal(hs(a))},r.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView(),o=e.getView();o.setCenterInternal(i.getCenterInternal())},r.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(!(!t.isRendered()||!e.isRendered())){var i=t.getSize(),o=t.getView(),a=e.getView(),s=this.rotateWithView_?0:-o.getRotation(),c=this.boxOverlay_,h=this.boxOverlay_.getElement(),p=o.getCenterInternal(),m=o.getResolution(),w=a.getResolution(),R=i[0]*m/w,M=i[1]*m/w;if(c.setPosition(p),h){h.style.width=R+"px",h.style.height=M+"px";var U="rotate("+s+"rad)";h.style.transform=U}}},r.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(Tr.b)(this.ovmap_,un.a.POSTRENDER,function(t){delete this.ovmapPostrenderKey_,this.updateBox_()},this))},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},r.prototype.handleToggle_=function(){this.element.classList.toggle(ue),this.collapsed_?Object(je.g)(this.collapseLabel_,this.label_):Object(je.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered()){this.viewExtent_=void 0,t.render();return}t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){!this.collapsible_||this.collapsed_===t||this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},r.prototype.getOverviewMap=function(){return this.ovmap_},r.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},r}(ii.default),F6=N6,j6={name:"ol-overviewmap-control",setup:function(r,t){var e=Object(I.inject)("map"),i=ia(F6,r,t),o=i.control;return Object(I.onMounted)(function(){o.value.setMap(e)}),Object(I.onUnmounted)(function(){o.value.setMap(null)}),Object(I.provide)("overviewMap",o),{control:o}},props:{className:{type:String,default:"ol-overviewmap"},collapsed:{type:Boolean,default:!0},collapseLabel:{type:String,default:"\xAB"},collapsible:{type:Boolean,default:!0},label:{type:String,default:"\xBB"},render:{type:Function},rotateWithView:{type:Boolean,default:!1},target:{type:HTMLElement},tipLabel:{type:String,default:"Overview map"}}},b_=Ae()(j6,[["render",I6]]);function D6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var B6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),C_="units",Oh={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},G6=[1,2,5],A_=25.4/.28,U6=function(n){B6(r,n);function r(t){var e=this,i=t||{},o=i.className!==void 0?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return e=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,e.on,e.once,e.un,e.innerElement_=document.createElement("div"),e.innerElement_.className=o+"-inner",e.element.className=o+" "+er,e.element.appendChild(e.innerElement_),e.viewState_=null,e.minWidth_=i.minWidth!==void 0?i.minWidth:64,e.renderedVisible_=!1,e.renderedWidth_=void 0,e.renderedHTML_="",e.addChangeListener(C_,e.handleUnitsChanged_),e.setUnits(i.units||Oh.METRIC),e.scaleBar_=i.bar||!1,e.scaleBarSteps_=i.steps||4,e.scaleBarText_=i.text||!1,e.dpi_=i.dpi||void 0,e}return r.prototype.getUnits=function(){return this.get(C_)},r.prototype.handleUnitsChanged_=function(){this.updateElement_()},r.prototype.setUnits=function(t){this.set(C_,t)},r.prototype.setDpi=function(t){this.dpi_=t},r.prototype.updateElement_=function(){var t=this.viewState_;if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=t.center,i=t.projection,o=this.getUnits(),a=o==Oh.DEGREES?Hi.DEGREES:Hi.METERS,s=Fc(i,t.resolution,e,a),c=this.minWidth_*(this.dpi_||A_)/A_,h=c*s,p="";if(o==Oh.DEGREES){var m=To[Hi.DEGREES];h*=m,h<m/60?(p="\u2033",s*=3600):h<m?(p="\u2032",s*=60):p="\xB0"}else o==Oh.IMPERIAL?h<.9144?(p="in",s/=.0254):h<1609.344?(p="ft",s/=.3048):(p="mi",s/=1609.344):o==Oh.NAUTICAL?(s/=1852,p="nm"):o==Oh.METRIC?h<.001?(p="\u03BCm",s*=1e6):h<1?(p="mm",s*=1e3):h<1e3?p="m":(p="km",s/=1e3):o==Oh.US?h<.9144?(p="in",s*=39.37):h<1609.344?(p="ft",s/=.30480061):(p="mi",s/=1609.3472):qt(!1,33);for(var w=3*Math.floor(Math.log(c*s)/Math.log(10)),R,M,U;;){U=Math.floor(w/3);var Z=Math.pow(10,U);if(R=G6[(w%3+3)%3]*Z,M=Math.round(R/s),isNaN(M)){this.element.style.display="none",this.renderedVisible_=!1;return}else if(M>=c)break;++w}var lt;this.scaleBar_?lt=this.createScaleBar(M,R,p):lt=R.toFixed(U<0?-U:0)+" "+p,this.renderedHTML_!=lt&&(this.innerElement_.innerHTML=lt,this.renderedHTML_=lt),this.renderedWidth_!=M&&(this.innerElement_.style.width=M+"px",this.renderedWidth_=M),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)},r.prototype.createScaleBar=function(t,e,i){for(var o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),a=[],s=t/this.scaleBarSteps_,c="#ffffff",h=0;h<this.scaleBarSteps_;h++)h===0&&a.push(this.createMarker("absolute",h)),a.push('<div><div class="ol-scale-singlebar" style="width: '+s+"px;background-color: "+c+';"></div>'+this.createMarker("relative",h)+(h%2===0||this.scaleBarSteps_===2?this.createStepText(h,t,!1,e,i):"")+"</div>"),h===this.scaleBarSteps_-1&&a.push(this.createStepText(h+1,t,!0,e,i)),c==="#ffffff"?c="#000000":c="#ffffff";var p;this.scaleBarText_?p='<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":p="";var m='<div style="display: flex;">'+p+a.join("")+"</div>";return m},r.prototype.createMarker=function(t,e){var i=t==="absolute"?3:-10;return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+i+'px;"></div>'},r.prototype.createStepText=function(t,e,i,o,a){var s=t===0?0:Math.round(o/this.scaleBarSteps_*t*100)/100,c=s+(t===0?"":" "+a),h=t===0?-3:e/this.scaleBarSteps_*-1,p=t===0?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+h+"px;text-align: "+(t===0?"left":"center")+"; min-width: "+p+"px;left: "+(i?e+"px":"unset")+';">'+c+"</div>"},r.prototype.getScaleForResolution=function(){var t=Fc(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,Hi.METERS),e=this.dpi_||A_,i=1e3/25.4;return parseFloat(t.toString())*i*e},r.prototype.render=function(t){var e=t.frameState;e?this.viewState_=e.viewState:this.viewState_=null,this.updateElement_()},r}(ii.default),k6=U6,z6={name:"ol-scaleline-control",setup:function(r,t){var e=ia(k6,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-scale-line"},minWidth:{type:Number,default:64},render:{type:Function},target:{type:HTMLElement},units:{type:String,default:"metric"},bar:{type:Boolean,default:!1},steps:{type:Number,default:4},text:{type:Boolean,default:!1},dpi:{type:Number,default:void 0}}},L_=Ae()(z6,[["render",D6]]);function V6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var W6={name:"ol-zoom-control",setup:function(r,t){var e=ia(hh,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:250},className:{type:String,default:"ol-zoom"},zoomInClassName:{type:String,default:"ol-zoom-in"},zoomOutClassName:{type:String,default:"ol-zoom-out"},zoomInLabel:{type:String,default:"+"},zoomOutLabel:{type:String,default:"-"},zoomInTipLabel:{type:String,default:"Zoom in"},zoomOutTipLabel:{type:String,default:"Zoom Out"},delta:{type:Number,default:1},target:{type:HTMLElement}}},R_=Ae()(W6,[["render",V6]]);function Y6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var H6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jv={VERTICAL:0,HORIZONTAL:1},X6=function(n){H6(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),render:i.render})||this,e.dragListenerKeys_=[],e.currentResolution_=void 0,e.direction_=Jv.VERTICAL,e.dragging_,e.heightLimit_=0,e.widthLimit_=0,e.startX_,e.startY_,e.thumbSize_=null,e.sliderInitialized_=!1,e.duration_=i.duration!==void 0?i.duration:200;var o=i.className!==void 0?i.className:"ol-zoomslider",a=document.createElement("button");a.setAttribute("type","button"),a.className=o+"-thumb "+er;var s=e.element;return s.className=o+" "+er+" "+Pt,s.appendChild(a),s.addEventListener(la.POINTERDOWN,e.handleDraggerStart_.bind(e),!1),s.addEventListener(la.POINTERMOVE,e.handleDraggerDrag_.bind(e),!1),s.addEventListener(la.POINTERUP,e.handleDraggerEnd_.bind(e),!1),s.addEventListener(Qr.a.CLICK,e.handleContainerClick_.bind(e),!1),a.addEventListener(Qr.a.CLICK,ze.b,!1),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),t&&t.render()},r.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight;if(e===0&&i===0)return this.sliderInitialized_=!1;var o=getComputedStyle(t);e-=parseFloat(o.paddingRight)+parseFloat(o.paddingLeft),i-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom);var a=t.firstElementChild,s=getComputedStyle(a),c=a.offsetWidth+parseFloat(s.marginRight)+parseFloat(s.marginLeft),h=a.offsetHeight+parseFloat(s.marginTop)+parseFloat(s.marginBottom);return this.thumbSize_=[c,h],e>i?(this.direction_=Jv.HORIZONTAL,this.widthLimit_=e-c):(this.direction_=Jv.VERTICAL,this.heightLimit_=i-h),this.sliderInitialized_=!0},r.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),o=this.getResolutionForPosition_(i),a=e.getConstrainedZoom(e.getZoomForResolution(o));e.animateInternal({zoom:a,duration:this.duration_,easing:Pa})},r.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,this.dragListenerKeys_.length===0){var i=this.handleDraggerDrag_,o=this.handleDraggerEnd_,a=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(Tr.a)(a,la.POINTERMOVE,i,this),Object(Tr.a)(a,la.POINTERUP,o,this))}}},r.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,i=t.clientY-this.startY_,o=this.getRelativePosition_(e,i);this.currentResolution_=this.getResolutionForPosition_(o),this.getMap().getView().setResolution(this.currentResolution_)}},r.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(Tr.c),this.dragListenerKeys_.length=0}},r.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==Jv.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},r.prototype.getRelativePosition_=function(t,e){var i;return this.direction_===Jv.HORIZONTAL?i=t/this.widthLimit_:i=e/this.heightLimit_,Fi(i,0,1)},r.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},r.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return Fi(1-e(t),0,1)},r.prototype.render=function(t){if(!!t.frameState&&!(!this.sliderInitialized_&&!this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},r}(ii.default),K6=X6,$6={name:"ol-zoomslider-control",setup:function(r,t){var e=ia(K6,r,t),i=e.control;return{control:i}},props:{duration:{type:Number,default:200},className:{type:String,default:"ol-zoomslider"},render:{type:Function}}},P_=Ae()($6,[["render",Y6]]);function Z6(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var q6=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),J6=function(n){q6(r,n);function r(t){var e=this,i=t||{};e=n.call(this,{element:document.createElement("div"),target:i.target})||this,e.extent=i.extent?i.extent:null;var o=i.className!==void 0?i.className:"ol-zoom-extent",a=i.label!==void 0?i.label:"E",s=i.tipLabel!==void 0?i.tipLabel:"Fit to extent",c=document.createElement("button");c.setAttribute("type","button"),c.title=s,c.appendChild(typeof a=="string"?document.createTextNode(a):a),c.addEventListener(Qr.a.CLICK,e.handleClick_.bind(e),!1);var h=o+" "+er+" "+Pt,p=e.element;return p.className=h,p.appendChild(c),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),i=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(hs(i))},r}(ii.default),Q6=J6,tF={name:"ol-zoomtoextent-control",setup:function(r,t){var e=ia(Q6,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-zoom-extent"},target:{type:HTMLElement},label:{type:String,default:"E"},tipLabel:{type:String,default:"Fit to extent"},extent:{type:Array}}},I_=Ae()(tF,[["render",Z6]]);function eF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var rF={name:"ol-rotate-control",setup:function(r,t){var e=ia(fh,r,t),i=e.control;return{control:i}},props:{className:{type:String,default:"ol-rotate"},label:{type:String,default:"\u21E7"},tipLabel:{type:String,default:"Reset rotation"},compassClassName:{type:String,default:"ol-compass"},duration:{type:Number,default:250},autoHide:{type:Boolean,default:!1},render:{type:Function},resetNorth:{type:Function},target:{type:HTMLElement}}},ow=Ae()(rF,[["render",eF]]);function nF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var iF=u("658f"),oF=u.n(iF),aF={name:"ol-context-menu",setup:function(r,t){var e=ia(oF.a,r,t),i=e.control;return{control:i}},props:{eventType:{type:String,default:"contextmenu"},defaultItems:{type:Boolean,default:!0},width:{type:Number,default:150},items:{type:Array,default:function(){return[]}}}},M_=Ae()(aF,[["render",nF]]);function sF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var _s=function(n){n=n||{};var r=document.createElement("button"),t=document.createElement("div");t.className=(n.className||"ol-swipe")+" ol-unselectable ol-control",t.appendChild(r),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),ii.default.call(this,{element:t}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],n.layers&&this.addLayer(n.layers,!1),n.rightLayers&&this.addLayer(n.rightLayers,!0),this.on("propertychange",function(e){if(this.getMap())try{this.getMap().renderSync()}catch{}this.get("orientation")==="horizontal"?(this.element.style.top=this.get("position")*100+"%",this.element.style.left=""):(this.get("orientation")!=="vertical"&&this.set("orientation","vertical"),this.element.style.left=this.get("position")*100+"%",this.element.style.top=""),e.key==="orientation"&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach(function(i){i.layer.getImageRatio&&i.layer.changed()})}.bind(this)),this.set("position",n.position||.5),this.set("orientation",n.orientation||"vertical")};Ti(_s,ii.default),_s.prototype.setMap=function(n){var r,t;if(this.getMap()){for(r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.un(["precompose","prerender"],this.precomposeRight_):t.layer.un(["precompose","prerender"],this.precomposeLeft_),t.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}if(ii.default.prototype.setMap.call(this,n),n){for(this._listener=[],r=0;r<this.layers.length;r++)t=this.layers[r],t.right?t.layer.on(["precompose","prerender"],this.precomposeRight_):t.layer.on(["precompose","prerender"],this.precomposeLeft_),t.layer.on(["postcompose","postrender"],this.postcompose_);try{n.renderSync()}catch{}}},_s.prototype.isLayer_=function(n){for(var r=0;r<this.layers.length;r++)if(this.layers[r].layer===n)return r;return-1},_s.prototype.addLayer=function(n,r){n instanceof Array||(n=[n]);for(var t=0;t<n.length;t++){var e=n[t];if(this.isLayer_(e)<0&&(this.layers.push({layer:e,right:r}),this.getMap())){r?e.on(["precompose","prerender"],this.precomposeRight_):e.on(["precompose","prerender"],this.precomposeLeft_),e.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch{}}}},_s.prototype.removeLayers=function(){var n=[];this.layers.forEach(function(r){n.push(r.layer)}),this.removeLayer(n)},_s.prototype.removeLayer=function(n){n instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var t=this.isLayer_(n[r]);t>=0&&this.getMap()&&(this.layers[t].right?n[r].un(["precompose","prerender"],this.precomposeRight_):n[r].un(["precompose","prerender"],this.precomposeLeft_),n[r].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(t,1))}if(this.getMap())try{this.getMap().renderSync()}catch{}},_s.prototype.getRectangle=function(){var n;return this.get("orientation")==="vertical"?(n=this.getMap().getSize(),[0,0,n[0]*this.get("position"),n[1]]):(n=this.getMap().getSize(),[0,0,n[0],n[1]*this.get("position")])},_s.prototype.move=function(n){var r=this,t;switch(this._movefn||(this._movefn=this.move.bind(this)),n.type){case"touchcancel":case"touchend":case"mouseup":{r.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(s){document.removeEventListener(s,r._movefn)}),this.layers.forEach(function(s){s.layer.getImageRatio&&s.layer.changed()});break}case"mousedown":case"touchstart":r.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(s){document.addEventListener(s,r._movefn)});case"mousemove":case"touchmove":{if(r.isMoving)if(r.get("orientation")==="vertical"){var e=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX;if(!e)break;e-=r.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,t=r.getMap().getSize()[0];var i=t-Math.min(Math.max(0,t-e),t);t=i/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[i,r.getMap().getSize()[1]],position:[t,0]})}else{var o=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY;if(!o)break;o-=r.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,t=r.getMap().getSize()[1];var a=t-Math.min(Math.max(0,t-o),t);t=a/t,r.set("position",t),r.dispatchEvent({type:"moving",size:[r.getMap().getSize()[0],a],position:[0,t]})}break}}},_s.prototype._transformPt=function(n,r){var t=n.inversePixelTransform,e=r[0],i=r[1];return r[0]=t[0]*e+t[2]*i+t[4],r[1]=t[1]*e+t[3]*i+t[5],r},_s.prototype._drawRect=function(n,r){var t=n.inversePixelTransform;if(t){var e=[[r[0][0],r[0][1]],[r[0][0],r[1][1]],[r[1][0],r[1][1]],[r[1][0],r[0][1]],[r[0][0],r[0][1]]];if(n.context.save(),n.target.getImageRatio){var i=-Math.atan2(n.frameState.pixelToCoordinateTransform[1],n.frameState.pixelToCoordinateTransform[0]);n.context.translate(n.frameState.size[0]/2,n.frameState.size[1]/2),n.context.rotate(i),n.context.translate(-n.frameState.size[0]/2,-n.frameState.size[1]/2)}e.forEach(function(a,s){a=[a[0]*t[0]-a[1]*t[1]+t[4],-a[0]*t[2]+a[1]*t[3]+t[5]],s?n.context.lineTo(a[0],a[1]):n.context.moveTo(a[0],a[1])}),n.context.restore()}else{var o=n.frameState.pixelRatio;n.context.rect(r[0][0]*o,r[0][1]*o,r[1][0]*o,r[1][1]*o)}},_s.prototype.precomposeLeft=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),o=i[0]-e[0],a=i[1]-e[1];this.get("orientation")==="vertical"?o=Math.round(o*this.get("position")):(a=Math.round(a*this.get("position")),e[1]+=t[1]-a),r.scissor(e[0],e[1],o,a)}}else{var s=n.frameState.size;r.save(),r.beginPath();var c=[[0,0],[s[0],s[1]]];this.get("orientation")==="vertical"?c[1]=[s[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),s[1]]:c[1]=[s[0],s[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,c),r.clip()}},_s.prototype.precomposeRight=function(n){var r=n.context;if(r instanceof WebGLRenderingContext){if(n.type==="prerender"){r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.SCISSOR_TEST);var t=this.getMap().getSize(),e=this._transformPt(n,[0,t[1]]),i=this._transformPt(n,[t[0],0]),o=i[0]-e[0],a=i[1]-e[1];this.get("orientation")==="vertical"?(o=Math.round(o*(1-this.get("position"))),e[0]+=t[0]-o):a=Math.round(a*(1-this.get("position"))),r.scissor(e[0],e[1],o,a)}}else{var s=n.frameState.size;r.save(),r.beginPath();var c=[[0,0],[s[0],s[1]]];this.get("orientation")==="vertical"?c[0]=[s[0]*.5+this.getMap().getSize()[0]*(this.get("position")-.5),0]:c[0]=[0,s[1]*.5+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(n,c),r.clip()}},_s.prototype.postcompose=function(n){if(n.context instanceof WebGLRenderingContext){if(n.type==="postrender"){var r=n.context;r.disable(r.SCISSOR_TEST)}}else n.target.getClassName&&n.target.getClassName()!=="ol-layer"&&n.target.get("declutter")?setTimeout(function(){n.context.restore()},0):n.context.restore()};var lF=_s,uF={name:"ol-swipe-control",setup:function(r,t){var e=ia(lF,r,t),i=e.control,o=Object(I.toRefs)(r),a=o.layerList;return a.value.forEach(function(s,c){i.value.addLayer(s,c==1)}),{control:i}},props:{layerList:{type:Array},className:{type:String,default:"ol-swipe"},position:{type:Number,default:.5},orientation:{type:String,default:"vertical"}}},N_=Ae()(uF,[["render",sF]]);function cF(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var Zs=function(n){n||(n={});var r=document.createElement("div");if(r.classList.add("ol-unselectable","ol-control","ol-bar"),n.className){var t=n.className.split(" ").filter(function(i){return i.length>0});r.classList.add.apply(r.classList,t)}if(n.group&&r.classList.add("ol-group"),ii.default.call(this,{element:r,target:n.target}),this.set("toggleOne",n.toggleOne),this.set("autoDeactivate",n.autoDeactivate),this.controls_=[],n.controls instanceof Array)for(var e=0;e<n.controls.length;e++)this.addControl(n.controls[e])};Ti(Zs,ii.default),Zs.prototype.setVisible=function(n){n?this.element.style.display="":this.element.style.display="none"},Zs.prototype.getVisible=function(){return this.element.style.display!="none"},Zs.prototype.setMap=function(n){ii.default.prototype.setMap.call(this,n);for(var r=0;r<this.controls_.length;r++){var t=this.controls_[r];t.setMap(n)}},Zs.prototype.getControls=function(){return this.controls_},Zs.prototype.setPosition=function(n){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),n=n.split("-");for(var r=0;r<n.length;r++)switch(n[r]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+n[r]);break}},Zs.prototype.addControl=function(n){this.controls_.push(n),n.setTarget(this.element),this.getMap()&&this.getMap().addControl(n),n.on("change:active",function(r){this.onActivateControl_(r,n)}.bind(this)),n.getActive&&this.onActivateControl_({target:n,active:n.getActive()},n)},Zs.prototype.deactivateControls=function(n){for(var r=0;r<this.controls_.length;r++)this.controls_[r]!==n&&this.controls_[r].setActive&&this.controls_[r].setActive(!1)},Zs.prototype.getActiveControls=function(){for(var n=[],r=0,t;t=this.controls_[r];r++)t.getActive&&t.getActive()&&n.push(t);return n},Zs.prototype.setActive=function(n){if(!n&&this.get("autoDeactivate")&&this.deactivateControls(),n)for(var r=this.getControls(),t=0,e;e=r[t];t++)e.get("autoActivate")&&e.setActive(!0)},Zs.prototype.onActivateControl_=function(n,r){if(this.get("toggleOne")){if(n.active){var t;for(t=0;t<this.controls_.length&&this.controls_[t]!==r;t++);if(t==this.controls_.length)return;this.deactivateControls(this.controls_[t])}else if(!this.getActiveControls().length){for(var e=0,i;i=this.controls_[e];e++)if(i.get("autoActivate")){i.setActive(!0);break}}}},Zs.prototype.getControlsByName=function(n){var r=this.getControls();return r.filter(function(t){return t.get("name")===n})};var fF=Zs,hF={name:"ol-control-bar",setup:function(r,t){var e=ia(fF,r,t),i=e.control;return Object(I.provide)("controlBar",i),{control:i}},props:{toggleOne:{type:Boolean,default:!0},group:{type:Boolean,default:!0}}},F_=Ae()(hF,[["render",cF]]);function dF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}window.ol&&(ol.ext.input={});var Jd=function(n){n=n||{},Oo.a.call(this);var r=this.input=n.input;r||(r=this.input=document.createElement("INPUT"),n.type&&r.setAttribute("type",n.type),n.min!==void 0&&r.setAttribute("min",n.min),n.max!==void 0&&r.setAttribute("max",n.max),n.step!==void 0&&r.setAttribute("step",n.step),n.parent&&n.parent.appendChild(r)),n.disabled&&(r.disabled=!0),n.checked!==void 0&&(r.checked=!!n.checked),n.val!==void 0&&(r.value=n.val),n.hidden&&(r.style.display="none")};Ti(Jd,Oo.a),Jd.prototype._listenDrag=function(n,r){var t=function(e){this.moving=!0;var i=function(o){o.type==="pointerup"&&(document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",i),document.removeEventListener("pointercancel",i),setTimeout(function(){this.moving=!1}.bind(this))),o.target===n&&r(o),o.stopPropagation(),o.preventDefault()}.bind(this);document.addEventListener("pointermove",i,!1),document.addEventListener("pointerup",i,!1),document.addEventListener("pointercancel",i,!1),e.stopPropagation(),e.preventDefault()}.bind(this);n.addEventListener("mousedown",t,!1),n.addEventListener("touchstart",t,!1)},Jd.prototype.setValue=function(n){n!==void 0&&(this.input.value=n),this.input.dispatchEvent(new Event("change"))},Jd.prototype.getValue=function(){return this.input.value},Jd.prototype.getInputElement=function(){return this.input};var aw=Jd,j_=function(n){n=n||{},aw.call(this,n);var r=this.element=document.createElement("LABEL");n.html instanceof Element?r.appendChild(n.html):n.html!==void 0&&(r.innerHTML=n.html),r.className=("ol-ext-check ol-ext-checkbox"+(n.className||"")).trim(),this.input.parentNode&&this.input.parentNode.insertBefore(r,this.input),r.appendChild(this.input),r.appendChild(document.createElement("SPAN")),n.after&&r.appendChild(document.createTextNode(n.after)),this.input.addEventListener("change",function(){this.dispatchEvent({type:"check",checked:this.input.checked,value:this.input.value})}.bind(this))};Ti(j_,aw),j_.prototype.isChecked=function(){return this.input.checked};var Qv=j_,sw=function(n){n=n||{},Qv.call(this,n),this.element.className=("ol-ext-toggle-switch "+(n.className||"")).trim()};Ti(sw,Qv);var pF=sw,lw=function(n,r){r=r||{},Qv.call(this,n,r),this.element.className=("ol-ext-check ol-ext-radio"+(r.className||"")).trim()};Ti(lw,Qv);var vF=lw,ri={};ri.create=function(n,r){r=r||{};var t;if(n==="TEXT")t=document.createTextNode(r.html||""),r.parent&&r.parent.appendChild(t);else{t=document.createElement(n),/button/i.test(n)&&t.setAttribute("type","button");for(var e in r)switch(e){case"className":{r.className&&r.className.trim&&t.setAttribute("class",r.className.trim());break}case"html":{r.html instanceof Element?t.appendChild(r.html):r.html!==void 0&&(t.innerHTML=r.html);break}case"parent":{r.parent&&r.parent.appendChild(t);break}case"options":{if(/select/i.test(n))for(var i in r.options)ri.create("OPTION",{html:i,value:r.options[i],parent:t});break}case"style":{this.setStyle(t,r.style);break}case"change":case"click":{ri.addListener(t,e,r[e]);break}case"on":{for(var o in r.on)ri.addListener(t,o,r.on[o]);break}case"checked":{t.checked=!!r.checked;break}default:{t.setAttribute(e,r[e]);break}}}return t},ri.createSwitch=function(n){var r=ri.create("INPUT",{type:"checkbox",on:n.on,click:n.click,change:n.change,parent:n.parent}),t=Object.assign({input:r},n||{});return new pF(t),r},ri.createCheck=function(n){var r=ri.create("INPUT",{name:n.name,type:n.type==="radio"?"radio":"checkbox",on:n.on,parent:n.parent});console.log(r);var t=Object.assign({input:r},n||{});return n.type==="radio"?new vF(t):new Qv(t),r},ri.setHTML=function(n,r){r instanceof Element?n.appendChild(r):r!==void 0&&(n.innerHTML=r)},ri.appendText=function(n,r){n.appendChild(document.createTextNode(r||""))},ri.addListener=function(n,r,t,e){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(i){n.addEventListener(i,t,e)})},ri.removeListener=function(n,r,t){typeof r=="string"&&(r=r.split(" ")),r.forEach(function(e){n.removeEventListener(e,t)})},ri.show=function(n){n.style.display=""},ri.hide=function(n){n.style.display="none"},ri.hidden=function(n){return ri.getStyle(n,"display")==="none"},ri.toggle=function(n){n.style.display=n.style.display==="none"?"":"none"},ri.setStyle=function(n,r){for(var t in r)switch(t){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":{typeof r[t]=="number"?n.style[t]=r[t]+"px":n.style[t]=r[t];break}default:n.style[t]=r[t]}},ri.getStyle=function(n,r){var t,e=(n.ownerDocument||document).defaultView;if(e&&e.getComputedStyle)r=r.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.getComputedStyle(n,null).getPropertyValue(r);else if(n.currentStyle&&(r=r.replace(/-(\w)/g,function(i,o){return o.toUpperCase()}),t=n.currentStyle[r],/^\d+(em|pt|%|ex)?$/i.test(t)))return function(i){var o=n.style.left,a=n.runtimeStyle.left;return n.runtimeStyle.left=n.currentStyle.left,n.style.left=i||0,i=n.style.pixelLeft+"px",n.style.left=o,n.runtimeStyle.left=a,i}(t);return/px$/.test(t)?parseInt(t):t},ri.outerHeight=function(n){return n.offsetHeight+ri.getStyle(n,"marginBottom")},ri.outerWidth=function(n){return n.offsetWidth+ri.getStyle(n,"marginLeft")},ri.offsetRect=function(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:r.height||r.bottom-r.top,width:r.width||r.right-r.left}},ri.getFixedOffset=function(n){var r={left:0,top:0},t=function(e){if(!e)return r;if(ri.getStyle(e,"position")==="absolute"&&ri.getStyle(e,"transform")!=="none"){var i=e.getBoundingClientRect();return r.left+=i.left,r.top+=i.top,r}return console.log(e,r),t(e.offsetParent)};return t(n.offsetParent)},ri.positionRect=function(n,r){var t=0,e=0,i=function(o){if(o)return t+=o.offsetLeft,e+=o.offsetTop,i(o.offsetParent);var a={top:n.offsetTop+e,left:n.offsetLeft+t};return r&&(a.top-=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a.left-=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),a.bottom=a.top+n.offsetHeight,a.right=a.top+n.offsetWidth,a};return i(n.offsetParent)},ri.scrollDiv=function(n,r){r=r||{};var t=!1,e=0,i,o=0,a=typeof r.onmove=="function"?r.onmove:function(){},s=r.vertical?"screenY":"screenX",c=r.vertical?"scrollTop":"scrollLeft",h=!1,p,m,w=0,R=function(){xt&&(w++,setTimeout(M))},M=function(){if(xt){if(w--,w)return;var Zt=n.clientHeight,Xt=n.scrollHeight;p=Zt/Xt,xt.style.height=p*100+"%",xt.style.top=n.scrollTop/Xt*100+"%",pt.style.height=Zt+"px",Zt>Xt-.5?pt.classList.add("ol-100pc"):pt.classList.remove("ol-100pc")}},U=function(Zt){Zt.target.classList.contains("ol-noscroll")||(h=!1,t=Zt[s],o=new Date,n.classList.add("ol-move"),Zt.preventDefault(),window.addEventListener("pointermove",Z),ri.addListener(window,["pointerup","pointercancel"],Vt))},Z=function(Zt){if(h=!0,t!==!1){var Xt=(m?-1/p:1)*(t-Zt[s]);n[c]+=Xt,i=new Date,i-o&&(e=(e+Xt/(i-o))/2),t=Zt[s],o=i,Xt&&a(!0)}},lt=function(Zt){var Xt=Zt>0?Math.min(100,Zt/2):Math.max(-100,Zt/2);Zt-=Xt,n[c]+=Xt,-1<Zt&&Zt<1?(h?setTimeout(function(){n.classList.remove("ol-move")}):n.classList.remove("ol-move"),h=!1,a(!1)):setTimeout(function(){lt(Zt)},40)},pt,xt;if(r.vertical&&r.minibar){var ht=function(Zt){n.removeEventListener("pointermove",ht),n.parentNode.classList.add("ol-miniscroll"),xt=ri.create("DIV"),pt=ri.create("DIV",{className:"ol-scroll",html:xt}),n.parentNode.insertBefore(pt,n),xt.addEventListener("pointerdown",function(Xt){m=!0,U(Xt)}),r.mousewheel&&(ri.addListener(pt,["mousewheel","DOMMouseScroll","onmousewheel"],function(Xt){kt(Xt)}),ri.addListener(xt,["mousewheel","DOMMouseScroll","onmousewheel"],function(Xt){kt(Xt)})),n.parentNode.addEventListener("pointerenter",R),window.addEventListener("resize",R),Zt!==!1&&R()};n.parentNode?ht(!1):n.addEventListener("pointermove",ht),n.addEventListener("scroll",function(){R()})}n.style["touch-action"]="none",n.style.overflow="hidden",n.classList.add("ol-scrolldiv"),ri.addListener(n,["pointerdown"],function(Zt){m=!1,U(Zt)}),n.addEventListener("click",function(Zt){n.classList.contains("ol-move")&&(Zt.preventDefault(),Zt.stopPropagation())},!0);var Vt=function(Zt){o=new Date-o,o>100||m?e=0:o>0&&(e=((e||0)+(t-Zt[s])/o)/2),lt(r.animate===!1?0:e*200),t=!1,e=0,o=0,n.classList.contains("ol-move")?n.classList.remove("ol-hasClick"):(n.classList.add("ol-hasClick"),setTimeout(function(){n.classList.remove("ol-hasClick")},500)),m=!1,window.removeEventListener("pointermove",Z),ri.removeListener(window,["pointerup","pointercancel"],Vt)},kt=function(Zt){var Xt=Math.max(-1,Math.min(1,Zt.wheelDelta||-Zt.detail));return n.classList.add("ol-move"),n[c]-=Xt*30,n.classList.remove("ol-move"),!1};return r.mousewheel&&ri.addListener(n,["mousewheel","DOMMouseScroll","onmousewheel"],kt),{refresh:R}},ri.dispatchEvent=function(n,r){var t;try{t=new CustomEvent(n)}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(n,!0,!0,{})}r.dispatchEvent(t)};var _e=ri,Qd=function(n){n=n||{};var r=document.createElement("div");r.className=(n.className||"")+" ol-button ol-unselectable ol-control";var t=this,e=this.button_=document.createElement(/ol-text-button/.test(n.className)?"div":"button");e.type="button",n.title&&(e.title=n.title),n.name&&(e.name=n.name),n.html instanceof Element?e.appendChild(n.html):e.innerHTML=n.html||"";var i=function(o){o&&o.preventDefault&&(o.preventDefault(),o.stopPropagation()),n.handleClick&&n.handleClick.call(t,o)};e.addEventListener("click",i),e.addEventListener("touchstart",i),r.appendChild(e),!n.title&&e.firstElementChild&&(e.title=e.firstElementChild.title),ii.default.call(this,{element:r,target:n.target}),n.title&&this.set("title",n.title),n.title&&this.set("title",n.title),n.name&&this.set("name",n.name)};Ti(Qd,ii.default),Qd.prototype.setVisible=function(n){n?_e.show(this.element):_e.hide(this.element)},Qd.prototype.setTitle=function(n){this.button_.setAttribute("title",n)},Qd.prototype.setHtml=function(n){_e.setHTML(this.button_,n)},Qd.prototype.getButtonElement=function(){return this.button_};var f0=Qd,Al=function(n){n=n||{};var r=this;this.interaction_=n.interaction,this.interaction_&&(this.interaction_.setActive(n.active),this.interaction_.on("change:active",function(){r.setActive(r.interaction_.getActive())})),n.toggleFn&&(n.onToggle=n.toggleFn),n.handleClick=function(){r.toggle(),n.onToggle&&n.onToggle.call(r,r.getActive())},n.className=(n.className||"")+" ol-toggle",f0.call(this,n),this.set("title",n.title),this.set("autoActivate",n.autoActivate),n.bar&&this.setSubBar(n.bar),this.setActive(n.active),this.setDisable(n.disable)};Ti(Al,f0),Al.prototype.setMap=function(n){!n&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),f0.prototype.setMap.call(this,n),n&&(this.interaction_&&n.addInteraction(this.interaction_),this.subbar_&&n.addControl(this.subbar_))},Al.prototype.getSubBar=function(){return this.subbar_},Al.prototype.setSubBar=function(n){var r=this.getMap();r&&this.subbar_&&r.removeControl(this.subbar_),this.subbar_=n,n&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),r&&r.addControl(this.subbar_))},Al.prototype.getDisable=function(){var n=this.element.querySelector("button");return n&&n.disabled},Al.prototype.setDisable=function(n){this.getDisable()!=n&&(this.element.querySelector("button").disabled=n,n&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!n,disable:n}))},Al.prototype.getActive=function(){return this.element.classList.contains("ol-active")},Al.prototype.toggle=function(){this.getActive()?this.setActive(!1):this.setActive(!0)},Al.prototype.setActive=function(n){this.interaction_&&this.interaction_.setActive(n),this.subbar_&&this.subbar_.setActive(n),this.getActive()!==n&&(n?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!n,active:n}))},Al.prototype.setInteraction=function(n){this.interaction_=n},Al.prototype.getInteraction=function(){return this.interaction_};var gF=Al,yF={name:"ol-control-toggle",setup:function(r,t){var e=ia(gF,r,t),i=e.control;return{control:i}},props:{html:{type:String},interaction:{type:Object},className:{type:String},title:{type:String},onToggle:{type:Function}}},D_=Ae()(yF,[["render",dF]]);function mF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var _F={name:"ol-control-button",setup:function(r,t){var e=ia(f0,r,t),i=e.control;return{control:i}},props:{html:{type:String},name:{type:String},className:{type:String},title:{type:String},handleClick:{type:Function}}},B_=Ae()(_F,[["render",mF]]);function EF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var Es=function(n){n=n||{},n.fullscreen&&(n.target=document.body);var r=_e.create("DIV",{className:((n.className||"")+(n.zoom?" ol-zoom":"")+" ol-ext-dialog").trim(),click:function(i){this.get("hideOnBack")&&i.target===r&&this.close(),this.get("hideOnClick")&&this.close()}.bind(this)}),t=_e.create("FORM",{on:{submit:this._onButton("submit")},parent:r});_e.create("H2",{parent:t}),_e.create("DIV",{className:"ol-closebox",click:this._onButton("cancel"),parent:t}),_e.create("DIV",{className:"ol-content",parent:t}),this._progress=_e.create("DIV",{style:{display:"none"},parent:t});var e=_e.create("DIV",{className:"ol-progress-bar",parent:this._progress});this._progressbar=_e.create("DIV",{parent:e}),this._progressMessage=_e.create("DIV",{className:"ol-progress-message",parent:this._progress}),_e.create("DIV",{className:"ol-buttons",parent:t}),ii.default.call(this,{element:r,target:n.target}),this.set("closeBox",n.closeBox!==!1),this.set("zoom",!!n.zoom),this.set("hideOnClick",!!n.hideOnClick),this.set("hideOnBack",!!n.hideOnBack),this.set("className",r.className),this.set("closeOnSubmit",n.closeOnSubmit),this.set("buttons",n.buttons),this.setContent(n)};Ti(Es,ii.default),Es.prototype.show=function(n){n&&((n instanceof Element||typeof n=="string")&&(n={content:n}),this.setContent(n)),this.element.classList.add("ol-visible");var r=this.element.querySelector('input[type="text"],input[type="search"],input[type="number"]');if(r&&r.focus(),this.dispatchEvent({type:"show"}),n){if(n.autoclose){var t=setTimeout(function(){this.hide()}.bind(this),n.autoclose);this.once("hide",function(){clearTimeout(t)})}if(n.hideOnBack){var e=this.get("hideOnBack");this.set("hideOnBack",!0),this.once("hide",function(){this.set("hideOnBack",e)}.bind(this))}}},Es.prototype.open=function(){this.show()},Es.prototype.setContentMessage=function(n){if(n!==void 0){var r=this.getContentElement();n instanceof Element&&_e.setHTML(r,""),_e.setHTML(r,n||"")}},Es.prototype.setTitle=function(n){var r=this.element.querySelector("form");r.querySelector("h2").innerText=n||"",n?r.classList.add("ol-title"):r.classList.remove("ol-title")},Es.prototype.setContent=function(n){if(!!n){this.element.className=this.get("className"),typeof n=="string"&&(n={content:n}),n=n||{},n.max&&this.setProgress(0,n.max),n.progress!==void 0&&this.setProgress(n.progress),this.get("zoom")?this.element.classList.add("ol-zoom"):this.element.classList.remove("ol-zoom"),n.className&&n.className.split(" ").forEach(function(){this.element.classList.add(n.className)}.bind(this));var r=this.element.querySelector("form");n.content!==void 0&&(n.content instanceof Element&&_e.setHTML(r.querySelector(".ol-content"),""),_e.setHTML(r.querySelector(".ol-content"),n.content||"")),this.setTitle(n.title),n.closeBox||this.get("closeBox")&&n.closeBox!==!1?r.classList.add("ol-closebox"):r.classList.remove("ol-closebox");var t=this.element.querySelector(".ol-buttons");t.innerHTML="";var e=n.buttons||this.get("buttons");if(e){r.classList.add("ol-button");for(var i in e)_e.create("INPUT",{type:i==="submit"?"submit":"button",value:e[i],click:this._onButton(i,n.onButton),parent:t})}else r.classList.remove("ol-button")}},Es.prototype.getContentElement=function(){return this.element.querySelector("form .ol-content")},Es.prototype.setProgress=function(n,r,t){if(n===!1){_e.setStyle(this._progress,{display:"none"});return}if(r>0?this.set("max",Number(r)):r=this.get("max"),!r)_e.setStyle(this._progress,{display:"none"});else{var e=Math.round(n/r*100);_e.setStyle(this._progress,{display:""}),this._progressbar.className=e?"":"notransition",_e.setStyle(this._progressbar,{width:e+"%"})}this._progressMessage.innerHTML="",_e.setHTML(this._progressMessage,t||"")},Es.prototype._onButton=function(n,r){var t=function(e){e.preventDefault(),(n!=="submit"||this.get("closeOnSubmit")!==!1)&&this.hide();var i={};this.element.querySelectorAll("form input").forEach(function(o){o.className&&(i[o.className]=o)}),this.dispatchEvent({type:"button",button:n,inputs:i}),typeof r=="function"&&r(n,i)}.bind(this);return t},Es.prototype.hide=function(){this.element.classList.remove("ol-visible"),this.dispatchEvent({type:"hide"})},Es.prototype.close=Es.prototype.hide,Es.prototype.isOpen=function(){return this.element.classList.contains("ol-visible")};var uw=Es,xF="#333",SF=function(){function n(r){var t=r||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=to(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new xa({color:xF}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:_S.POINT,this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding}return n.prototype.clone=function(){var r=this.getScale();return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(r)?r.slice():r,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(r){this.overflow_=r},n.prototype.setFont=function(r){this.font_=r},n.prototype.setMaxAngle=function(r){this.maxAngle_=r},n.prototype.setOffsetX=function(r){this.offsetX_=r},n.prototype.setOffsetY=function(r){this.offsetY_=r},n.prototype.setPlacement=function(r){this.placement_=r},n.prototype.setRotateWithView=function(r){this.rotateWithView_=r},n.prototype.setFill=function(r){this.fill_=r},n.prototype.setRotation=function(r){this.rotation_=r},n.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=to(r!==void 0?r:1)},n.prototype.setStroke=function(r){this.stroke_=r},n.prototype.setText=function(r){this.text_=r},n.prototype.setTextAlign=function(r){this.textAlign_=r},n.prototype.setTextBaseline=function(r){this.textBaseline_=r},n.prototype.setBackgroundFill=function(r){this.backgroundFill_=r},n.prototype.setBackgroundStroke=function(r){this.backgroundStroke_=r},n.prototype.setPadding=function(r){this.padding_=r},n}(),Th=SF,wF=function(n){if(!n)return null;var r=n.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return r||(n.getViewport().querySelector(".ol-layers")?(r=document.createElement("canvas"),r.className="ol-fixedoverlay",n.getViewport().querySelector(".ol-layers").after(r),n.on("precompose",function(t){r.width=n.getSize()[0]*t.frameState.pixelRatio,r.height=n.getSize()[1]*t.frameState.pixelRatio})):r=n.getViewport().querySelector("canvas")),r},OF=wF,qs=function(n){n||(n={}),this.setStyle(n.style),ii.default.call(this,n)};Ti(qs,ii.default),qs.prototype.setMap=function(n){this.getCanvas(n);var r=this.getMap();if(this._listener&&(Object(Ks.b)(this._listener),this._listener=null),ii.default.prototype.setMap.call(this,n),r)try{r.renderSync()}catch{}n&&(this._listener=n.on("postcompose",this._draw.bind(this)))},qs.prototype.getCanvas=function(n){return OF(n)},qs.prototype.getContext=function(n){var r=n.context;if(!r&&this.getMap()){var t=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];r=t?t.getContext("2d"):null}return r},qs.prototype.setStyle=function(n){this._style=n||new Sa({})},qs.prototype.getStyle=function(){return this._style},qs.prototype.getStroke=function(){var n=this._style.getStroke();return n||this._style.setStroke(new ra({color:"#000",width:1.25})),this._style.getStroke()},qs.prototype.getFill=function(){var n=this._style.getFill();return n||this._style.setFill(new xa({color:"#fff"})),this._style.getFill()},qs.prototype.getTextStroke=function(){var n=this._style.getText();return n||(n=new Th({})),n.getStroke()||n.setStroke(new ra({color:"#fff",width:3})),n.getStroke()},qs.prototype.getTextFill=function(){var n=this._style.getText();return n||(n=new Th({})),n.getFill()||n.setFill(new xa({color:"#fff"})),n.getFill()},qs.prototype.getTextFont=function(){var n=this._style.getText();return n||(n=new Th({})),n.getFont()||n.setFont("12px sans-serif"),n.getFont()},qs.prototype._draw=function(){console.warn("[CanvasBase] draw function not implemented.")};var bh=qs;function TF(n,r){var t=n.canvas,e=r||{},i=e.pixelRatio||jt.a,o=e.size;o&&(t.width=o[0]*i,t.height=o[1]*i,t.style.width=o[0]+"px",t.style.height=o[1]+"px");var a=[0,0,t.width,t.height],s=Sr(Q(),i,i);return new Q1(n,i,a,s,0)}function h0(n,r,t,e,i,o,a){var s,c,h=(t-r)/e;if(h===1)s=r;else if(h===2)s=r,c=i;else if(h!==0){for(var p=n[r],m=n[r+1],w=0,R=[0],M=r+e;M<t;M+=e){var U=n[M],Z=n[M+1];w+=Math.sqrt((U-p)*(U-p)+(Z-m)*(Z-m)),R.push(w),p=U,m=Z}var lt=i*w,pt=Object(br.a)(R,lt);pt<0?(c=(lt-R[-pt-2])/(R[-pt-1]-R[-pt-2]),s=r+(-pt-2)*e):s=r+pt*e}for(var xt=a>1?a:2,ht=o||new Array(xt),M=0;M<xt;++M)ht[M]=s===void 0?NaN:c===void 0?n[s+M]:sl(n[s+M],n[s+e+M],c);return ht}function G_(n,r,t,e,i,o){if(t==r)return null;var a;if(i<n[r+e-1])return o?(a=n.slice(r,r+e),a[e-1]=i,a):null;if(n[t-1]<i)return o?(a=n.slice(t-e,t),a[e-1]=i,a):null;if(i==n[r+e-1])return n.slice(r,r+e);for(var s=r/e,c=t/e;s<c;){var h=s+c>>1;i<n[(h+1)*e-1]?c=h:s=h+1}var p=n[s*e-1];if(i==p)return n.slice((s-1)*e,(s-1)*e+e);var m=n[(s+1)*e-1],w=(i-p)/(m-p);a=[];for(var R=0;R<e-1;++R)a.push(sl(n[(s-1)*e+R],n[s*e+R],w));return a.push(i),a}function bF(n,r,t,e,i,o,a){if(a)return G_(n,r,t[t.length-1],e,i,o);var s;if(i<n[e-1])return o?(s=n.slice(0,e),s[e-1]=i,s):null;if(n[n.length-1]<i)return o?(s=n.slice(n.length-e),s[e-1]=i,s):null;for(var c=0,h=t.length;c<h;++c){var p=t[c];if(r!=p){if(i<n[r+e-1])return null;if(i<=n[p-1])return G_(n,r,p,e,i,!1);r=p}}return null}var CF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AF=function(n){CF(r,n);function r(t,e){var i=n.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(br.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<Bt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),It(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,o))},r.prototype.forEachSegment=function(t){return _d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinateAtM=function(t,e){if(this.layout!=gr.XYM&&this.layout!=gr.XYZM)return null;var i=e!==void 0?e:!1;return G_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},r.prototype.getCoordinates=function(){return Qi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinateAt=function(t,e){return h0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},r.prototype.getLength=function(){return ES(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Hn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,gr.XY)},r.prototype.getType=function(){return $t.LINE_STRING},r.prototype.intersectsExtent=function(t){return Tu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(ma),zi=AF,d0=function(n){n=n||{},Oo.a.call(this,n),n.feature&&this.set("feature",n.feature.clone())};Ti(d0,Oo.a),d0.prototype.setTitle=function(n){this.set("title",n||""),this.changed()},d0.prototype.getElement=function(n,r){var t=_e.create("LI",{className:this.get("className"),click:function(e){r(!1),e.stopPropagation()},style:{height:n[1]+"px"},"aria-label":this.get("title")});return _e.create("DIV",{click:function(e){r(!0),e.stopPropagation()},style:{width:n[0]+"px",height:n[1]+"px"},parent:t}),t};var U_=d0;window.ol&&!ol.legend&&(ol.legend={});var wa=function(n){n=n||{},Oo.a.call(this),this._items=new hn;var r=[],t;this._items.on("add",function(e){r.push({item:e.element,on:e.element.on("change",function(){this.refresh()}.bind(this))}),t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._items.on("remove",function(e){for(var i=0;i<r;i++)if(e.element===r[i].item){Object(Ks.b)(r[i].on),r.splice(i,1);break}t&&(clearTimeout(t),t=null),t=setTimeout(function(){this.refresh()}.bind(this),0)}.bind(this)),this._listElement=_e.create("UL",{className:"ol-legend"}),this._canvas=document.createElement("canvas"),this.set("size",n.size||[40,25],!0),this.set("margin",n.margin===0?0:n.margin||10,!0),this._textStyle=n.textStyle||new Th({font:"16px sans-serif",fill:new xa({color:"#333"}),backgroundFill:new xa({color:"rgba(255,255,255,.8)"})}),this._title=new U_({title:n.title||"",className:"ol-title"}),n.titleStyle?this._titleStyle=n.titleStyle:(this._titleStyle=this._textStyle.clone(),this._titleStyle.setFont("bold "+this._titleStyle.getFont())),this.setStyle(n.style),n.items instanceof Array&&n.items.forEach(function(e){this.addItem(e)}.bind(this)),this.refresh()};Ti(wa,Oo.a),wa.prototype.setTitle=function(n){this._title.setTitle(n),this.refresh()},wa.prototype.getTitle=function(){return this._title.get("title")},wa.prototype.getTextStyle=function(){return this._textStyle},wa.prototype.set=function(n,r,t){Oo.a.prototype.set.call(this,n,r,t),t||this.refresh()},wa.prototype.getListElement=function(){return this._listElement},wa.prototype.getCanvas=function(){return this._canvas},wa.prototype.setStyle=function(n){this._style=n,this.refresh()},wa.prototype.addItem=function(n){n instanceof U_?this._items.push(n):this._items.push(new U_(n))},wa.prototype.getItems=function(){return this._items},wa.prototype._drawText=function(n,r,t,e){n.save(),n.scale(jt.a,jt.a),r=r||"";var i=r.split(`
`);i.length===1?n.fillText(r,t,e):(n.textBaseline="bottom",n.fillText(i[0],t,e),n.textBaseline="top",n.fillText(i[1],t,e)),n.restore()},wa.prototype._measureText=function(n,r){var t=(r||"").split(`
`);if(t.length===1)return n.measureText(r);var e=n.measureText(t[0]),i=n.measureText(t[1]);return{width:Math.max(e.width,i.width),height:e.height+i.height}},wa.prototype.refresh=function(){var n=this._listElement;n.innerHTML="";var r=this.get("margin"),t=this.get("size")[0]+2*r,e=this.get("lineHeight")||this.get("size")[1]+2*r,i=this.getCanvas(),o=i.getContext("2d");o.textAlign="left",o.textBaseline="middle";var a=jt.a;o.font=this._titleStyle.getFont();var s=this._measureText(o,this.getTitle("title")).width;this._items.forEach(function(c){c.get("feature")||c.get("typeGeom")?(o.font=c.get("textStyle")?c.get("textStyle").getFont():this._textStyle.getFont(),s=Math.max(s,this._measureText(o,c.get("title")).width+t)):(o.font=c.get("textStyle")?c.get("textStyle").getFont():this._titleStyle.getFont(),s=Math.max(s,this._measureText(o,c.get("title")).width))}.bind(this)),i.width=(s+2*r)*a,i.height=(this._items.getLength()+1)*e*a,i.style.height=(this._items.getLength()+1)*e+"px",o.textBaseline="middle",o.fillStyle=Go(this._textStyle.getFill().getColor()),this.getTitle()&&(n.appendChild(this._title.getElement([t,e],function(c){this.dispatchEvent({type:"select",index:-1,symbol:c,item:this._title})}.bind(this))),o.font=this._titleStyle.getFont(),o.textAlign="center",this._drawText(o,this.getTitle(),i.width/a/2,e/2)),this._items.forEach(function(c,h){var p=h+(this.getTitle()?1:0);n.appendChild(c.getElement([t,e],function(w){this.dispatchEvent({type:"select",index:h,symbol:w,item:c})}.bind(this)));var m=c.getProperties();o.textAlign="left",m.feature||m.typeGeom?(i=this.getLegendImage(m,i,p),o.font=c.get("textStyle")?c.get("textStyle").getFont():this._textStyle.getFont(),this._drawText(o,c.get("title"),t+r,(h+1.5)*e)):(o.font=c.get("textStyle")?c.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(m.className)?(o.textAlign="center",this._drawText(o,c.get("title"),i.width/a/2,(h+1.5)*e)):this._drawText(o,c.get("title"),r,(h+1.5)*e))}.bind(this)),this.dispatchEvent({type:"refresh",width:t,height:(this._items.length+1)*e})},wa.prototype.getLegendImage=function(n,r,t){return n=n||{},wa.getLegendImage({className:n.className,feature:n.feature,typeGeom:n.typeGeom,style:n.style||this._style,properties:n.properties,margin:n.margin||this.get("margin"),size:n.size||this.get("size"),lineHeight:n.lineHeight||this.get("lineHeight"),onload:function(){this.refresh()}.bind(this)},r,t)},wa.getLegendImage=function(n,r,t){n=n||{},typeof n.margin=="undefined"&&(n.margin=10);var e=n.size||[40,25];n.onload=n.onload||function(){setTimeout(function(){wa.getLegendImage(n,r,t)},100)};var i=e[0]+2*n.margin,o=n.lineHeight||e[1]+2*n.margin,a=jt.a;r||(t=0,r=document.createElement("canvas"),r.width=i*a,r.height=o*a);var s=r.getContext("2d");s.save();var c=TF(s,{pixelRatio:a}),h=n.typeGeom,p,m=n.feature;!m&&h&&(/Point/.test(h)?m=new Xr(new kn([0,0])):/LineString/.test(h)?m=new Xr(new zi([0,0])):m=new Xr(new li([[0,0]])),n.properties&&m.setProperties(n.properties)),m?(p=m.getStyle(),typeof p=="function"&&(p=p(m)),p||(p=typeof n.style=="function"?n.style(m):n.style||[]),h=m.getGeometry().getType()):p=[],p instanceof Array||(p=[p]);var w=i/2,R=o/2,M=e[0]/2,U=e[1]/2,Z,lt;if(h==="Point"){var pt=null;for(Z=0;lt=p[Z];Z++){var xt=lt.getImage();if(xt){var ht=xt.getImage();if(ht&&ht.complete&&!ht.naturalWidth&&(typeof n.onload=="function"&&ht.addEventListener("load",function(){setTimeout(function(){n.onload()},100)}),xt.load()),xt.getAnchor){var Vt=xt.getAnchor();if(Vt){var kt=xt.getSize(),Zt=Vt[0]-kt[0],Xt=Vt[1]-kt[1];pt?Ar(pt,[Zt,Xt,Zt+kt[0],Xt+kt[1]]):pt=[Zt,Xt,Zt+kt[0],Xt+kt[1]]}}}}pt&&(w=w+(pt[2]+pt[0])/2,R=R+(pt[3]+pt[1])/2)}for(R+=t*o||0,Z=0;lt=p[Z];Z++)switch(c.setStyle(lt),h){case kn:case"Point":case"MultiPoint":c.drawGeometry(new kn([w,R]));break;case zi:case"LineString":case"MultiLineString":s.save(),s.rect(n.margin*a,0,e[0]*a,r.height),s.clip(),c.drawGeometry(new zi([[w-M,R],[w+M,R]])),s.restore();break;case li:case"Polygon":case"MultiPolygon":c.drawGeometry(new li([[[w-M,R-U],[w+M,R-U],[w+M,R+U],[w-M,R+U],[w-M,R-U]]]));break}return s.restore(),r};var nu=function(n){n=n||{};var r=document.createElement("div");if(n.target)r.className=n.className||"ol-legend";else{r.className=(n.className||"ol-legend")+" ol-unselectable ol-control"+(n.collapsible===!1?" ol-uncollapsible":" ol-collapsed");var t=document.createElement("button");t.setAttribute("type","button"),t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t),t=document.createElement("button"),t.setAttribute("type","button"),t.className="ol-closebox",t.addEventListener("click",function(){this.toggle()}.bind(this)),r.appendChild(t)}bh.call(this,{element:r,target:n.target}),this._legend=n.legend,this._legend.getCanvas().className="ol-legendImg",r.appendChild(this._legend.getCanvas()),r.appendChild(this._legend.getListElement()),n.collapsible!==!1&&n.collapsed===!1&&this.show(),this._legend.on("select",function(e){this.dispatchEvent(e)}.bind(this)),this._legend.on("refresh",function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this))};Ti(nu,bh),nu.prototype.getLegend=function(){return this._legend},nu.prototype.setCanvas=function(n){if(this._onCanvas=n,this.element.style.visibility=n?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch{}},nu.prototype.onCanvas=function(){return!!this._onCanvas},nu.prototype._draw=function(n){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var r=this._legend.getCanvas(),t=this.getContext(n),e=t.canvas.height-r.height;t.save(),t.rect(0,e,r.width,r.height);var i="#fff";this._legend.getTextStyle().getBackgroundFill()&&(i=Go(this._legend.getTextStyle().getBackgroundFill().getColor())),t.fillStyle=t.strokeStyle=i,t.lineWidth=10,t.lineJoin="round",t.stroke(),t.clearRect(0,e,r.width,r.height),t.fill(),t.drawImage(r,0,e),t.restore()}},nu.prototype.show=function(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch{}},nu.prototype.hide=function(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch{}},nu.prototype.collapse=function(n){n===!1?this.show():this.hide()},nu.prototype.isCollapsed=function(){return this.element.classList.contains("ol-collapsed")},nu.prototype.toggle=function(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch{}};var LF=nu,Ch=function(n){n||(n={});var r=_e.create("DIV",{className:n.className||"ol-print"});n.target||(r.classList.add("ol-unselectable","ol-control"),_e.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r})),ii.default.call(this,{element:r,target:n.target}),this.set("immediate",n.immediate),this.set("imageType",n.imageType||"image/jpeg"),this.set("quality",n.quality||.8),this.set("orientation",n.orientation)};Ti(Ch,ii.default),Ch.prototype.toClipboard=function(n,r){try{n.canvas.toBlob(function(t){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},t.type,{value:t,enumerable:!0}))]),typeof r=="function"&&r(!0)}catch{typeof r=="function"&&r(!1)}})}catch{typeof r=="function"&&r(!1)}},Ch.prototype.copyMap=function(n,r){this.once("print",function(t){this.toClipboard(t,r)}.bind(this)),this.print(n)},Ch.prototype._getCanvas=function(n,r,t){var e;if(n.context)t=n.context.canvas;else{if(t)e=t.getContext("2d");else{t=document.createElement("canvas");var i=this.getMap().getSize();t.width=i[0],t.height=i[1],e=t.getContext("2d"),/jp.*g$/.test(r)&&(e.fillStyle=this.get("bgColor")||"white",e.fillRect(0,0,t.width,t.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach(function(o){if(o.width){if(e.save(),o.parentNode.style.opacity==="0")return;e.globalAlpha=parseFloat(o.parentNode.style.opacity)||1,_e.getStyle(o.parentNode,"mix-blend-mode")==="multiply"&&(e.globalCompositeOperation="multiply");var a=_e.getStyle(o,"transform")||_e.getStyle(o,"-webkit-transform");/^matrix/.test(a)?(a=a.replace(/^matrix\(|\)$/g,"").split(","),a.forEach(function(s,c){a[c]=parseFloat(s)}),e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.drawImage(o,0,0)):e.drawImage(o,0,0,_e.getStyle(o,"width"),_e.getStyle(o,"height")),e.restore()}}.bind(this))}return t},Ch.prototype.fastPrint=function(n,r){n=n||{},this._ol6?requestAnimationFrame(function(){r(this._getCanvas({},n.imageType,n.canvas))}.bind(this)):(this.getMap().once("postcompose",function(t){t.context||(this._ol6=!0),r(this._getCanvas(t,n.imageType,n.canvas))}.bind(this)),this.getMap().render())},Ch.prototype.print=function(n){n=n||{};var r=n.imageType||this.get("imageType"),t=n.quality||this.get("quality");if(this.getMap()){if(n.immediate!=="silent"&&this.dispatchEvent(Object.assign({type:"printing"},n)),!n.immediate){setTimeout(function(){n=Object.assign({},n),n.immediate="silent",this.print(n)}.bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",function(e){var i=this._getCanvas(e,r),o=n.size||[210,297],a=n.format||"a4",s,c,h,p=n.orient||this.get("orientation"),m=typeof n.margin=="number"?n.margin:10;if(i){p!=="landscape"&&p!=="portrait"&&(p=i.width>i.height?"landscape":"portrait"),p==="landscape"&&(o=[o[1],o[0]]);var w=Math.min((o[0]-2*m)/i.width,(o[1]-2*m)/i.height);s=w*i.width,c=w*i.height,h=[(o[0]-s)/2,(o[1]-c)/2]}var R;try{R=i?i.toDataURL(r,t):null}catch{this.dispatchEvent({type:"error",canvas:i});return}var M=Object.assign({type:"print",print:{format:a,orientation:p,unit:"mm",size:o,position:h,imageWidth:s,imageHeight:c},image:R,imageType:r,quality:t,canvas:i},n);this.dispatchEvent(M)}.bind(this)),this.getMap().render()}};var cw=Ch,df=function(n){n||(n={});var r=_e.create("DIV",{className:(n.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}});bh.call(this,{element:r,style:n.style}),this.setTitle(n.title||""),this.setVisible(n.visible),this.element.style.font=this.getTextFont()};Ti(df,bh),df.prototype.setStyle=function(n){bh.prototype.setStyle.call(this,n),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()},df.prototype.setTitle=function(n){if(this.element.textContent=n,this.set("title",n),this.getMap())try{this.getMap().renderSync()}catch{}},df.prototype.getTitle=function(){return this.get("title")},df.prototype.setVisible=function(n){if(this.element.style.display=n?"block":"none",this.getMap())try{this.getMap().renderSync()}catch{}},df.prototype.getVisible=function(){return this.element.style.display!=="none"},df.prototype._draw=function(n){if(!!this.getVisible()){var r=this.getContext(n);if(!!r){var t=n.frameState.pixelRatio;r.save(),r.scale(t,t);var e=this.element.getBoundingClientRect(),i=this.getMap().getViewport().getBoundingClientRect(),o=this.getMap().getSize()[0]/i.width;r.translate(Math.round((e.left-i.left)*o),Math.round((e.top-i.top)*o));var a=this.element.clientHeight,s=this.element.clientWidth,c=s/2;r.beginPath(),r.fillStyle=Go(this.getFill().getColor()),r.rect(0,0,s,a),r.fill(),r.closePath(),r.beginPath(),r.fillStyle=Go(this.getTextFill().getColor()),r.strokeStyle=Go(this.getTextStroke().getColor()),r.lineWidth=this.getTextStroke().getWidth(),r.textAlign="center",r.textBaseline="middle",r.font=this.getTextFont(),r.lineWidth&&r.strokeText(this.getTitle(),c,a/2),r.fillText(this.getTitle(),c,a/2),r.closePath(),r.restore()}}};var RF=df,k_=function(n,r){var t=n.getView(),e=t.getProjection(),i=t.getCenter(),o=n.getPixelFromCoordinate(i);o[1]+=1;var a=n.getCoordinateFromPixel(o),s=Nc(pn(i,e,"EPSG:4326"),pn(a,e,"EPSG:4326"));return s*=(r||96)/.0254,s},PF=function(n,r,t){if(n&&r){var e=r;if(typeof r=="string"&&(e=r.split("/")[1],e||(e=r),e=e.replace(/[^\d]/g,""),e=parseInt(e)),!e)return;var i=n.getView(),o=i.getProjection(),a=i.getCenter(),s=n.getPixelFromCoordinate(a);s[1]+=1;var c=n.getCoordinateFromPixel(s),h=Nc(pn(a,o,"EPSG:4326"),pn(c,o,"EPSG:4326"));return h*=(t||96)/.0254,i.setResolution(i.getResolution()*e/h),e}},pf=function(n){n||(n={});var r=document.createElement("div");r.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(n.className?" "+n.className:""),r.style.position="absolute",r.style.visibility="hidden";var t=n.style instanceof ra?new Sa({stroke:n.style}):n.style;n.style||(t=new Sa({stroke:new ra({width:0})})),bh.call(this,{element:r,style:t}),this.set("rotateVithView",n.rotateWithView!==!1),this.setVisible(n.visible!==!1),this.setImage(n.image||n.src)};Ti(pf,bh),pf.prototype.setImage=function(n){if(n instanceof Image)this.img_=n,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this);else if(typeof n=="string")switch(n){case"compact":{this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break}case"default":{this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break}default:{this.img_=new Image,this.img_.onload=function(){if(this.getMap())try{this.getMap().renderSync()}catch{}}.bind(this),this.img_.src=n;break}}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())},pf.prototype.compactCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2;return e.translate(i,i),e.fillStyle=r||"#963",e.lineWidth=5,e.lineJoin=e.lineCap="round",e.font="bold "+i*.4+"px sans-serif",e.textBaseline="bottom",e.textAlign="center",e.strokeStyle="#fff",e.globalAlpha=.75,e.strokeText("N",0,-i/2),e.globalAlpha=1,e.fillText("N",0,-i/2),e.beginPath(),e.moveTo(0,i/4),e.lineTo(i/3,i/2),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.lineWidth=12,e.fillStyle="#fff",e.globalAlpha=.75,e.fill(),e.stroke(),e.globalAlpha=1,e.fillStyle=e.strokeStyle=r||"#963",e.lineWidth=5,e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(i/3,i/2),e.lineTo(0,i/4),e.fill(),e.stroke(),e.beginPath(),e.moveTo(0,i/4),e.lineTo(0,-i/2),e.lineTo(-i/3,i/2),e.lineTo(0,i/4),e.stroke(),t},pf.prototype.defaultCompass_=function(n,r){var t=document.createElement("canvas"),e=t.getContext("2d");n=t.width=t.height=n||150;var i=n/2,o=.22*i;function a(c,h){e.fillStyle=r||"#963",e.beginPath(),e.moveTo(0,0),e.lineTo(c,0),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(-c,0),e.lineTo(-h,-h),e.moveTo(0,0),e.lineTo(0,c),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,-c),e.lineTo(h,-h),e.moveTo(0,0),e.fill(),e.stroke()}function s(c,h){e.globalCompositeOperation="destination-out",e.fillStyle="#fff",e.beginPath(),e.moveTo(0,0),e.lineTo(c,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-c,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,c),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-c),e.lineTo(-h,-h),e.moveTo(0,0),e.fill(),e.globalCompositeOperation="source-over",e.beginPath(),e.moveTo(0,0),e.lineTo(c,0),e.lineTo(h,-h),e.moveTo(0,0),e.lineTo(-c,0),e.lineTo(-h,h),e.moveTo(0,0),e.lineTo(0,c),e.lineTo(h,h),e.moveTo(0,0),e.lineTo(0,-c),e.lineTo(-h,-h),e.moveTo(0,0),e.stroke()}return e.translate(i,i),e.strokeStyle=r||"#963",e.lineWidth=1.5,e.beginPath(),e.arc(0,0,n*.41,0,2*Math.PI),e.arc(0,0,n*.44,0,2*Math.PI),e.stroke(),e.rotate(Math.PI/4),a(i*.9,o*.8),s(i*.9,o*.8),e.rotate(-Math.PI/4),a(i,o),s(i,o),t},pf.prototype.getVisible=function(){return _e.getStyle(this.element,"display")==="block"},pf.prototype.setVisible=function(n){n?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()},pf.prototype._draw=function(n){var r=this.getContext(n);if(!(!r||!this.getVisible())){var t=r.canvas,e,i=[];for(e=0;e<8;e++)i[e]=[Math.cos(Math.PI*e/8),Math.sin(Math.PI*e/8)];var o=n.frameState.pixelRatio;r.save(),r.scale(o,o);var a=this.element.clientWidth,s=this.element.clientHeight,c={left:this.element.offsetLeft,top:this.element.offsetTop},h=this.img_,p=n.frameState.viewState.rotation;if(r.beginPath(),r.translate(c.left+a/2,c.top+s/2),this.get("rotateVithView")&&r.rotate(p),this.getStroke().getWidth()){r.beginPath(),r.strokeStyle=this.getStroke().getColor(),r.lineWidth=this.getStroke().getWidth();var m=Math.max(t.width,t.height);for(e=0;e<8;e++)r.moveTo(-i[e][0]*m,-i[e][1]*m),r.lineTo(i[e][0]*m,i[e][1]*m);r.stroke()}h.width&&r.drawImage(h,-a/2,-s/2,a,s),r.closePath(),r.restore()}};var fw=pf,io=function(n){n||(n={}),this._lang=n.lang;var r=_e.create("DIV",{className:(n.className||"ol-print")+" ol-unselectable ol-control"});_e.create("BUTTON",{type:"button",title:n.title||"Print",click:function(){this.print()}.bind(this),parent:r}),ii.default.call(this,{element:r}),n.openWindow&&this.on("print",function(Ee){Ee.canvas&&window.open().document.write('<img src="'+Ee.canvas.toDataURL()+'"/>')}),n.target=_e.create("DIV");var t=this._printCtrl=new cw(n);t.on(["print","error","printing"],function(Ee){i.setAttribute("data-status",Ee.type),Ee.clipboard||this.dispatchEvent(Ee)}.bind(this)),this._compass=new fw({src:n.northImage||"compact",visible:!1,className:"olext-print-compass",style:new ra({color:"#333",width:0})});var e=this._printDialog=new uw({target:document.body,closeBox:!0,className:"ol-ext-print-dialog"}),i=e.getContentElement();this._input={};var o=_e.create("DIV",{className:"ol-print-param",parent:i});this._pages=[_e.create("DIV",{className:"ol-page"})];var a=_e.create("DIV",{className:"ol-map",parent:this._pages[0]});_e.create("DIV",{html:this._pages[0],className:"ol-print-map",parent:i}),_e.create("H2",{html:this.i18n("title"),parent:o});var s=_e.create("UL",{parent:o}),c=_e.create("LI",{className:"ol-orientation",parent:s});this._input.orientation={list:c};var h=_e.create("LABEL",{className:"portrait",parent:c});this._input.orientation.portrait=_e.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:function(Ee){this.setOrientation(Ee.target.value)}.bind(this)},parent:h}),_e.create("SPAN",{html:this.i18n("portrait"),parent:h}),h=_e.create("LABEL",{className:"landscape",parent:c}),this._input.orientation.landscape=_e.create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:function(Ee){this.setOrientation(Ee.target.value)}.bind(this)},parent:h}),_e.create("SPAN",{html:this.i18n("landscape"),parent:h});var p;c=_e.create("LI",{html:_e.create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:s});var m=this._input.size=_e.create("SELECT",{on:{change:function(){this.setSize(m.value||ce)}.bind(this)},parent:c});for(p in this.paperSize)_e.create("OPTION",{html:p+(this.paperSize[p]?" - "+this.paperSize[p][0]+"x"+this.paperSize[p][1]+" mm":this.i18n("custom")),value:p,parent:m});c=_e.create("LI",{html:_e.create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:s});var w=this._input.margin=_e.create("SELECT",{on:{change:function(){this.setMargin(w.value)}.bind(this)},parent:c});for(p in this.marginSize)_e.create("OPTION",{html:p+" - "+this.marginSize[p]+" mm",value:this.marginSize[p],parent:w});c=_e.create("LI",{html:_e.create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:s});var R=this._input.scale=_e.create("SELECT",{on:{change:function(){this.setScale(parseInt(R.value))}.bind(this)},parent:c});Object.keys(this.scales).forEach(function(Ee){_e.create("OPTION",{html:this.scales[Ee],value:Ee,parent:R})}.bind(this)),c=_e.create("LI",{className:"ol-legend",parent:s});var M=_e.createSwitch({html:this.i18n("legend"),checked:!1,on:{change:function(){Ne.legend.control.setCanvas(M.checked)}.bind(this)},parent:c});c=_e.create("LI",{className:"ol-print-north",parent:s});var U=this._input.north=_e.createSwitch({html:this.i18n("north"),checked:"checked",on:{change:function(){U.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}.bind(this)},parent:c});c=_e.create("LI",{className:"ol-print-title",parent:s});var Z=_e.createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:function(Ee){Ne.title.control.setVisible(Ee.target.checked)}.bind(this)},parent:c}),lt=_e.create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(Ee){Ee.keyCode===13&&Ee.preventDefault()},keyup:function(){Ne.title.control.setTitle(lt.value)},change:function(){Ne.title.control.setTitle(lt.value)}.bind(this)},parent:c}),pt=_e.create("DIV",{className:"ol-user-param",parent:o});c=_e.create("LI",{className:"ol-saveas",parent:s});var xt=_e.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:c}),ht=_e.create("SELECT",{on:{change:function(){if(this.formats[ht.value].clipboard)t.copyMap(this.formats[ht.value],function(Rr){Rr&&(xt.classList.add("visible"),setTimeout(function(){xt.classList.remove("visible")},1e3))});else{var Ee=typeof this.getSize()=="string"?this.getSize():null,rr=Object.assign({format:Ee,size:Ee?this.paperSize[Ee]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[ht.value]);t.print(rr)}ht.value=""}.bind(this)},parent:c});_e.create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:ht}),this.formats.forEach(function(Ee,rr){if(Ee.pdf){if(n.pdf===!1)return}else if(Ee.clipboard){if(n.copy===!1)return}else if(n.save===!1)return;_e.create("OPTION",{html:Ee.title,value:rr,parent:ht})}),c=_e.create("LI",{className:"ol-savelegend",parent:s});var Vt=_e.create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:c}),kt=_e.create("SELECT",{on:{change:function(){var Ee=Ne.legend.control.getLegend().getCanvas(),rr=document.createElement("CANVAS");rr.width=Ee.width,rr.height=Ee.height;var Rr=rr.getContext("2d");if(Rr.fillStyle="#fff",Rr.fillRect(0,0,rr.width,rr.height),Rr.drawImage(Ee,0,0),this.formats[kt.value].clipboard)rr.toBlob(function(Dn){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},Dn.type,{value:Dn,enumerable:!0}))]),Vt.classList.add("visible"),setTimeout(function(){Vt.classList.remove("visible")},1e3)}catch{}},"image/png");else{var Gr;try{Gr=rr.toDataURL(this.formats[kt.value].imageType,this.formats[kt.value].quality);var Hr=typeof this.getSize()=="string"?this.getSize():"A4",Jr=rr.width/96*25.4,Tn=rr.height/96*25.4,bn=this.paperSize[Hr];this.getOrientation()==="landscape"&&(bn=[bn[1],bn[0]]);var jn=[(bn[0]-Jr)/2,(bn[1]-Tn)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:Hr,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[Hr],position:jn,imageWidth:Jr,imageHeight:Tn},image:Gr,imageType:this.formats[kt.value].imageType,pdf:this.formats[kt.value].pdf,quality:this.formats[kt.value].quality,canvas:rr})}catch{}}kt.value=""}.bind(this)},parent:c});_e.create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:kt}),this.formats.forEach(function(Ee,rr){_e.create("OPTION",{html:Ee.title,value:rr,parent:kt})});var Zt=_e.create("DIV",{className:"ol-ext-buttons",parent:o});_e.create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(Ee){Ee.preventDefault(),window.print()},parent:Zt}),_e.create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){e.hide()},parent:Zt}),_e.create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:o});var Xt,ce,Ve,Ne={};e.on("show",function(){this.dispatchEvent({type:"show",userElement:pt,dialog:this._printDialog,page:this.getPage()});var Ee=this.getMap();!Ee||(document.body.classList.add("ol-print-document"),Xt=Ee.getTargetElement(),ce=Ee.getSize(),typeof this.getSize()=="string"?this.setSize(this.getSize()):this.setSize(ce),Ee.setTarget(a),Ve&&Object(Ks.b)(Ve),Ve=Ee.on("moveend",function(){this.setScale(k_(Ee))}.bind(this)),this.setScale(k_(Ee)),Ne={},this.getMap().getControls().forEach(function(rr){rr instanceof LF&&(Ne.legend={control:rr}),rr instanceof RF&&(Ne.title={control:rr}),rr instanceof fw&&(Ne.compass?rr.element.classList.remove("ol-print-compass"):(this._input.north.checked?rr.element.classList.add("ol-print-compass"):rr.element.classList.remove("ol-print-compass"),this._compass=rr,Ne.compass={control:rr}))}.bind(this)),Ne.title?(Z.checked=Ne.title.isVisible=Ne.title.control.getVisible(),lt.value=Ne.title.control.getTitle(),Z.parentNode.parentNode.classList.remove("hidden")):Z.parentNode.parentNode.classList.add("hidden"),Ne.legend?(Ne.legend.ison=Ne.legend.control.onCanvas(),Ne.legend.collapsed=Ne.legend.control.isCollapsed(),Ne.legend.control.collapse(!1),kt.parentNode.classList.remove("hidden"),M.parentNode.parentNode.classList.remove("hidden"),M.checked=!Ne.legend.collapsed,Ne.legend.control.setCanvas(!Ne.legend.collapsed)):(kt.parentNode.classList.add("hidden"),M.parentNode.parentNode.classList.add("hidden")))}.bind(this)),e.on("hide",function(){document.body.classList.remove("ol-print-document"),Xt&&(this.getMap().setTarget(Xt),Xt=null,Ve&&Object(Ks.b)(Ve),Ne.title&&Ne.title.control.setVisible(Ne.title.isVisible),Ne.legend&&(Ne.legend.control.setCanvas(Ne.legend.ison),Ne.legend.control.collapse(Ne.legend.collapsed)),this.dispatchEvent({type:"hide"}))}.bind(this)),window.addEventListener("resize",function(){this.setSize()}.bind(this)),n.saveAs&&this.on("print",function(Ee){Ee.pdf||Ee.canvas.toBlob(function(rr){var Rr=(Ee.print.legend?"legend.":"map.")+Ee.imageType.replace("image/","");n.saveAs(rr,Rr)},Ee.imageType,Ee.quality)}),n.jsPDF&&this.on("print",function(Ee){if(Ee.pdf){var rr=new n.jsPDF({orientation:Ee.print.orientation,unit:Ee.print.unit,format:Ee.print.size});rr.addImage(Ee.image,"JPEG",Ee.print.position[0],Ee.print.position[0],Ee.print.imageWidth,Ee.print.imageHeight),rr.save(Ee.print.legend?"legend.pdf":"map.pdf")}})};Ti(io,ii.default),io.prototype.isOpen=function(){return this._printDialog.isOpen()},io.addLang=function(n,r){io.prototype._labels[n]=r},io.prototype.i18n=function(n){var r=this._labels.en[n]||"bad param";return this._labels[this._lang]&&this._labels[this._lang][n]&&(r=this._labels[this._lang][n]),r},io.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"\u2714 Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille \xE9cran",margin:"Marges",scale:"Echelle",legend:"L\xE9gende",north:"Fl\xE8che du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la l\xE9gende...",copied:"\u2714 Carte copi\xE9e",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",cancel:"annuler"},zh:{title:"\u6253\u5370",orientation:"\u65B9\u5411",portrait:"\u7EB5\u5411",landscape:"\u6A2A\u5411",size:"\u9875\u9762\u5927\u5C0F",custom:"\u5C4F\u5E55\u5927\u5C0F",margin:"\u5916\u8FB9\u8DDD",scale:"\u5C3A\u5EA6",legend:"\u56FE\u4F8B",north:"\u6307\u5317\u9488",mapTitle:"\u5730\u56FE\u540D\u5B57",saveas:"\u4FDD\u5B58\u4E3A...",saveLegend:"\u4FDD\u5B58\u56FE\u4F8B\u4E3A...",copied:"\u2714 \u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F",errorMsg:"\u65E0\u6CD5\u4FDD\u5B58\u5730\u56FE...",printBt:"\u6253\u5370...",cancel:"\u53D6\u6D88"}},io.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],A5:[148,210],B4:[257,364],B5:[182,257]},io.prototype.marginSize={none:0,small:5,large:10},io.prototype.formats=[{title:"copy to clipboard",imageType:"image/png",clipboard:!0},{title:"save as jpeg",imageType:"image/jpeg",quality:.8},{title:"save as png",imageType:"image/png",quality:.8},{title:"save as pdf",imageType:"image/jpeg",pdf:!0}],io.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"},io.prototype.getOrientation=function(){return this._orientation||"portrait"},io.prototype.setOrientation=function(n){this._orientation=n==="landscape"?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()},io.prototype.getMargin=function(){return this._margin||0},io.prototype.setMargin=function(n){this._margin=n,this._input.margin.value=n,this.setSize()},io.prototype.getSize=function(){return this._size},io.prototype.setSize=function(n){if(this._printDialog.getContentElement().setAttribute("data-status",""),n?this._size=n:n=this._size,!!n){typeof n=="string"?(n=n.toLocaleUpperCase(),this.paperSize[n]||(n=this._size="A4"),this._input.size.value=n,n=[Math.trunc(this.paperSize[n][0]*96/25.4),Math.trunc(this.paperSize[n][1]*96/25.4)],this.getOrientation()==="landscape"&&(n=[n[1],n[0]]),this.getPage().classList.remove("margin")):(this._input.size.value="",this.getPage().classList.add("margin"));var r=this.getPage(),t=r.parentNode.getBoundingClientRect(),e=(t.width-40)/n[0],i=(t.height-40)/n[1],o=Math.min(e,i,1);r.style.width=n[0]+"px",r.style.height=n[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+o+")";var a=Math.round(5/o);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=a+"px "+a+"px "+a+"px rgba(0,0,0,.6)",r.style.padding=this.getMargin()*96/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}},io.prototype.getContentElement=function(){return this._printDialog.getContentElement()},io.prototype.getUserElement=function(){return this._printDialog.getContentElement().querySelector(".ol-user-param")},io.prototype.getPage=function(){return this._pages[0]},io.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),ii.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))},io.prototype.setScale=function(n){PF(this.getMap(),n),this._input.scale.value=" "+Math.round(n/100)*100},io.prototype.getScale=function(){return k_(this.getMap())},io.prototype.print=function(n){n=n||{},n.size&&this.setSize(n.size),n.scale&&this.setScale(n.scale),n.orientation&&this.setOrientation(n.orientation),n.margin&&this.setMargin(n.margin),this._printDialog.show()},io.prototype.getrintControl=function(){return this._printCtrl};var IF=io,hw=u("21a6"),MF=u("8baf"),NF={name:"ol-control-printdialog",setup:function(r,t){var e=ia(IF,r,t),i=e.control;return i.value.on(["print","error"],function(o){if(o.image)if(o.pdf){var a=new MF.a({orientation:o.print.orientation,unit:o.print.unit,format:o.print.size});a.addImage(o.image,"JPEG",o.print.position[0],o.print.position[0],o.print.imageWidth,o.print.imageHeight),a.save(o.print.legend?"legend.pdf":"map.pdf")}else o.canvas.toBlob(function(s){var c=(o.print.legend?"legend.":"map.")+o.imageType.replace("image/","");Object(hw.saveAs)(s,c)},o.imageType,o.quality);else console.warn("No canvas to export")}),{control:i}},props:{lang:{type:String}}},z_=Ae()(NF,[["render",EF]]);function FF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var Ah=function(n){n||(n={});var r=_e.create("DIV",{className:(n.className||"ol-videorec")+" ol-unselectable ol-control"});_e.create("BUTTON",{type:"button",className:"ol-start",title:"start",click:function(){this.start()}.bind(this),parent:r}),_e.create("BUTTON",{type:"button",className:"ol-stop",title:"stop",click:function(){this.stop()}.bind(this),parent:r}),_e.create("BUTTON",{type:"button",className:"ol-pause",title:"pause",click:function(){this.pause()}.bind(this),parent:r}),_e.create("BUTTON",{type:"button",className:"ol-resume",title:"resume",click:function(){this.resume()}.bind(this),parent:r}),ii.default.call(this,{element:r,target:n.target}),this.set("framerate",30),this.set("videoBitsPerSecond",5e6),n.videoTarget==="DIALOG"?(this._dialog=new uw({className:"ol-fullscreen-dialog",target:document.body,closeBox:!0}),this._videoTarget=this._dialog.getContentElement()):this._videoTarget=n.videoTarget,this._printCtrl=new cw({target:_e.create("DIV")})};Ti(Ah,ii.default),Ah.prototype.setMap=function(n){this.getMap()&&(this.getMap().removeControl(this._printCtrl),this._dialog&&this.getMap().removeControl(this._dialog)),ii.default.prototype.setMap.call(this,n),this.getMap()&&(this.getMap().addControl(this._printCtrl),this._dialog&&this.getMap().addControl(this._dialog))},Ah.prototype.start=function(){var n=this._printCtrl,r=!1;function t(e){r||n.fastPrint({canvas:e},t)}n.fastPrint({},function(e){var i;try{i=e.captureStream(this.get("framerate")||30)}catch(a){this.dispatchEvent({type:"error",error:a});return}this._mediaRecorder=new MediaRecorder(i,{videoBitsPerSecond:this.get("videoBitsPerSecond")||5e6});var o=[];this._mediaRecorder.ondataavailable=function(a){o.push(a.data)},this._mediaRecorder.onstop=function(){r=!0;var a=new Blob(o,{type:"video/mp4"});if(o=[],this._videoTarget instanceof Element){var s;this._videoTarget.tagName==="VIDEO"?s=this._videoTarget:(s=this._videoTarget.querySelector("video"),s||(s=_e.create("VIDEO",{controls:"",parent:this._videoTarget}))),this._dialog&&this._dialog.show(),s.src=URL.createObjectURL(a),this.dispatchEvent({type:"stop",videoURL:s.src})}else this.dispatchEvent({type:"stop",videoURL:URL.createObjectURL(a)})}.bind(this),this._mediaRecorder.onpause=function(){r=!0,this.dispatchEvent({type:"pause"})}.bind(this),this._mediaRecorder.onresume=function(){r=!1,t(e),this.dispatchEvent({type:"resume"})}.bind(this),this._mediaRecorder.onerror=function(a){this.dispatchEvent({type:"error",error:a})}.bind(this),r=!1,t(e),this._mediaRecorder.start(),this.dispatchEvent({type:"start",canvas:e}),this.element.setAttribute("data-state","rec")}.bind(this))},Ah.prototype.stop=function(){this._mediaRecorder&&(this._mediaRecorder.stop(),this._mediaRecorder=null,this.element.setAttribute("data-state","inactive"))},Ah.prototype.pause=function(){this._mediaRecorder&&(this._mediaRecorder.pause(),this.element.setAttribute("data-state","pause"))},Ah.prototype.resume=function(){this._mediaRecorder&&(this._mediaRecorder.resume(),this.element.setAttribute("data-state","rec"))};var jF=Ah,DF={name:"ol-control-videorecorder",emits:["start","stop"],setup:function(r,t){var e=ia(jF,r,t),i=e.control,o=Object(I.toRefs)(r),a=o.downloadName;return i.value.on("start",function(s){t.emit("start",s)}),i.value.on("stop",function(s){t.emit("stop",s),Object(hw.saveAs)(s.videoURL,a.value)}),{control:i}},props:{className:{type:String},framerate:{type:Number,default:30},videoBitsPerSecond:{type:Number,default:5e6},videoTarget:{type:String},downloadName:{type:String,default:"mapVideo.mp4"}}},V_=Ae()(DF,[["render",FF]]);function BF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var vf={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},GF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UF={image:[ei.POLYGON,ei.CIRCLE,ei.LINE_STRING,ei.IMAGE,ei.TEXT],hybrid:[ei.POLYGON,ei.LINE_STRING],vector:[]},kF={hybrid:[ei.IMAGE,ei.TEXT,ei.DEFAULT],vector:[ei.POLYGON,ei.CIRCLE,ei.LINE_STRING,ei.IMAGE,ei.TEXT,ei.DEFAULT]},zF=function(n){GF(r,n);function r(t){var e=n.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.dirty_=!1,e.renderedLayerRevision_,e.renderedPixelToCoordinateTransform_=null,e.renderedRotation_,e.tmpTransform_=Q(),e}return r.prototype.prepareTile=function(t,e,i){var o,a=t.getState();return(a===Lr.LOADED||a===Lr.ERROR)&&(this.updateExecutorGroup_(t,e,i),this.tileImageNeedsRender_(t)&&(o=!0)),o},r.prototype.getTile=function(t,e,i,o){var a=o.pixelRatio,s=o.viewState,c=s.resolution,h=s.projection,p=this.getLayer(),m=p.getSource().getTile(t,e,i,a,h),w=o.viewHints,R=!(w[si.ANIMATING]||w[si.INTERACTING]);(R||!m.wantedResolution)&&(m.wantedResolution=c);var M=this.prepareTile(m,a,h);return M&&(R||Date.now()-o.time<8)&&p.getRenderMode()!==vf.VECTOR&&this.renderTileImage_(m,o),n.prototype.getTile.call(this,t,e,i,o)},r.prototype.isDrawableTile=function(t){var e=this.getLayer();return n.prototype.isDrawableTile.call(this,t)&&(e.getRenderMode()===vf.VECTOR?Object(ct.c)(e)in t.executorGroups:t.hasContext(e))},r.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},r.prototype.prepareFrame=function(t){var e=this.getLayer().getRevision();return this.renderedLayerRevision_!=e&&(this.renderedTiles.length=0),this.renderedLayerRevision_=e,n.prototype.prepareFrame.call(this,t)},r.prototype.updateExecutorGroup_=function(t,e,i){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,c=t.wantedResolution,h=t.getReplayState(o);if(!(!h.dirty&&h.renderedResolution===c&&h.renderedRevision==a&&h.renderedRenderOrder==s)){var p=o.getSource(),m=o.getDeclutter(),w=p.getTileGrid(),R=p.getTileGridForProjection(i),M=R.getTileCoordExtent(t.wrappedTileCoord),U=p.getSourceTiles(e,i,t),Z=Object(ct.c)(o);delete t.hitDetectionImageData[Z],t.executorGroups[Z]=[],m&&(t.declutterExecutorGroups[Z]=[]);for(var lt=function(Vt,kt){var Zt=U[Vt];if(Zt.getState()!=Lr.LOADED)return"continue";var Xt=Zt.tileCoord,ce=w.getTileCoordExtent(Xt),Ve=Pr(M,ce),Ne=Ct(Ve,o.getRenderBuffer()*c,pt.tmpExtent),Ee=hr(ce,Ve)?null:Ne;h.dirty=!1;var rr=new $y(0,Ne,c,e),Rr=m?new $y(0,Ve,c,e):void 0,Gr=bS(c,e),Hr=function(Zi){var Mo,qo=Zi.getStyleFunction()||o.getStyleFunction();if(qo&&(Mo=qo(Zi,c)),Mo){var Yo=this.renderFeature(Zi,Gr,Mo,rr,Rr);this.dirty_=this.dirty_||Yo,h.dirty=h.dirty||Yo}},Jr=Zt.getFeatures();s&&s!==h.renderedRenderOrder&&Jr.sort(s);for(var Tn=0,bn=Jr.length;Tn<bn;++Tn){var jn=Jr[Tn];(!Ee||vi(Ee,jn.getGeometry().getExtent()))&&Hr.call(pt,jn)}var Dn=rr.finish(),ur=o.getRenderMode()!==vf.VECTOR&&m&&U.length===1?null:Ve,Wo=new Zy(ur,c,e,p.getOverlaps(),Dn,o.getRenderBuffer());if(t.executorGroups[Z].push(Wo),Rr){var Wn=new Zy(null,c,e,p.getOverlaps(),Rr.finish(),o.getRenderBuffer());t.declutterExecutorGroups[Z].push(Wn)}},pt=this,xt=0,ht=U.length;xt<ht;++xt)lt(xt);h.renderedRevision=a,h.renderedRenderOrder=s,h.renderedResolution=c}},r.prototype.forEachFeatureAtCoordinate=function(t,e,i,o,a){var s=e.viewState.resolution,c=e.viewState.rotation;i=i==null?0:i;var h=this.getLayer(),p=h.getSource(),m=p.getTileGridForProjection(e.viewState.projection),w=Lt([t]);Ct(w,s*i,w);for(var R={},M=function(ht,Vt,kt){var Zt=ht.getId();Zt===void 0&&(Zt=Object(ct.c)(ht));var Xt=R[Zt];if(Xt){if(Xt!==!0&&kt<Xt.distanceSq){if(kt===0)return R[Zt]=!0,a.splice(a.lastIndexOf(Xt),1),o(ht,h,Vt);Xt.geometry=Vt,Xt.distanceSq=kt}}else{if(kt===0)return R[Zt]=!0,o(ht,h,Vt);a.push(R[Zt]={feature:ht,layer:h,geometry:Vt,distanceSq:kt,callback:o})}},U=this.renderedTiles,Z,lt=function(ht,Vt){var kt=U[ht],Zt=m.getTileCoordExtent(kt.wrappedTileCoord);if(!vi(Zt,w))return"continue";var Xt=Object(ct.c)(h),ce=[kt.executorGroups[Xt]],Ve=kt.declutterExecutorGroups[Xt];Ve&&ce.push(Ve),ce.some(function(Ne){for(var Ee=Ne===Ve?e.declutterTree.all().map(function(Hr){return Hr.value}):null,rr=0,Rr=Ne.length;rr<Rr;++rr){var Gr=Ne[rr];if(Z=Gr.forEachFeatureAtCoordinate(t,s,c,i,M,Ee),Z)return!0}})},pt=0,xt=U.length;!Z&&pt<xt;++pt)lt(pt);return Z},r.prototype.getFeatures=function(t){return new Promise(function(e,i){for(var o=this.getLayer(),a=Object(ct.c)(o),s=o.getSource(),c=this.renderedProjection,h=c.getExtent(),p=this.renderedResolution,m=s.getTileGridForProjection(c),w=Me(this.renderedPixelToCoordinateTransform_,t.slice()),R=m.getTileCoordForCoordAndResolution(w,p),M,U=0,Z=this.renderedTiles.length;U<Z;++U)if(R.toString()===this.renderedTiles[U].tileCoord.toString()){if(M=this.renderedTiles[U],M.getState()===Lr.LOADED){var lt=m.getTileCoordExtent(M.tileCoord);s.getWrapX()&&c.canWrapX()&&!he(h,lt)&&K(w,c);break}M=void 0}if(!M||M.loadingSourceTiles>0){e([]);return}var pt=m.getTileCoordExtent(M.wrappedTileCoord),xt=qn(pt),ht=[(w[0]-xt[0])/p,(xt[1]-w[1])/p],Vt=M.getSourceTiles().reduce(function(Ve,Ne){return Ve.concat(Ne.getFeatures())},[]),kt=M.hitDetectionImageData[a];if(!kt&&!this.animatingOrInteracting_){var Zt=to(m.getTileSize(m.getZForResolution(p))),Xt=this.renderedRotation_,ce=[this.getRenderTransform(m.getTileCoordCenter(M.wrappedTileCoord),p,0,$s,Zt[0]*$s,Zt[1]*$s,0)];kt=wS(Zt,ce,Vt,o.getStyleFunction(),m.getTileCoordExtent(M.wrappedTileCoord),M.getReplayState(o).renderedResolution,Xt),M.hitDetectionImageData[a]=kt}e(OS(ht,Vt,kt))}.bind(this))},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.renderedLayerRevision_!==void 0&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.renderDeclutter=function(t){var e=this.context,i=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,a=!(o[si.ANIMATING]||o[si.INTERACTING]),s=this.renderedTiles,c=0,h=s.length;c<h;++c){var p=s[c],m=p.declutterExecutorGroups[Object(ct.c)(this.getLayer())];if(m)for(var w=m.length-1;w>=0;--w)m[w].execute(this.context,1,this.getTileRenderTransform(p,t),t.viewState.rotation,a,void 0,t.declutterTree)}e.globalAlpha=i},r.prototype.getTileRenderTransform=function(t,e){var i=e.pixelRatio,o=e.viewState,a=o.center,s=o.resolution,c=o.rotation,h=e.size,p=Math.round(h[0]*i),m=Math.round(h[1]*i),w=this.getLayer().getSource(),R=w.getTileGridForProjection(e.viewState.projection),M=t.tileCoord,U=R.getTileCoordExtent(t.wrappedTileCoord),Z=R.getTileCoordExtent(M,this.tmpExtent)[0]-U[0],lt=Ut(Sr(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(a,s,c,i,p,m,Z));return lt},r.prototype.renderFrame=function(t,e){var i=t.viewHints,o=!(i[si.ANIMATING]||i[si.INTERACTING]);n.prototype.renderFrame.call(this,t,e),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var a=this.getLayer(),s=a.getRenderMode(),c=this.context,h=c.globalAlpha;c.globalAlpha=a.getOpacity();for(var p=kF[s],m=t.viewState,w=m.rotation,R=this.renderedTiles,M=[],U=[],Z=R.length-1;Z>=0;--Z)for(var lt=R[Z],pt=this.getTileRenderTransform(lt,t),xt=lt.executorGroups[Object(ct.c)(a)],ht=!1,Vt=0,kt=xt.length;Vt<kt;++Vt){var Zt=xt[Vt];if(!!Zt.hasExecutors(p)){var Xt=lt.tileCoord[0],ce=void 0;if(!ht&&(ce=Zt.getClipCoords(pt),ce)){c.save();for(var Ve=0,Ne=M.length;Ve<Ne;++Ve){var Ee=M[Ve];Xt<U[Ve]&&(c.beginPath(),c.moveTo(ce[0],ce[1]),c.lineTo(ce[2],ce[3]),c.lineTo(ce[4],ce[5]),c.lineTo(ce[6],ce[7]),c.moveTo(Ee[6],Ee[7]),c.lineTo(Ee[4],Ee[5]),c.lineTo(Ee[2],Ee[3]),c.lineTo(Ee[0],Ee[1]),c.clip())}}Zt.execute(c,1,pt,w,o,p),!ht&&ce&&(c.restore(),M.push(ce),U.push(Xt),ht=!0)}}return c.globalAlpha=h,this.container},r.prototype.renderFeature=function(t,e,i,o,a){if(!i)return!1;var s=!1;if(Array.isArray(i))for(var c=0,h=i.length;c<h;++c)s=Jy(o,t,i[c],e,this.boundHandleStyleImageChange_,void 0,a)||s;else s=Jy(o,t,i,e,this.boundHandleStyleImageChange_,void 0,a);return s},r.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===vf.VECTOR)return!1;var i=t.getReplayState(e),o=e.getRevision(),a=t.wantedResolution;return i.renderedTileResolution!==a||i.renderedTileRevision!==o},r.prototype.renderTileImage_=function(t,e){var i=this.getLayer(),o=t.getReplayState(i),a=i.getRevision(),s=t.executorGroups[Object(ct.c)(i)];o.renderedTileRevision=a;var c=t.wrappedTileCoord,h=c[0],p=i.getSource(),m=e.pixelRatio,w=e.viewState,R=w.projection,M=p.getTileGridForProjection(R),U=M.getResolution(t.tileCoord[0]),Z=e.pixelRatio/t.wantedResolution*U,lt=M.getResolution(h),pt=t.getContext(i);m=Math.round(Math.max(m,Z/m));var xt=p.getTilePixelSize(h,m,R);pt.canvas.width=xt[0],pt.canvas.height=xt[1];var ht=m/Z;if(ht!==1){var Vt=Tt(this.tmpTransform_);Sr(Vt,ht,ht),pt.setTransform.apply(pt,Vt)}var kt=M.getTileCoordExtent(c,this.tmpExtent),Zt=Z/lt,Xt=Tt(this.tmpTransform_);Sr(Xt,Zt,-Zt),Qt(Xt,-kt[0],-kt[3]);for(var ce=0,Ve=s.length;ce<Ve;++ce){var Ne=s[ce];Ne.execute(pt,ht,Xt,0,!0,UF[i.getRenderMode()])}o.renderedTileResolution=t.wantedResolution},r}(Px),VF=zF,WF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YF=function(n){WF(r,n);function r(t){var e=this,i=t||{},o=Object(Ir.a)({},i);delete o.preload,delete o.useInterimTilesOnError,e=n.call(this,o)||this,e.on,e.once,e.un,i.renderMode===vf.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),i.renderMode=void 0);var a=i.renderMode||vf.HYBRID;return qt(a==vf.HYBRID||a==vf.VECTOR,28),e.renderMode_=a,e.setPreload(i.preload?i.preload:0),e.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),e.getBackground,e.setBackground,e}return r.prototype.createRenderer=function(){return new VF(this)},r.prototype.getFeatures=function(t){return n.prototype.getFeatures.call(this,t)},r.prototype.getRenderMode=function(){return this.renderMode_},r.prototype.getPreload=function(){return this.get(rf.PRELOAD)},r.prototype.getUseInterimTilesOnError=function(){return this.get(rf.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setPreload=function(t){this.set(rf.PRELOAD,t)},r.prototype.setUseInterimTilesOnError=function(t){this.set(rf.USE_INTERIM_TILES_ON_ERROR,t)},r}(Hy),HF=YF,XF=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iu={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},KF=["#00f","#0ff","#0f0","#ff0","#f00"],$F=function(n){XF(r,n);function r(t){var e=this,i=t||{},o=Object(Ir.a)({},i);delete o.gradient,delete o.radius,delete o.blur,delete o.weight,e=n.call(this,o)||this,e.gradient_=null,e.addChangeListener(iu.GRADIENT,e.handleGradientChanged_),e.setGradient(i.gradient?i.gradient:KF),e.setBlur(i.blur!==void 0?i.blur:15),e.setRadius(i.radius!==void 0?i.radius:8);var a=i.weight?i.weight:"weight";return typeof a=="string"?e.weightFunction_=function(s){return s.get(a)}:e.weightFunction_=a,e.setRenderOrder(null),e}return r.prototype.getBlur=function(){return this.get(iu.BLUR)},r.prototype.getGradient=function(){return this.get(iu.GRADIENT)},r.prototype.getRadius=function(){return this.get(iu.RADIUS)},r.prototype.handleGradientChanged_=function(){this.gradient_=ZF(this.getGradient())},r.prototype.setBlur=function(t){this.set(iu.BLUR,t)},r.prototype.setGradient=function(t){this.set(iu.GRADIENT,t)},r.prototype.setRadius=function(t){this.set(iu.RADIUS,t)},r.prototype.createRenderer=function(){return new MS(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return e!==void 0?Fi(e,0,1):1}.bind(this)}],vertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_weight = a_weight;
        }`,fragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          gl_FragColor = vec4(alpha, alpha, alpha, alpha);
        }`,hitVertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;
        attribute vec4 a_hitColor;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_hitColor = a_hitColor;
          v_weight = a_weight;
        }`,hitFragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          if (alpha < 0.05) {
            discard;
          }

          gl_FragColor = v_hitColor;
        }`,uniforms:{u_size:function(){return(this.get(iu.RADIUS)+this.get(iu.BLUR))*2}.bind(this),u_blurSlope:function(){return this.get(iu.RADIUS)/Math.max(1,this.get(iu.BLUR))}.bind(this)},postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},r.prototype.renderDeclutter=function(){},r}(Hy);function ZF(n){for(var r=1,t=256,e=Object(je.a)(r,t),i=e.createLinearGradient(0,0,r,t),o=1/(n.length-1),a=0,s=n.length;a<s;++a)i.addColorStop(a*o,n[a]);return e.fillStyle=i,e.fillRect(0,0,r,t),e.canvas}var qF=$F,Vi=function(n){n=n||{};var r=this;this.dcount=0,this.show_progress=n.show_progress,this.oninfo=typeof n.oninfo=="function"?n.oninfo:null,this.onextent=typeof n.onextent=="function"?n.onextent:null,this.hasextent=n.extent||n.onextent,this.hastrash=n.trash,this.reordering=n.reordering!==!1,this._layers=[],this._layerGroup=n.layerGroup&&n.layerGroup.getLayers?n.layerGroup:null,this.onchangeCheck=typeof n.onchangeCheck=="function"?n.onchangeCheck:null,typeof n.displayInLayerSwitcher=="function"&&(this.displayInLayerSwitcher=n.displayInLayerSwitcher);var t;n.target?t=_e.create("DIV",{className:n.switcherClass||"ol-layerswitcher"}):(t=_e.create("DIV",{className:(n.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),n.collapsed!==!1?t.classList.add("ol-collapsed"):t.classList.add("ol-forceopen"),this.button=_e.create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",function(e){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),r.overflow()}),n.mouseover&&(t.addEventListener("mouseleave",function(){t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),t.addEventListener("mouseover",function(){t.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),n.minibar&&(n.noScroll=!0),n.noScroll||(this.topv=_e.create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){r.overflow("+50%")}}),this.botv=_e.create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){r.overflow("-50%")}})),this._noScroll=n.noScroll),this.panel_=_e.create("UL",{className:"panel"}),this.panelContainer_=_e.create("DIV",{className:"panel-container",html:this.panel_,parent:t}),!n.target&&!n.noScroll&&_e.addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(e){r.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())}),this.header_=_e.create("LI",{className:"ol-header",parent:this.panel_}),ii.default.call(this,{element:t,target:n.target}),this.set("drawDelay",n.drawDelay||0),this.set("selection",n.selection),n.minibar&&setTimeout(function(){var e=_e.scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){e.refresh()})}.bind(this))};Ti(Vi,ii.default),Vi.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},Vi.prototype.displayInLayerSwitcher=function(n){return n.get("displayInLayerSwitcher")!==!1},Vi.prototype.setMap=function(n){if(ii.default.prototype.setMap.call(this,n),this.drawPanel(),this._listener)for(var r in this._listener)Object(Ks.b)(this._listener[r]);this._listener=null,n&&(this._listener={moveend:n.on("moveend",this.viewChange.bind(this)),size:n.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=n.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))},Vi.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!1})},Vi.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow(),self.dispatchEvent({type:"toggle",collapsed:!0})},Vi.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},Vi.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},Vi.prototype.setHeader=function(n){_e.setHTML(this.header_,n)},Vi.prototype.overflow=function(n){if(this.button&&!this._noScroll){if(_e.hidden(this.panel_)){_e.setStyle(this.element,{height:"auto"});return}var r=_e.outerHeight(this.element),t=_e.outerHeight(this.panel_),e=this.button.offsetTop+_e.outerHeight(this.button),i=this.panel_.offsetTop-e;if(t>r-e){_e.setStyle(this.element,{height:"100%"});var o=this.panel_.querySelectorAll("li.visible .li-content")[0],a=o?2*_e.getStyle(o,"height"):0;switch(n){case 1:i+=a;break;case-1:i-=a;break;case"+50%":i+=Math.round(r/2);break;case"-50%":i-=Math.round(r/2);break}return i+t<=r-3*e/2?(i=r-3*e/2-t,_e.hide(this.botv)):_e.show(this.botv),i>=0?(i=0,_e.hide(this.topv)):_e.show(this.topv),_e.setStyle(this.panel_,{top:i+"px"}),!0}else return _e.setStyle(this.element,{height:"auto"}),_e.setStyle(this.panel_,{top:0}),_e.hide(this.botv),_e.hide(this.topv),!1}else return!1},Vi.prototype._setLayerForLI=function(n,r){var t=[];r.getLayers&&t.push(r.getLayers().on("change:length",this.drawPanel.bind(this))),n&&(t.push(r.on("change:opacity",function(){this.setLayerOpacity(r,n)}.bind(this))),t.push(r.on("change:visible",function(){this.setLayerVisibility(r,n)}.bind(this)))),t.push(r.on("propertychange",function(e){(e.key==="displayInLayerSwitcher"||e.key==="openInLayerSwitcher")&&this.drawPanel(e)}.bind(this))),this._layers.push({li:n,layer:r,listeners:t})},Vi.prototype.setLayerOpacity=function(n,r){var t=r.querySelector(".layerswitcher-opacity-cursor");t&&(t.style.left=n.getOpacity()*100+"%"),this.dispatchEvent({type:"layer:opacity",layer:n})},Vi.prototype.setLayerVisibility=function(n,r){var t=r.querySelector(".ol-visibility");t&&(t.checked=n.getVisible()),n.getVisible()?r.classList.add("ol-visible"):r.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:n})},Vi.prototype._clearLayerForLI=function(){this._layers.forEach(function(n){n.listeners.forEach(function(r){Object(Ks.b)(r)})}),this._layers=[]},Vi.prototype._getLayerForLI=function(n){for(var r=0,t;t=this._layers[r];r++)if(t.li===n)return t.layer;return null},Vi.prototype.viewChange=function(){this.panel_.querySelectorAll("li").forEach(function(n){var r=this._getLayerForLI(n);r&&(this.testLayerVisibility(r)?n.classList.remove("ol-layer-hidden"):n.classList.add("ol-layer-hidden"))}.bind(this))},Vi.prototype.getPanel=function(){return this.panelContainer_},Vi.prototype.drawPanel=function(){if(!!this.getMap()){var n=this;this.dcount++,setTimeout(function(){n.drawPanel_()},this.get("drawDelay")||0)}},Vi.prototype.drawPanel_=function(){if(!(--this.dcount||this.dragging_)){var n=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach(function(r){r.classList.contains("ol-header")||r.remove()}.bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=n}},Vi.prototype.switchLayerVisibility=function(n,r){n.get("baseLayer")?(n.getVisible()||n.setVisible(!0),r.forEach(function(t){n!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)})):n.setVisible(!n.getVisible())},Vi.prototype.testLayerVisibility=function(n){if(!this.getMap())return!0;var r=this.getMap().getView().getResolution(),t=this.getMap().getView().getZoom();if(n.getMaxResolution()<=r||n.getMinResolution()>=r)return!1;if(n.getMinZoom&&(n.getMinZoom()>=t||n.getMaxZoom()<t))return!1;var e=n.getExtent();if(e){var i=this.getMap().getView().calculateExtent(this.getMap().getSize());return vi(i,e)}return!0},Vi.prototype.dragOrdering_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.currentTarget.parentNode.parentNode,e=!0,i=this.panel_,o,a=n.pageY||n.touches&&n.touches.length&&n.touches[0].pageY||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageY,s,c,h,p;t.parentNode.classList.add("drag");function m(){if(s){var R=h,M=r.getSelection()===R;if(R&&s){var U;p?U=p.getLayers():U=r._layerGroup?r._layerGroup.getLayers():r.getMap().getLayers();for(var Z=U.getArray(),lt=0;lt<Z.length;lt++)if(Z[lt]==R){U.removeAt(lt);break}for(var pt=0;pt<Z.length;pt++)if(Z[pt]===s){lt>pt?U.insertAt(pt,R):U.insertAt(pt+1,R);break}}M&&r.selectLayer(R),r.dispatchEvent({type:"reorder-end",layer:R,group:p})}t.parentNode.querySelectorAll("li").forEach(function(xt){xt.classList.remove("dropover"),xt.classList.remove("dropover-after"),xt.classList.remove("dropover-before")}),t.classList.remove("drag"),t.parentNode.classList.remove("drag"),r.element.classList.remove("drag"),c&&c.remove(),_e.removeListener(document,"mousemove touchmove",w),_e.removeListener(document,"mouseup touchend touchcancel",m)}function w(R){if(o=R.pageY||R.touches&&R.touches.length&&R.touches[0].pageY||R.changedTouches&&R.changedTouches.length&&R.changedTouches[0].pageY,e&&Math.abs(a-o)>2&&(e=!1,t.classList.add("drag"),h=r._getLayerForLI(t),s=!1,p=r._getLayerForLI(t.parentNode.parentNode),c=_e.create("LI",{className:"ol-dragover",html:t.innerHTML,style:{position:"absolute","z-index":1e4,left:t.offsetLeft,opacity:.5,width:_e.outerWidth(t),height:_e.getStyle(t,"height")},parent:i}),r.element.classList.add("drag"),r.dispatchEvent({type:"reorder-start",layer:h,group:p})),!e){R.preventDefault(),R.stopPropagation(),_e.setStyle(c,{top:o-_e.offsetRect(i).top+i.scrollTop+5});var M;for(R.touches?M=document.elementFromPoint(R.touches[0].clientX,R.touches[0].clientY):M=R.target,M.classList.contains("ol-switcherbottomdiv")?r.overflow(-1):M.classList.contains("ol-switchertopdiv")&&r.overflow(1);M&&M.tagName!=="LI";)M=M.parentNode;(!M||!M.classList.contains("dropover"))&&t.parentNode.querySelectorAll("li").forEach(function(U){U.classList.remove("dropover"),U.classList.remove("dropover-after"),U.classList.remove("dropover-before")}),M&&M.parentNode.classList.contains("drag")&&M!==t?(s=r._getLayerForLI(M),s&&!s.get("allwaysOnTop")==!h.get("allwaysOnTop")?(M.classList.add("dropover"),M.classList.add(t.offsetTop<M.offsetTop?"dropover-after":"dropover-before")):s=!1,_e.show(c)):(s=!1,M===t?_e.hide(c):_e.show(c)),s?c.classList.remove("forbidden"):c.classList.add("forbidden")}}_e.addListener(document,"mousemove touchmove",w),_e.addListener(document,"mouseup touchend touchcancel",m)},Vi.prototype.dragOpacity_=function(n){n.stopPropagation(),n.preventDefault();var r=this,t=n.target,e=this._getLayerForLI(t.parentNode.parentNode.parentNode);if(!e)return;var i=n.pageX||n.touches&&n.touches.length&&n.touches[0].pageX||n.changedTouches&&n.changedTouches.length&&n.changedTouches[0].pageX,o=_e.getStyle(t,"left")-i;r.dragging_=!0;function a(){_e.removeListener(document,"mouseup touchend touchcancel",a),_e.removeListener(document,"mousemove touchmove",s),r.dragging_=!1}function s(c){var h=c.pageX||c.touches&&c.touches.length&&c.touches[0].pageX||c.changedTouches&&c.changedTouches.length&&c.changedTouches[0].pageX,p=(o+h)/_e.getStyle(t.parentNode,"width"),m=Math.max(0,Math.min(1,p));_e.setStyle(t,{left:m*100+"%"}),t.parentNode.nextElementSibling.innerHTML=Math.round(m*100),e.setOpacity(m)}_e.addListener(document,"mouseup touchend touchcancel",a),_e.addListener(document,"mousemove touchmove",s)},Vi.prototype.drawList=function(n,r){var t=this,e=r.getArray(),i=function(p){p.stopPropagation(),p.preventDefault();var m=t._getLayerForLI(this.parentNode.parentNode);t.switchLayerVisibility(m,r),t.get("selection")&&m.getVisible()&&t.selectLayer(m),t.onchangeCheck&&t.onchangeCheck(m)};function o(p){p.stopPropagation(),p.preventDefault();var m=t._getLayerForLI(this.parentNode.parentNode);t.oninfo(m),t.dispatchEvent({type:"info",layer:m})}function a(p){p.stopPropagation(),p.preventDefault();var m=t._getLayerForLI(this.parentNode.parentNode);t.onextent?t.onextent(m):t.getMap().getView().fit(m.getExtent(),t.getMap().getSize()),t.dispatchEvent({type:"extent",layer:m})}function s(p){p.stopPropagation(),p.preventDefault();var m=this.parentNode.parentNode.parentNode.parentNode,w,R=t._getLayerForLI(m);R?(w=t._getLayerForLI(this.parentNode.parentNode),R.getLayers().remove(w),R.getLayers().getLength()==0&&!R.get("noSwitcherDelete")&&s.call(m.querySelectorAll(".layerTrash")[0],p)):(m=this.parentNode.parentNode,t.getMap().removeLayer(t._getLayerForLI(m)))}function c(p){if(!this.displayInLayerSwitcher(p)){this._setLayerForLI(null,p);return}var m=_e.create("LI",{className:(p.getVisible()?"visible ":" ")+(p.get("baseLayer")?"baselayer":""),parent:n});this._setLayerForLI(m,p),this._selectedLayer===p&&m.classList.add("ol-layer-select");var w=_e.create("DIV",{className:"ol-layerswitcher-buttons",parent:m}),R=_e.create("DIV",{className:"li-content",parent:m});_e.create("INPUT",{type:p.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:p.getVisible(),click:i,parent:R});var M=_e.create("LABEL",{title:p.get("title")||p.get("name"),click:i,unselectable:"on",style:{userSelect:"none"},parent:R});if(M.addEventListener("selectstart",function(){return!1}),_e.create("SPAN",{html:p.get("title")||p.get("name"),click:function(ht){this.get("selection")&&(ht.stopPropagation(),this.selectLayer(p))}.bind(this),parent:M}),this.reordering&&(h<e.length-1&&(p.get("allwaysOnTop")||!e[h+1].get("allwaysOnTop"))||h>0&&(!p.get("allwaysOnTop")||e[h-1].get("allwaysOnTop")))&&_e.create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(ht){t.dragOrdering_(ht)}},parent:w}),p.getLayers){var U=0;p.getLayers().forEach(function(ht){t.displayInLayerSwitcher(ht)&&U++}),U&&_e.create("DIV",{className:p.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var ht=t._getLayerForLI(this.parentNode.parentNode);ht.set("openInLayerSwitcher",!ht.get("openInLayerSwitcher"))},parent:w})}if(this.oninfo&&_e.create("DIV",{className:"layerInfo",title:this.tip.info,click:o,parent:w}),this.hastrash&&!p.get("noSwitcherDelete")&&_e.create("DIV",{className:"layerTrash",title:this.tip.trash,click:s,parent:w}),this.hasextent&&e[h].getExtent()){var Z=e[h].getExtent();Z.length==4&&Z[0]<Z[2]&&Z[1]<Z[3]&&_e.create("DIV",{className:"layerExtent",title:this.tip.extent,click:a,parent:w})}if(this.show_progress&&p instanceof M1){var lt=_e.create("DIV",{className:"layerswitcher-progress",parent:R});this.setprogress_(p),p.layerswitcher_progress=_e.create("DIV",{parent:lt})}var pt=_e.create("DIV",{className:"layerswitcher-opacity",click:function(ht){if(ht.target===this){ht.stopPropagation(),ht.preventDefault();var Vt=Math.max(0,Math.min(1,ht.offsetX/_e.getStyle(this,"width")));t._getLayerForLI(this.parentNode.parentNode).setOpacity(Vt)}},parent:R});if(_e.create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:p.getOpacity()*100+"%"},on:{"mousedown touchstart":function(ht){t.dragOpacity_(ht)}},parent:pt}),_e.create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(p.getOpacity()*100),parent:R}),p.getLayers&&(m.classList.add("ol-layer-group"),p.get("openInLayerSwitcher")===!0)){var xt=_e.create("UL",{parent:m});this.drawList(xt,p.getLayers())}m.classList.add(this.getLayerClass(p)),this.dispatchEvent({type:"drawlist",layer:p,li:m})}for(var h=e.length-1;h>=0;h--)c.call(this,e[h]);this.viewChange(),n===this.panel_&&this.overflow()},Vi.prototype.getLayerClass=function(n){return n?n.getLayers?"ol-layer-group":n instanceof Fu?"ol-layer-vector":n instanceof HF?"ol-layer-vectortile":n instanceof M1?"ol-layer-tile":n instanceof fS?"ol-layer-image":n instanceof qF?"ol-layer-heatmap":n.getFeatures?"ol-layer-vectorimage":"unknown":"none"},Vi.prototype.selectLayer=function(n,r){if(!n){if(!this.getMap())return;n=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=n,this.drawPanel(),r||this.dispatchEvent({type:"select",layer:n})},Vi.prototype.getSelection=function(){return this._selectedLayer},Vi.prototype.setprogress_=function(n){if(!n.layerswitcher_progress){var r=0,t=0,e=function(){t===r?(t=r=0,_e.setStyle(n.layerswitcher_progress,{width:0})):_e.setStyle(n.layerswitcher_progress,{width:(r/t*100).toFixed(1)+"%"})};n.getSource().on("tileloadstart",function(){t++,e()}),n.getSource().on("tileloadend",function(){r++,e()}),n.getSource().on("tileloaderror",function(){r++,e()})}};var W_=Vi,JF={name:"ol-layerswitcher-control",setup:function(r,t){var e=ia(W_,r,t),i=e.control;return{control:i}},props:{selection:{type:Boolean},displayInLayerSwitcher:{type:Function},show_progress:{type:Boolean,default:!1},mouseover:{type:Boolean,default:!1},reordering:{type:Boolean,default:!0},trash:{type:Boolean,default:!1},oninfo:{type:Function},extent:{type:Boolean},onextent:{type:Function},drawDelay:{type:Number},collapsed:{type:Boolean,default:!0},layerGroup:{type:Object},noScroll:{type:Boolean,default:!1}}},p0=Ae()(JF,[["render",BF]]);function QF(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var t8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),e8=function(n){t8(r,n);function r(t){var e=this,i=t||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.params||{},s="TRANSPARENT"in a?a.TRANSPARENT:!0;return e=n.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:!s,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,zDirection:i.zDirection})||this,e.gutter_=i.gutter!==void 0?i.gutter:0,e.params_=a,e.v13_=!0,e.serverType_=i.serverType,e.hidpi_=i.hidpi!==void 0?i.hidpi:!0,e.tmpExtent_=et(),e.updateV13_(),e.setKey(e.getKeyForParams_()),e}return r.prototype.getFeatureInfoUrl=function(t,e,i,o){var a=an(i),s=this.getProjection(),c=this.getTileGrid();c||(c=this.getTileGridForProjection(a));var h=c.getZForResolution(e,this.zDirection),p=c.getTileCoordForCoordAndZ(t,h);if(!(c.getResolutions().length<=p[0])){var m=c.getResolution(p[0]),w=c.getTileCoordExtent(p,this.tmpExtent_),R=to(c.getTileSize(p[0]),this.tmpSize),M=this.gutter_;M!==0&&(R=ho(R,M,this.tmpSize),w=Ct(w,m*M,w)),s&&s!==a&&(m=zv(s,a,t,m),w=jc(w,a,s),t=pn(t,a,s));var U={SERVICE:"WMS",VERSION:cf,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(Ir.a)(U,this.params_,o);var Z=Math.floor((t[0]-w[0])/m),lt=Math.floor((w[3]-t[1])/m);return U[this.v13_?"I":"X"]=Z,U[this.v13_?"J":"Y"]=lt,this.getRequestUrl_(p,R,w,1,s||a,U)}},r.prototype.getLegendUrl=function(t,e){if(this.urls[0]!==void 0){var i={SERVICE:"WMS",VERSION:cf,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(e===void 0||e.LAYER===void 0){var o=this.params_.LAYERS,a=!Array.isArray(o)||o.length===1;if(!a)return;i.LAYER=o}if(t!==void 0){var s=this.getProjection()?this.getProjection().getMetersPerUnit():1,c=28e-5;i.SCALE=t*s/c}return Object(Ir.a)(i,e),qd(this.urls[0],i)}},r.prototype.getGutter=function(){return this.gutter_},r.prototype.getParams=function(){return this.params_},r.prototype.getRequestUrl_=function(t,e,i,o,a,s){var c=this.urls;if(!!c){if(s.WIDTH=e[0],s.HEIGHT=e[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),o!=1)switch(this.serverType_){case ff.GEOSERVER:var h=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+h:s.FORMAT_OPTIONS="dpi:"+h;break;case ff.MAPSERVER:s.MAP_RESOLUTION=90*o;break;case ff.CARMENTA_SERVER:case ff.QGIS:s.DPI=90*o;break;default:qt(!1,52);break}var p=a.getAxisOrientation(),m=i;if(this.v13_&&p.substr(0,2)=="ne"){var w=void 0;w=i[0],m[0]=i[1],m[1]=w,w=i[2],m[2]=i[3],m[3]=w}s.BBOX=m.join(",");var R;if(c.length==1)R=c[0];else{var M=Ps(Qx(t),c.length);R=c[M]}return qd(R,s)}},r.prototype.getTilePixelRatio=function(t){return!this.hidpi_||this.serverType_===void 0?1:t},r.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},r.prototype.updateParams=function(t){Object(Ir.a)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},r.prototype.updateV13_=function(){var t=this.params_.VERSION||cf;this.v13_=C(t,"1.3")>=0},r.prototype.tileUrlFunction=function(t,e,i){var o=this.getTileGrid();if(o||(o=this.getTileGridForProjection(i)),!(o.getResolutions().length<=t[0])){e!=1&&(!this.hidpi_||this.serverType_===void 0)&&(e=1);var a=o.getResolution(t[0]),s=o.getTileCoordExtent(t,this.tmpExtent_),c=to(o.getTileSize(t[0]),this.tmpSize),h=this.gutter_;h!==0&&(c=ho(c,h,this.tmpSize),s=Ct(s,a*h,s)),e!=1&&(c=_l(c,e,this.tmpSize));var p={SERVICE:"WMS",VERSION:cf,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(Ir.a)(p,this.params_),this.getRequestUrl_(t,c,s,e,i,p)}},r}(o0),r8=e8;t0.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},GS.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileGrid().getTileCoordForCoordAndResolution(n,r),e=this.getTileUrlFunction();return e.call(this,t,this.getProjection())},r8.prototype.getPreview=function(n,r){n||(n=[21020,6355964]),r||(r=150);var t=this.getTileUrlFunction();if(t){var e=this.getTileGrid()||this.getTileGridForProjection(this.getProjection()),i=e.getTileCoordForCoordAndResolution(n,r);return t.call(this,i,1,this.getProjection())}var o=this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(n,r,this.getProjection()||"EPSG:3857",{});return o=o.replace(/getfeatureinfo/i,"GetMap"),o},E.prototype.getPreview=function(n,r,t){if(this.get("preview"))return[this.get("preview")];if(r||(r=150),r<this.getMinResolution()||r>this.getMaxResolution()){var e=this.getMinResolution(),i=this.getMaxResolution();for(i>1e5&&(i=156543),e<.15&&(e=.15),r=i;i>e;)e*=2,i/=2,r=e}var o=this.getExtent();return n||(n=[21020,6355964]),o&&!Jt(o,n)&&(n=[(o[0]+o[2])/2,(o[1]+o[3])/2]),t&&(n=pn(n,t,this.getSource().getProjection())),this.getSource&&this.getSource()?[this.getSource().getPreview(n,r)]:[]},di.prototype.getPreview=function(n,r){if(this.get("preview"))return[this.get("preview")];var t=[];if(this.getLayers)for(var e=this.getLayers().getArray(),i=0;i<e.length;i++)t=t.concat(e[i].getPreview(n,r));return t};var v0=function(n){n=n||{},n.switcherClass="ol-layerswitcher-image",n.mouseover!==!1&&(n.mouseover=!0),W_.call(this,n)};Ti(v0,W_),v0.prototype.drawList=function(n,r){var t=this,e=function(i){i.preventDefault();var o=t._getLayerForLI(this);t.switchLayerVisibility(o,r),i.type=="touchstart"&&t.element.classList.add("ol-collapsed")};_e.setStyle(n,{height:"auto"}),r.forEach(function(i){if(t.displayInLayerSwitcher(i)){var o=i.getPreview?i.getPreview():["none"],a=_e.create("LI",{className:"ol-imgcontainer"+(i.getVisible()?" ol-visible":""),on:{"touchstart click":e},parent:n});t._setLayerForLI(a,i),o.forEach(function(s){_e.create("IMG",{src:s,parent:a})}),_e.create("p",{html:i.get("title")||i.get("name"),parent:a}),t.testLayerVisibility(i)&&a.classList.add("ol-layer-hidden")}})},v0.prototype.overflow=function(){};var n8=v0,i8={name:"ol-layerswitcherimage-control",extends:p0,setup:function(r,t){var e=ia(n8,r,t),i=e.control;return{control:i}}},Y_=Ae()(i8,[["render",QF]]);function o8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var Ga=function(n){n||(n={});var r=document.createElement("div");if(n.target)r=_e.create("DIV",{className:n.className||"ol-mapzone"});else{r=_e.create("DIV",{className:(n.className||"ol-mapzone")+" ol-unselectable ol-control ol-collapsed"});var t=_e.create("BUTTON",{type:"button",on:{click:function(){r.classList.toggle("ol-collapsed"),e.forEach(function(i){i.updateSize()})}.bind(this)},parent:r});_e.create("I",{parent:t})}ii.default.call(this,{element:r,target:n.target}),this.set("centerOnClick",n.centerOnClick);var e=this._maps=[];this._projection=n.projection,this._layer=n.layer,n.zones.forEach(this.addZone.bind(this)),setTimeout(function(){e.forEach(function(i){i.updateSize()})})};r_(Ga,ii.default),Ga.prototype.setCollapsed=function(n){n?(this.element.classList.remove("ol-collapsed"),this.getMaps().forEach(function(r){r.updateSize()})):this.element.classList.add("ol-collapsed")},Ga.prototype.getCollapsed=function(){return this.element.classList.contains("ol-collapsed")},Ga.prototype.setVisible=Ga.prototype.setCollapsed,Ga.prototype.getMaps=function(){return this._maps},Ga.prototype.getLength=function(){return this._maps.length},Ga.prototype.addZone=function(n){var r=new ui({zoom:6,center:[0,0],projection:this._projection}),t;n.map?t=jc(n.map.getView().calculateExtent(),n.map.getView().getProjection(),r.getProjection()):t=jc(n.extent,"EPSG:4326",r.getProjection());var e=_e.create("DIV",{className:"ol-mapzonezone",parent:this.element,click:function(){var a=-1;this._maps.forEach(function(s,c){s.get("zone")===n&&(a=c)}),this.dispatchEvent({type:"select",zone:n,index:a,coordinate:Kn(t),extent:t}),this.get("centerOnClick")!==!1&&this.getMap().getView().fit(t),this.setVisible(!1)}.bind(this)}),i;n.layer?i=n.layer:typeof this._layer=="function"?i=this._layer(n):i=new this._layer.constructor({source:this._layer.getSource()});var o=new le({target:e,view:r,controls:[],interactions:[],layers:[i]});o.set("zone",n),this._maps.push(o),r.fit(t),_e.create("P",{html:n.title,parent:e})},Ga.prototype.removeZone=function(n){var r=this.element.querySelectorAll(".ol-mapzonezone")[n];r&&(r.remove(),this._maps.splice(n,1))},Ga.zones={},Ga.zones.DOM=[{title:"Guadeloupe",extent:[-61.898594315312444,15.75623038647845,-60.957887532935324,16.575317670979473]},{title:"Guyane",extent:[-54.72525931072715,2.1603763430019,-51.528236062921344,5.7984307809552575]},{title:"Martinique",extent:[-61.257556528564756,14.387506317407514,-60.76934912110432,14.895067461729951]},{title:"Mayotte",extent:[44.959844536967815,-13.01674138212816,45.35328866510648,-12.65521942207829]},{title:"La r\xE9union",extent:[55.17059012967656,-21.407680069231688,55.88195702001797,-20.85560221637526]}],Ga.zones.TOM=[{title:"Polyn\xE9sie Fran\xE7aise",extent:[206.23664226630862,-22.189040615809787,221.85920743981987,-10.835039595040698]},{title:"Nouvelle Cal\xE9donie",extent:[163.76420580160925,-22.581641092751838,167.66984709498706,-19.816411635668445]},{title:"St-Pierre et Miquelon",extent:[-56.453698765748676,46.74449858188555,-56.0980198121544,47.14669874229787]},{title:"Wallis et Futuna",extent:[181.7588623143665,-14.7341169873267,183.95612353301715,-13.134720799175085]},{title:"St-Martin St-Barth\xE9lemy",extent:[-63.1726389501678,17.806097291313506,-62.7606535945649,18.13267688837938]}],Ga.zones.DOMTOM=[{title:"M\xE9tropole",extent:[-5.318421740712579,41.16082274292913,9.73284186155716,51.21957336557702]}].concat(Ga.zones.DOM,Ga.zones.TOM);var a8=Ga,s8={name:"ol-zone-control",setup:function(r,t){var e=ia(a8,r,t),i=e.control;return{control:i}},props:{className:{type:String},zones:{type:Array},layer:{type:[Object,Function]},projection:{type:String,default:"EPSG:3857"},centerOnClick:{type:Boolean,default:!0}}},H_=Ae()(s8,[["render",o8]]);function g0(n){g0.installed||(g0.installed=!0,n.component(x_.name,x_),n.component(w_.name,w_),n.component(O_.name,O_),n.component(b_.name,b_),n.component(L_.name,L_),n.component(R_.name,R_),n.component(P_.name,P_),n.component(I_.name,I_),n.component(ow.name,ow),n.component(M_.name,M_),n.component(N_.name,N_),n.component(F_.name,F_),n.component(D_.name,D_),n.component(B_.name,B_),n.component(z_.name,z_),n.component(V_.name,V_),n.component(p0.name,p0),n.component(Y_.name,Y_),n.component(H_.name,H_))}var l8=g0;function u8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}function y0(n,r,t){return $S()?y0=Reflect.construct:y0=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),h=new c;return a&&s0(h,a.prototype),h},y0.apply(null,arguments)}u("07ac");function tp(n,r){var t=Object(I.inject)("feature"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return y0(n,rw(Object.values(i)))});return Object(I.watch)(i,function(){t.value.setGeometry(o.value),t.value.changed()}),Object(I.watch)(t,function(){t.value.setGeometry(o.value)}),Object(I.onMounted)(function(){t.value.setGeometry(o.value)}),Object(I.onUnmounted)(function(){t.value.setGeometry(null)}),{geometry:o}}var c8={name:"ol-geom-point",setup:function(r){var t=tp(kn,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},X_=Ae()(c8,[["render",u8]]);function f8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var h8={name:"ol-geom-line-string",setup:function(r){var t=tp(zi,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},K_=Ae()(h8,[["render",f8]]);function d8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var p8={name:"ol-geom-polygon",setup:function(r){var t=tp(li,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},$_=Ae()(p8,[["render",d8]]);function v8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var g8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),y8=function(n){g8(r,n);function r(t,e){var i=n.call(this)||this;return e&&!Array.isArray(t[0])?i.setFlatCoordinates(e,t):i.setCoordinates(t,e),i}return r.prototype.appendPoint=function(t){this.flatCoordinates?Object(br.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){if(o<Bt(this.getExtent(),t,e))return o;for(var a=this.flatCoordinates,s=this.stride,c=0,h=a.length;c<h;c+=s){var p=vu(t,e,a[c],a[c+1]);if(p<o){o=p;for(var m=0;m<s;++m)i[m]=a[c+m];i.length=s}}return o},r.prototype.getCoordinates=function(){return Qi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new kn(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},r.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,o=[],a=0,s=t.length;a<s;a+=i){var c=new kn(t.slice(a,a+i),e);o.push(c)}return o},r.prototype.getType=function(){return $t.MULTI_POINT},r.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,o=0,a=e.length;o<a;o+=i){var s=e[o],c=e[o+1];if(ge(t,s,c))return!0}return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=cr(this.flatCoordinates,0,t,this.stride),this.changed()},r}(ma),Ll=y8,m8={name:"ol-geom-multi-point",setup:function(r){var t=tp(Ll,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},Z_=Ae()(m8,[["render",v8]]);function _8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var E8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x8=function(n){E8(r,n);function r(t,e,i){var o=n.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,e);else if(e!==void 0&&i)o.setFlatCoordinates(e,t),o.ends_=i;else{for(var a=o.getLayout(),s=t,c=[],h=[],p=0,m=s.length;p<m;++p){var w=s[p];p===0&&(a=w.getLayout()),Object(br.c)(c,w.getFlatCoordinates()),h.push(c.length)}o.setFlatCoordinates(a,c),o.ends_=h}return o}return r.prototype.appendLineString=function(t){this.flatCoordinates?Object(br.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){return o<Bt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(P(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),re(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,o))},r.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=gr.XYM&&this.layout!=gr.XYZM||this.flatCoordinates.length===0)return null;var o=e!==void 0?e:!1,a=i!==void 0?i:!1;return bF(this.flatCoordinates,0,this.ends_,this.stride,t,o,a)},r.prototype.getCoordinates=function(){return fo(this.flatCoordinates,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new zi(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,o=[],a=0,s=0,c=e.length;s<c;++s){var h=e[s],p=new zi(t.slice(a,h),i);o.push(p),a=h}return o},r.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,o=this.ends_,a=this.stride,s=0,c=o.length;s<c;++s){var h=o[s],p=h0(e,i,h,a,.5);Object(br.c)(t,p),i=h}return t},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=Nn(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,i),new r(e,gr.XY,i)},r.prototype.getType=function(){return $t.MULTI_LINE_STRING},r.prototype.intersectsExtent=function(t){return Ed(this.flatCoordinates,0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Nr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},r}(ma),xs=x8,S8={name:"ol-geom-multi-line-string",setup:function(r){var t=tp(xs,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},q_=Ae()(S8,[["render",_8]]);function w8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}function dw(n,r,t,e){for(var i=[],o=et(),a=0,s=t.length;a<s;++a){var c=t[a];o=ye(n,r,c[0],e),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),r=c[c.length-1]}return i}var O8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T8=function(n){O8(r,n);function r(t,e,i){var o=n.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(t[0])){for(var a=o.getLayout(),s=t,c=[],h=[],p=0,m=s.length;p<m;++p){var w=s[p];p===0&&(a=w.getLayout());for(var R=c.length,M=w.getEnds(),U=0,Z=M.length;U<Z;++U)M[U]+=R;Object(br.c)(c,w.getFlatCoordinates()),h.push(M)}e=a,t=c,i=h}return e!==void 0&&i?(o.setFlatCoordinates(e,t),o.endss_=i):o.setCoordinates(t,e),o}return r.prototype.appendPolygon=function(t){var e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{var i=this.flatCoordinates.length;Object(br.c)(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var o=0,a=e.length;o<a;++o)e[o]+=i}this.endss_.push(e),this.changed()},r.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();var o=new r(this.flatCoordinates.slice(),this.layout,e);return o.applyProperties(this),o},r.prototype.closestPointXY=function(t,e,i,o){return o<Bt(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ot(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),me(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,o))},r.prototype.containsXY=function(t,e){return zc(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},r.prototype.getArea=function(){return md(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),zs(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Za(e,0,this.endss_,this.stride)},r.prototype.getEndss=function(){return this.endss_},r.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=dw(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=_a(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},r.prototype.getInteriorPoints=function(){return new Ll(this.getFlatInteriorPoints().slice(),gr.XYM)},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;ks(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=zs(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],i=[];return e.length=bo(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,i),new r(e,gr.XY,i)},r.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(t===0)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var o=this.endss_[t].slice(),a=o[o.length-1];if(e!==0)for(var s=0,c=o.length;s<c;++s)o[s]-=e;return new li(this.flatCoordinates.slice(e,a),this.layout,o)},r.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,o=[],a=0,s=0,c=i.length;s<c;++s){var h=i[s].slice(),p=h[h.length-1];if(a!==0)for(var m=0,w=h.length;m<w;++m)h[m]-=a;var R=new li(e.slice(a,p),t,h);o.push(R),a=p}return o},r.prototype.getType=function(){return $t.MULTI_POLYGON},r.prototype.intersectsExtent=function(t){return fv(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=cn(this.flatCoordinates,0,t,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{var o=i[i.length-1];this.flatCoordinates.length=o.length===0?0:o[o.length-1]}this.changed()},r}(ma),Ua=T8,b8={name:"ol-geom-multi-polygon",setup:function(r){var t=tp(Ua,r),e=t.geometry;return{geometry:e}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}},J_=Ae()(b8,[["render",w8]]);function m0(n){m0.installed||(m0.installed=!0,n.component(X_.name,X_),n.component(K_.name,K_),n.component($_.name,$_),n.component(Z_.name,Z_),n.component(q_.name,q_),n.component(J_.name,J_))}var C8=m0;function A8(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var L8=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pw=function(n){L8(r,n);function r(t,e,i){var o=n.call(this)||this;if(i!==void 0&&e===void 0)o.setFlatCoordinates(i,t);else{var a=e||0;o.setCenterAndRadius(t,a,i)}return o}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){var a=this.flatCoordinates,s=t-a[0],c=e-a[1],h=s*s+c*c;if(h<o){if(h===0)for(var p=0;p<this.stride;++p)i[p]=a[p];else{var m=this.getRadius()/Math.sqrt(h);i[0]=a[0]+m*s,i[1]=a[1]+m*c;for(var p=2;p<this.stride;++p)i[p]=a[p]}return i.length=this.stride,h}else return o},r.prototype.containsXY=function(t,e){var i=this.flatCoordinates,o=t-i[0],a=e-i[1];return o*o+a*a<=this.getRadiusSquared_()},r.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return z(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},r.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},r.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},r.prototype.getType=function(){return $t.CIRCLE},r.prototype.intersectsExtent=function(t){var e=this.getExtent();if(vi(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||t[1]<=i[1]&&t[3]>=i[1]?!0:Gn(t,this.intersectsCoordinate.bind(this))}return!1},r.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+i;for(var a=1;a<e;++a)o[e+a]=t[a];this.setFlatCoordinates(this.layout,o),this.changed()},r.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var o=this.flatCoordinates,a=ke(o,0,t,this.stride);o[a++]=o[0]+e;for(var s=1,c=this.stride;s<c;++s)o[a++]=o[s];o.length=a,this.changed()},r.prototype.getCoordinates=function(){return null},r.prototype.setCoordinates=function(t,e){},r.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},r.prototype.rotate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(xu(i,0,i.length,o,t,e,i)),this.changed()},r.prototype.translate=function(t,e){var i=this.getCenter(),o=this.getStride();this.setCenter(Uc(i,0,i.length,o,t,e,i)),this.changed()},r}(ma);pw.prototype.transform;var Q_=pw,vw=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bi={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},_0={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},E0=function(n){vw(r,n);function r(t,e){var i=n.call(this,t)||this;return i.feature=e,i}return r}(ze.a),R8=function(n){vw(r,n);function r(t){var e=this,i=t;i.stopDown||(i.stopDown=Nt.a),e=n.call(this,i)||this,e.on,e.once,e.un,e.shouldHandle_=!1,e.downPx_=null,e.downTimeout_,e.lastDragTime_,e.pointerType_,e.freehand_=!1,e.source_=t.source?t.source:null,e.features_=t.features?t.features:null,e.snapTolerance_=t.snapTolerance?t.snapTolerance:12,e.type_=t.type,e.mode_=I8(e.type_),e.stopClick_=!!t.stopClick,e.minPoints_=t.minPoints?t.minPoints:e.mode_===bi.POLYGON?3:2,e.maxPoints_=e.mode_===bi.CIRCLE?2:t.maxPoints?t.maxPoints:1/0,e.finishCondition_=t.finishCondition?t.finishCondition:Nt.b;var o=t.geometryFunction;if(!o){var a=e.mode_;if(a===bi.CIRCLE)o=function(c,h,p){var m=h||new Q_([NaN,NaN]),w=Ii(c[0]),R=vt(w,Ii(c[c.length-1]));return m.setCenterAndRadius(w,Math.sqrt(R)),m};else{var s;a===bi.POINT?s=kn:a===bi.LINE_STRING?s=zi:a===bi.POLYGON&&(s=li),o=function(c,h,p){return h?a===bi.POLYGON?c[0].length?h.setCoordinates([c[0].concat([c[0][0]])]):h.setCoordinates([]):h.setCoordinates(c):h=new s(c),h}}}return e.geometryFunction_=o,e.dragVertexDelay_=t.dragVertexDelay!==void 0?t.dragVertexDelay:500,e.finishCoordinate_=null,e.sketchFeature_=null,e.sketchPoint_=null,e.sketchCoords_=null,e.sketchLine_=null,e.sketchLineCoords_=null,e.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,e.overlay_=new Fu({source:new lc({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:P8(),updateWhileInteracting:!0}),e.geometryName_=t.geometryName,e.condition_=t.condition?t.condition:vs,e.freehandCondition_,t.freehand?e.freehandCondition_=ph:e.freehandCondition_=t.freehandCondition?t.freehandCondition:Zc,e.addChangeListener(dh.ACTIVE,e.updateState_),e}return r.prototype.setMap=function(t){n.prototype.setMap.call(this,t),this.updateState_()},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleEvent=function(t){t.originalEvent.type===Qr.a.CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_=this.mode_!==bi.POINT&&this.freehandCondition_(t);var e=t.type===Yr.POINTERMOVE,i=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===Yr.POINTERDRAG){var o=Date.now();o-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===Yr.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(t.coordinate),i=!1):this.freehand_&&t.type===Yr.POINTERDOWN?i=!1:e&&this.getPointerCount()<2?(i=t.type===Yr.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):(t.originalEvent.pointerType==="mouse"||t.type===Yr.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(t)):t.type===Yr.DBLCLICK&&(i=!1),n.prototype.handleEvent.call(this,t)&&i},r.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new dn(Yr.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},r.prototype.handleUpEvent=function(t){var e=!0;if(this.getPointerCount()===0)if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():!this.freehand_&&(!i||this.mode_===bi.POINT)&&(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},r.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,o=e[0]-i[0],a=e[1]-i[1],s=o*o+a*a;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},r.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,o=[this.finishCoordinate_],a=this.mode_;if(a===bi.POINT)e=!0;else if(a===bi.CIRCLE)e=this.sketchCoords_.length===2;else if(a===bi.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(a===bi.POLYGON){var s=this.sketchCoords_;i=s[0].length>this.minPoints_,o=[s[0][0],s[0][s[0].length-2]]}if(i)for(var c=this.getMap(),h=0,p=o.length;h<p;h++){var m=o[h],w=c.getPixelFromCoordinate(m),R=t[0]-w[0],M=t[1]-w[1],U=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(R*R+M*M)<=U,e){this.finishCoordinate_=m;break}}}return e},r.prototype.createOrUpdateSketchPoint_=function(t){if(!this.sketchPoint_)this.sketchPoint_=new Xr(new kn(t)),this.updateSketchFeatures_();else{var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}},r.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Xr);var e=t.getLinearRing(0),i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),i.changed()):(i=new zi(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(i))},r.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===bi.POINT?this.sketchCoords_=t.slice():this.mode_===bi.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Xr(new zi(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Xr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new E0(_0.DRAWSTART,this.sketchFeature_))},r.prototype.modifyDrawing_=function(t){var e=this.getMap(),i=this.sketchFeature_.getGeometry(),o=e.getView().getProjection(),a,s;if(this.mode_===bi.POINT?s=this.sketchCoords_:this.mode_===bi.POLYGON?(a=this.sketchCoords_[0],s=a[a.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(a=this.sketchCoords_,s=a[a.length-1]),s[0]=t[0],s[1]=t[1],this.geometryFunction_(this.sketchCoords_,i,o),this.sketchPoint_){var c=this.sketchPoint_.getGeometry();c.setCoordinates(t)}if(i.getType()===$t.POLYGON&&this.mode_!==bi.POLYGON)this.createOrUpdateCustomSketchLine_(i);else if(this.sketchLineCoords_){var h=this.sketchLine_.getGeometry();h.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},r.prototype.addToDrawing_=function(t){var e=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),o,a,s=this.mode_;s===bi.LINE_STRING||s===bi.CIRCLE?(this.finishCoordinate_=t.slice(),a=this.sketchCoords_,a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),this.geometryFunction_(a,e,i)):s===bi.POLYGON&&(a=this.sketchCoords_[0],a.length>=this.maxPoints_&&(this.freehand_?a.pop():o=!0),a.push(t.slice()),o&&(this.finishCoordinate_=a[0]),this.geometryFunction_(this.sketchCoords_,e,i)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),o&&this.finishDrawing()},r.prototype.removeLastPoint=function(){if(!!this.sketchFeature_){var t=this.sketchFeature_.getGeometry(),e=this.getMap().getView().getProjection(),i,o=this.mode_;if(o===bi.LINE_STRING||o===bi.CIRCLE){if(i=this.sketchCoords_,i.splice(-2,1),i.length>=2){this.finishCoordinate_=i[i.length-2].slice();var a=this.finishCoordinate_.slice();i[i.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(i,t,e),t.getType()===$t.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(o===bi.POLYGON){i=this.sketchCoords_[0],i.splice(-2,1);var s=this.sketchLine_.getGeometry();if(i.length>=2){var a=i[i.length-2].slice();i[i.length-1]=a,this.createOrUpdateSketchPoint_(a)}s.setCoordinates(i),this.geometryFunction_(this.sketchCoords_,t,e)}i.length===1&&this.abortDrawing(),this.updateSketchFeatures_()}},r.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(!!t){var e=this.sketchCoords_,i=t.getGeometry(),o=this.getMap().getView().getProjection();this.mode_===bi.LINE_STRING?(e.pop(),this.geometryFunction_(e,i,o)):this.mode_===bi.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i,o),e=i.getCoordinates()),this.type_===$t.MULTI_POINT?t.setGeometry(new Ll([e])):this.type_===$t.MULTI_LINE_STRING?t.setGeometry(new xs([e])):this.type_===$t.MULTI_POLYGON&&t.setGeometry(new Ua([e])),this.dispatchEvent(new E0(_0.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},r.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},r.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new E0(_0.DRAWABORT,t))},r.prototype.appendCoordinates=function(t){var e=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(t[0]);var o;if(e===bi.LINE_STRING||e===bi.CIRCLE)o=this.sketchCoords_;else if(e===bi.POLYGON)o=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&o.shift(),o.pop();for(var a=0;a<t.length;a++)this.addToDrawing_(t[a]);var s=t[t.length-1];this.addToDrawing_(s),this.modifyDrawing_(s)},r.prototype.extend=function(t){var e=t.getGeometry(),i=e;this.sketchFeature_=t,this.sketchCoords_=i.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.sketchPoint_=new Xr(new kn(o)),this.updateSketchFeatures_(),this.dispatchEvent(new E0(_0.DRAWSTART,this.sketchFeature_))},r.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},r.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();(!t||!e)&&this.abortDrawing(),this.overlay_.setMap(e?t:null)},r}(Qa);function P8(){var n=Z1();return function(r,t){return n[r.getGeometry().getType()]}}function I8(n){switch(n){case $t.POINT:case $t.MULTI_POINT:return bi.POINT;case $t.LINE_STRING:case $t.MULTI_LINE_STRING:return bi.LINE_STRING;case $t.POLYGON:case $t.MULTI_POLYGON:return bi.POLYGON;case $t.CIRCLE:return bi.CIRCLE;default:throw new Error("Invalid type: "+n)}}var t2=R8,gw=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yw=0,tg=1,mw=[0,0,0,0],ep=[],e2={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},r2=function(n){gw(r,n);function r(t,e,i){var o=n.call(this,t)||this;return o.features=e,o.mapBrowserEvent=i,o}return r}(ze.a),M8=function(n){gw(r,n);function r(t){var e=n.call(this,t)||this;e.on,e.once,e.un,e.boundHandleFeatureChange_=e.handleFeatureChange_.bind(e),e.condition_=t.condition?t.condition:Od,e.defaultDeleteCondition_=function(o){return wd(o)&&Ws(o)},e.deleteCondition_=t.deleteCondition?t.deleteCondition:e.defaultDeleteCondition_,e.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:ph,e.vertexFeature_=null,e.vertexSegments_=null,e.lastPixel_=[0,0],e.ignoreNextSingleClick_=!1,e.featuresBeingModified_=null,e.rBush_=new Qy,e.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,e.snappedToVertex_=!1,e.changingFeature_=!1,e.dragSegments_=[],e.overlay_=new Fu({source:new lc({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:F8(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e)},e.source_=null,e.hitDetection_=null;var i;if(t.features?i=t.features:t.source&&(e.source_=t.source,i=new hn(e.source_.getFeatures()),e.source_.addEventListener(pa.ADDFEATURE,e.handleSourceAdd_.bind(e)),e.source_.addEventListener(pa.REMOVEFEATURE,e.handleSourceRemove_.bind(e))),!i)throw new Error("The modify interaction requires features, a source or a layer");return t.hitDetection&&(e.hitDetection_=t.hitDetection),e.features_=i,e.features_.forEach(e.addFeature_.bind(e)),e.features_.addEventListener(En.ADD,e.handleFeatureAdd_.bind(e)),e.features_.addEventListener(En.REMOVE,e.handleFeatureRemove_.bind(e)),e.lastPointerEvent_=null,e.delta_=[0,0],e.snapToPointer_=t.snapToPointer===void 0?!e.hitDetection_:t.snapToPointer,e}return r.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var i=this.SEGMENT_WRITERS_[e.getType()];i&&i(t,e)}var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),t.addEventListener(Qr.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new hn;for(var i=this.featuresBeingModified_.getArray(),o=0,a=e.length;o<a;++o)for(var s=e[o],c=0,h=s.length;c<h;++c){var p=s[c].feature;p&&i.indexOf(p)===-1&&this.featuresBeingModified_.push(p)}this.featuresBeingModified_.getLength()===0?this.featuresBeingModified_=null:this.dispatchEvent(new r2(e2.MODIFYSTART,this.featuresBeingModified_,t))}},r.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&this.features_.getLength()===0&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(Qr.a.CHANGE,this.boundHandleFeatureChange_)},r.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(c){t===c.feature&&i.push(c)});for(var o=i.length-1;o>=0;--o){for(var a=i[o],s=this.dragSegments_.length-1;s>=0;--s)this.dragSegments_[s][0]===a&&this.dragSegments_.splice(s,1);e.remove(a)}},r.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),n.prototype.setActive.call(this,t)},r.prototype.setMap=function(t){this.overlay_.setMap(t),n.prototype.setMap.call(this,t)},r.prototype.getOverlay=function(){return this.overlay_},r.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},r.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},r.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},r.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},r.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),o={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o){var s=i[o],c={feature:t,geometry:e,depth:[o],index:o,segment:[s,s]};this.rBush_.insert(e.getExtent(),c)}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length-1;o<a;++o){var s=i.slice(o,o+2),c={feature:t,geometry:e,index:o,segment:s};this.rBush_.insert(Lt(s),c)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],c=0,h=s.length-1;c<h;++c){var p=s.slice(c,c+2),m={feature:t,geometry:e,depth:[o],index:c,segment:p};this.rBush_.insert(Lt(p),m)}},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],c=0,h=s.length-1;c<h;++c){var p=s.slice(c,c+2),m={feature:t,geometry:e,depth:[o],index:c,segment:p};this.rBush_.insert(Lt(p),m)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],c=0,h=s.length;c<h;++c)for(var p=s[c],m=0,w=p.length-1;m<w;++m){var R=p.slice(m,m+2),M={feature:t,geometry:e,depth:[c,o],index:m,segment:R};this.rBush_.insert(Lt(R),M)}},r.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),o={feature:t,geometry:e,index:yw,segment:[i,i]},a={feature:t,geometry:e,index:tg,segment:[i,i]},s=[o,a];o.featureSegments=s,a.featureSegments=s,this.rBush_.insert(at(i),o);var c=e;this.rBush_.insert(c.getExtent(),a)},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),o=0;o<i.length;++o){var a=i[o],s=this.SEGMENT_WRITERS_[a.getType()];s(t,a)}},r.prototype.createOrUpdateVertexFeature_=function(t,e,i){var o=this.vertexFeature_;if(!o)o=new Xr(new kn(t)),this.vertexFeature_=o,this.overlay_.getSource().addFeature(o);else{var a=o.getGeometry();a.setCoordinates(t)}return o.set("features",e),o.set("geometries",i),o},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;this.lastPointerEvent_=t;var e;return!t.map.getView().getInteracting()&&t.type==Yr.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type!=Yr.SINGLECLICK||!this.ignoreNextSingleClick_?e=this.removePoint():e=!0),t.type==Yr.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),n.prototype.handleEvent.call(this,t)&&!e},r.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],i=[],o=[],a=0,s=this.dragSegments_.length;a<s;++a){var c=this.dragSegments_[a],h=c[0],p=h.feature;i.indexOf(p)===-1&&i.push(p);var m=h.geometry;o.indexOf(m)===-1&&o.push(m);for(var w=h.depth,R=void 0,M=h.segment,U=c[1];e.length<m.getStride();)e.push(M[U][e.length]);switch(m.getType()){case $t.POINT:R=e,M[0]=e,M[1]=e;break;case $t.MULTI_POINT:R=m.getCoordinates(),R[h.index]=e,M[0]=e,M[1]=e;break;case $t.LINE_STRING:R=m.getCoordinates(),R[h.index+U]=e,M[U]=e;break;case $t.MULTI_LINE_STRING:R=m.getCoordinates(),R[w[0]][h.index+U]=e,M[U]=e;break;case $t.POLYGON:R=m.getCoordinates(),R[w[0]][h.index+U]=e,M[U]=e;break;case $t.MULTI_POLYGON:R=m.getCoordinates(),R[w[1]][w[0]][h.index+U]=e,M[U]=e;break;case $t.CIRCLE:if(M[0]=e,M[1]=e,h.index===yw)this.changingFeature_=!0,m.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var Z=t.map.getView().getProjection(),lt=mt(Ii(m.getCenter()),Ii(e)),pt=ca();if(pt){var xt=m.clone().transform(pt,Z);xt.setRadius(lt),lt=xt.transform(Z,pt).getRadius()}m.setRadius(lt),this.changingFeature_=!1}break}R&&this.setGeometryCoordinates_(m,R)}this.createOrUpdateVertexFeature_(e,i,o)},r.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var i=this.vertexFeature_;if(i){var o=t.map.getView().getProjection(),a=[],s=i.getGeometry().getCoordinates(),c=Lt([s]),h=this.rBush_.getInExtent(c),p={};h.sort(N8);for(var m=0,w=h.length;m<w;++m){var R=h[m],M=R.segment,U=Object(ct.c)(R.geometry),Z=R.depth;if(Z&&(U+="-"+Z.join("-")),p[U]||(p[U]=new Array(2)),R.geometry.getType()===$t.CIRCLE&&R.index===tg){var lt=Ew(e,R,o);k(lt,s)&&!p[U][0]&&(this.dragSegments_.push([R,0]),p[U][0]=R);continue}if(k(M[0],s)&&!p[U][0]){this.dragSegments_.push([R,0]),p[U][0]=R;continue}if(k(M[1],s)&&!p[U][1]){if((R.geometry.getType()===$t.LINE_STRING||R.geometry.getType()===$t.MULTI_LINE_STRING)&&p[U][0]&&p[U][0].index===0)continue;this.dragSegments_.push([R,1]),p[U][1]=R;continue}Object(ct.c)(M)in this.vertexSegments_&&!p[U][0]&&!p[U][1]&&this.insertVertexCondition_(t)&&a.push(R)}a.length&&this.willModifyFeatures_(t,[a]);for(var pt=a.length-1;pt>=0;--pt)this.insertVertex_(a[pt],s)}return!!this.vertexFeature_},r.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],o=i.geometry;if(o.getType()===$t.CIRCLE){var a=o.getCenter(),s=i.featureSegments[0],c=i.featureSegments[1];s.segment[0]=a,s.segment[1]=a,c.segment[0]=a,c.segment[1]=a,this.rBush_.update(at(a),s);var h=o,p=ca();if(p){var m=t.map.getView().getProjection();h=h.clone().transform(p,m),h=Wl(h).transform(m,p)}this.rBush_.update(h.getExtent(),c)}else this.rBush_.update(Lt(i.segment),i)}return this.featuresBeingModified_&&(this.dispatchEvent(new r2(e2.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},r.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},r.prototype.handlePointerAtPixel_=function(t,e,i){var o=this,a=i||e.getCoordinateFromPixel(t),s=e.getView().getProjection(),c=function(Rr,Gr){return _w(a,Rr,s)-_w(a,Gr,s)},h,p;if(this.hitDetection_){var m=typeof this.hitDetection_=="object"?function(Rr){return Rr===o.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,function(Rr,Gr,Hr){if(Hr=Hr||Rr.getGeometry(),Hr.getType()===$t.POINT&&Object(br.f)(o.features_.getArray(),Rr)){p=Hr;var Jr=Hr.getFlatCoordinates().slice(0,2);h=[{feature:Rr,geometry:Hr,segment:[Jr,Jr]}]}return!0},{layerFilter:m})}if(!h){var w=fa(at(a,mw)),R=e.getView().getResolution()*this.pixelTolerance_,M=Bl(Ct(w,R,mw));h=this.rBush_.getInExtent(M)}if(h&&h.length>0){var U=h.sort(c)[0],Z=U.segment,lt=Ew(a,U,s),pt=e.getPixelFromCoordinate(lt),xt=mt(t,pt);if(p||xt<=this.pixelTolerance_){var ht={};if(ht[Object(ct.c)(Z)]=!0,this.snapToPointer_||(this.delta_[0]=lt[0]-a[0],this.delta_[1]=lt[1]-a[1]),U.geometry.getType()===$t.CIRCLE&&U.index===tg)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(lt,[U.feature],[U.geometry]);else{var Vt=e.getPixelFromCoordinate(Z[0]),kt=e.getPixelFromCoordinate(Z[1]),Zt=vt(pt,Vt),Xt=vt(pt,kt);xt=Math.sqrt(Math.min(Zt,Xt)),this.snappedToVertex_=xt<=this.pixelTolerance_,this.snappedToVertex_&&(lt=Zt>Xt?Z[1]:Z[0]),this.createOrUpdateVertexFeature_(lt,[U.feature],[U.geometry]);var ce={};ce[Object(ct.c)(U.geometry)]=!0;for(var Ve=1,Ne=h.length;Ve<Ne;++Ve){var Ee=h[Ve].segment;if(k(Z[0],Ee[0])&&k(Z[1],Ee[1])||k(Z[0],Ee[1])&&k(Z[1],Ee[0])){var rr=Object(ct.c)(h[Ve].geometry);rr in ce||(ce[rr]=!0,ht[Object(ct.c)(Ee)]=!0)}else break}}this.vertexSegments_=ht;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},r.prototype.insertVertex_=function(t,e){for(var i=t.segment,o=t.feature,a=t.geometry,s=t.depth,c=t.index,h;e.length<a.getStride();)e.push(0);switch(a.getType()){case $t.MULTI_LINE_STRING:h=a.getCoordinates(),h[s[0]].splice(c+1,0,e);break;case $t.POLYGON:h=a.getCoordinates(),h[s[0]].splice(c+1,0,e);break;case $t.MULTI_POLYGON:h=a.getCoordinates(),h[s[1]][s[0]].splice(c+1,0,e);break;case $t.LINE_STRING:h=a.getCoordinates(),h.splice(c+1,0,e);break;default:return}this.setGeometryCoordinates_(a,h);var p=this.rBush_;p.remove(t),this.updateSegmentIndices_(a,c,s,1);var m={segment:[i[0],e],feature:o,geometry:a,depth:s,index:c};p.insert(Lt(m.segment),m),this.dragSegments_.push([m,1]);var w={segment:[e,i[1]],feature:o,geometry:a,depth:s,index:c+1};p.insert(Lt(w.segment),w),this.dragSegments_.push([w,0]),this.ignoreNextSingleClick_=!0},r.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Yr.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new r2(e2.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},r.prototype.removeVertex_=function(){var t=this.dragSegments_,e={},i=!1,o,a,s,c,h,p,m,w,R,M,U;for(h=t.length-1;h>=0;--h)s=t[h],M=s[0],U=Object(ct.c)(M.feature),M.depth&&(U+="-"+M.depth.join("-")),U in e||(e[U]={}),s[1]===0?(e[U].right=M,e[U].index=M.index):s[1]==1&&(e[U].left=M,e[U].index=M.index+1);for(U in e){switch(R=e[U].right,m=e[U].left,p=e[U].index,w=p-1,m!==void 0?M=m:M=R,w<0&&(w=0),c=M.geometry,a=c.getCoordinates(),o=a,i=!1,c.getType()){case $t.MULTI_LINE_STRING:a[M.depth[0]].length>2&&(a[M.depth[0]].splice(p,1),i=!0);break;case $t.LINE_STRING:a.length>2&&(a.splice(p,1),i=!0);break;case $t.MULTI_POLYGON:o=o[M.depth[1]];case $t.POLYGON:o=o[M.depth[0]],o.length>4&&(p==o.length-1&&(p=0),o.splice(p,1),i=!0,p===0&&(o.pop(),o.push(o[0]),w=o.length-1));break}if(i){this.setGeometryCoordinates_(c,a);var Z=[];if(m!==void 0&&(this.rBush_.remove(m),Z.push(m.segment[0])),R!==void 0&&(this.rBush_.remove(R),Z.push(R.segment[1])),m!==void 0&&R!==void 0){var lt={depth:M.depth,feature:M.feature,geometry:M.geometry,index:w,segment:Z};this.rBush_.insert(Lt(lt.segment),lt)}this.updateSegmentIndices_(c,p,M.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return i},r.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},r.prototype.updateSegmentIndices_=function(t,e,i,o){this.rBush_.forEachInExtent(t.getExtent(),function(a){a.geometry===t&&(i===void 0||a.depth===void 0||Object(br.b)(a.depth,i))&&a.index>e&&(a.index+=o)})},r}(Qa);function N8(n,r){return n.index-r.index}function _w(n,r,t){var e=r.geometry;if(e.getType()===$t.CIRCLE){var i=e;if(r.index===tg){var o=ca();o&&(i=i.clone().transform(o,t));var a=vt(i.getCenter(),Ii(n)),s=Math.sqrt(a)-i.getRadius();return s*s}}var c=Ii(n);return ep[0]=Ii(r.segment[0]),ep[1]=Ii(r.segment[1]),Ot(c,ep)}function Ew(n,r,t){var e=r.geometry;if(e.getType()===$t.CIRCLE&&r.index===tg){var i=e,o=ca();return o&&(i=i.clone().transform(o,t)),dl(i.getClosestPoint(Ii(n)))}var a=Ii(n);return ep[0]=Ii(r.segment[0]),ep[1]=Ii(r.segment[1]),dl(G(a,ep))}function F8(){var n=Z1();return function(r,t){return n[$t.POINT]}}var n2=M8,j8={name:"ol-style",setup:function(r){var t=Object(I.inject)("stylable",null),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new Sa(i)}),a=function(h){if(t instanceof t2||t instanceof n2){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},s=Object(I.computed)(function(){return function(c){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(c,o.value),o.value}});return Object(I.watch)(i,function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(I.onMounted)(function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(I.onUnmounted)(function(){a(null)}),Object(I.provide)("style",o),Object(I.provide)("styledObj",t),{style:o}},props:{zIndex:{type:Number},overrideStyleFunction:{type:Function}}},i2=Ae()(j8,[["render",A8]]);function D8(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var B8={name:"ol-style-circle",setup:function(r){var t=Object(I.inject)("style",null),e=Object(I.inject)("styledObj",null),i=ar(r),o=i.properties,a=function(p){return new Kv(Ce(Ce({},p),{},{fill:new xa,stroke:new ra}))},s=Object(I.computed)(function(){return a(o)}),c=function(){t.value.setImage(null),t.value.setImage(s.value),e.value.changed()};Object(I.watch)(o,function(){c()}),Object(I.watch)(t,function(){c()}),Object(I.onMounted)(function(){t.value.setImage(s.value)}),Object(I.onUnmounted)(function(){t.value.setImage(null)}),Object(I.provide)("circle",s),Object(I.provide)("styledObj",e)},props:{radius:{type:Number},scale:{type:Number}}},o2=Ae()(B8,[["render",D8]]);function G8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var U8={name:"ol-style-stroke",setup:function(r){var t=Object(I.inject)("style",null),e=Object(I.inject)("circle",null),i=Object(I.inject)("styledObj",null),o=ar(r),a=o.properties;if(t!=null&&e==null){var s=new ra(a);t.value.setStroke(s);var c=function(){t.value.setStroke(null),s=new ra(a),t.value.setStroke(s)};Object(I.watch)(a,function(){c()}),Object(I.watch)(t,function(){c()}),Object(I.onMounted)(function(){t.value.setStroke(s)}),Object(I.onUnmounted)(function(){t.value.setStroke(null)})}else if(e!=null){var h=function(m){e.value.getStroke().setColor(m.color),e.value.getStroke().setLineCap(m.lineCap),e.value.getStroke().setLineDash(m.lineDash),e.value.getStroke().setLineDashOffset(m.lineDashOffset),e.value.getStroke().setLineJoin(m.lineJoin),e.value.getStroke().setMiterLimit(m.miterLimit),e.value.getStroke().setWidth(m.width),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};h(a),Object(I.watch)(a,function(p){h(p)}),Object(I.watch)(e,function(){h(a)})}},props:{color:{type:String},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:{type:Array},lineDashOffset:{type:Number,default:0},miterLimit:{type:Number,default:10},width:{type:Number,default:1}}},a2=Ae()(U8,[["render",G8]]);function k8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var z8={name:"ol-style-fill",setup:function(r){var t=Object(I.inject)("style",null),e=Object(I.inject)("circle",null),i=Object(I.inject)("styledObj",null),o=ar(r),a=o.properties;if(t!=null&&e==null){var s=new xa(a);t.value.setFill(s);var c=function(){t.value.setFill(null),s=new xa(a),t.value.setFill(s)};Object(I.watch)(a,function(){c()}),Object(I.watch)(t,function(){c()}),Object(I.onMounted)(function(){t.value.setFill(s)}),Object(I.onUnmounted)(function(){t.value.setFill(null)})}else if(e!=null){var h=function(m){e.value.getFill().setColor(m),e.value.setRadius(e.value.getRadius());try{i.value.changed()}catch{i.changed()}};h(a.color),Object(I.watch)(a,function(){h(a.color)}),Object(I.watch)(e,function(){h(a.color)})}},props:{color:{type:String}}},s2=Ae()(z8,[["render",k8]]);function V8(n,r,t,e,i,o){return Object(I.createCommentVNode)("",!0)}var W8={name:"ol-style-icon",setup:function(r){var t=Object(I.inject)("style",null),e=Object(I.inject)("styledObj",null),i=ar(r),o=i.properties,a=Object(I.computed)(function(){var c=new qy(o);return c.load(),c}),s=function(){t.value.setImage(null),t.value.setImage(a.value),e.value.changed()};Object(I.watch)(o,function(){s()}),Object(I.watch)(t,function(){s()}),Object(I.onMounted)(function(){t.value.setImage(a.value)}),Object(I.onUnmounted)(function(){t.value.setImage(null)})},props:{anchor:{type:Array},anchorOrigin:{type:String,default:"top-left"},anchorXUnits:{type:String,default:"fraction"},color:{type:String},crossOrigin:{type:String},img:{type:[HTMLImageElement,HTMLCanvasElement]},offset:{type:Array,default:function(){return[0,0]}},displacement:{type:Array,default:function(){return[0,0]}},offsetOrigin:{type:String,default:"top-left"},opacity:{type:Number,default:1},scale:{type:Number,default:1},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},size:{type:Array},imgSize:{type:Array},src:{type:String}}},l2=Ae()(W8,[["render",V8]]);function Y8(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var H8={name:"ol-style-text",setup:function(r){var t=Object(I.inject)("style",null),e=Object(I.inject)("styledObj",null),i=ar(r),o=i.properties,a=function(p){return new Th(Ce(Ce({},p),{},{fill:new xa,stroke:new ra}))},s=Object(I.computed)(function(){return a(o)}),c=function(){t.value.setText(null),t.value.setText(s.value),e.value.changed()};Object(I.watch)(o,function(){c()}),Object(I.watch)(t,function(){c()}),Object(I.onMounted)(function(){t.value.setText(s.value)}),Object(I.onUnmounted)(function(){t.value.setText(null)}),Object(I.provide)("style",s),Object(I.provide)("styledObj",e)},props:{font:{type:String},maxAngle:{type:Number,default:Math.PI/4},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},overflow:{type:Boolean,default:!1},placement:{type:String,default:"point"},scale:{type:Number},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},text:{type:String},textAlign:{type:String},textBaseline:{type:String,default:"middle"},padding:{type:Array,default:function(){return[0,0,0,0]}}}},u2=Ae()(H8,[["render",Y8]]);function X8(n,r,t,e,i,o){return Object(I.openBlock)(),Object(I.createElementBlock)("div",null,[Object(I.renderSlot)(n.$slots,"default")])}var rp=function(n,r){var t=n[0]-r[0],e=n[1]-r[1];return Math.sqrt(t*t+e*e)},eg=function(n,r){return n[0]==r[0]&&n[1]==r[1]},xw;(function(){function n(t,e){var i;for(let o=t.length-1;o>0;o--)(t[o][0]>e&&t[o-1][0]<e||t[o][0]<e&&t[o-1][0]>e)&&(i=[e,(e-t[o][0])/(t[o-1][0]-t[o][0])*(t[o-1][1]-t[o][1])+t[o][1]],t.splice(o,0,i))}function r(t,e){var i;for(let o=t.length-1;o>0;o--)(t[o][1]>e&&t[o-1][1]<e||t[o][1]<e&&t[o-1][1]>e)&&(i=[(e-t[o][1])/(t[o-1][1]-t[o][1])*(t[o-1][0]-t[o][0])+t[o][0],e],t.splice(o,0,i))}xw=function(t,e){var i=e.getType()==="Polygon";if(!i&&e.getType()!=="MultiPolygon")return null;var o=e.getCoordinates();return i&&(o=[o]),o.forEach(function(a){a.forEach(function(s){n(s,t[0]),n(s,t[2]),r(s,t[1]),r(s,t[3])})}),o.forEach(function(a){a.forEach(function(s){s.forEach(function(c){c[0]<t[0]?c[0]=t[0]:c[0]>t[2]&&(c[0]=t[2]),c[1]<t[1]?c[1]=t[1]:c[1]>t[3]&&(c[1]=t[3])})})}),i?new li(o[0]):new Ua(o)}})();var Sw=function(n,r,t,e){var i=[];e!==!1&&i.push(n);var o=rp(n,r);if(o){var a=Math.round(o/t);if(a>1)for(var s=(r[0]-n[0])/a,c=(r[1]-n[1])/a,h=1;h<a;h++)i.push([n[0]+s*h,n[1]+c*h])}return i.push(r),i};li.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){for(var i=[],o=1;o<e.length;o++)i=i.concat(Sw(e[o-1],e[o],n,o===1));t.push(i)}),new li(t)},Ua.prototype.sampleAt=function(n){var r=this.getCoordinates(),t=[];return r.forEach(function(e){var i=[];t.push(i),e.forEach(function(o){for(var a=[],s=1;s<o.length;s++)a=a.concat(Sw(o[s-1],o[s],n,s===1));i.push(a)})}),new Ua(t)},Q_.prototype.intersection=function(n,r){if(n.sampleAt){var t=Ct(this.getCenter().concat(this.getCenter()),this.getRadius());n=xw(t,n),n=n.simplify(r);var e=this.getCenter(),i=this.getRadius(),o=n.sampleAt(r).getCoordinates();switch(n.getType()){case"Polygon":o=[o];case"MultiPolygon":{var a=!1,s=[];return o.forEach(function(c){var h=[];s.push(h),c.forEach(function(p){var m=[];h.push(m),p.forEach(function(w){var R=rp(e,w);R>i?(a=!0,m.push([e[0]+i/R*(w[0]-e[0]),e[1]+i/R*(w[1]-e[1])])):m.push(w)})})}),a?n.getType()==="Polygon"?new li(s[0]):new Ua(s):n}}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+n.getType());return n},zi.prototype.splitAt=function(n,r){var t;if(!n)return[this];if(r||(r=1e-10),n.length&&n[0].length){var e=[this];for(t=0;t<n.length;t++){for(var i=[],o=0;o<e.length;o++){var a=e[o].splitAt(n[t],r);i=i.concat(a)}e=i}return e}if(eg(n,this.getFirstCoordinate())||eg(n,this.getLastCoordinate()))return[this];var s=this.getCoordinates(),c=[s[0]],h=[];for(t=0;t<s.length-1;t++)if(!eg(s[t],s[t+1])){if(eg(n,s[t+1]))c.push(s[t+1]),h.push(new zi(c)),c=[];else if(!eg(n,s[t])){var p,m,w=!1;s[t][0]==s[t+1][0]?(p=(s[t][1]-n[1])/(s[t][1]-s[t+1][1]),w=s[t][0]==n[0]&&0<p&&p<=1):s[t][1]==s[t+1][1]?(p=(s[t][0]-n[0])/(s[t][0]-s[t+1][0]),w=s[t][1]==n[1]&&0<p&&p<=1):(p=(s[t][0]-n[0])/(s[t][0]-s[t+1][0]),m=(s[t][1]-n[1])/(s[t][1]-s[t+1][1]),w=Math.abs(p-m)<=r&&0<p&&p<=1),w&&(c.push(n),h.push(new zi(c)),c=[n])}c.push(s[t+1])}return c.length>1&&h.push(new zi(c)),h.length?h:[this]};var $o=function(n){n||(n={}),Sa.call(this,{renderer:this._render.bind(this),stroke:n.stroke,text:n.text,zIndex:n.zIndex,geometry:n.geometry}),this._visible=n.visible!==!1,typeof n.width=="function"?this._widthFn=n.width:this.setWidth(n.width),this.setWidth2(n.width2),typeof n.color=="function"?this._colorFn=n.color:this.setColor(n.color),this.setColor2(n.color2),this.setLineCap(n.lineCap),this.setArrow(n.arrow),this.setArrowSize(n.arrowSize),this.setArrowColor(n.arrowColor),this._offset=[0,0],this.setOffset(n.offset0,0),this.setOffset(n.offset1,1),this._noOverlap=n.noOverlap};Ti($o,Sa),$o.prototype.setWidth=function(n){this._width=n||0},$o.prototype.setWidth2=function(n){this._width2=n},$o.prototype.getOffset=function(n){return this._offset[n]},$o.prototype.setOffset=function(n,r){switch(n=Math.max(0,parseFloat(n)),r){case 0:{this._offset[0]=n;break}case 1:{this._offset[1]=n;break}}},$o.prototype.setLineCap=function(n){this._lineCap=n==="round"?"round":"butt"},$o.prototype.getWidth=function(n,r){if(this._widthFn)return this._widthFn(n,r);var t=typeof this._width2=="number"?this._width2:this._width;return this._width+(t-this._width)*r},$o.prototype.setColor=function(n){try{this._color=ya(n)}catch{this._color=[0,0,0,1]}},$o.prototype.setColor2=function(n){try{this._color2=ya(n)}catch{this._color2=null}},$o.prototype.setArrowColor=function(n){try{this._acolor=Go(n)}catch{this._acolor=null}},$o.prototype.getColor=function(n,r){if(this._colorFn)return Go(this._colorFn(n,r));var t=this._color,e=this._color2||this._color;return"rgba("+ +Math.round(t[0]+(e[0]-t[0])*r)+","+Math.round(t[1]+(e[1]-t[1])*r)+","+Math.round(t[2]+(e[2]-t[2])*r)+","+(t[3]+(e[3]-t[3])*r)+")"},$o.prototype.getArrow=function(){return this._arrow},$o.prototype.setArrow=function(n){this._arrow=parseInt(n),(this._arrow<-1||this._arrow>2)&&(this._arrow=0)},$o.prototype.getArrowSize=function(){return this._arrowSize||[16,16]},$o.prototype.setArrowSize=function(n){Array.isArray(n)?this._arrowSize=n:typeof n=="number"&&(this._arrowSize=[n,n])},$o.prototype.drawArrow=function(n,r,t,e,i){var o=this.getArrowSize()[0]*i,a=rp(r,t),s=(r[0]-t[0])/a,c=(r[1]-t[1])/a;e=Math.max(this.getArrowSize()[1]/2,e/2)*i,n.beginPath(),n.moveTo(r[0],r[1]),n.lineTo(r[0]-o*s+e*c,r[1]-o*c-e*s),n.lineTo(r[0]-o*s-e*c,r[1]-o*c+e*s),n.lineTo(r[0],r[1]),n.fill()},$o.prototype._render=function(n,r){if(r.geometry.getType()==="LineString"){var t,e,i,o=r.context;if(!this._visible){var a=r.pixelRatio/r.resolution,s=Math.cos(r.rotation),c=Math.sin(r.rotation);e=r.geometry.getCoordinates();var h=n[0][0]-e[0][0]*a*s-e[0][1]*a*c,p=n[0][1]-e[0][0]*a*c+e[0][1]*a*s;for(n=[],t=0;i=e[t];t++)n[t]=[h+i[0]*a*s+i[1]*a*c,p+i[0]*a*c-i[1]*a*s,i[2]]}var m=this.getArrowSize()[0]*r.pixelRatio;o.save(),this.getOffset(0)&&this._splitAsize(n,this.getOffset(0)*r.pixelRatio),this.getOffset(1)&&this._splitAsize(n,this.getOffset(1)*r.pixelRatio,!0),n.length>1&&(this.getArrow()===-1||this.getArrow()===2)&&(i=this._splitAsize(n,m),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,0),this.drawArrow(o,i[0],i[1],this.getWidth(r.feature,0),r.pixelRatio)),n.length>1&&this.getArrow()>0&&(i=this._splitAsize(n,m,!0),this._acolor?o.fillStyle=this._acolor:o.fillStyle=this.getColor(r.feature,1),this.drawArrow(o,i[0],i[1],this.getWidth(r.feature,1),r.pixelRatio));var w=this._splitInto(n,255,2),R=0,M=w.length;if(o.lineJoin="round",o.lineCap=this._lineCap||"butt",w.length>1)for(R=0;R<w.length;R++){var U=R/M;for(e=w[R],o.lineWidth=this.getWidth(r.feature,U)*r.pixelRatio,o.strokeStyle=this.getColor(r.feature,U),o.beginPath(),o.moveTo(e[0][0],e[0][1]),t=1;i=e[t];t++)o.lineTo(i[0],i[1]);o.stroke()}o.restore()}},$o.prototype._splitAsize=function(n,r,t){var e,i,o,a,s=0;for(t?o=n.pop():o=n.shift(),e=o;n.length;){if(t?i=n.pop():i=n.shift(),a=rp(e,i),s+a>r){e=[e[0]+(i[0]-e[0])*(r-s)/a,e[1]+(i[1]-e[1])*(r-s)/a],a=rp(e,o),t?(n.push(i),n.push(e),n.push([e[0]+(o[0]-e[0])/a,e[1]+(o[1]-e[1])/a])):(n.unshift(i),n.unshift(e),n.unshift([e[0]+(o[0]-e[0])/a,e[1]+(o[1]-e[1])/a]));break}s+=a,e=i}return[o,e]},$o.prototype._splitInto=function(n,r,t){var e,i,o=this._noOverlap?1:.9,a=[],s,c=0;for(e=1;i=n[e];e++)c+=rp(n[e-1],i);var h=Math.max(t||2,c/(r||255)),p=n[0];c=0;var m=[p];for(e=1,i=n[1];e<n.length;){var w=i[0]-p[0],R=i[1]-p[1];if(s=Math.sqrt(w*w+R*R),c+s>h){var M=(h-c)/s;m.push([p[0]+w*M,p[1]+R*M]),a.push(m),p=[p[0]+w*M*o,p[1]+R*M*o],m=[p],c=0}else c+=s,p=i,m.push(p),e++,i=n[e]}return a.push(m),a};var K8=$o,$8={name:"ol-style-flowline",setup:function(r){var t=Object(I.inject)("stylable",null),e=ar(r),i=e.properties,o=Object(I.computed)(function(){return new K8(i)}),a=function(h){if(t instanceof t2||t instanceof n2){t.getOverlay().setStyle(h),t.value.dispatchEvent("styleChanged");return}try{t.value.setStyle(h),t.value.changed(),t.value.dispatchEvent("styleChanged")}catch{t.value.style_=h,t.value.values_.style=h,t.value.changed(),t.value.dispatchEvent("styleChanged")}},s=Object(I.computed)(function(){return function(c){return i.overrideStyleFunction!=null&&i.overrideStyleFunction(c,o.value),o.value}});return Object(I.watch)(i,function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(I.onMounted)(function(){i.overrideStyleFunction==null?a(o.value):a(s.value)}),Object(I.onUnmounted)(function(){a(null)}),{style:o}},props:{color:{type:[String,Function]},color2:{type:String},width:{type:[Number,Function]},width2:{type:Number},arrow:{type:Number},arrowColor:{type:String}}},c2=Ae()($8,[["render",X8]]);function x0(n){x0.installed||(x0.installed=!0,n.component(i2.name,i2),n.component(o2.name,o2),n.component(a2.name,a2),n.component(s2.name,s2),n.component(l2.name,l2),n.component(u2.name,u2),n.component(c2.name,c2))}var Z8=x0;function q8(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var ww=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),J8={SELECT:"select"},Q8=function(n){ww(r,n);function r(t,e,i,o){var a=n.call(this,t)||this;return a.selected=e,a.deselected=i,a.mapBrowserEvent=o,a}return r}(ze.a),S0={},t7=function(n){ww(r,n);function r(t){var e=n.call(this)||this;e.on,e.once,e.un;var i=t||{};e.boundAddFeature_=e.addFeature_.bind(e),e.boundRemoveFeature_=e.removeFeature_.bind(e),e.condition_=i.condition?i.condition:Ws,e.addCondition_=i.addCondition?i.addCondition:xv,e.removeCondition_=i.removeCondition?i.removeCondition:xv,e.toggleCondition_=i.toggleCondition?i.toggleCondition:Zc,e.multi_=i.multi?i.multi:!1,e.filter_=i.filter?i.filter:Nt.b,e.hitTolerance_=i.hitTolerance?i.hitTolerance:0,e.style_=i.style!==void 0?i.style:e7(),e.features_=i.features||new hn;var o;if(i.layers)if(typeof i.layers=="function")o=i.layers;else{var a=i.layers;o=function(s){return Object(br.f)(a,s)}}else o=Nt.b;return e.layerFilter_=o,e.featureLayerAssociation_={},e}return r.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(ct.c)(t)]=e},r.prototype.getFeatures=function(){return this.features_},r.prototype.getHitTolerance=function(){return this.hitTolerance_},r.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(ct.c)(t)]},r.prototype.setHitTolerance=function(t){this.hitTolerance_=t},r.prototype.setMap=function(t){var e=this.getMap();e&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),n.prototype.setMap.call(this,t),t?(this.features_.addEventListener(En.ADD,this.boundAddFeature_),this.features_.addEventListener(En.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(En.ADD,this.boundAddFeature_),this.features_.removeEventListener(En.REMOVE,this.boundRemoveFeature_))},r.prototype.addFeature_=function(t){var e=t.element;if(this.style_&&this.applySelectedStyle_(e),!this.getLayer(e)){var i=this.getMap().getAllLayers().find(function(o){if(o instanceof Fu&&o.getSource()&&o.getSource().hasFeature(e))return o});i&&this.addFeatureLayerAssociation_(e,i)}},r.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},r.prototype.getStyle=function(){return this.style_},r.prototype.applySelectedStyle_=function(t){var e=Object(ct.c)(t);e in S0||(S0[e]=t.getStyle()),t.setStyle(this.style_)},r.prototype.restorePreviousStyle_=function(t){for(var e=this.getMap().getInteractions().getArray(),i=e.length-1;i>=0;--i){var o=e[i];if(o!==this&&o instanceof r&&o.getStyle()&&o.getFeatures().getArray().lastIndexOf(t)!==-1){t.setStyle(o.getStyle());return}}var a=Object(ct.c)(t);t.setStyle(S0[a]),delete S0[a]},r.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(ct.c)(t)]},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),o=this.toggleCondition_(t),a=!e&&!i&&!o,s=t.map,c=this.getFeatures(),h=[],p=[];if(a){Object(Ir.b)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(t.pixel,function(U,Z){if(this.filter_(U,Z))return this.addFeatureLayerAssociation_(U,Z),p.push(U),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var m=c.getLength()-1;m>=0;--m){var w=c.item(m),R=p.indexOf(w);R>-1?p.splice(R,1):(c.remove(w),h.push(w))}p.length!==0&&c.extend(p)}else{s.forEachFeatureAtPixel(t.pixel,function(U,Z){if(this.filter_(U,Z))return(e||o)&&!Object(br.f)(c.getArray(),U)?(this.addFeatureLayerAssociation_(U,Z),p.push(U)):(i||o)&&Object(br.f)(c.getArray(),U)&&(h.push(U),this.removeFeatureLayerAssociation_(U)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var M=h.length-1;M>=0;--M)c.remove(h[M]);c.extend(p)}return(p.length>0||h.length>0)&&this.dispatchEvent(new Q8(J8.SELECT,p,h,t)),!0},r}(Cu);function e7(){var n=Z1();return Object(br.c)(n[$t.POLYGON],n[$t.LINE_STRING]),Object(br.c)(n[$t.GEOMETRY_COLLECTION],n[$t.LINE_STRING]),function(r){return r.getGeometry()?n[r.getGeometry().getType()]:null}}var w0=t7,r7={name:"ol-interaction-select",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(I.inject)("map"),o=ar(r),a=o.properties,s=Object(I.computed)(function(){var c=new w0(Ce(Ce({},a),{},{style:new Sa}));return c.on("select",function(h){e("select",h)}),c});return Object(I.watch)(s,function(c,h){i.removeInteraction(h),i.addInteraction(c),i.changed()}),Object(I.onMounted)(function(){i.addInteraction(s.value)}),Object(I.onUnmounted)(function(){i.removeInteraction(s.value)}),Object(I.provide)("stylable",s),{select:s}},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},features:{type:[hn,Object]}}},f2=Ae()(r7,[["render",q8]]);function n7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var gf=function(n){n=n||{},this.pointRadius=n.pointRadius||12,this.circleMaxObjects=n.circleMaxObjects||10,this.maxObjects=n.maxObjects||60,this.spiral=n.spiral!==!1,this.animate=n.animate,this.animationDuration=n.animationDuration||500,this.selectCluster_=n.selectCluster!==!1,this._autoClose=n.autoClose!==!1;var r=this.overlayLayer_=new Fu({source:new lc({features:new hn,wrapX:n.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:n.featureStyle});if(n.layers)if(typeof n.layers=="function"){var t=n.layers;n.layers=function(i){return i===r||t(i)}}else n.layers.push&&n.layers.push(this.overlayLayer_);if(n.filter){var e=n.filter;n.filter=function(i,o){return!o&&i.get("selectclusterlink")?!1:e(i,o)}}else n.filter=function(i,o){return!(!o&&i.get("selectclusterlink"))};this.filter_=n.filter,!this._autoClose&&!n.toggleCondition&&(n.toggleCondition=Ws),w0.call(this,n),this.on("select",this.selectCluster.bind(this))};Ti(gf,w0),gf.prototype.setMap=function(n){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Object(Ks.b)(this._listener),this._listener=null,w0.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n&&n.getView()&&(this._listener=n.getView().on("change:resolution",this.clear.bind(this)))},gf.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},gf.prototype.getLayer=function(){return this.overlayLayer_},gf.prototype.selectCluster=function(n){if(n instanceof Xr&&(n={selected:[n]}),!n.selected.length){this._autoClose?this.clear():n.deselected.forEach(pt=>{pt.get("selectcluserfeatures").forEach(ht=>{this.overlayLayer_.getSource().removeFeature(ht)})});return}var r=n.selected[0];if(!r.get("selectclusterfeature")){var t=this.overlayLayer_.getSource();this._autoClose&&t.clear();var e=r.get("features");if(!(!e||e.length==1)){this.selectCluster_||this.getFeatures().clear();var i=r.getGeometry().getCoordinates(),o=this.getMap().getView().getResolution(),a,s,c,h,p,m,w,R=[];if(!this.spiral||e.length<=this.circleMaxObjects)for(h=Math.min(e.length,this.circleMaxObjects),a=o*this.pointRadius*(.5+h/4),c=0;c<h;c++)s=2*Math.PI*c/h,(h==2||h==4)&&(s+=Math.PI/4),p=[i[0]+a*Math.sin(s),i[1]+a*Math.cos(s)],m=new Xr({selectclusterfeature:!0,features:[e[c]],geometry:new kn(p)}),m.setStyle(e[c].getStyle()),R.push(m),w=new Xr({selectclusterlink:!0,geometry:new zi([i,p])}),R.push(w);else{s=0;var M=2*this.pointRadius;for(h=Math.min(this.maxObjects,e.length),c=0;c<h;c++){a=M/2+M*s/(2*Math.PI),s=s+(M+.1)/a;var U=o*a*Math.sin(s),Z=o*a*Math.cos(s);p=[i[0]+U,i[1]+Z],m=new Xr({selectclusterfeature:!0,features:[e[c]],geometry:new kn(p)}),m.setStyle(e[c].getStyle()),R.push(m),w=new Xr({selectclusterlink:!0,geometry:new zi([i,p])}),R.push(w)}}r.set("selectcluserfeatures",R),this.animate?this.animateCluster_(i,R):t.addFeatures(R)}}},gf.prototype.animateCluster_=function(n,r){if(this.listenerKey_&&Object(Ks.b)(this.listenerKey_),!r.length)return;var t=this.overlayLayer_.getStyle(),e=typeof t=="function"?t:t.length?function(){return t}:function(){return[t]},i=this.animationDuration||500,o=new Date().getTime();function a(c){for(var h=c.vectorContext||e0(c),p=c.frameState.pixelRatio,m=this.getMap().getView().getResolution(),w=Pa((c.frameState.time-o)/i),R=0,M;M=r[R];R++)if(M.get("features")){var U=M.getGeometry().getCoordinates();U[0]=n[0]+w*(U[0]-n[0]),U[1]=n[1]+w*(U[1]-n[1]);for(var Z=new kn(U),lt=e(M,m),pt=0;pt<lt.length;pt++){var xt,ht=le.prototype.getFeaturesAtPixel?!1:lt[pt].getImage();ht&&(xt=ht.getScale(),ht.setScale(p)),h.setStyle?(h.setStyle(lt[pt]),h.drawGeometry(Z)):(h.setImageStyle(ht),h.drawPointGeometry(Z)),ht&&ht.setScale(xt)}}if(w>1){Object(Ks.b)(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(r),this.overlayLayer_.changed();return}c.frameState.animate=!0}this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],a.bind(this));var s=new Xr(new kn(this.getMap().getView().getCenter()));s.setStyle(new Sa({image:new Kv({})})),this.overlayLayer_.getSource().addFeature(s)},gf.prototype.getClusterExtent=function(n){if(!n.get("features"))return null;var r=et();return n.get("features").forEach(function(t){r=Ar(r,t.getGeometry().getExtent())}),r[0]===r[2]&&r[1]===r[3]?null:r};var i7=gf,o7={name:"ol-interaction-clusterselect",emits:["select"],setup:function(r,t){var e=t.emit,i=Object(I.inject)("map"),o=ar(r),a=o.properties,s=Object(I.computed)(function(){var c=new i7(Ce(Ce({},a),{},{style:new Sa}));return c.on("select",function(h){e("select",h)}),c});Object(I.watch)(s,function(c,h){i.removeInteraction(h),i.addInteraction(c),i.changed()}),Object(I.onMounted)(function(){i.addInteraction(s.value)}),Object(I.onUnmounted)(function(){i.removeInteraction(s.value)}),Object(I.provide)("stylable",s)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},pointRadius:{type:Number,default:7},animate:{type:Boolean,default:!0},featureStyle:{type:Function},style:{type:Function}}},h2=Ae()(o7,[["render",n7]]);function a7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var s7={name:"ol-interaction-draw",emits:["drawstart","drawend"],setup:function(r,t){var e=t.emit,i=Object(I.inject)("map"),o=Object(I.inject)("vectorSource"),a=Object(I.toRefs)(r),s=a.type,c=a.clickTolerance,h=a.dragVertexDelay,p=a.snapTolerance,m=a.stopClick,w=a.maxPoints,R=a.minPoints,M=a.finishCondition,U=a.geometryFunction,Z=a.geometryName,lt=a.condition,pt=a.freehand,xt=a.freehandCondition,ht=a.wrapX,Vt=function(){var Xt=new t2({source:o.value,type:s.value,clickTolerance:c.value,dragVertexDelay:h.value,snapTolerance:p.value,stopClick:m.value,maxPoints:w.value,minPoints:R.value,finishCondition:M.value,geometryFunction:U.value,geometryName:Z.value,condition:lt.value,freehand:pt.value,freehandCondition:xt.value,wrapX:ht.value});return Xt.on("drawstart",function(ce){e("drawstart",ce)}),Xt.on("drawend",function(ce){e("drawend",ce)}),Xt},kt=Vt();Object(I.watch)([s,c,h,p,m,w,R,M,U,Z,lt,pt,xt,ht],function(){i.removeInteraction(kt),kt=Vt(),i.addInteraction(kt),kt.changed(),i.changed()}),Object(I.onMounted)(function(){i.addInteraction(kt)}),Object(I.onUnmounted)(function(){i.removeInteraction(kt)}),Object(I.provide)("stylable",kt)},props:{type:{type:String,required:!0},clickTolerance:{type:Number,default:6},dragVertexDelay:{type:Number,default:500},snapTolerance:{type:Number,default:12},stopClick:{type:Boolean,default:!1},maxPoints:{type:Number},minPoints:{type:Number},finishCondition:{type:Function},geometryFunction:{type:Function},geometryName:{type:String},condition:{type:Function},freehand:{type:Boolean,default:!1},freehandCondition:{type:Function},wrapX:{type:Boolean,default:!1}}},d2=Ae()(s7,[["render",a7]]);function l7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var u7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Ow(n){if(n.feature)return n.feature;if(n.element)return n.element}var np=[],c7=function(n){u7(r,n);function r(t){var e=this,i=t||{},o=i;return o.handleDownEvent||(o.handleDownEvent=Nt.b),o.stopDown||(o.stopDown=Nt.a),e=n.call(this,o)||this,e.source_=i.source?i.source:null,e.vertex_=i.vertex!==void 0?i.vertex:!0,e.edge_=i.edge!==void 0?i.edge:!0,e.features_=i.features?i.features:null,e.featuresListenerKeys_=[],e.featureChangeListenerKeys_={},e.indexedFeaturesExtents_={},e.pendingFeatures_={},e.pixelTolerance_=i.pixelTolerance!==void 0?i.pixelTolerance:10,e.rBush_=new Qy,e.SEGMENT_WRITERS_={Point:e.writePointGeometry_.bind(e),LineString:e.writeLineStringGeometry_.bind(e),LinearRing:e.writeLineStringGeometry_.bind(e),Polygon:e.writePolygonGeometry_.bind(e),MultiPoint:e.writeMultiPointGeometry_.bind(e),MultiLineString:e.writeMultiLineStringGeometry_.bind(e),MultiPolygon:e.writeMultiPolygonGeometry_.bind(e),GeometryCollection:e.writeGeometryCollectionGeometry_.bind(e),Circle:e.writeCircleGeometry_.bind(e)},e}return r.prototype.addFeature=function(t,e){var i=e!==void 0?e:!0,o=Object(ct.c)(t),a=t.getGeometry();if(a){var s=this.SEGMENT_WRITERS_[a.getType()];s&&(this.indexedFeaturesExtents_[o]=a.getExtent(et()),s(t,a))}i&&(this.featureChangeListenerKeys_[o]=Object(Tr.a)(t,Qr.a.CHANGE,this.handleFeatureChange_,this))},r.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},r.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},r.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},r.prototype.handleEvent=function(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),n.prototype.handleEvent.call(this,t)},r.prototype.handleFeatureAdd_=function(t){var e=Ow(t);this.addFeature(e)},r.prototype.handleFeatureRemove_=function(t){var e=Ow(t);this.removeFeature(e)},r.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=Object(ct.c)(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},r.prototype.handleUpEvent=function(t){var e=Object(Ir.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},r.prototype.removeFeature=function(t,e){var i=e!==void 0?e:!0,o=Object(ct.c)(t),a=this.indexedFeaturesExtents_[o];if(a){var s=this.rBush_,c=[];s.forEachInExtent(a,function(p){t===p.feature&&c.push(p)});for(var h=c.length-1;h>=0;--h)s.remove(c[h])}i&&(Object(Tr.c)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},r.prototype.setMap=function(t){var e=this.getMap(),i=this.featuresListenerKeys_,o=this.getFeatures_();e&&(i.forEach(Tr.c),i.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),n.prototype.setMap.call(this,t),t&&(this.features_?i.push(Object(Tr.a)(this.features_,En.ADD,this.handleFeatureAdd_,this),Object(Tr.a)(this.features_,En.REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push(Object(Tr.a)(this.source_,pa.ADDFEATURE,this.handleFeatureAdd_,this),Object(Tr.a)(this.source_,pa.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},r.prototype.snapTo=function(t,e,i){var o=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),a=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),s=Lt([o,a]),c=this.rBush_.getInExtent(s);this.vertex_&&!this.edge_&&(c=c.filter(function(Ee){return Ee.feature.getGeometry().getType()!==$t.CIRCLE}));var h=!1,p=null,m=null;if(c.length===0)return{snapped:h,vertex:p,vertexPixel:m};for(var w=i.getView().getProjection(),R=Ii(e),M,U=1/0,Z=0;Z<c.length;++Z){var lt=c[Z];np[0]=Ii(lt.segment[0]),np[1]=Ii(lt.segment[1]);var pt=Ot(R,np);pt<U&&(M=lt,U=pt)}var xt=M.segment;if(this.vertex_&&!this.edge_){var ht=i.getPixelFromCoordinate(xt[0]),Vt=i.getPixelFromCoordinate(xt[1]),kt=vt(t,ht),Zt=vt(t,Vt),Xt=Math.sqrt(Math.min(kt,Zt));Xt<=this.pixelTolerance_&&(h=!0,p=kt>Zt?xt[1]:xt[0],m=i.getPixelFromCoordinate(p))}else if(this.edge_){var ce=M.feature.getGeometry().getType()===$t.CIRCLE;if(ce){var Ve=M.feature.getGeometry(),Ne=ca();Ne&&(Ve=Ve.clone().transform(Ne,w)),p=dl(A(R,Ve))}else np[0]=Ii(xt[0]),np[1]=Ii(xt[1]),p=dl(G(R,np));if(m=i.getPixelFromCoordinate(p),mt(t,m)<=this.pixelTolerance_&&(h=!0,this.vertex_&&!ce)){var ht=i.getPixelFromCoordinate(xt[0]),Vt=i.getPixelFromCoordinate(xt[1]),kt=vt(m,ht),Zt=vt(m,Vt),Xt=Math.sqrt(Math.min(kt,Zt));Xt<=this.pixelTolerance_&&(p=kt>Zt?xt[1]:xt[0],m=i.getPixelFromCoordinate(p))}}return h&&(m=[Math.round(m[0]),Math.round(m[1])]),{snapped:h,vertex:p,vertexPixel:m}},r.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},r.prototype.writeCircleGeometry_=function(t,e){this.getMap().getView().getProjection();for(var i=e,o=Wl(i),a=o.getCoordinates()[0],s=0,c=a.length-1;s<c;++s){var h=a.slice(s,s+2),p={feature:t,segment:h};this.rBush_.insert(Lt(h),p)}},r.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),o=0;o<i.length;++o){var a=this.SEGMENT_WRITERS_[i[o].getType()];a&&a(t,i[o])}},r.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length-1;o<a;++o){var s=i.slice(o,o+2),c={feature:t,segment:s};this.rBush_.insert(Lt(s),c)}},r.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],c=0,h=s.length-1;c<h;++c){var p=s.slice(c,c+2),m={feature:t,segment:p};this.rBush_.insert(Lt(p),m)}},r.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o){var s=i[o],c={feature:t,segment:[s,s]};this.rBush_.insert(e.getExtent(),c)}},r.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],c=0,h=s.length;c<h;++c)for(var p=s[c],m=0,w=p.length-1;m<w;++m){var R=p.slice(m,m+2),M={feature:t,segment:R};this.rBush_.insert(Lt(R),M)}},r.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),o={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),o)},r.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),o=0,a=i.length;o<a;++o)for(var s=i[o],c=0,h=s.length-1;c<h;++c){var p=s.slice(c,c+2),m={feature:t,segment:p};this.rBush_.insert(Lt(p),m)}},r}(Qa),f7=c7,h7={name:"ol-interaction-snap",setup:function(r){var t=Object(I.inject)("map"),e=Object(I.inject)("vectorSource"),i=ar(r),o=i.properties,a=function(){var h=new f7(Ce(Ce({},o),{},{source:e.value}));return h},s=a();Object(I.watch)(o,function(){t.removeInteraction(s),s=a(),t.addInteraction(s),t.changed()}),Object(I.onMounted)(function(){t.addInteraction(s)}),Object(I.onUnmounted)(function(){t.removeInteraction(s)})},props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{type:Number,default:10}}},p2=Ae()(h7,[["render",l7]]);function d7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var p7={name:"ol-interaction-modify",emits:["modifystart","modifyend"],setup:function(r,t){var e=t.emit,i=Object(I.inject)("map"),o=Object(I.inject)("vectorSource"),a=Object(I.toRefs)(r),s=a.features,c=a.condition,h=a.deleteCondition,p=a.insertVertexCondition,m=a.pixelTolerance,w=a.wrapX,R=a.hitDetection,M=function(){var lt=new n2({source:o.value,features:s.value,condition:c.value,deleteCondition:h.value,insertVertexCondition:p.value,pixelTolerance:m.value,wrapX:w.value,hitDetection:R.value});return lt.on("modifystart",function(pt){e("modifystart",pt)}),lt.on("modifyend",function(pt){e("modifyend",pt)}),lt},U=M();Object(I.watch)([c,h,p,m,w,R],function(){i.removeInteraction(U),U=M(),i.addInteraction(U),U.changed(),i.changed()}),Object(I.onMounted)(function(){i.addInteraction(U)}),Object(I.onUnmounted)(function(){i.removeInteraction(U)}),Object(I.provide)("stylable",U)},props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{type:Number,default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{type:[hn,Object]}}},v2=Ae()(p7,[["render",d7]]);function v7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var Po=function(n){n||(n={});var r=this;this.selection_=new hn,this.handles_=new hn,this.overlayLayer_=new Fu({source:new lc({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return r.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),Qa.call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=n.features,typeof n.filter=="function"&&(this._filter=n.filter),this.layers_=n.layers?n.layers instanceof Array?n.layers:[n.layers]:null,this._handleEvent=n.condition||function(){return!0},this.addFn_=n.addCondition||function(){return!1},this.set("translateFeature",n.translateFeature!==!1),this.set("translate",n.translate!==!1),this.set("translateBBox",n.translateBBox===!0),this.set("stretch",n.stretch!==!1),this.set("scale",n.scale!==!1),this.set("rotate",n.rotate!==!1),this.set("keepAspectRatio",n.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",n.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",n.noFlip||!1),this.set("selection",n.selection!==!1),this.set("hitTolerance",n.hitTolerance||0),this.set("enableRotatedTransform",n.enableRotatedTransform||!1),this.set("keepRectangle",n.keepRectangle||!1),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()};Ti(Po,Qa),Po.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},Po.prototype.setMap=function(n){var r=this.getMap();if(r){var t=r.getTargetElement();r.removeLayer(this.overlayLayer_),this.previousCursor_&&t&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}Qa.prototype.setMap.call(this,n),this.overlayLayer_.setMap(n),n===null&&this.select(null),n!==null&&(this.isTouch=/touch/.test(n.getViewport().className),this.setDefaultStyle())},Po.prototype.setActive=function(n){this.select(null),this.overlayLayer_.setVisible(n),Qa.prototype.setActive.call(this,n)},Po.prototype.setDefaultStyle=function(n){n=n||{};var r=n.pointStroke||new ra({color:[255,0,0,1],width:1}),t=n.stroke||new ra({color:[255,0,0,1],width:1,lineDash:[4,4]}),e=n.fill||new xa({color:[255,0,0,.01]}),i=n.pointFill||new xa({color:[255,255,255,.8]}),o=new Yy({fill:i,stroke:r,radius:this.isTouch?12:6,points:15});o.getAnchor()[0]=this.isTouch?-10:-5;var a=new Yy({fill:i,stroke:r,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),s=new Yy({fill:i,stroke:r,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function c(h,p,m){return[new Sa({image:h,stroke:p,fill:m})]}this.style={default:c(a,t,e),translate:c(a,r,i),rotate:c(o,r,i),rotate0:c(a,r,i),scale:c(a,r,i),scale1:c(a,r,i),scale2:c(a,r,i),scale3:c(a,r,i),scalev:c(s,r,i),scaleh1:c(s,r,i),scalev2:c(s,r,i),scaleh3:c(s,r,i)},this.drawSketch_()},Po.prototype.setStyle=function(n,r){if(!!r){r instanceof Array?this.style[n]=r:this.style[n]=[r];for(var t=0;t<this.style[n].length;t++){var e=this.style[n][t].getImage();e&&(n=="rotate"&&(e.getAnchor()[0]=-5),this.isTouch&&e.setScale(1.8));var i=this.style[n][t].getText();i&&(n=="rotate"&&i.setOffsetX(this.isTouch?14:7),this.isTouch&&i.setScale(1.8))}this.drawSketch_()}},Po.prototype.getFeatureAtPixel_=function(n){var r=this;return this.getMap().forEachFeatureAtPixel(n,function(t,e){var i=!1;if(!e){if(t===r.bbox_)return r.get("translateBBox")?{feature:t,handle:"translate",constraint:"",option:""}:!1;if(r.handles_.forEach(function(a){a===t&&(i=!0)}),i)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!r.get("selection"))return r.selection_.getArray().some(function(a){return t===a})?{feature:t}:null;if(r._filter)return r._filter(t,e)?{feature:t}:null;if(r.layers_){for(var o=0;o<r.layers_.length;o++)if(r.layers_[o]===e)return{feature:t};return null}else return r.features_?(r.features_.forEach(function(a){a===t&&(i=!0)}),i?{feature:t}:null):{feature:t}},{hitTolerance:this.get("hitTolerance")})||{}},Po.prototype.getGeometryRotateToZero_=function(n,r){var t=n.getGeometry(),e=this.getMap().getView().getRotation();if(e===0||!this.get("enableRotatedTransform"))return r?t.clone():t;var i=t.clone();return i.rotate(e*-1,this.getMap().getView().getCenter()),i},Po.prototype._isRectangle=function(n){if(this.get("keepRectangle")&&n.getType()==="Polygon"){var r=n.getCoordinates()[0];return r.length===5}return!1},Po.prototype.drawSketch_=function(n){var r,t,e,i=this.selection_.item(0)&&this._isRectangle(this.selection_.item(0).getGeometry());if(this.overlayLayer_.getSource().clear(),!!this.selection_.getLength()){var o=this.getMap().getView().getRotation(),a=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent(),s;if(i&&(s=this.getGeometryRotateToZero_(this.selection_.item(0)).getCoordinates()[0].slice(0,4),s.unshift(s[3])),a=Ct(a,0),this.selection_.forEach(function(m){var w=this.getGeometryRotateToZero_(m).getExtent();Ar(a,w)}.bind(this)),n===!0)this.ispt_||(this.overlayLayer_.getSource().addFeature(new Xr({geometry:new kn(this.center_),handle:"rotate0"})),e=hs(a),this.get("enableRotatedTransform")&&o!==0&&e.rotate(o,this.getMap().getView().getCenter()),t=this.bbox_=new Xr(e),this.overlayLayer_.getSource().addFeature(t));else{if(this.ispt_){var c=this.getMap().getPixelFromCoordinate([a[0],a[1]]);c&&(a=Lt([this.getMap().getCoordinateFromPixel([c[0]-10,c[1]-10]),this.getMap().getCoordinateFromPixel([c[0]+10,c[1]+10])]))}e=i?new li([s]):hs(a),this.get("enableRotatedTransform")&&o!==0&&e.rotate(o,this.getMap().getView().getCenter()),t=this.bbox_=new Xr(e);var h=[],p=e.getCoordinates()[0];if(!this.ispt_){if(h.push(t),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(r=0;r<p.length-1;r++)t=new Xr({geometry:new kn([(p[r][0]+p[r+1][0])/2,(p[r][1]+p[r+1][1])/2]),handle:"scale",constraint:r%2?"h":"v",option:r}),h.push(t);if(this.get("scale"))for(r=0;r<p.length-1;r++)t=new Xr({geometry:new kn(p[r]),handle:"scale",option:r}),h.push(t);this.get("translate")&&!this.get("translateFeature")&&(t=new Xr({geometry:new kn([(p[0][0]+p[2][0])/2,(p[0][1]+p[2][1])/2]),handle:"translate"}),h.push(t))}!this.iscircle_&&this.get("rotate")&&(t=new Xr({geometry:new kn(p[3]),handle:"rotate"}),h.push(t)),this.overlayLayer_.getSource().addFeatures(h)}}},Po.prototype.select=function(n,r){if(!n){this.selection_.clear(),this.drawSketch_();return}if(!(!n.getGeometry||!n.getGeometry())){if(r)this.selection_.push(n);else{var t=this.selection_.getArray().indexOf(n);this.selection_.removeAt(t)}this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:n,features:this.selection_})}},Po.prototype.setSelection=function(n){this.selection_.clear(),n.forEach(function(r){this.selection_.push(r)}.bind(this)),this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},Po.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach(function(n){Object(Ks.b)(n)}),this._featureListeners=[],this.selection_.forEach(function(n){this._featureListeners.push(n.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},Po.prototype.handleDownEvent_=function(n){if(!!this._handleEvent(n,this.selection_)){var r=this.getFeatureAtPixel_(n.pixel),t=r.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(t)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(r.handle="translate"),r.handle){this.mode_=r.handle,this.opt_=r.option,this.constraint_=r.constraint;var e=this.getMap().getView().getRotation();this.coordinate_=n.coordinate,this.pixel_=n.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var i=et(),o=et(),a=0,s;s=this.selection_.item(a);a++)if(this.geoms_.push(s.getGeometry().clone()),i=Ar(i,s.getGeometry().getExtent()),this.get("enableRotatedTransform")&&e!==0){var c=this.getGeometryRotateToZero_(s,!0);this.rotatedGeoms_.push(c),o=Ar(o,c.getExtent())}if(this.extent_=hs(i).getCoordinates()[0],this.get("enableRotatedTransform")&&e!==0&&(this.rotatedExtent_=hs(o).getCoordinates()[0]),this.mode_==="rotate"){this.center_=this.getCenter()||Kn(i);var h=n.map.getTargetElement();h.style.cursor=this.Cursors.rotate0,this.previousCursor_=h.style.cursor}else this.center_=Kn(i);return this.angle_=Math.atan2(this.center_[1]-n.coordinate[1],this.center_[0]-n.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!0}else if(this.get("selection")){if(t){this.addFn_(n)||this.selection_.clear();var p=this.selection_.getArray().indexOf(t);p<0?this.selection_.push(t):this.selection_.removeAt(p)}else this.selection_.clear();return this.ispt_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Point":!1,this.iscircle_=this.selection_.getLength()===1?this.selection_.item(0).getGeometry().getType()=="Circle":!1,this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_,pixel:n.pixel,coordinate:n.coordinate}),!1}}},Po.prototype.getFeatures=function(){return this.selection_},Po.prototype.getCenter=function(){return this.get("center")},Po.prototype.setCenter=function(n){return this.set("center",n)};function uc(n,r){var t=(n[0]*r[0]+n[1]*r[1])/(r[0]*r[0]+r[1]*r[1]);return[r[0]*t,r[1]*t]}function Ss(n,r){return[r[0]-n[0],r[1]-n[1]]}function os(n,r){return[n[0]+r[0],n[1]+r[1]]}Po.prototype.handleDragEvent_=function(n){if(!!this._handleEvent(n,this.features_)){var r=this.getMap().getView().getRotation(),t,e,i,o,a=[this.coordinate_[0],this.coordinate_[1]],s=[n.coordinate[0],n.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":{var c=Math.atan2(this.center_[1]-s[1],this.center_[0]-s[0]);if(!this.ispt)for(t=0,i;i=this.selection_.item(t);t++)o=this.geoms_[t].clone(),o.rotate(c-this.angle_,this.center_),o.getType()=="Circle"&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),i.setGeometry(o);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:c-this.angle_,pixel:n.pixel,coordinate:n.coordinate});break}case"translate":{var h=s[0]-a[0],p=s[1]-a[1];for(t=0,i;i=this.selection_.item(t);t++)i.getGeometry().translate(h,p);this.handles_.forEach(function(Xt){Xt.getGeometry().translate(h,p)}),this.coordinate_=n.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[h,p],pixel:n.pixel,coordinate:n.coordinate});break}case"scale":{var m=this.center_;if(this.get("modifyCenter")(n)){var w=this.extent_;this.get("enableRotatedTransform")&&r!==0&&(w=this.rotatedExtent_),m=w[(Number(this.opt_)+2)%4]}var R=this.geoms_.length==1&&this._isRectangle(this.geoms_[0]),M=this.constraint_,U=this.opt_,Z=this.coordinate_,lt=n.coordinate;if(this.get("enableRotatedTransform")&&r!==0){var pt=new kn(this.coordinate_);pt.rotate(r*-1,m),Z=pt.getCoordinates();var xt=new kn(n.coordinate);xt.rotate(r*-1,m),lt=xt.getCoordinates()}var ht=(lt[0]-m[0])/(Z[0]-m[0]),Vt=(lt[1]-m[1])/(Z[1]-m[1]),kt=[lt[0]-Z[0],lt[1]-Z[1]];if(this.get("enableRotatedTransform")&&r!==0){var Zt=new kn(m);Zt.rotate(r*-1,this.getMap().getView().getCenter()),m=Zt.getCoordinates()}for(this.get("noFlip")&&(ht<0&&(ht=-ht),Vt<0&&(Vt=-Vt)),this.constraint_?this.constraint_=="h"?ht=1:Vt=1:this.get("keepAspectRatio")(n)&&(ht=Vt=Math.min(ht,Vt)),t=0,i;i=this.selection_.item(t);t++)o=r===0||!this.get("enableRotatedTransform")?this.geoms_[t].clone():this.rotatedGeoms_[t].clone(),o.applyTransform(function(Xt,ce,Ve){if(Ve<2)return ce;if(R){var Ne=[[6],[0,8],[2],[4]],Ee=[Xt[0],Xt[1]],rr=[Xt[2],Xt[3]],Rr=[Xt[4],Xt[5]],Gr=[Xt[6],Xt[7]],Hr=[Xt[8],Xt[9]];if(M){var Jr=U%2===0?Ss(Ee,rr):Ss(Gr,Ee),Tn=uc(kt,Jr),bn=U+1<Ne.length?U+1:0,jn=[...Ne[U],...Ne[bn]];for(e=0;e<Xt.length;e+=Ve)ce[e]=jn.includes(e)?Xt[e]+Tn[0]:Xt[e],ce[e+1]=jn.includes(e)?Xt[e+1]+Tn[1]:Xt[e+1]}else{var Dn,ur;switch(U){case 0:kt=Ss(Gr,lt),Dn=uc(kt,Ss(Rr,Gr)),ur=uc(kt,Ss(Ee,Gr)),[ce[0],ce[1]]=os(Ee,Dn),[ce[4],ce[5]]=os(Rr,ur),[ce[6],ce[7]]=os(Gr,kt),[ce[8],ce[9]]=os(Hr,Dn);break;case 1:kt=Ss(Ee,lt),Dn=uc(kt,Ss(Gr,Ee)),ur=uc(kt,Ss(rr,Ee)),[ce[0],ce[1]]=os(Ee,kt),[ce[2],ce[3]]=os(rr,Dn),[ce[6],ce[7]]=os(Gr,ur),[ce[8],ce[9]]=os(Hr,kt);break;case 2:kt=Ss(rr,lt),Dn=uc(kt,Ss(Ee,rr)),ur=uc(kt,Ss(Rr,rr)),[ce[0],ce[1]]=os(Ee,ur),[ce[2],ce[3]]=os(rr,kt),[ce[4],ce[5]]=os(Rr,Dn),[ce[8],ce[9]]=os(Hr,ur);break;case 3:kt=Ss(Rr,lt),Dn=uc(kt,Ss(rr,Rr)),ur=uc(kt,Ss(Gr,Rr)),[ce[2],ce[3]]=os(rr,ur),[ce[4],ce[5]]=os(Rr,kt),[ce[6],ce[7]]=os(Gr,Dn);break}}}else for(e=0;e<Xt.length;e+=Ve)ht!=1&&(ce[e]=m[0]+(Xt[e]-m[0])*ht),Vt!=1&&(ce[e+1]=m[1]+(Xt[e+1]-m[1])*Vt);return o.getType()=="Circle"&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),ce}),this.get("enableRotatedTransform")&&r!==0&&o.rotate(r,this.getMap().getView().getCenter()),i.setGeometry(o);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[ht,Vt],pixel:n.pixel,coordinate:n.coordinate});break}}this.isUpdating_=!1}},Po.prototype.handleMoveEvent_=function(n){if(!!this._handleEvent(n,this.features_)&&!this.mode_){var r=this.getFeatureAtPixel_(n.pixel),t=n.map.getTargetElement();if(r.feature){var e=r.handle?this.Cursors[(r.handle||"default")+(r.constraint||"")+(r.option||"")]:this.Cursors.select;this.previousCursor_===void 0&&(this.previousCursor_=t.style.cursor),t.style.cursor=e}else this.previousCursor_!==void 0&&(t.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},Po.prototype.handleUpEvent_=function(n){if(this.mode_==="rotate"){var r=n.map.getTargetElement();r.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},Po.prototype.getFeatures=function(){return this.selection_};var g7=Po,y7={name:"ol-interaction-transform",setup:function(r){var t=Object(I.inject)("map"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){var a=new g7(Ce({},i));return a});Object(I.watch)(o,function(a,s){t.removeInteraction(s),t.addInteraction(a),t.changed()}),Object(I.onMounted)(function(){t.addInteraction(o.value)}),Object(I.onUnmounted)(function(){t.removeInteraction(o.value)}),Object(I.provide)("stylable",o)},props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{type:Function},addCondition:{type:Function},filter:{type:Function},layers:{type:Array},hitTolerance:{type:Number,default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Boolean,default:!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}}},g2=Ae()(y7,[["render",v7]]);function m7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var _7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),E7=function(n){_7(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.condition_=i.condition?i.condition:Zc,e.lastAngle_=void 0,e.lastMagnitude_=void 0,e.lastScaleDelta_=0,e.duration_=i.duration!==void 0?i.duration:400,e}return r.prototype.handleDragEvent=function(t){if(!!Xo(t)){var e=t.map,i=e.getSize(),o=t.pixel,a=o[0]-i[0]/2,s=i[1]/2-o[1],c=Math.atan2(s,a),h=Math.sqrt(a*a+s*s),p=e.getView();if(this.lastAngle_!==void 0){var m=this.lastAngle_-c;p.adjustRotationInternal(m)}this.lastAngle_=c,this.lastMagnitude_!==void 0&&p.adjustResolutionInternal(this.lastMagnitude_/h),this.lastMagnitude_!==void 0&&(this.lastScaleDelta_=this.lastMagnitude_/h),this.lastMagnitude_=h}},r.prototype.handleUpEvent=function(t){if(!Xo(t))return!0;var e=t.map,i=e.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),this.lastScaleDelta_=0,!1},r.prototype.handleDownEvent=function(t){return Xo(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0):!1},r}(Qa),x7=E7,S7={name:"ol-interaction-dragrotatezoom",setup:function(r){var t=Object(I.inject)("map"),e=ar(r),i=e.properties,o=Object(I.computed)(function(){var a=new x7(Ce({},i));return a});Object(I.watch)(o,function(a,s){t.removeInteraction(s),t.addInteraction(a),t.changed()}),Object(I.onMounted)(function(){t.addInteraction(o.value)}),Object(I.onUnmounted)(function(){t.removeInteraction(o.value)})},props:{condition:{type:Function},duration:{type:Number,default:400}}},y2=Ae()(S7,[["render",m7]]);function O0(n){O0.installed||(O0.installed=!0,n.component(f2.name,f2),n.component(h2.name,h2),n.component(d2.name,d2),n.component(p2.name,p2),n.component(v2.name,v2),n.component(g2.name,g2),n.component(y2.name,y2))}var w7=O0;function O7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var T7={setup:function(){var r=Object(I.inject)("map"),t=Object(I.inject)("vectorLayer");return{map:r,vectorLayer:t}},props:{duration:{type:Number,default:1e3},revers:{type:Boolean,default:!1},repeat:{type:Number,default:0},fade:{type:Function},easing:{type:Function,default:Pa}}},ou=Ae()(T7,[["render",O7]]);function b7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}u("d81d");var ip=function(n){n=n||{},this.duration_=typeof n.duration=="number"?n.duration>=0?n.duration:0:1e3,this.fade_=typeof n.fade=="function"?n.fade:null,this.repeat_=Number(n.repeat);var r=typeof n.easing=="function"?n.easing:$a;n.revers?this.easing_=function(t){return 1-r(t)}:this.easing_=r,this.hiddenStyle=n.hiddenStyle,Oo.a.call(this)};Ti(ip,Oo.a),ip.hiddenStyle=new Sa({image:new Kv({}),stroke:new ra({color:"transparent"})}),ip.prototype.drawGeom_=function(n,r,t){this.fade_&&(n.context.globalAlpha=this.fade_(1-n.elapsed));for(var e=n.style,i=0;i<e.length;i++)try{var o=n.vectorContext||e0(n);o.setStyle(e[i]),e[i].getZIndex()<0?o.drawGeometry(t||r):o.drawGeometry(r)}catch{}},ip.prototype.animate=function(){return!1},le.prototype.animateFeature=function(n,r){var t=this._featureAnimationLayer;t||(t=this._featureAnimationLayer=new Fu({source:new lc}),t.setMap(this)),t.getSource().addFeature(n);var e=r.on("animationend",function(i){i.feature===n&&(t.getSource().removeFeature(n),Object(Ks.b)(e))});t.animateFeature(n,r)},rv.prototype.animateFeature=function(n,r,t){var e=this,i,o=n.getStyle(),a=o||(this.getStyleFunction?this.getStyleFunction()(n):null);a||(a=[]),a instanceof Array||(a=[a]);var s={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:n,geom:n.getGeometry(),typeGeom:n.getGeometry().getType(),bbox:n.getGeometry().getExtent(),coord:Kn(n.getGeometry().getExtent()),style:a};r instanceof Array||(r=[r]);for(var c=r.length-1;c>=0;c--)r[c].duration_===0&&r.splice(c,1);var h=0,p=0,m=t&&this.getFilters?this.getFilters():[];function w(U){s.type=U.type;try{s.vectorContext=U.vectorContext||e0(U)}catch{}if(s.frameState=U.frameState,s.inversePixelTransform=U.inversePixelTransform,s.extent||(s.extent=U.frameState.extent,s.start=U.frameState.time,s.context=U.context),s.time=U.frameState.time-s.start,s.elapsed=s.time/r[p].duration_,s.elapsed>1&&(s.elapsed=1),U.context.save(),m.forEach(function(lt){lt.get("active")&&lt.precompose(U)}),this.getOpacity&&(U.context.globalAlpha=this.getOpacity()),!r[p].animate(s))h++,h<r[p].repeat_?s.extent=!1:p<r.length-1?(r[p].dispatchEvent({type:"animationend",feature:n}),p++,h=0,s.extent=!1):R();else{var Z={type:"animating",step:p,start:s.start,time:s.time,elapsed:s.elapsed,rotation:s.rotation||0,geom:s.geom,coordinate:s.coord,feature:n};r[p].dispatchEvent(Z),e.dispatchEvent(Z)}m.forEach(function(lt){lt.get("active")&&lt.postcompose(U)}),U.context.restore(),U.frameState.animate=!0}function R(U){Object(Ks.b)(i),i=null,n.setStyle(o);var Z={type:"animationend",feature:n};if(U)for(var lt in U)U.hasOwnProperty(lt)&&(Z[lt]=U[lt]);r[p].dispatchEvent(Z),e.dispatchEvent(Z)}function M(U){if(r.length&&!i){if(i=e.on(["postcompose","postrender"],w.bind(e)),e.renderSync)try{e.renderSync()}catch{}else e.changed();n.setStyle(r[p].hiddenStyle||ip.hiddenStyle);var Z={type:"animationstart",feature:n};if(U)for(var lt in U)U.hasOwnProperty(lt)&&(Z[lt]=U[lt]);r[p].dispatchEvent(Z),e.dispatchEvent(Z)}}return M(),{start:M,stop:R,isPlaying:function(){return!!i}}};var ws=ip,m2=function(n){n=n||{},this.speed_=n.speed||0,ws.call(this,n),this.side_=n.side||"top"};Ti(m2,ws),m2.prototype.animate=function(n){if(!n.time){var r=n.frameState.viewState.rotation,t=n.frameState.size[1]*n.frameState.viewState.resolution;this.side_!="top"&&(t*=-1),this.dx=-Math.sin(r)*t,this.dy=Math.cos(r)*t,this.speed_&&(this.duration_=t/this.speed_/n.frameState.viewState.resolution)}var e=n.geom.clone();return e.translate(this.dx*(1-this.easing_(n.elapsed)),this.dy*(1-this.easing_(n.elapsed))),this.drawGeom_(n,e,n.geom),n.time<=this.duration_};var C7=m2;function Lh(n,r){var t=ou.setup(),e=t.map,i=t.vectorLayer,o=ar(r),a=o.properties,s=Object(I.computed)(function(){var c=new n(Ce({},a));return c});return Object(I.provide)("animation",s),{map:e,vectorLayer:i,animation:s,properties:a}}var A7={name:"ol-animation-drop",extends:ou,setup:function(r){var t=Lh(C7,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{side:{type:Number,default:0},speed:{type:Number,default:0}}},_2=Ae()(A7,[["render",b7]]);function L7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var E2=function(n){n=n||{},ws.call(this,n),this.amplitude_=n.amplitude||40,this.bounce_=-Math.PI*(n.bounce||6),this.horizontal_=n.horizontal};Ti(E2,ws),E2.prototype.animate=function(n){var r=n.geom.clone(),t=n.geom.clone(),e=this.easing_(n.elapsed);return e=Math.sin(this.bounce_*e)*this.amplitude_*(1-e)*n.frameState.viewState.resolution,this.horizontal_?(r.translate(e,0),t.translate(e,0)):r.translate(0,e),this.drawGeom_(n,r,t),n.time<=this.duration_};var R7=E2,P7={name:"ol-animation-shake",extends:ou,setup:function(r){var t=Lh(R7,r),e=t.map,i=t.vectorLayer,o=t.properties,a=t.animation;return{map:e,vectorLayer:i,properties:o,animation:a}},props:{bounce:{type:Number,default:6},amplitude:{type:Number,default:40},horizontal:{type:Boolean,default:!1}}},x2=Ae()(P7,[["render",L7]]);function I7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var rg=function(n){n=n||{},ws.call(this,n),this.set("zoomout",n.zoomOut)};Ti(rg,ws);var M7=function(n){n=n||{},n.zoomOut=!0,rg.call(this,n)};Ti(M7,rg),rg.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){this.get("zoomout")&&(r=1/r);var t=n.style,e,i,o=[];for(e=0;e<t.length;e++)i=t[e].getImage(),i&&(o[e]=i.getScale(),n.type==="postrender"?i.setScale(o[e]*r/n.frameState.pixelRatio):i.setScale(o[e]*r));for(this.drawGeom_(n,n.geom),e=0;e<t.length;e++)i=t[e].getImage(),i&&i.setScale(o[e])}return n.time<=this.duration_};var N7=rg,F7={name:"ol-animation-zoom",extends:ou,setup:function(r){var t=Lh(N7,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{zoomOut:{type:Boolean,default:!1}}},S2=Ae()(F7,[["render",I7]]);function j7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var w2=function(n){ws.call(this,n)};Ti(w2,ws),w2.prototype.animate=function(n){var r=this.easing_(n.elapsed);if(r){n.context.save();var t=n.frameState.pixelRatio;n.context.globalAlpha=r,n.context.scale(r,1/r);var e=n.frameState.coordinateToPixelTransform,i=(1/r-1)*t*(e[0]*n.coord[0]+e[1]*n.coord[1]+e[4]),o=(r-1)*t*(e[2]*n.coord[0]+e[3]*n.coord[1]+e[5]);n.context.translate(i,o),this.drawGeom_(n,n.geom),n.context.restore()}return n.time<=this.duration_};var D7=w2,B7={name:"ol-animation-teleport",extends:ou,setup:function(r){var t=Lh(D7,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{}},O2=Ae()(B7,[["render",j7]]);function G7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var T2=function(n){n=n||{},this.speed_=n.speed||0,ws.call(this,n)};Ti(T2,ws),T2.prototype.animate=function(n){return n.context.globalAlpha=this.easing_(n.elapsed),this.drawGeom_(n,n.geom),n.time<=this.duration_};var U7=T2,k7={name:"ol-animation-fade",extends:ou,setup:function(r){var t=Lh(U7,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}}},b2=Ae()(k7,[["render",G7]]);function z7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var C2=function(n){n=n||{},this.speed_=n.speed||0,ws.call(this,n),this.side_=n.side||"left"};Ti(C2,ws),C2.prototype.animate=function(n){n.time||(this.side_=="left"?this.dx=n.extent[0]-n.bbox[2]:this.dx=n.extent[2]-n.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/n.frameState.viewState.resolution));var r=n.geom.clone();return r.translate(this.dx*(1-this.easing_(n.elapsed)),0),this.drawGeom_(n,r),n.time<=this.duration_};var V7=C2,W7={name:"ol-animation-slide",extends:ou,setup:function(r){var t=Lh(V7,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{speed:{type:Number,default:0}}},A2=Ae()(W7,[["render",z7]]);function Y7(n,r,t,e,i,o){return Object(I.renderSlot)(n.$slots,"default")}var L2=function(n){switch(n=n||{},ws.call(this,n),this.speed_=n.speed||0,this.path_=n.path,n.rotate){case!0:case 0:this.rotate_=0;break;default:this.rotate_=n.rotate||!1;break}this.path_&&this.path_.getGeometry&&(this.path_=this.path_.getGeometry()),this.path_&&this.path_.getLineString&&(this.path_=this.path_.getLineString()),this.path_.getLength?(this.dist_=this.path_.getLength(),this.path_&&this.path_.getCoordinates&&(this.path_=this.path_.getCoordinates())):this.dist_=0,this.speed_>0&&(this.duration_=this.dist_/this.speed_)};Ti(L2,ws),L2.prototype.animate=function(n){if(!n.time&&!this.dist_)return!1;var r=this.dist_*this.easing_(n.elapsed),t,e,i,o,a,s,c=0;e=this.path_[0];for(var h=1;h<this.path_.length;h++){if(t=e,e=this.path_[h],o=e[0]-t[0],a=e[1]-t[1],s=Math.sqrt(o*o+a*a),s&&c+s>=r){i=(r-c)/s,e=[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i];break}c+=s}var p=n.style;if(n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]),this.rotate_!==!1){var m=[],w=this.rotate_-n.rotation+n.frameState.viewState.rotation;n.rotation=Math.PI/2+Math.atan2(t[1]-e[1],t[0]-e[0]);for(var R=0;i=n.style[R];R++)i.getImage()&&i.getImage().setRotation(w),m.push(i);n.style=m}return n.geom.setCoordinates(e),this.drawGeom_(n,n.geom),n.style=p,n.time<=this.duration_};var H7=L2,X7={name:"ol-animation-path",extends:ou,setup:function(r){var t=Lh(H7,r),e=t.map,i=t.vectorLayer,o=t.properties;return{map:e,vectorLayer:i,properties:o}},props:{rotate:{type:Boolean,default:!1},speed:{type:Number,default:0},path:{type:Object}}},R2=Ae()(X7,[["render",Y7]]);function T0(n){T0.installed||(T0.installed=!0,n.component(ou.name,ou),n.component(_2.name,_2),n.component(x2.name,x2),n.component(S2.name,S2),n.component(O2.name,O2),n.component(b2.name,b2),n.component(A2.name,A2),n.component(R2.name,R2))}var K7=T0;u("5bc0"),u("dbd0"),u("872d"),u("7d05");var $7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Z7=function(n){$7(r,n);function r(t){var e=n.call(this)||this;return e.geometries_=t||null,e.changeEventsKeys_=[],e.listenGeometriesChange_(),e}return r.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Tr.c),this.changeEventsKeys_.length=0},r.prototype.listenGeometriesChange_=function(){if(!!this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(Tr.a)(this.geometries_[t],Qr.a.CHANGE,this.changed,this))},r.prototype.clone=function(){var t=new r(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,i,o){if(o<Bt(this.getExtent(),t,e))return o;for(var a=this.geometries_,s=0,c=a.length;s<c;++s)o=a[s].closestPointXY(t,e,i,o);return o},r.prototype.containsXY=function(t,e){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)if(i[o].containsXY(t,e))return!0;return!1},r.prototype.computeExtent=function(t){V(t);for(var e=this.geometries_,i=0,o=e.length;i<o;++i)Ar(t,e[i].getExtent());return t},r.prototype.getGeometries=function(){return Tw(this.geometries_)},r.prototype.getGeometriesArray=function(){return this.geometries_},r.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,i=0,o=e.length;i<o;++i)e[i].getType()===this.getType()?t=t.concat(e[i].getGeometriesArrayRecursive()):t.push(e[i]);return t},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var e=[],i=this.geometries_,o=!1,a=0,s=i.length;a<s;++a){var c=i[a],h=c.getSimplifiedGeometry(t);e.push(h),h!==c&&(o=!0)}if(o){var p=new r(null);return p.setGeometriesArray(e),p}else return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},r.prototype.getType=function(){return $t.GEOMETRY_COLLECTION},r.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,o=e.length;i<o;++i)if(e[i].intersectsExtent(t))return!0;return!1},r.prototype.isEmpty=function(){return this.geometries_.length===0},r.prototype.rotate=function(t,e){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].rotate(t,e);this.changed()},r.prototype.scale=function(t,e,i){var o=i;o||(o=Kn(this.getExtent()));for(var a=this.geometries_,s=0,c=a.length;s<c;++s)a[s].scale(t,e,o);this.changed()},r.prototype.setGeometries=function(t){this.setGeometriesArray(Tw(t))},r.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},r.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,o=e.length;i<o;++i)e[i].applyTransform(t);this.changed()},r.prototype.translate=function(t,e){for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].translate(t,e);this.changed()},r.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),n.prototype.disposeInternal.call(this)},r}(Su);function Tw(n){for(var r=[],t=0,e=n.length;t<e;++t)r.push(n[t].clone());return r}var ka=Z7,q7=function(){function n(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return n.prototype.getReadOptions=function(r,t){var e;if(t){var i=t.dataProjection?an(t.dataProjection):this.readProjection(r);t.extent&&i&&i.getUnits()===Hi.TILE_PIXELS&&(i=an(i),i.setWorldExtent(t.extent)),e={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(e)},n.prototype.adaptOptions=function(r){return Object(Ir.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},r)},n.prototype.getType=function(){return Object(ct.b)()},n.prototype.readFeature=function(r,t){return Object(ct.b)()},n.prototype.readFeatures=function(r,t){return Object(ct.b)()},n.prototype.readGeometry=function(r,t){return Object(ct.b)()},n.prototype.readProjection=function(r){return Object(ct.b)()},n.prototype.writeFeature=function(r,t){return Object(ct.b)()},n.prototype.writeFeatures=function(r,t){return Object(ct.b)()},n.prototype.writeGeometry=function(r,t){return Object(ct.b)()},n}(),ng=q7;function vo(n,r,t){var e=t?an(t.featureProjection):null,i=t?an(t.dataProjection):null,o;if(e&&i&&!Ki(e,i)?o=(r?n.clone():n).transform(r?e:i,r?i:e):o=n,r&&t&&t.decimals!==void 0){var a=Math.pow(10,t.decimals),s=function(c){for(var h=0,p=c.length;h<p;++h)c[h]=Math.round(c[h]*a)/a;return c};o===n&&(o=n.clone()),o.applyTransform(s)}return o}function P2(n,r){var t=r?an(r.featureProjection):null,e=r?an(r.dataProjection):null;return t&&e&&!Ki(t,e)?jc(n,e,t):n}var J7=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q7=function(n){J7(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return ru.JSON},r.prototype.readFeature=function(t,e){return this.readFeatureFromObject(b0(t),this.getReadOptions(t,e))},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(b0(t),this.getReadOptions(t,e))},r.prototype.readFeatureFromObject=function(t,e){return Object(ct.b)()},r.prototype.readFeaturesFromObject=function(t,e){return Object(ct.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(b0(t),this.getReadOptions(t,e))},r.prototype.readGeometryFromObject=function(t,e){return Object(ct.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromObject(b0(t))},r.prototype.readProjectionFromObject=function(t){return Object(ct.b)()},r.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},r.prototype.writeFeatureObject=function(t,e){return Object(ct.b)()},r.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},r.prototype.writeFeaturesObject=function(t,e){return Object(ct.b)()},r.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},r.prototype.writeGeometryObject=function(t,e){return Object(ct.b)()},r}(ng);function b0(n){if(typeof n=="string"){var r=JSON.parse(n);return r||null}else return n!==null?n:null}var I2=Q7,tj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rh={};Rh[$t.POINT]=nj,Rh[$t.LINE_STRING]=ij,Rh[$t.POLYGON]=lj,Rh[$t.MULTI_POINT]=aj,Rh[$t.MULTI_LINE_STRING]=oj,Rh[$t.MULTI_POLYGON]=sj;var Ph={};Ph[$t.POINT]=uj,Ph[$t.LINE_STRING]=cj,Ph[$t.POLYGON]=fj,Ph[$t.MULTI_POINT]=dj,Ph[$t.MULTI_LINE_STRING]=hj,Ph[$t.MULTI_POLYGON]=pj;var ej=function(n){tj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.geometryName_=i.geometryName,e}return r.prototype.readFeatureFromObject=function(t,e,i){var o=t,a=bw(o.geometry,e),s=new Xr;if(this.geometryName_&&s.setGeometryName(this.geometryName_),s.setGeometry(a),o.attributes){s.setProperties(o.attributes,!0);var c=o.attributes[i];c!==void 0&&s.setId(c)}return s},r.prototype.readFeaturesFromObject=function(t,e){var i=e||{};if(t.features){for(var o=t,a=[],s=o.features,c=0,h=s.length;c<h;++c)a.push(this.readFeatureFromObject(s[c],i,t.objectIdFieldName));return a}else return[this.readFeatureFromObject(t,i)]},r.prototype.readGeometryFromObject=function(t,e){return bw(t,e)},r.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&t.spatialReference.wkid!==void 0){var e=t.spatialReference,i=e.wkid;return an("EPSG:"+i)}else return null},r.prototype.writeGeometryObject=function(t,e){return Cw(t,this.adaptOptions(e))},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={};if(!t.hasProperties())return i.attributes={},i;var o=t.getProperties(),a=t.getGeometry();if(a){i.geometry=Cw(a,e);var s=e&&(e.dataProjection||e.featureProjection);s&&(i.geometry.spatialReference={wkid:Number(an(s).getCode().split(":").pop())}),delete o[t.getGeometryName()]}return Object(Ir.d)(o)?i.attributes={}:i.attributes=o,i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,a=t.length;o<a;++o)i.push(this.writeFeatureObject(t[o],e));return{features:i}},r}(I2);function bw(n,r){var t,e;if(!n)return null;var i;if(typeof n.x=="number"&&typeof n.y=="number")i=$t.POINT;else if(n.points)i=$t.MULTI_POINT;else if(n.paths){var o=n;o.paths.length===1?i=$t.LINE_STRING:i=$t.MULTI_LINE_STRING}else if(n.rings){var a=n,s=op(a),c=rj(a.rings,s);c.length===1?(i=$t.POLYGON,n=Object(Ir.a)({},n,(t={},t.rings=c[0],t))):(i=$t.MULTI_POLYGON,n=Object(Ir.a)({},n,(e={},e.rings=c,e)))}var h=Rh[i];return vo(h(n),!1,r)}function rj(n,r){var t=[],e=[],i=[],o,a;for(o=0,a=n.length;o<a;++o){t.length=0,cr(t,0,n[o],r.length);var s=Us(t,0,t.length,r.length);s?e.push([n[o]]):i.push(n[o])}for(;i.length;){var c=i.shift(),h=!1;for(o=e.length-1;o>=0;o--){var p=e[o][0],m=he(new Bs(p).getExtent(),new Bs(c).getExtent());if(m){e[o].push(c),h=!0;break}}h||e.push([c.reverse()])}return e}function nj(n){var r;return n.m!==void 0&&n.z!==void 0?r=new kn([n.x,n.y,n.z,n.m],gr.XYZM):n.z!==void 0?r=new kn([n.x,n.y,n.z],gr.XYZ):n.m!==void 0?r=new kn([n.x,n.y,n.m],gr.XYM):r=new kn([n.x,n.y]),r}function ij(n){var r=op(n);return new zi(n.paths[0],r)}function oj(n){var r=op(n);return new xs(n.paths,r)}function op(n){var r=gr.XY;return n.hasZ===!0&&n.hasM===!0?r=gr.XYZM:n.hasZ===!0?r=gr.XYZ:n.hasM===!0&&(r=gr.XYM),r}function aj(n){var r=op(n);return new Ll(n.points,r)}function sj(n){var r=op(n);return new Ua(n.rings,r)}function lj(n){var r=op(n);return new li(n.rings,r)}function uj(n,r){var t=n.getCoordinates(),e,i=n.getLayout();return i===gr.XYZ?e={x:t[0],y:t[1],z:t[2]}:i===gr.XYM?e={x:t[0],y:t[1],m:t[2]}:i===gr.XYZM?e={x:t[0],y:t[1],z:t[2],m:t[3]}:i===gr.XY?e={x:t[0],y:t[1]}:qt(!1,34),e}function ig(n){var r=n.getLayout();return{hasZ:r===gr.XYZ||r===gr.XYZM,hasM:r===gr.XYM||r===gr.XYZM}}function cj(n,r){var t=ig(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:[n.getCoordinates()]}}function fj(n,r){var t=ig(n);return{hasZ:t.hasZ,hasM:t.hasM,rings:n.getCoordinates(!1)}}function hj(n,r){var t=ig(n);return{hasZ:t.hasZ,hasM:t.hasM,paths:n.getCoordinates()}}function dj(n,r){var t=ig(n);return{hasZ:t.hasZ,hasM:t.hasM,points:n.getCoordinates()}}function pj(n,r){for(var t=ig(n),e=n.getCoordinates(!1),i=[],o=0;o<e.length;o++)for(var a=e[o].length-1;a>=0;a--)i.push(e[o][a]);return{hasZ:t.hasZ,hasM:t.hasM,rings:i}}function Cw(n,r){var t=Ph[n.getType()];return t(vo(n,!0,r),r)}var vj=ej,gj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yj=function(n){gj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this)||this,e.dataProjection=an(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(e.defaultFeatureProjection=an(i.featureProjection)),e.geometryName_=i.geometryName,e.extractGeometryName_=i.extractGeometryName,e.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],e}return r.prototype.readFeatureFromObject=function(t,e){var i=null;t.type==="Feature"?i=t:i={type:"Feature",geometry:t,properties:null};var o=M2(i.geometry,e),a=new Xr;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in i!==void 0&&a.setGeometryName(i.geometry_name),a.setGeometry(o),"id"in i&&a.setId(i.id),i.properties&&a.setProperties(i.properties,!0),a},r.prototype.readFeaturesFromObject=function(t,e){var i=t,o=null;if(i.type==="FeatureCollection"){var a=t;o=[];for(var s=a.features,c=0,h=s.length;c<h;++c)o.push(this.readFeatureFromObject(s[c],e))}else o=[this.readFeatureFromObject(t,e)];return o},r.prototype.readGeometryFromObject=function(t,e){return M2(t,e)},r.prototype.readProjectionFromObject=function(t){var e=t.crs,i;return e?e.type=="name"?i=an(e.properties.name):e.type==="EPSG"?i=an("EPSG:"+e.properties.code):qt(!1,36):i=this.dataProjection,i},r.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature",geometry:null,properties:null},o=t.getId();if(o!==void 0&&(i.id=o),!t.hasProperties())return i;var a=t.getProperties(),s=t.getGeometry();return s&&(i.geometry=N2(s,e),delete a[t.getGeometryName()]),Object(Ir.d)(a)||(i.properties=a),i},r.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],o=0,a=t.length;o<a;++o)i.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:i}},r.prototype.writeGeometryObject=function(t,e){return N2(t,this.adaptOptions(e))},r}(I2);function M2(n,r){if(!n)return null;var t;switch(n.type){case $t.POINT:{t=_j(n);break}case $t.LINE_STRING:{t=Ej(n);break}case $t.POLYGON:{t=Oj(n);break}case $t.MULTI_POINT:{t=Sj(n);break}case $t.MULTI_LINE_STRING:{t=xj(n);break}case $t.MULTI_POLYGON:{t=wj(n);break}case $t.GEOMETRY_COLLECTION:{t=mj(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return vo(t,!1,r)}function mj(n,r){var t=n.geometries.map(function(e){return M2(e,r)});return new ka(t)}function _j(n){return new kn(n.coordinates)}function Ej(n){return new zi(n.coordinates)}function xj(n){return new xs(n.coordinates)}function Sj(n){return new Ll(n.coordinates)}function wj(n){return new Ua(n.coordinates)}function Oj(n){return new li(n.coordinates)}function N2(n,r){n=vo(n,!0,r);var t=n.getType(),e;switch(t){case $t.POINT:{e=Rj(n);break}case $t.LINE_STRING:{e=bj(n);break}case $t.POLYGON:{e=Pj(n,r);break}case $t.MULTI_POINT:{e=Aj(n);break}case $t.MULTI_LINE_STRING:{e=Cj(n);break}case $t.MULTI_POLYGON:{e=Lj(n,r);break}case $t.GEOMETRY_COLLECTION:{e=Tj(n,r);break}case $t.CIRCLE:{e={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return e}function Tj(n,r){var t=n.getGeometriesArray().map(function(e){var i=Object(Ir.a)({},r);return delete i.featureProjection,N2(e,i)});return{type:"GeometryCollection",geometries:t}}function bj(n,r){return{type:"LineString",coordinates:n.getCoordinates()}}function Cj(n,r){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function Aj(n,r){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function Lj(n,r){var t;return r&&(t=r.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function Rj(n,r){return{type:"Point",coordinates:n.getCoordinates()}}function Pj(n,r){var t;return r&&(t=r.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}var Ij=yj,Ih="http://www.w3.org/2001/XMLSchema-instance";function Rn(n,r){return ap().createElementNS(n,r)}function as(n,r){return Aw(n,r,[]).join("")}function Aw(n,r,t){if(n.nodeType==Node.CDATA_SECTION_NODE||n.nodeType==Node.TEXT_NODE)r?t.push(String(n.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(n.nodeValue);else{var e=void 0;for(e=n.firstChild;e;e=e.nextSibling)Aw(e,r,t)}return t}function Du(n){return"documentElement"in n}function Mj(n,r,t){return n.getAttributeNS(r,t)||""}function Bu(n){return new DOMParser().parseFromString(n,"application/xml")}function Lw(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var o=e[e.length-1];Object(br.c)(o,i)}}}function en(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);if(i!==void 0){var o=e[e.length-1];o.push(i)}}}function gn(n,r){return function(t,e){var i=n.call(r!==void 0?r:this,t,e);i!==void 0&&(e[e.length-1]=i)}}function eo(n,r,t){return function(e,i){var o=n.call(t!==void 0?t:this,e,i);if(o!==void 0){var a=i[i.length-1],s=r!==void 0?r:e.localName,c=void 0;s in a?c=a[s]:(c=[],a[s]=c),c.push(o)}}}function ee(n,r,t){return function(e,i){var o=n.call(t!==void 0?t:this,e,i);if(o!==void 0){var a=i[i.length-1],s=r!==void 0?r:e.localName;a[s]=o}}}function ie(n,r){return function(t,e,i){n.call(r!==void 0?r:this,t,e,i);var o=i[i.length-1],a=o.node;a.appendChild(t)}}function Rw(n,r){var t,e;return function(i,o,a){if(t===void 0){t={};var s={};s[i.localName]=n,t[i.namespaceURI]=s,e=xo(i.localName)}Pw(t,e,o,a)}}function xo(n,r){var t=n;return function(e,i,o){var a=i[i.length-1],s=a.node,c=t;c===void 0&&(c=o);var h=r!==void 0?r:s.namespaceURI;return Rn(h,c)}}var va=xo();function Os(n,r){for(var t=r.length,e=new Array(t),i=0;i<t;++i)e[i]=n[r[i]];return e}function Ke(n,r,t){var e=t!==void 0?t:{},i,o;for(i=0,o=n.length;i<o;++i)e[n[i]]=r;return e}function Ts(n,r,t,e){var i;for(i=r.firstElementChild;i;i=i.nextElementSibling){var o=n[i.namespaceURI];if(o!==void 0){var a=o[i.localName];a!==void 0&&a.call(e,i,t)}}}function sr(n,r,t,e,i){return e.push(n),Ts(r,t,e,i),e.pop()}function Pw(n,r,t,e,i,o){for(var a=(i!==void 0?i:t).length,s,c,h=0;h<a;++h)s=t[h],s!==void 0&&(c=r.call(o!==void 0?o:this,s,e,i!==void 0?i[h]:void 0),c!==void 0&&n[c.namespaceURI][c.localName].call(o,c,s,e))}function An(n,r,t,e,i,o,a){return i.push(n),Pw(r,t,e,i,o,a),i.pop()}var F2=void 0;function Nj(){return F2===void 0&&typeof XMLSerializer!="undefined"&&(F2=new XMLSerializer),F2}var j2=void 0;function ap(){return j2===void 0&&typeof document!="undefined"&&(j2=document.implementation.createDocument("","",null)),j2}var Fj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jj=function(n){Fj(r,n);function r(){var t=n.call(this)||this;return t.xmlSerializer_=Nj(),t}return r.prototype.getType=function(){return ru.XML},r.prototype.readFeature=function(t,e){if(t)if(typeof t=="string"){var i=Bu(t);return this.readFeatureFromDocument(i,e)}else return Du(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e);else return null},r.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},r.prototype.readFeatureFromNode=function(t,e){return null},r.prototype.readFeatures=function(t,e){if(t)if(typeof t=="string"){var i=Bu(t);return this.readFeaturesFromDocument(i,e)}else return Du(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e);else return[]},r.prototype.readFeaturesFromDocument=function(t,e){for(var i=[],o=t.firstChild;o;o=o.nextSibling)o.nodeType==Node.ELEMENT_NODE&&Object(br.c)(i,this.readFeaturesFromNode(o,e));return i},r.prototype.readFeaturesFromNode=function(t,e){return Object(ct.b)()},r.prototype.readGeometry=function(t,e){if(t)if(typeof t=="string"){var i=Bu(t);return this.readGeometryFromDocument(i,e)}else return Du(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e);else return null},r.prototype.readGeometryFromDocument=function(t,e){return null},r.prototype.readGeometryFromNode=function(t,e){return null},r.prototype.readProjection=function(t){if(t)if(typeof t=="string"){var e=Bu(t);return this.readProjectionFromDocument(e)}else return Du(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t);else return null},r.prototype.readProjectionFromDocument=function(t){return this.dataProjection},r.prototype.readProjectionFromNode=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeatureNode=function(t,e){return null},r.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeFeaturesNode=function(t,e){return null},r.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)},r.prototype.writeGeometryNode=function(t,e){return null},r}(ng),og=jj,Dj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cc="http://www.opengis.net/gml",Bj=/^[\s\xa0]*$/,Io=function(n){Dj(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureType=i.featureType,e.featureNS=i.featureNS,e.srsName=i.srsName,e.schemaLocation="",e.FEATURE_COLLECTION_PARSERS={},e.FEATURE_COLLECTION_PARSERS[e.namespace]={featureMember:en(e.readFeaturesInternal),featureMembers:gn(e.readFeaturesInternal)},e.supportedMediaTypes=["application/gml+xml"],e}return r.prototype.readFeaturesInternal=function(t,e){var i=t.localName,o=null;if(i=="FeatureCollection")o=sr([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if(i=="featureMembers"||i=="featureMember"||i=="member"){var a=e[0],s=a.featureType,c=a.featureNS,h="p",p="p0";if(!s&&t.childNodes){s=[],c={};for(var m=0,w=t.childNodes.length;m<w;++m){var R=t.childNodes[m];if(R.nodeType===1){var M=R.nodeName.split(":").pop();if(s.indexOf(M)===-1){var U="",Z=0,lt=R.namespaceURI;for(var pt in c){if(c[pt]===lt){U=pt;break}++Z}U||(U=h+Z,c[U]=lt),s.push(U+":"+M)}}}i!="featureMember"&&(a.featureType=s,a.featureNS=c)}if(typeof c=="string"){var xt=c;c={},c[p]=xt}var ht={},Vt=Array.isArray(s)?s:[s];for(var kt in c){for(var Zt={},m=0,w=Vt.length;m<w;++m){var Xt=Vt[m].indexOf(":")===-1?p:Vt[m].split(":")[0];Xt===kt&&(Zt[Vt[m].split(":").pop()]=i=="featureMembers"?en(this.readFeatureElement,this):gn(this.readFeatureElement,this))}ht[c[kt]]=Zt}i=="featureMember"||i=="member"?o=sr(void 0,ht,t,e):o=sr([],ht,t,e)}return o===null&&(o=[]),o},r.prototype.readGeometryElement=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName"),i.srsDimension=t.firstElementChild.getAttribute("srsDimension");var o=sr(null,this.GEOMETRY_PARSERS,t,e,this);if(o)return Array.isArray(o)?P2(o,i):vo(o,!1,i)},r.prototype.readFeatureElementInternal=function(t,e,i){for(var o,a={},s=t.firstElementChild;s;s=s.nextElementSibling){var c=void 0,h=s.localName;s.childNodes.length===0||s.childNodes.length===1&&(s.firstChild.nodeType===3||s.firstChild.nodeType===4)?(c=as(s,!1),Bj.test(c)&&(c=void 0)):(i&&(c=this.readGeometryElement(s,e)),c?h!=="boundedBy"&&(o=h):c=this.readFeatureElementInternal(s,e,!1)),a[h]?(a[h]instanceof Array||(a[h]=[a[h]]),a[h].push(c)):a[h]=c;var p=s.attributes.length;if(p>0){a[h]={_content_:a[h]};for(var m=0;m<p;m++){var w=s.attributes[m].name;a[h][w]=s.attributes[m].value}}}if(i){var R=new Xr(a);o&&R.setGeometryName(o);var M=t.getAttribute("fid")||Mj(t,this.namespace,"id");return M&&R.setId(M),R}else return a},r.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},r.prototype.readPoint=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new kn(i,gr.XYZ)},r.prototype.readMultiPoint=function(t,e){var i=sr([],this.MULTIPOINT_PARSERS,t,e,this);if(i)return new Ll(i)},r.prototype.readMultiLineString=function(t,e){var i=sr([],this.MULTILINESTRING_PARSERS,t,e,this);if(i)return new xs(i)},r.prototype.readMultiPolygon=function(t,e){var i=sr([],this.MULTIPOLYGON_PARSERS,t,e,this);if(i)return new Ua(i)},r.prototype.pointMemberParser=function(t,e){Ts(this.POINTMEMBER_PARSERS,t,e,this)},r.prototype.lineStringMemberParser=function(t,e){Ts(this.LINESTRINGMEMBER_PARSERS,t,e,this)},r.prototype.polygonMemberParser=function(t,e){Ts(this.POLYGONMEMBER_PARSERS,t,e,this)},r.prototype.readLineString=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i){var o=new zi(i,gr.XYZ);return o}else return},r.prototype.readFlatLinearRing=function(t,e){var i=sr(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);if(i)return i},r.prototype.readLinearRing=function(t,e){var i=this.readFlatCoordinatesFromNode(t,e);if(i)return new Bs(i,gr.XYZ)},r.prototype.readPolygon=function(t,e){var i=sr([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(i&&i[0]){var o=i[0],a=[o.length],s=void 0,c=void 0;for(s=1,c=i.length;s<c;++s)Object(br.c)(o,i[s]),a.push(o.length);return new li(o,gr.XYZ,a)}else return},r.prototype.readFlatCoordinatesFromNode=function(t,e){return sr(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.readGeometryFromNode=function(t,e){var i=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};e&&Object(Ir.a)(i,this.getReadOptions(t,e));var o=this.readFeaturesInternal(t,[i]);return o||[]},r.prototype.readProjectionFromNode=function(t){return an(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},r}(og);Io.prototype.namespace=cc,Io.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},Io.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},Io.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},Io.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:en(Io.prototype.pointMemberParser),pointMembers:en(Io.prototype.pointMemberParser)}},Io.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:en(Io.prototype.lineStringMemberParser),lineStringMembers:en(Io.prototype.lineStringMemberParser)}},Io.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:en(Io.prototype.polygonMemberParser),polygonMembers:en(Io.prototype.polygonMemberParser)}},Io.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:en(Io.prototype.readFlatCoordinatesFromNode)}},Io.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:en(Io.prototype.readLineString)}},Io.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:en(Io.prototype.readPolygon)}},Io.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:gn(Io.prototype.readFlatLinearRing)}};var ni=Io;function yf(n){var r=as(n,!1);return Mh(r)}function Mh(n){var r=/^\s*(true|1)|(false|0)\s*$/.exec(n);if(r)return r[1]!==void 0||!1}function D2(n){var r=as(n,!1),t=Date.parse(r);return isNaN(t)?void 0:t/1e3}function Ci(n){var r=as(n,!1);return fc(r)}function fc(n){var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(n);if(r)return parseFloat(r[1])}function Vo(n){var r=as(n,!1);return hc(r)}function hc(n){var r=/^\s*(\d+)\s*$/.exec(n);if(r)return parseInt(r[1],10)}function fr(n){return as(n,!1).trim()}function sp(n,r){On(n,r?"1":"0")}function Gj(n,r){n.appendChild(ap().createCDATASection(r))}function Uj(n,r){var t=new Date(r*1e3),e=t.getUTCFullYear()+"-"+x(t.getUTCMonth()+1,2)+"-"+x(t.getUTCDate(),2)+"T"+x(t.getUTCHours(),2)+":"+x(t.getUTCMinutes(),2)+":"+x(t.getUTCSeconds(),2)+"Z";n.appendChild(ap().createTextNode(e))}function bs(n,r){var t=r.toPrecision();n.appendChild(ap().createTextNode(t))}function C0(n,r){var t=r.toString();n.appendChild(ap().createTextNode(t))}function On(n,r){n.appendChild(ap().createTextNode(r))}var kj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zj=cc+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",Vj={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},mi=function(n){kj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.FEATURE_COLLECTION_PARSERS[cc].featureMember=en(e.readFeaturesInternal),e.schemaLocation=i.schemaLocation?i.schemaLocation:zj,e}return r.prototype.readFlatCoordinates=function(t,e){var i=as(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],a=o.srsName,s="enu";if(a){var c=an(a);c&&(s=c.getAxisOrientation())}for(var h=i.trim().split(/\s+/),p=[],m=0,w=h.length;m<w;m++){var R=h[m].split(/,+/),M=parseFloat(R[0]),U=parseFloat(R[1]),Z=R.length===3?parseFloat(R[2]):0;s.substr(0,2)==="en"?p.push(M,U,Z):p.push(U,M,Z)}return p},r.prototype.readBox=function(t,e){var i=sr([null],this.BOX_PARSERS_,t,e,this);return z(i[1][0],i[1][1],i[1][3],i[1][4])},r.prototype.innerBoundaryIsParser=function(t,e){var i=sr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o.push(i)}},r.prototype.outerBoundaryIsParser=function(t,e){var i=sr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o[0]=i}},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.multiSurface,s=o.surface,c=o.multiCurve,h;return Array.isArray(t)?h="Envelope":(h=t.getType(),h==="MultiPolygon"&&a===!0?h="MultiSurface":h==="Polygon"&&s===!0?h="Surface":h==="MultiLineString"&&c===!0&&(h="MultiCurve")),Rn("http://www.opengis.net/gml",h)},r.prototype.writeFeatureElement=function(t,e,i){var o=e.getId();o&&t.setAttribute("fid",o);var a=i[i.length-1],s=a.featureNS,c=e.getGeometryName();a.serializers||(a.serializers={},a.serializers[s]={});var h=[],p=[];if(e.hasProperties()){var m=e.getProperties();for(var w in m){var R=m[w];R!==null&&(h.push(w),p.push(R),w==c||typeof R.getSimplifiedGeometry=="function"?w in a.serializers[s]||(a.serializers[s][w]=ie(this.writeGeometryElement,this)):w in a.serializers[s]||(a.serializers[s][w]=ie(On)))}}var M=Object(Ir.a)({},a);M.node=t,An(M,a.serializers,xo(void 0,s),p,i,h)},r.prototype.writeCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.srsName;if(t.nodeName!=="LineStringSegment"&&a&&t.setAttribute("srsName",a),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,e,i)}else if(t.nodeName==="Curve"){var c=Rn(t.namespaceURI,"segments");t.appendChild(c),this.writeCurveSegments_(c,e,i)}},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,i))},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,c=o.curve;s&&t.setAttribute("srsName",s);var h=e.getLineStrings();An({node:t,hasZ:a,srsName:s,curve:c},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeGeometryElement=function(t,e,i){var o=i[i.length-1],a=Object(Ir.a)({},o);a.node=t;var s;Array.isArray(e)?s=P2(e,o):s=vo(e,!0,o),An(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],i,void 0,this)},r.prototype.createCoordinatesNode_=function(t){var e=Rn(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},r.prototype.writeCoordinates_=function(t,e,i){for(var o=i[i.length-1],a=o.hasZ,s=o.srsName,c=e.getCoordinates(),h=c.length,p=new Array(h),m=0;m<h;++m){var w=c[m];p[m]=this.getCoords_(w,s,a)}On(t,p.join(" "))},r.prototype.writeCurveSegments_=function(t,e,i){var o=Rn(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,i)},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var c=e.getLinearRings();An({node:t,hasZ:a,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,c,i,void 0,this)}else if(t.nodeName==="Surface"){var h=Rn(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,i)}},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.node,s=o.exteriorWritten;return s===void 0&&(o.exteriorWritten=!0),Rn(a.namespaceURI,s!==void 0?"innerBoundaryIs":"outerBoundaryIs")},r.prototype.writeSurfacePatches_=function(t,e,i){var o=Rn(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i)},r.prototype.writeRing=function(t,e,i){var o=Rn(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,i)},r.prototype.getCoords_=function(t,e,i){var o="enu";e&&(o=an(e).getAxisOrientation());var a=o.substr(0,2)==="en"?t[0]+","+t[1]:t[1]+","+t[0];if(i){var s=t[2]||0;a+=","+s}return a},r.prototype.writePoint=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;s&&t.setAttribute("srsName",s);var c=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(c);var h=e.getCoordinates(),p=this.getCoords_(h,s,a);On(c,p)},r.prototype.writeMultiPoint=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;s&&t.setAttribute("srsName",s);var c=e.getPoints();An({node:t,hasZ:a,srsName:s},this.POINTMEMBER_SERIALIZERS,xo("pointMember"),c,i,void 0,this)},r.prototype.writePointMember=function(t,e,i){var o=Rn(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,i)},r.prototype.writeLinearRing=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s),this.writeCoordinates_(s,e,i)},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,c=o.surface;s&&t.setAttribute("srsName",s);var h=e.getPolygons();An({node:t,hasZ:a,srsName:s,surface:c},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i))},r.prototype.writeEnvelope=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=["lowerCorner","upperCorner"],c=[e[0]+" "+e[1],e[2]+" "+e[3]];An({node:t},this.ENVELOPE_SERIALIZERS,va,c,i,s,this)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1].node;return Rn("http://www.opengis.net/gml",Vj[o.nodeName])},r}(ni);mi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:gn(mi.prototype.readFlatCoordinates)}},mi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:mi.prototype.innerBoundaryIsParser,outerBoundaryIs:mi.prototype.outerBoundaryIsParser}},mi.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:en(mi.prototype.readFlatCoordinates)}},mi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:gn(ni.prototype.readPoint),MultiPoint:gn(ni.prototype.readMultiPoint),LineString:gn(ni.prototype.readLineString),MultiLineString:gn(ni.prototype.readMultiLineString),LinearRing:gn(ni.prototype.readLinearRing),Polygon:gn(ni.prototype.readPolygon),MultiPolygon:gn(ni.prototype.readMultiPolygon),Box:gn(mi.prototype.readBox)}},mi.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:ie(mi.prototype.writeCurveOrLineString),MultiCurve:ie(mi.prototype.writeMultiCurveOrLineString),Point:ie(mi.prototype.writePoint),MultiPoint:ie(mi.prototype.writeMultiPoint),LineString:ie(mi.prototype.writeCurveOrLineString),MultiLineString:ie(mi.prototype.writeMultiCurveOrLineString),LinearRing:ie(mi.prototype.writeLinearRing),Polygon:ie(mi.prototype.writeSurfaceOrPolygon),MultiPolygon:ie(mi.prototype.writeMultiSurfaceOrPolygon),Surface:ie(mi.prototype.writeSurfaceOrPolygon),MultiSurface:ie(mi.prototype.writeMultiSurfaceOrPolygon),Envelope:ie(mi.prototype.writeEnvelope)}},mi.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:ie(mi.prototype.writeLineStringOrCurveMember),curveMember:ie(mi.prototype.writeLineStringOrCurveMember)}},mi.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:ie(mi.prototype.writeRing),innerBoundaryIs:ie(mi.prototype.writeRing)}},mi.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:ie(mi.prototype.writePointMember)}},mi.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:ie(mi.prototype.writeSurfaceOrPolygonMember),polygonMember:ie(mi.prototype.writeSurfaceOrPolygonMember)}},mi.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:ie(On),upperCorner:ie(On)}};var lp=mi,Wj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yj=cc+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",Hj={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},rn=function(n){Wj(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.surface_=i.surface!==void 0?i.surface:!1,e.curve_=i.curve!==void 0?i.curve:!1,e.multiCurve_=i.multiCurve!==void 0?i.multiCurve:!0,e.multiSurface_=i.multiSurface!==void 0?i.multiSurface:!0,e.schemaLocation=i.schemaLocation?i.schemaLocation:Yj,e.hasZ=i.hasZ!==void 0?i.hasZ:!1,e}return r.prototype.readMultiCurve=function(t,e){var i=sr([],this.MULTICURVE_PARSERS,t,e,this);if(i){var o=new xs(i);return o}else return},r.prototype.readMultiSurface=function(t,e){var i=sr([],this.MULTISURFACE_PARSERS,t,e,this);if(i)return new Ua(i)},r.prototype.curveMemberParser=function(t,e){Ts(this.CURVEMEMBER_PARSERS,t,e,this)},r.prototype.surfaceMemberParser=function(t,e){Ts(this.SURFACEMEMBER_PARSERS,t,e,this)},r.prototype.readPatch=function(t,e){return sr([null],this.PATCHES_PARSERS,t,e,this)},r.prototype.readSegment=function(t,e){return sr([null],this.SEGMENTS_PARSERS,t,e,this)},r.prototype.readPolygonPatch=function(t,e){return sr([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},r.prototype.readLineStringSegment=function(t,e){return sr([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},r.prototype.interiorParser=function(t,e){var i=sr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o.push(i)}},r.prototype.exteriorParser=function(t,e){var i=sr(void 0,this.RING_PARSERS,t,e,this);if(i){var o=e[e.length-1];o[0]=i}},r.prototype.readSurface=function(t,e){var i=sr([null],this.SURFACE_PARSERS,t,e,this);if(i&&i[0]){var o=i[0],a=[o.length],s=void 0,c=void 0;for(s=1,c=i.length;s<c;++s)Object(br.c)(o,i[s]),a.push(o.length);return new li(o,gr.XYZ,a)}else return},r.prototype.readCurve=function(t,e){var i=sr([null],this.CURVE_PARSERS,t,e,this);if(i){var o=new zi(i,gr.XYZ);return o}else return},r.prototype.readEnvelope=function(t,e){var i=sr([null],this.ENVELOPE_PARSERS,t,e,this);return z(i[1][0],i[1][1],i[2][0],i[2][1])},r.prototype.readFlatPos=function(t,e){for(var i=as(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,a=[],s;s=o.exec(i);)a.push(parseFloat(s[1])),i=i.substr(s[0].length);if(i===""){var c=e[0],h=c.srsName,p="enu";if(h){var m=an(h);p=m.getAxisOrientation()}if(p==="neu"){var w=void 0,R=void 0;for(w=0,R=a.length;w<R;w+=3){var M=a[w],U=a[w+1];a[w]=U,a[w+1]=M}}var Z=a.length;if(Z==2&&a.push(0),Z!==0)return a}},r.prototype.readFlatPosList=function(t,e){var i=as(t,!1).replace(/^\s*|\s*$/g,""),o=e[0],a=o.srsName,s=o.srsDimension,c="enu";if(a){var h=an(a);c=h.getAxisOrientation()}var p=i.split(/\s+/),m=2;t.getAttribute("srsDimension")?m=hc(t.getAttribute("srsDimension")):t.getAttribute("dimension")?m=hc(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?m=hc(t.parentNode.getAttribute("srsDimension")):s&&(m=hc(s));for(var w,R,M,U=[],Z=0,lt=p.length;Z<lt;Z+=m)w=parseFloat(p[Z]),R=parseFloat(p[Z+1]),M=m===3?parseFloat(p[Z+2]):0,c.substr(0,2)==="en"?U.push(w,R,M):U.push(R,w,M);return U},r.prototype.writePos_=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=a?"3":"2";t.setAttribute("srsDimension",s);var c=o.srsName,h="enu";c&&(h=an(c).getAxisOrientation());var p=e.getCoordinates(),m;if(h.substr(0,2)==="en"?m=p[0]+" "+p[1]:m=p[1]+" "+p[0],a){var w=p[2]||0;m+=" "+w}On(t,m)},r.prototype.getCoords_=function(t,e,i){var o="enu";e&&(o=an(e).getAxisOrientation());var a=o.substr(0,2)==="en"?t[0]+" "+t[1]:t[1]+" "+t[0];if(i){var s=t[2]||0;a+=" "+s}return a},r.prototype.writePosList_=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=a?"3":"2";t.setAttribute("srsDimension",s);for(var c=o.srsName,h=e.getCoordinates(),p=h.length,m=new Array(p),w,R=0;R<p;++R)w=h[R],m[R]=this.getCoords_(w,c,a);On(t,m.join(" "))},r.prototype.writePoint=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=Rn(t.namespaceURI,"pos");t.appendChild(s),this.writePos_(s,e,i)},r.prototype.writeEnvelope=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=["lowerCorner","upperCorner"],c=[e[0]+" "+e[1],e[2]+" "+e[3]];An({node:t},this.ENVELOPE_SERIALIZERS,va,c,i,s,this)},r.prototype.writeLinearRing=function(t,e,i){var o=i[i.length-1],a=o.srsName;a&&t.setAttribute("srsName",a);var s=Rn(t.namespaceURI,"posList");t.appendChild(s),this.writePosList_(s,e,i)},r.prototype.RING_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.node,s=o.exteriorWritten;return s===void 0&&(o.exteriorWritten=!0),Rn(a.namespaceURI,s!==void 0?"interior":"exterior")},r.prototype.writeSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName;if(t.nodeName!=="PolygonPatch"&&s&&t.setAttribute("srsName",s),t.nodeName==="Polygon"||t.nodeName==="PolygonPatch"){var c=e.getLinearRings();An({node:t,hasZ:a,srsName:s},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,c,i,void 0,this)}else if(t.nodeName==="Surface"){var h=Rn(t.namespaceURI,"patches");t.appendChild(h),this.writeSurfacePatches_(h,e,i)}},r.prototype.writeCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.srsName;if(t.nodeName!=="LineStringSegment"&&a&&t.setAttribute("srsName",a),t.nodeName==="LineString"||t.nodeName==="LineStringSegment"){var s=Rn(t.namespaceURI,"posList");t.appendChild(s),this.writePosList_(s,e,i)}else if(t.nodeName==="Curve"){var c=Rn(t.namespaceURI,"segments");t.appendChild(c),this.writeCurveSegments_(c,e,i)}},r.prototype.writeMultiSurfaceOrPolygon=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,c=o.surface;s&&t.setAttribute("srsName",s);var h=e.getPolygons();An({node:t,hasZ:a,srsName:s,surface:c},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeMultiPoint=function(t,e,i){var o=i[i.length-1],a=o.srsName,s=o.hasZ;a&&t.setAttribute("srsName",a);var c=e.getPoints();An({node:t,hasZ:s,srsName:a},this.POINTMEMBER_SERIALIZERS,xo("pointMember"),c,i,void 0,this)},r.prototype.writeMultiCurveOrLineString=function(t,e,i){var o=i[i.length-1],a=o.hasZ,s=o.srsName,c=o.curve;s&&t.setAttribute("srsName",s);var h=e.getLineStrings();An({node:t,hasZ:a,srsName:s,curve:c},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,h,i,void 0,this)},r.prototype.writeRing=function(t,e,i){var o=Rn(t.namespaceURI,"LinearRing");t.appendChild(o),this.writeLinearRing(o,e,i)},r.prototype.writeSurfaceOrPolygonMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i))},r.prototype.writePointMember=function(t,e,i){var o=Rn(t.namespaceURI,"Point");t.appendChild(o),this.writePoint(o,e,i)},r.prototype.writeLineStringOrCurveMember=function(t,e,i){var o=this.GEOMETRY_NODE_FACTORY_(e,i);o&&(t.appendChild(o),this.writeCurveOrLineString(o,e,i))},r.prototype.writeSurfacePatches_=function(t,e,i){var o=Rn(t.namespaceURI,"PolygonPatch");t.appendChild(o),this.writeSurfaceOrPolygon(o,e,i)},r.prototype.writeCurveSegments_=function(t,e,i){var o=Rn(t.namespaceURI,"LineStringSegment");t.appendChild(o),this.writeCurveOrLineString(o,e,i)},r.prototype.writeGeometryElement=function(t,e,i){var o=i[i.length-1],a=Object(Ir.a)({},o);a.node=t;var s;Array.isArray(e)?s=P2(e,o):s=vo(e,!0,o),An(a,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[s],i,void 0,this)},r.prototype.writeFeatureElement=function(t,e,i){var o=e.getId();o&&t.setAttribute("fid",o);var a=i[i.length-1],s=a.featureNS,c=e.getGeometryName();a.serializers||(a.serializers={},a.serializers[s]={});var h=[],p=[];if(e.hasProperties()){var m=e.getProperties();for(var w in m){var R=m[w];R!==null&&(h.push(w),p.push(R),w==c||typeof R.getSimplifiedGeometry=="function"?w in a.serializers[s]||(a.serializers[s][w]=ie(this.writeGeometryElement,this)):w in a.serializers[s]||(a.serializers[s][w]=ie(On)))}}var M=Object(Ir.a)({},a);M.node=t,An(M,a.serializers,xo(void 0,s),p,i,h)},r.prototype.writeFeatureMembers_=function(t,e,i){var o=i[i.length-1],a=o.featureType,s=o.featureNS,c={};c[s]={},c[s][a]=ie(this.writeFeatureElement,this);var h=Object(Ir.a)({},o);h.node=t,An(h,c,xo(a,s),e,i)},r.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1].node;return Rn(this.namespace,Hj[o.nodeName])},r.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,i){var o=e[e.length-1],a=o.multiSurface,s=o.surface,c=o.curve,h=o.multiCurve,p;return Array.isArray(t)?p="Envelope":(p=t.getType(),p==="MultiPolygon"&&a===!0?p="MultiSurface":p==="Polygon"&&s===!0?p="Surface":p==="LineString"&&c===!0?p="Curve":p==="MultiLineString"&&h===!0&&(p="MultiCurve")),Rn(this.namespace,p)},r.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var i=Rn(this.namespace,"geom"),o={node:i,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(Ir.a)(o,e),this.writeGeometryElement(i,t,[o]),i},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Rn(this.namespace,"featureMembers");i.setAttributeNS(Ih,"xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(Ir.a)(o,e),this.writeFeatureMembers_(i,t,[o]),i},r}(ni);rn.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:gn(rn.prototype.readFlatPos),posList:gn(rn.prototype.readFlatPosList),coordinates:gn(lp.prototype.readFlatCoordinates)}},rn.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:rn.prototype.interiorParser,exterior:rn.prototype.exteriorParser}},rn.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:gn(ni.prototype.readPoint),MultiPoint:gn(ni.prototype.readMultiPoint),LineString:gn(ni.prototype.readLineString),MultiLineString:gn(ni.prototype.readMultiLineString),LinearRing:gn(ni.prototype.readLinearRing),Polygon:gn(ni.prototype.readPolygon),MultiPolygon:gn(ni.prototype.readMultiPolygon),Surface:gn(rn.prototype.readSurface),MultiSurface:gn(rn.prototype.readMultiSurface),Curve:gn(rn.prototype.readCurve),MultiCurve:gn(rn.prototype.readMultiCurve),Envelope:gn(rn.prototype.readEnvelope)}},rn.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:en(rn.prototype.curveMemberParser),curveMembers:en(rn.prototype.curveMemberParser)}},rn.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:en(rn.prototype.surfaceMemberParser),surfaceMembers:en(rn.prototype.surfaceMemberParser)}},rn.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:en(ni.prototype.readLineString),Curve:en(rn.prototype.readCurve)}},rn.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:en(ni.prototype.readPolygon),Surface:en(rn.prototype.readSurface)}},rn.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:gn(rn.prototype.readPatch)}},rn.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:gn(rn.prototype.readSegment)}},rn.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:en(rn.prototype.readFlatPosList),upperCorner:en(rn.prototype.readFlatPosList)}},rn.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:gn(rn.prototype.readPolygonPatch)}},rn.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:gn(rn.prototype.readLineStringSegment)}},rn.prototype.writeFeatures,rn.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:ie(rn.prototype.writeRing),interior:ie(rn.prototype.writeRing)}},rn.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:ie(On),upperCorner:ie(On)}},rn.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:ie(rn.prototype.writeSurfaceOrPolygonMember),polygonMember:ie(rn.prototype.writeSurfaceOrPolygonMember)}},rn.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:ie(rn.prototype.writePointMember)}},rn.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:ie(rn.prototype.writeLineStringOrCurveMember),curveMember:ie(rn.prototype.writeLineStringOrCurveMember)}},rn.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:ie(rn.prototype.writeCurveOrLineString),MultiCurve:ie(rn.prototype.writeMultiCurveOrLineString),Point:ie(rn.prototype.writePoint),MultiPoint:ie(rn.prototype.writeMultiPoint),LineString:ie(rn.prototype.writeCurveOrLineString),MultiLineString:ie(rn.prototype.writeMultiCurveOrLineString),LinearRing:ie(rn.prototype.writeLinearRing),Polygon:ie(rn.prototype.writeSurfaceOrPolygon),MultiPolygon:ie(rn.prototype.writeMultiSurfaceOrPolygon),Surface:ie(rn.prototype.writeSurfaceOrPolygon),MultiSurface:ie(rn.prototype.writeMultiSurfaceOrPolygon),Envelope:ie(rn.prototype.writeEnvelope)}};var Zn=rn,B2=Zn;B2.prototype.writeFeatures,B2.prototype.writeFeaturesNode;var Xj=B2,Kj=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zo=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],$j="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",Zj={rte:Iw,trk:Mw,wpt:Nw},qj=Ke(Zo,{rte:en(Iw),trk:en(Mw),wpt:en(Nw)}),Jj=Ke(Zo,{text:ee(fr,"linkText"),type:ee(fr,"linkType")}),Qj=Ke(Zo,{rte:ie(wD),trk:ie(OD),wpt:ie(bD)}),tD=function(n){Kj(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=an("EPSG:4326"),e.readExtensions_=i.readExtensions,e}return r.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,i=t.length;e<i;++e){var o=t[e];if(this.readExtensions_){var a=o.get("extensionsNode_")||null;this.readExtensions_(o,a)}o.set("extensionsNode_",void 0)}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(br.f)(Zo,t.namespaceURI))return null;var i=Zj[t.localName];if(!i)return null;var o=i(t,[this.getReadOptions(t,e)]);return o?(this.handleReadExtensions_([o]),o):null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(br.f)(Zo,t.namespaceURI))return[];if(t.localName=="gpx"){var i=sr([],qj,t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_(i),i):[]}return[]},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Rn("http://www.topografix.com/GPX/1/1","gpx"),o="http://www.w3.org/2000/xmlns/";return i.setAttributeNS(o,"xmlns:xsi",Ih),i.setAttributeNS(Ih,"xsi:schemaLocation",$j),i.setAttribute("version","1.1"),i.setAttribute("creator","OpenLayers"),An({node:i},Qj,_D,t,[e]),i},r}(og),eD=Ke(Zo,{name:ee(fr),cmt:ee(fr),desc:ee(fr),src:ee(fr),link:k2,number:ee(Vo),extensions:z2,type:ee(fr),rtept:ED}),rD=Ke(Zo,{ele:ee(Ci),time:ee(D2)}),nD=Ke(Zo,{name:ee(fr),cmt:ee(fr),desc:ee(fr),src:ee(fr),link:k2,number:ee(Vo),type:ee(fr),extensions:z2,trkseg:SD}),iD=Ke(Zo,{trkpt:xD}),oD=Ke(Zo,{ele:ee(Ci),time:ee(D2)}),aD=Ke(Zo,{ele:ee(Ci),time:ee(D2),magvar:ee(Ci),geoidheight:ee(Ci),name:ee(fr),cmt:ee(fr),desc:ee(fr),src:ee(fr),link:k2,sym:ee(fr),type:ee(fr),fix:ee(fr),sat:ee(Vo),hdop:ee(Ci),vdop:ee(Ci),pdop:ee(Ci),ageofdgpsdata:ee(Ci),dgpsid:ee(Vo),extensions:z2}),sD=["text","type"],lD=Ke(Zo,{text:ie(On),type:ie(On)}),uD=Ke(Zo,["name","cmt","desc","src","link","number","type","rtept"]),cD=Ke(Zo,{name:ie(On),cmt:ie(On),desc:ie(On),src:ie(On),link:ie(V2),number:ie(C0),type:ie(On),rtept:Rw(ie(W2))}),fD=Ke(Zo,["ele","time"]),hD=Ke(Zo,["name","cmt","desc","src","link","number","type","trkseg"]),dD=Ke(Zo,{name:ie(On),cmt:ie(On),desc:ie(On),src:ie(On),link:ie(V2),number:ie(C0),type:ie(On),trkseg:Rw(ie(TD))}),pD=xo("trkpt"),vD=Ke(Zo,{trkpt:ie(W2)}),gD=Ke(Zo,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),yD=Ke(Zo,{ele:ie(bs),time:ie(Uj),magvar:ie(bs),geoidheight:ie(bs),name:ie(On),cmt:ie(On),desc:ie(On),src:ie(On),link:ie(V2),sym:ie(On),type:ie(On),fix:ie(On),sat:ie(C0),hdop:ie(bs),vdop:ie(bs),pdop:ie(bs),ageofdgpsdata:ie(bs),dgpsid:ie(C0)}),mD={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function _D(n,r,t){var e=n.getGeometry();if(e){var i=mD[e.getType()];if(i){var o=r[r.length-1].node;return Rn(o.namespaceURI,i)}}}function G2(n,r,t,e){return n.push(parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))),"ele"in e?(n.push(e.ele),delete e.ele,r.hasZ=!0):n.push(0),"time"in e?(n.push(e.time),delete e.time,r.hasM=!0):n.push(0),n}function U2(n,r,t){var e=gr.XY,i=2;if(n.hasZ&&n.hasM?(e=gr.XYZM,i=4):n.hasZ?(e=gr.XYZ,i=3):n.hasM&&(e=gr.XYM,i=3),i!==4){for(var o=0,a=r.length/4;o<a;o++)r[o*i]=r[o*4],r[o*i+1]=r[o*4+1],n.hasZ&&(r[o*i+2]=r[o*4+2]),n.hasM&&(r[o*i+2]=r[o*4+3]);if(r.length=r.length/4*i,t)for(var o=0,a=t.length;o<a;o++)t[o]=t[o]/4*i}return e}function k2(n,r){var t=r[r.length-1],e=n.getAttribute("href");e!==null&&(t.link=e),Ts(Jj,n,r)}function z2(n,r){var t=r[r.length-1];t.extensionsNode_=n}function ED(n,r){var t=sr({},rD,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,o=e.layoutOptions;G2(i,o,n,t)}}function xD(n,r){var t=sr({},oD,n,r);if(t){var e=r[r.length-1],i=e.flatCoordinates,o=e.layoutOptions;G2(i,o,n,t)}}function SD(n,r){var t=r[r.length-1];Ts(iD,n,r);var e=t.flatCoordinates,i=t.ends;i.push(e.length)}function Iw(n,r){var t=r[0],e=sr({flatCoordinates:[],layoutOptions:{}},eD,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var o=e.layoutOptions;delete e.layoutOptions;var a=U2(o,i),s=new zi(i,a);vo(s,!1,t);var c=new Xr(s);return c.setProperties(e,!0),c}}function Mw(n,r){var t=r[0],e=sr({flatCoordinates:[],ends:[],layoutOptions:{}},nD,n,r);if(!!e){var i=e.flatCoordinates;delete e.flatCoordinates;var o=e.ends;delete e.ends;var a=e.layoutOptions;delete e.layoutOptions;var s=U2(a,i,o),c=new xs(i,s,o);vo(c,!1,t);var h=new Xr(c);return h.setProperties(e,!0),h}}function Nw(n,r){var t=r[0],e=sr({},aD,n,r);if(!!e){var i={},o=G2([],i,n,e),a=U2(i,o),s=new kn(o,a);vo(s,!1,t);var c=new Xr(s);return c.setProperties(e,!0),c}}function V2(n,r,t){n.setAttribute("href",r);var e=t[t.length-1],i=e.properties,o=[i.linkText,i.linkType];An({node:n},lD,va,o,t,sD)}function W2(n,r,t){var e=t[t.length-1],i=e.node,o=i.namespaceURI,a=e.properties;n.setAttributeNS(null,"lat",String(r[1])),n.setAttributeNS(null,"lon",String(r[0]));var s=e.geometryLayout;switch(s){case gr.XYZM:r[3]!==0&&(a.time=r[3]);case gr.XYZ:r[2]!==0&&(a.ele=r[2]);break;case gr.XYM:r[2]!==0&&(a.time=r[2]);break}var c=n.nodeName=="rtept"?fD[o]:gD[o],h=Os(a,c);An({node:n,properties:a},yD,va,h,t,c)}function wD(n,r,t){var e=t[0],i=r.getProperties(),o={node:n};o.properties=i;var a=r.getGeometry();if(a.getType()==$t.LINE_STRING){var s=vo(a,!0,e);o.geometryLayout=s.getLayout(),i.rtept=s.getCoordinates()}var c=t[t.length-1].node,h=uD[c.namespaceURI],p=Os(i,h);An(o,cD,va,p,t,h)}function OD(n,r,t){var e=t[0],i=r.getProperties(),o={node:n};o.properties=i;var a=r.getGeometry();if(a.getType()==$t.MULTI_LINE_STRING){var s=vo(a,!0,e);i.trkseg=s.getLineStrings()}var c=t[t.length-1].node,h=hD[c.namespaceURI],p=Os(i,h);An(o,dD,va,p,t,h)}function TD(n,r,t){var e={node:n};e.geometryLayout=r.getLayout(),e.properties={},An(e,vD,pD,r.getCoordinates(),t)}function bD(n,r,t){var e=t[0],i=t[t.length-1];i.properties=r.getProperties();var o=r.getGeometry();if(o.getType()==$t.POINT){var a=vo(o,!0,e);i.geometryLayout=a.getLayout(),W2(n,a.getCoordinates(),t)}}var CD=tD,AD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LD=function(n){AD(r,n);function r(){return n.call(this)||this}return r.prototype.getType=function(){return ru.TEXT},r.prototype.readFeature=function(t,e){return this.readFeatureFromText(A0(t),this.adaptOptions(e))},r.prototype.readFeatureFromText=function(t,e){return Object(ct.b)()},r.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(A0(t),this.adaptOptions(e))},r.prototype.readFeaturesFromText=function(t,e){return Object(ct.b)()},r.prototype.readGeometry=function(t,e){return this.readGeometryFromText(A0(t),this.adaptOptions(e))},r.prototype.readGeometryFromText=function(t,e){return Object(ct.b)()},r.prototype.readProjection=function(t){return this.readProjectionFromText(A0(t))},r.prototype.readProjectionFromText=function(t){return this.dataProjection},r.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){return Object(ct.b)()},r.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},r.prototype.writeFeaturesText=function(t,e){return Object(ct.b)()},r.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},r.prototype.writeGeometryText=function(t,e){return Object(ct.b)()},r}(ng);function A0(n){return typeof n=="string"?n:""}var Y2=LD,RD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ag={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},PD=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,ID=/^H.([A-Z]{3}).*?:(.*)/,MD=/^HFDTE(\d{2})(\d{2})(\d{2})/,ND=/\r\n|\r|\n/,FD=function(n){RD(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=an("EPSG:4326"),e.altitudeMode_=i.altitudeMode?i.altitudeMode:ag.NONE,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.altitudeMode_,o=t.split(ND),a={},s=[],c=2e3,h=0,p=1,m=-1,w,R;for(w=0,R=o.length;w<R;++w){var M=o[w],U=void 0;if(M.charAt(0)=="B"){if(U=PD.exec(M),U){var Z=parseInt(U[1],10),lt=parseInt(U[2],10),pt=parseInt(U[3],10),xt=parseInt(U[4],10)+parseInt(U[5],10)/6e4;U[6]=="S"&&(xt=-xt);var ht=parseInt(U[7],10)+parseInt(U[8],10)/6e4;if(U[9]=="W"&&(ht=-ht),s.push(ht,xt),i!=ag.NONE){var Vt=void 0;i==ag.GPS?Vt=parseInt(U[11],10):i==ag.BAROMETRIC?Vt=parseInt(U[12],10):Vt=0,s.push(Vt)}var kt=Date.UTC(c,h,p,Z,lt,pt);kt<m&&(kt=Date.UTC(c,h,p+1,Z,lt,pt)),s.push(kt/1e3),m=kt}}else M.charAt(0)=="H"&&(U=MD.exec(M),U?(p=parseInt(U[1],10),h=parseInt(U[2],10)-1,c=2e3+parseInt(U[3],10)):(U=ID.exec(M),U&&(a[U[1]]=U[2].trim())))}if(s.length===0)return null;var Zt=i==ag.NONE?gr.XYM:gr.XYZM,Xt=new zi(s,Zt),ce=new Xr(vo(Xt,!1,e));return ce.setProperties(a,!0),ce},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return i?[i]:[]},r}(Y2),jD=FD,za=function(n,r){for(var t=0,e=r.length,i=n.length;t<e;t++,i++)n[i]=r[t];return n},ss={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},Nh={};Nh[ss.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},Nh[ss.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},Nh[ss.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},Nh.none={none:{supports:[],formats:[],qualities:[]}};var DD=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,Fw=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,BD=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function GD(n){var r=n.getComplianceLevelSupportedFeatures();return r===void 0&&(r=Nh[ss.VERSION1].level0),{url:n.imageInfo["@id"]===void 0?void 0:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:r.supports,formats:za(za([],r.formats),[n.imageInfo.formats===void 0?[]:n.imageInfo.formats]),qualities:za(za([],r.qualities),[n.imageInfo.qualities===void 0?[]:n.imageInfo.qualities]),resolutions:n.imageInfo.scale_factors,tileSize:n.imageInfo.tile_width!==void 0?n.imageInfo.tile_height!==void 0?[n.imageInfo.tile_width,n.imageInfo.tile_height]:[n.imageInfo.tile_width,n.imageInfo.tile_width]:n.imageInfo.tile_height!=null?[n.imageInfo.tile_height,n.imageInfo.tile_height]:void 0}}function UD(n){var r=n.getComplianceLevelSupportedFeatures(),t=Array.isArray(n.imageInfo.profile)&&n.imageInfo.profile.length>1,e=t&&n.imageInfo.profile[1].supports?n.imageInfo.profile[1].supports:[],i=t&&n.imageInfo.profile[1].formats?n.imageInfo.profile[1].formats:[],o=t&&n.imageInfo.profile[1].qualities?n.imageInfo.profile[1].qualities:[];return{url:n.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(a){return a.width})[0],n.imageInfo.tiles.map(function(a){return a.height===void 0?a.width:a.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:za(za([],r.supports),e),formats:za(za([],r.formats),i),qualities:za(za([],r.qualities),o)}}function kD(n){var r=n.getComplianceLevelSupportedFeatures(),t=n.imageInfo.extraFormats===void 0?r.formats:za(za([],r.formats),n.imageInfo.extraFormats),e=n.imageInfo.preferredFormats!==void 0&&Array.isArray(n.imageInfo.preferredFormats)&&n.imageInfo.preferredFormats.length>0?n.imageInfo.preferredFormats.filter(function(i){return Object(br.f)(["jpg","png","gif"],i)}).reduce(function(i,o){return i===void 0&&Object(br.f)(t,o)?o:i},void 0):void 0;return{url:n.imageInfo.id,sizes:n.imageInfo.sizes===void 0?void 0:n.imageInfo.sizes.map(function(i){return[i.width,i.height]}),tileSize:n.imageInfo.tiles===void 0?void 0:[n.imageInfo.tiles.map(function(i){return i.width})[0],n.imageInfo.tiles.map(function(i){return i.height})[0]],resolutions:n.imageInfo.tiles===void 0?void 0:n.imageInfo.tiles.map(function(i){return i.scaleFactors})[0],supports:n.imageInfo.extraFeatures===void 0?r.supports:za(za([],r.supports),n.imageInfo.extraFeatures),formats:t,qualities:n.imageInfo.extraQualities===void 0?r.qualities:za(za([],r.qualities),n.imageInfo.extraQualities),preferredFormat:e}}var L0={};L0[ss.VERSION1]=GD,L0[ss.VERSION2]=UD,L0[ss.VERSION3]=kD;var zD=function(){function n(r){this.setImageInfo(r)}return n.prototype.setImageInfo=function(r){typeof r=="string"?this.imageInfo=JSON.parse(r):this.imageInfo=r},n.prototype.getImageApiVersion=function(){if(this.imageInfo!==void 0){var r=this.imageInfo["@context"]||"ol-no-context";typeof r=="string"&&(r=[r]);for(var t=0;t<r.length;t++)switch(r[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return ss.VERSION1;case"http://iiif.io/api/image/2/context.json":return ss.VERSION2;case"http://iiif.io/api/image/3/context.json":return ss.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(ss.VERSION1)&&this.imageInfo.identifier)return ss.VERSION1;break}qt(!1,61)}},n.prototype.getComplianceLevelEntryFromProfile=function(r){if(!(this.imageInfo===void 0||this.imageInfo.profile===void 0))switch(r===void 0&&(r=this.getImageApiVersion()),r){case ss.VERSION1:if(DD.test(this.imageInfo.profile))return this.imageInfo.profile;break;case ss.VERSION3:if(BD.test(this.imageInfo.profile))return this.imageInfo.profile;break;case ss.VERSION2:if(typeof this.imageInfo.profile=="string"&&Fw.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&typeof this.imageInfo.profile[0]=="string"&&Fw.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break}},n.prototype.getComplianceLevelFromProfile=function(r){var t=this.getComplianceLevelEntryFromProfile(r);if(t!==void 0){var e=t.match(/level[0-2](?:\.json)?$/g);return Array.isArray(e)?e[0].replace(".json",""):void 0}},n.prototype.getComplianceLevelSupportedFeatures=function(){if(this.imageInfo!==void 0){var r=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(r);return t===void 0?Nh.none.none:Nh[r][t]}},n.prototype.getTileSourceOptions=function(r){var t=r||{},e=this.getImageApiVersion();if(e!==void 0){var i=e===void 0?void 0:L0[e](this);if(i!==void 0)return{url:i.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:i.sizes,format:t.format!==void 0&&Object(br.f)(i.formats,t.format)?t.format:i.preferredFormat!==void 0?i.preferredFormat:"jpg",supports:i.supports,quality:t.quality&&Object(br.f)(i.qualities,t.quality)?t.quality:Object(br.f)(i.qualities,"native")?"native":"default",resolutions:Array.isArray(i.resolutions)?i.resolutions.sort(function(o,a){return a-o}):void 0,tileSize:i.tileSize}}},n}(),VD=zD,WD=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dc=["http://www.google.com/kml/ext/2.2"],sn=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],YD="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",jw={fraction:is.FRACTION,pixels:is.PIXELS,insetPixels:is.PIXELS},HD=Ke(sn,{ExtendedData:Jw,Region:Qw,MultiGeometry:ee($w,"geometry"),LineString:ee(Xw,"geometry"),LinearRing:ee(Kw,"geometry"),Point:ee(Zw,"geometry"),Polygon:ee(qw,"geometry"),Style:ee(Q2),StyleMap:AB,address:ee(fr),description:ee(fr),name:ee(fr),open:ee(yf),phoneNumber:ee(fr),styleUrl:ee(zw),visibility:ee(yf)},Ke(dc,{MultiTrack:ee(vB,"geometry"),Track:ee(Hw,"geometry")})),XD=Ke(sn,{ExtendedData:Jw,Region:Qw,Link:UB,address:ee(fr),description:ee(fr),name:ee(fr),open:ee(yf),phoneNumber:ee(fr),visibility:ee(yf)}),KD=Ke(sn,{href:ee(kw)}),Dw=Ke(sn,{LatLonAltBox:MB,Lod:FB}),$D=Ke(sn,["Document","Placemark"]),ZD=Ke(sn,{Document:ie(KB),Placemark:ie(oO)}),up,R0=null,H2,sg,lg,ug,P0,X2=null,K2,$2=null,Z2,Fh=null,Bw=null,q2=null;function I0(n){return 32/Math.min(n[0],n[1])}function qD(){up=[255,255,255,1],R0=new xa({color:up}),H2=[20,2],sg=is.PIXELS,lg=is.PIXELS,ug=[64,64],P0="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",X2=new qy({anchor:H2,anchorOrigin:na.BOTTOM_LEFT,anchorXUnits:sg,anchorYUnits:lg,crossOrigin:"anonymous",rotation:0,scale:I0(ug),size:ug,src:P0}),K2="NO_IMAGE",$2=new ra({color:up,width:1}),Z2=new ra({color:[51,51,51,1],width:2}),Fh=new Th({font:"bold 16px Helvetica",fill:R0,stroke:Z2,scale:.8}),Bw=new Sa({fill:R0,image:X2,text:Fh,stroke:$2,zIndex:0}),q2=[Bw]}var M0;function JD(n){return n}var QD=function(n){WD(r,n);function r(t){var e=n.call(this)||this,i=t||{};return q2||qD(),e.dataProjection=an("EPSG:4326"),e.defaultStyle_=i.defaultStyle?i.defaultStyle:q2,e.extractStyles_=i.extractStyles!==void 0?i.extractStyles:!0,e.writeStyles_=i.writeStyles!==void 0?i.writeStyles:!0,e.sharedStyles_={},e.showPointNames_=i.showPointNames!==void 0?i.showPointNames:!0,e.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",e.iconUrlFunction_=i.iconUrlFunction?i.iconUrlFunction:JD,e.supportedMediaTypes=["application/vnd.google-earth.kml+xml"],e}return r.prototype.readDocumentOrFolder_=function(t,e){var i=Ke(sn,{Document:Lw(this.readDocumentOrFolder_,this),Folder:Lw(this.readDocumentOrFolder_,this),Placemark:en(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),o=sr([],i,t,e,this);if(o)return o},r.prototype.readPlacemark_=function(t,e){var i=sr({geometry:null},HD,t,e,this);if(!!i){var o=new Xr,a=t.getAttribute("id");a!==null&&o.setId(a);var s=e[0],c=i.geometry;if(c&&vo(c,!1,s),o.setGeometry(c),delete i.geometry,this.extractStyles_){var h=i.Style,p=i.styleUrl,m=eB(h,p,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);o.setStyle(m)}return delete i.Style,o.setProperties(i,!0),o}},r.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(i!==null){var o=Q2.call(this,t,e);if(o){var a=void 0,s=t.baseURI;if((!s||s=="about:blank")&&(s=window.location.href),s){var c=new URL("#"+i,s);a=c.href}else a="#"+i;this.sharedStyles_[a]=o}}},r.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(i!==null){var o=Ww.call(this,t,e);if(!!o){var a,s=t.baseURI;if((!s||s=="about:blank")&&(s=window.location.href),s){var c=new URL("#"+i,s);a=c.href}else a="#"+i;this.sharedStyles_[a]=o}}},r.prototype.readFeatureFromNode=function(t,e){if(!Object(br.f)(sn,t.namespaceURI))return null;var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null},r.prototype.readFeaturesFromNode=function(t,e){if(!Object(br.f)(sn,t.namespaceURI))return[];var i,o=t.localName;if(o=="Document"||o=="Folder")return i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),i||[];if(o=="Placemark"){var a=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return a?[a]:[]}else if(o=="kml"){i=[];for(var s=t.firstElementChild;s;s=s.nextElementSibling){var c=this.readFeaturesFromNode(s,e);c&&Object(br.c)(i,c)}return i}else return[]},r.prototype.readName=function(t){if(t)if(typeof t=="string"){var e=Bu(t);return this.readNameFromDocument(e)}else return Du(t)?this.readNameFromDocument(t):this.readNameFromNode(t);else return},r.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i)return i}},r.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(br.f)(sn,e.namespaceURI)&&e.localName=="name")return fr(e);for(var e=t.firstElementChild;e;e=e.nextElementSibling){var i=e.localName;if(Object(br.f)(sn,e.namespaceURI)&&(i=="Document"||i=="Folder"||i=="Placemark"||i=="kml")){var o=this.readNameFromNode(e);if(o)return o}}},r.prototype.readNetworkLinks=function(t){var e=[];if(typeof t=="string"){var i=Bu(t);Object(br.c)(e,this.readNetworkLinksFromDocument(i))}else Du(t)?Object(br.c)(e,this.readNetworkLinksFromDocument(t)):Object(br.c)(e,this.readNetworkLinksFromNode(t));return e},r.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(br.c)(e,this.readNetworkLinksFromNode(i));return e},r.prototype.readNetworkLinksFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(br.f)(sn,i.namespaceURI)&&i.localName=="NetworkLink"){var o=sr({},XD,i,[]);e.push(o)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var a=i.localName;Object(br.f)(sn,i.namespaceURI)&&(a=="Document"||a=="Folder"||a=="kml")&&Object(br.c)(e,this.readNetworkLinksFromNode(i))}return e},r.prototype.readRegion=function(t){var e=[];if(typeof t=="string"){var i=Bu(t);Object(br.c)(e,this.readRegionFromDocument(i))}else Du(t)?Object(br.c)(e,this.readRegionFromDocument(t)):Object(br.c)(e,this.readRegionFromNode(t));return e},r.prototype.readRegionFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&Object(br.c)(e,this.readRegionFromNode(i));return e},r.prototype.readRegionFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if(Object(br.f)(sn,i.namespaceURI)&&i.localName=="Region"){var o=sr({},Dw,i,[]);e.push(o)}for(var i=t.firstElementChild;i;i=i.nextElementSibling){var a=i.localName;Object(br.f)(sn,i.namespaceURI)&&(a=="Document"||a=="Folder"||a=="kml")&&Object(br.c)(e,this.readRegionFromNode(i))}return e},r.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=Rn(sn[4],"kml"),o="http://www.w3.org/2000/xmlns/";i.setAttributeNS(o,"xmlns:gx",dc[0]),i.setAttributeNS(o,"xmlns:xsi",Ih),i.setAttributeNS(Ih,"xsi:schemaLocation",YD);var a={node:i},s={};t.length>1?s.Document=t:t.length==1&&(s.Placemark=t[0]);var c=$D[i.namespaceURI],h=Os(s,c);return An(a,ZD,va,h,[e],c,this),i},r}(og);function tB(n,r){var t=[0,0],e="start",i=n.getImage();if(i){var o=i.getSize();if(o&&o.length==2){var a=i.getScaleArray(),s=i.getAnchor();t[0]=a[0]*(o[0]-s[0]),t[1]=a[1]*(o[1]/2-s[1]),e="left"}}var c=n.getText();c?(c=c.clone(),c.setFont(c.getFont()||Fh.getFont()),c.setScale(c.getScale()||Fh.getScale()),c.setFill(c.getFill()||Fh.getFill()),c.setStroke(c.getStroke()||Z2)):c=Fh.clone(),c.setText(r),c.setOffsetX(t[0]),c.setOffsetY(t[1]),c.setTextAlign(e);var h=new Sa({image:i,text:c});return h}function eB(n,r,t,e,i){return function(o,a){var s=i,c="",h=[];if(s){var p=o.getGeometry();if(p){var m=p.getType();m===$t.GEOMETRY_COLLECTION?(h=p.getGeometriesArrayRecursive().filter(function(U){var Z=U.getType();return Z===$t.POINT||Z===$t.MULTI_POINT}),s=h.length>0):s=m===$t.POINT||m===$t.MULTI_POINT}}s&&(c=o.get("name"),s=s&&!!c,s&&c.search(/&[^&]+;/)>-1&&(M0||(M0=document.createElement("textarea")),M0.innerHTML=c,c=M0.value));var w=t;if(n?w=n:r&&(w=Gw(r,t,e)),s){var R=tB(w[0],c);if(h.length>0){R.setGeometry(new ka(h));var M=new Sa({geometry:w[0].getGeometry(),image:null,fill:w[0].getFill(),stroke:w[0].getStroke(),text:null});return[R,M].concat(w.slice(1))}return R}return w}}function Gw(n,r,t){return Array.isArray(n)?n:typeof n=="string"?Gw(t[n],r,t):r}function N0(n){var r=as(n,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(r);if(t){var e=t[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}else return}function Uw(n){var r=as(n,!1),t=[];r=r.replace(/\s*,\s*/g,",");for(var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i,i;i=e.exec(r);){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=i[3]?parseFloat(i[3]):0;t.push(o,a,s),r=r.substr(i[0].length)}if(r==="")return t}function kw(n){var r=as(n,!1).trim(),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function zw(n){var r=as(n,!1).trim().replace(/^(?!.*#)/,"#"),t=n.baseURI;if((!t||t=="about:blank")&&(t=window.location.href),t){var e=new URL(r,t);return e.href}else return r}function rB(n){var r=n.getAttribute("xunits"),t=n.getAttribute("yunits"),e;return r!=="insetPixels"?t!=="insetPixels"?e=na.BOTTOM_LEFT:e=na.TOP_LEFT:t!=="insetPixels"?e=na.BOTTOM_RIGHT:e=na.TOP_RIGHT,{x:parseFloat(n.getAttribute("x")),xunits:jw[r],y:parseFloat(n.getAttribute("y")),yunits:jw[t],origin:e}}function Vw(n){return Ci(n)}var nB=Ke(sn,{Pair:CB});function Ww(n,r){return sr(void 0,nB,n,r,this)}var iB=Ke(sn,{Icon:ee(mB),color:ee(N0),heading:ee(Ci),hotSpot:ee(rB),scale:ee(Vw)});function oB(n,r){var t=sr({},iB,n,r);if(!!t){var e=r[r.length-1],i="Icon"in t?t.Icon:{},o=!("Icon"in t)||Object.keys(i).length>0,a,s=i.href;s?a=s:o&&(a=P0);var c,h,p,m=na.BOTTOM_LEFT,w=t.hotSpot;w?(c=[w.x,w.y],h=w.xunits,p=w.yunits,m=w.origin):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)&&(/pushpin/.test(a)?(c=H2,h=sg,p=lg):/arrow-reverse/.test(a)?(c=[54,42],h=sg,p=lg):/paddle/.test(a)&&(c=[32,1],h=sg,p=lg));var R,M=i.x,U=i.y;M!==void 0&&U!==void 0&&(R=[M,U]);var Z,lt=i.w,pt=i.h;lt!==void 0&&pt!==void 0&&(Z=[lt,pt]);var xt,ht=t.heading;ht!==void 0&&(xt=Ya(ht));var Vt=t.scale,kt=t.color;if(o){a==P0&&(Z=ug);var Zt=new qy({anchor:c,anchorOrigin:m,anchorXUnits:h,anchorYUnits:p,crossOrigin:this.crossOrigin_,offset:R,offsetOrigin:na.BOTTOM_LEFT,rotation:xt,scale:Vt,size:Z,src:this.iconUrlFunction_(a),color:kt}),Xt=Zt.getScaleArray()[0],ce=Zt.getSize();if(ce===null){var Ve=Zt.getImageState();if(Ve===zn.IDLE||Ve===zn.LOADING){var Ne=function(){var rr=Zt.getImageState();if(!(rr===zn.IDLE||rr===zn.LOADING)){var Rr=Zt.getSize();if(Rr&&Rr.length==2){var Gr=I0(Rr);Zt.setScale(Xt*Gr)}Zt.unlistenImageChange(Ne)}};Zt.listenImageChange(Ne),Ve===zn.IDLE&&Zt.load()}}else if(ce.length==2){var Ee=I0(ce);Zt.setScale(Xt*Ee)}e.imageStyle=Zt}else e.imageStyle=K2}}var aB=Ke(sn,{color:ee(N0),scale:ee(Vw)});function sB(n,r){var t=sr({},aB,n,r);if(!!t){var e=r[r.length-1],i=new Th({fill:new xa({color:"color"in t?t.color:up}),scale:t.scale});e.textStyle=i}}var lB=Ke(sn,{color:ee(N0),width:ee(Ci)});function uB(n,r){var t=sr({},lB,n,r);if(!!t){var e=r[r.length-1],i=new ra({color:"color"in t?t.color:up,width:"width"in t?t.width:1});e.strokeStyle=i}}var cB=Ke(sn,{color:ee(N0),fill:ee(yf),outline:ee(yf)});function fB(n,r){var t=sr({},cB,n,r);if(!!t){var e=r[r.length-1],i=new xa({color:"color"in t?t.color:up});e.fillStyle=i;var o=t.fill;o!==void 0&&(e.fill=o);var a=t.outline;a!==void 0&&(e.outline=a)}}var hB=Ke(sn,{coordinates:gn(Uw)});function Yw(n,r){return sr(null,hB,n,r)}function dB(n,r){var t=r[r.length-1],e=t.coordinates,i=as(n,!1),o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=o.exec(i);if(a){var s=parseFloat(a[1]),c=parseFloat(a[2]),h=parseFloat(a[3]);e.push([s,c,h])}else e.push([])}var pB=Ke(dc,{Track:en(Hw)});function vB(n,r){var t=sr([],pB,n,r);if(!!t)return new xs(t)}var gB=Ke(sn,{when:kB},Ke(dc,{coord:dB}));function Hw(n,r){var t=sr({coordinates:[],whens:[]},gB,n,r);if(!!t){for(var e=[],i=t.coordinates,o=t.whens,a=0,s=Math.min(i.length,o.length);a<s;++a)i[a].length==3&&e.push(i[a][0],i[a][1],i[a][2],o[a]);return new zi(e,gr.XYZM)}}var yB=Ke(sn,{href:ee(kw)},Ke(dc,{x:ee(Ci),y:ee(Ci),w:ee(Ci),h:ee(Ci)}));function mB(n,r){var t=sr({},yB,n,r);return t||null}var _B=Ke(sn,{coordinates:gn(Uw)});function J2(n,r){return sr(null,_B,n,r)}var F0=Ke(sn,{extrude:ee(yf),tessellate:ee(yf),altitudeMode:ee(fr)});function Xw(n,r){var t=sr({},F0,n,r),e=J2(n,r);if(e){var i=new zi(e,gr.XYZ);return i.setProperties(t,!0),i}else return}function Kw(n,r){var t=sr({},F0,n,r),e=J2(n,r);if(e){var i=new li(e,gr.XYZ,[e.length]);return i.setProperties(t,!0),i}else return}var EB=Ke(sn,{LineString:en(Xw),LinearRing:en(Kw),MultiGeometry:en($w),Point:en(Zw),Polygon:en(qw)});function $w(n,r){var t=sr([],EB,n,r);if(!t)return null;if(t.length===0)return new ka(t);for(var e,i=!0,o=t[0].getType(),a,s=1,c=t.length;s<c;++s)if(a=t[s],a.getType()!=o){i=!1;break}if(i){var h=void 0,p=void 0;if(o==$t.POINT){var m=t[0];h=m.getLayout(),p=m.getFlatCoordinates();for(var s=1,c=t.length;s<c;++s)a=t[s],Object(br.c)(p,a.getFlatCoordinates());e=new Ll(p,h),t5(e,t)}else o==$t.LINE_STRING?(e=new xs(t),t5(e,t)):o==$t.POLYGON?(e=new Ua(t),t5(e,t)):o==$t.GEOMETRY_COLLECTION?e=new ka(t):qt(!1,37)}else e=new ka(t);return e}function Zw(n,r){var t=sr({},F0,n,r),e=J2(n,r);if(e){var i=new kn(e,gr.XYZ);return i.setProperties(t,!0),i}else return}var xB=Ke(sn,{innerBoundaryIs:DB,outerBoundaryIs:GB});function qw(n,r){var t=sr({},F0,n,r),e=sr([null],xB,n,r);if(e&&e[0]){for(var i=e[0],o=[i.length],a=1,s=e.length;a<s;++a)Object(br.c)(i,e[a]),o.push(i.length);var c=new li(i,gr.XYZ,o);return c.setProperties(t,!0),c}else return}var SB=Ke(sn,{IconStyle:oB,LabelStyle:sB,LineStyle:uB,PolyStyle:fB});function Q2(n,r){var t=sr({},SB,n,r,this);if(!t)return null;var e="fillStyle"in t?t.fillStyle:R0,i=t.fill;i!==void 0&&!i&&(e=null);var o;"imageStyle"in t?t.imageStyle!=K2&&(o=t.imageStyle):o=X2;var a="textStyle"in t?t.textStyle:Fh,s="strokeStyle"in t?t.strokeStyle:$2,c=t.outline;return c!==void 0&&!c?[new Sa({geometry:function(h){var p=h.getGeometry(),m=p.getType();if(m===$t.GEOMETRY_COLLECTION){var w=p;return new ka(w.getGeometriesArrayRecursive().filter(function(R){var M=R.getType();return M!==$t.POLYGON&&M!==$t.MULTI_POLYGON}))}else if(m!==$t.POLYGON&&m!==$t.MULTI_POLYGON)return p},fill:e,image:o,stroke:s,text:a,zIndex:void 0}),new Sa({geometry:function(h){var p=h.getGeometry(),m=p.getType();if(m===$t.GEOMETRY_COLLECTION){var w=p;return new ka(w.getGeometriesArrayRecursive().filter(function(R){var M=R.getType();return M===$t.POLYGON||M===$t.MULTI_POLYGON}))}else if(m===$t.POLYGON||m===$t.MULTI_POLYGON)return p},fill:e,stroke:null,zIndex:void 0})]:[new Sa({fill:e,image:o,stroke:s,text:a,zIndex:void 0})]}function t5(n,r){var t=r.length,e=new Array(r.length),i=new Array(r.length),o=new Array(r.length),a,s,c;a=!1,s=!1,c=!1;for(var h=0;h<t;++h){var p=r[h];e[h]=p.get("extrude"),i[h]=p.get("tessellate"),o[h]=p.get("altitudeMode"),a=a||e[h]!==void 0,s=s||i[h]!==void 0,c=c||o[h]}a&&n.set("extrude",e),s&&n.set("tessellate",i),c&&n.set("altitudeMode",o)}var wB=Ke(sn,{displayName:ee(fr),value:ee(fr)});function OB(n,r){var t=n.getAttribute("name");Ts(wB,n,r);var e=r[r.length-1];t&&e.displayName?e[t]={value:e.value,displayName:e.displayName,toString:function(){return e.value}}:t!==null?e[t]=e.value:e.displayName!==null&&(e[e.displayName]=e.value),delete e.value}var TB=Ke(sn,{Data:OB,SchemaData:RB});function Jw(n,r){Ts(TB,n,r)}function Qw(n,r){Ts(Dw,n,r)}var bB=Ke(sn,{Style:ee(Q2),key:ee(fr),styleUrl:ee(zw)});function CB(n,r){var t=sr({},bB,n,r,this);if(!!t){var e=t.key;if(e&&e=="normal"){var i=t.styleUrl;i&&(r[r.length-1]=i);var o=t.Style;o&&(r[r.length-1]=o)}}}function AB(n,r){var t=Ww.call(this,n,r);if(!!t){var e=r[r.length-1];Array.isArray(t)?e.Style=t:typeof t=="string"?e.styleUrl=t:qt(!1,38)}}var LB=Ke(sn,{SimpleData:PB});function RB(n,r){Ts(LB,n,r)}function PB(n,r){var t=n.getAttribute("name");if(t!==null){var e=fr(n),i=r[r.length-1];i[t]=e}}var IB=Ke(sn,{altitudeMode:ee(fr),minAltitude:ee(Ci),maxAltitude:ee(Ci),north:ee(Ci),south:ee(Ci),east:ee(Ci),west:ee(Ci)});function MB(n,r){var t=sr({},IB,n,r);if(!!t){var e=r[r.length-1],i=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)];e.extent=i,e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude)}}var NB=Ke(sn,{minLodPixels:ee(Ci),maxLodPixels:ee(Ci),minFadeExtent:ee(Ci),maxFadeExtent:ee(Ci)});function FB(n,r){var t=sr({},NB,n,r);if(!!t){var e=r[r.length-1];e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent)}}var jB=Ke(sn,{LinearRing:en(Yw)});function DB(n,r){var t=sr([],jB,n,r);if(t.length>0){var e=r[r.length-1];e.push.apply(e,t)}}var BB=Ke(sn,{LinearRing:gn(Yw)});function GB(n,r){var t=sr(void 0,BB,n,r);if(t){var e=r[r.length-1];e[0]=t}}function UB(n,r){Ts(KD,n,r)}function kB(n,r){var t=r[r.length-1],e=t.whens,i=as(n,!1),o=Date.parse(i);e.push(isNaN(o)?0:o)}function j0(n,r){for(var t=ya(r),e=t.length==4?t[3]:1,i=[e*255,t[2],t[1],t[0]],o=0;o<4;++o){var a=Math.floor(i[o]).toString(16);i[o]=a.length==1?"0"+a:a}On(n,i.join(""))}function zB(n,r,t){var e=t[t.length-1],i=e.layout,o=e.stride,a;i==gr.XY||i==gr.XYM?a=2:i==gr.XYZ||i==gr.XYZM?a=3:qt(!1,34);var s=r.length,c="";if(s>0){c+=r[0];for(var h=1;h<a;++h)c+=","+r[h];for(var p=o;p<s;p+=o){c+=" "+r[p];for(var h=1;h<a;++h)c+=","+r[p+h]}}On(n,c)}var D0=Ke(sn,{Data:ie(VB),value:ie(YB),displayName:ie(WB)});function VB(n,r,t){n.setAttribute("name",r.name);var e={node:n},i=r.value;typeof i=="object"?(i!==null&&i.displayName&&An(e,D0,va,[i.displayName],t,["displayName"]),i!==null&&i.value&&An(e,D0,va,[i.value],t,["value"])):An(e,D0,va,[i],t,["value"])}function WB(n,r){Gj(n,r)}function YB(n,r){On(n,r)}var HB=Ke(sn,{Placemark:ie(oO)}),XB=function(n,r,t){var e=r[r.length-1].node;return Rn(e.namespaceURI,"Placemark")};function KB(n,r,t){var e={node:n};An(e,HB,XB,r,t,void 0,this)}var $B=xo("Data");function ZB(n,r,t){for(var e={node:n},i=r.names,o=r.values,a=i.length,s=0;s<a;s++)An(e,D0,$B,[{name:i[s],value:o[s]}],t)}var tO=Ke(sn,["href"],Ke(dc,["x","y","w","h"])),eO=Ke(sn,{href:ie(On)},Ke(dc,{x:ie(bs),y:ie(bs),w:ie(bs),h:ie(bs)})),qB=function(n,r,t){return Rn(dc[0],"gx:"+t)};function JB(n,r,t){var e={node:n},i=t[t.length-1].node,o=tO[i.namespaceURI],a=Os(r,o);An(e,eO,va,a,t,o),o=tO[dc[0]],a=Os(r,o),An(e,eO,qB,a,t,o)}var QB=Ke(sn,["scale","heading","Icon","color","hotSpot"]),t9=Ke(sn,{Icon:ie(JB),color:ie(j0),heading:ie(bs),hotSpot:ie(C9),scale:ie(lO)});function e9(n,r,t){var e={node:n},i={},o=r.getSrc(),a=r.getSize(),s=r.getImageSize(),c={href:o};if(a){c.w=a[0],c.h=a[1];var h=r.getAnchor(),p=r.getOrigin();if(p&&s&&p[0]!==0&&p[1]!==a[1]&&(c.x=p[0],c.y=s[1]-(p[1]+a[1])),h&&(h[0]!==a[0]/2||h[1]!==a[1]/2)){var m={x:h[0],xunits:is.PIXELS,y:a[1]-h[1],yunits:is.PIXELS};i.hotSpot=m}}i.Icon=c;var w=r.getScaleArray()[0],R=a;if(R===null&&(R=ug),R.length==2){var M=I0(R);w=w/M}w!==1&&(i.scale=w);var U=r.getRotation();U!==0&&(i.heading=U);var Z=r.getColor();Z&&(i.color=Z);var lt=t[t.length-1].node,pt=QB[lt.namespaceURI],xt=Os(i,pt);An(e,t9,va,xt,t,pt)}var r9=Ke(sn,["color","scale"]),n9=Ke(sn,{color:ie(j0),scale:ie(lO)});function i9(n,r,t){var e={node:n},i={},o=r.getFill();o&&(i.color=o.getColor());var a=r.getScale();a&&a!==1&&(i.scale=a);var s=t[t.length-1].node,c=r9[s.namespaceURI],h=Os(i,c);An(e,n9,va,h,t,c)}var o9=Ke(sn,["color","width"]),a9=Ke(sn,{color:ie(j0),width:ie(bs)});function s9(n,r,t){var e={node:n},i={color:r.getColor(),width:Number(r.getWidth())||1},o=t[t.length-1].node,a=o9[o.namespaceURI],s=Os(i,a);An(e,a9,va,s,t,a)}var l9={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},rO=function(n,r,t){if(n){var e=r[r.length-1].node;return Rn(e.namespaceURI,l9[n.getType()])}},u9=xo("Point"),c9=xo("LineString"),f9=xo("LinearRing"),h9=xo("Polygon"),d9=Ke(sn,{LineString:ie(cp),Point:ie(cp),Polygon:ie(sO),GeometryCollection:ie(nO)});function nO(n,r,t){var e={node:n},i=r.getType(),o=[],a;i===$t.GEOMETRY_COLLECTION?(r.getGeometriesArrayRecursive().forEach(function(s){var c=s.getType();c===$t.MULTI_POINT?o=o.concat(s.getPoints()):c===$t.MULTI_LINE_STRING?o=o.concat(s.getLineStrings()):c===$t.MULTI_POLYGON?o=o.concat(s.getPolygons()):c===$t.POINT||c===$t.LINE_STRING||c===$t.POLYGON?o.push(s):qt(!1,39)}),a=rO):i===$t.MULTI_POINT?(o=r.getPoints(),a=u9):i===$t.MULTI_LINE_STRING?(o=r.getLineStrings(),a=c9):i===$t.MULTI_POLYGON?(o=r.getPolygons(),a=h9):qt(!1,39),An(e,d9,a,o,t)}var p9=Ke(sn,{LinearRing:ie(cp)});function iO(n,r,t){var e={node:n};An(e,p9,f9,[r],t)}var e5=Ke(sn,{ExtendedData:ie(ZB),MultiGeometry:ie(nO),LineString:ie(cp),LinearRing:ie(cp),Point:ie(cp),Polygon:ie(sO),Style:ie(b9),address:ie(On),description:ie(On),name:ie(On),open:ie(sp),phoneNumber:ie(On),styleUrl:ie(On),visibility:ie(sp)}),v9=Ke(sn,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),g9=xo("ExtendedData");function oO(n,r,t){var e={node:n};r.getId()&&n.setAttribute("id",r.getId());var i=r.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[r.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter(function(Vt){return!o[Vt]}),s=r.getStyleFunction();if(s){var c=s(r,0);if(c){var h=Array.isArray(c)?c:[c],p=h;if(r.getGeometry()&&(p=h.filter(function(Vt){var kt=Vt.getGeometryFunction()(r);if(kt){var Zt=kt.getType();return Zt===$t.GEOMETRY_COLLECTION?kt.getGeometriesArrayRecursive().filter(function(Xt){var ce=Xt.getType();return ce===$t.POINT||ce===$t.MULTI_POINT}).length:Zt===$t.POINT||Zt===$t.MULTI_POINT}})),this.writeStyles_){var m=h,w=h;r.getGeometry()&&(m=h.filter(function(Vt){var kt=Vt.getGeometryFunction()(r);if(kt){var Zt=kt.getType();return Zt===$t.GEOMETRY_COLLECTION?kt.getGeometriesArrayRecursive().filter(function(Xt){var ce=Xt.getType();return ce===$t.LINE_STRING||ce===$t.MULTI_LINE_STRING}).length:Zt===$t.LINE_STRING||Zt===$t.MULTI_LINE_STRING}}),w=h.filter(function(Vt){var kt=Vt.getGeometryFunction()(r);if(kt){var Zt=kt.getType();return Zt===$t.GEOMETRY_COLLECTION?kt.getGeometriesArrayRecursive().filter(function(Xt){var ce=Xt.getType();return ce===$t.POLYGON||ce===$t.MULTI_POLYGON}).length:Zt===$t.POLYGON||Zt===$t.MULTI_POLYGON}})),i.Style={pointStyles:p,lineStyles:m,polyStyles:w}}if(p.length&&i.name===void 0){var R=p[0].getText();R&&(i.name=R.getText())}}}var M=t[t.length-1].node,U=v9[M.namespaceURI],Z=Os(i,U);if(An(e,e5,va,Z,t,U),a.length>0){var lt=Os(i,a),pt={names:a,values:lt};An(e,e5,g9,[pt],t)}var xt=t[0],ht=r.getGeometry();ht&&(ht=vo(ht,!0,xt)),An(e,e5,rO,[ht],t)}var y9=Ke(sn,["extrude","tessellate","altitudeMode","coordinates"]),m9=Ke(sn,{extrude:ie(sp),tessellate:ie(sp),altitudeMode:ie(On),coordinates:ie(zB)});function cp(n,r,t){var e=r.getFlatCoordinates(),i={node:n};i.layout=r.getLayout(),i.stride=r.getStride();var o=r.getProperties();o.coordinates=e;var a=t[t.length-1].node,s=y9[a.namespaceURI],c=Os(o,s);An(i,m9,va,c,t,s)}var _9=Ke(sn,["color","fill","outline"]),aO=Ke(sn,{outerBoundaryIs:ie(iO),innerBoundaryIs:ie(iO)}),E9=xo("innerBoundaryIs"),x9=xo("outerBoundaryIs");function sO(n,r,t){var e=r.getLinearRings(),i=e.shift(),o={node:n};An(o,aO,E9,e,t),An(o,aO,x9,[i],t)}var S9=Ke(sn,{color:ie(j0),fill:ie(sp),outline:ie(sp)});function w9(n,r,t){var e={node:n},i=r.getFill(),o=r.getStroke(),a={color:i?i.getColor():void 0,fill:i?void 0:!1,outline:o?void 0:!1},s=t[t.length-1].node,c=_9[s.namespaceURI],h=Os(a,c);An(e,S9,va,h,t,c)}function lO(n,r){bs(n,Math.round(r*1e6)/1e6)}var O9=Ke(sn,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),T9=Ke(sn,{IconStyle:ie(e9),LabelStyle:ie(i9),LineStyle:ie(s9),PolyStyle:ie(w9)});function b9(n,r,t){var e={node:n},i={};if(r.pointStyles.length){var o=r.pointStyles[0].getText();o&&(i.LabelStyle=o);var a=r.pointStyles[0].getImage();a&&typeof a.getSrc=="function"&&(i.IconStyle=a)}if(r.lineStyles.length){var s=r.lineStyles[0].getStroke();s&&(i.LineStyle=s)}if(r.polyStyles.length){var s=r.polyStyles[0].getStroke();s&&!i.LineStyle&&(i.LineStyle=s),i.PolyStyle=r.polyStyles[0]}var c=t[t.length-1].node,h=O9[c.namespaceURI],p=Os(i,h);An(e,T9,va,p,t,h)}function C9(n,r){n.setAttribute("x",String(r.x)),n.setAttribute("y",String(r.y)),n.setAttribute("xunits",r.xunits),n.setAttribute("yunits",r.yunits)}var A9=QD,L9=u("7915"),R9=u.n(L9),uO=Q(),cg=function(){function n(r,t,e,i,o){this.styleFunction,this.extent_,this.id_=o,this.type_=r,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=e,this.properties_=i}return n.prototype.get=function(r){return this.properties_[r]},n.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===$t.POINT?at(this.flatCoordinates_):ye(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},n.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var r=Kn(this.getExtent());this.flatInteriorPoints_=ic(this.flatCoordinates_,0,this.ends_,2,r,0)}return this.flatInteriorPoints_},n.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var r=dw(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=_a(this.flatCoordinates_,0,this.ends_,2,r)}return this.flatInteriorPoints_},n.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=h0(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},n.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var r=this.flatCoordinates_,t=0,e=this.ends_,i=0,o=e.length;i<o;++i){var a=e[i],s=h0(r,t,a,2,.5);Object(br.c)(this.flatMidpoints_,s),t=a}}return this.flatMidpoints_},n.prototype.getId=function(){return this.id_},n.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},n.prototype.getGeometry=function(){return this},n.prototype.getSimplifiedGeometry=function(r){return this},n.prototype.simplifyTransformed=function(r,t){return this},n.prototype.getProperties=function(){return this.properties_},n.prototype.getStride=function(){return 2},n.prototype.getStyleFunction=function(){return this.styleFunction},n.prototype.getType=function(){return this.type_},n.prototype.transform=function(r){r=an(r);var t=r.getExtent(),e=r.getWorldExtent();if(t&&e){var i=Ur(e)/Ur(t);Te(uO,e[0],e[3],i,-i,0,0,0),vl(this.flatCoordinates_,0,this.flatCoordinates_.length,2,uO,this.flatCoordinates_)}},n.prototype.getEnds=function(){return this.ends_},n}();cg.prototype.getEndss=cg.prototype.getEnds,cg.prototype.getFlatCoordinates=cg.prototype.getOrientedFlatCoordinates;var cO=cg,P9=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),I9=function(n){P9(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=new Ra({code:"",units:Hi.TILE_PIXELS}),e.featureClass_=i.featureClass?i.featureClass:cO,e.geometryName_=i.geometryName,e.layerName_=i.layerName?i.layerName:"layer",e.layers_=i.layers?i.layers:null,e.idProperty_=i.idProperty,e.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"],e}return r.prototype.readRawGeometry_=function(t,e,i,o){t.pos=e.geometry;for(var a=t.readVarint()+t.pos,s=1,c=0,h=0,p=0,m=0,w=0;t.pos<a;){if(!c){var R=t.readVarint();s=R&7,c=R>>3}c--,s===1||s===2?(h+=t.readSVarint(),p+=t.readSVarint(),s===1&&m>w&&(o.push(m),w=m),i.push(h,p),m+=2):s===7?m>w&&(i.push(i[w],i[w+1]),m+=2):qt(!1,59)}m>w&&(o.push(m),w=m)},r.prototype.createFeature_=function(t,e,i){var o=e.type;if(o===0)return null;var a,s=e.properties,c;this.idProperty_?(c=s[this.idProperty_],delete s[this.idProperty_]):c=e.id,s[this.layerName_]=e.layer.name;var h=[],p=[];this.readRawGeometry_(t,e,h,p);var m=D9(o,p.length);if(this.featureClass_===cO)a=new this.featureClass_(m,h,p,s,c),a.transform(i.dataProjection);else{var w=void 0;if(m==$t.POLYGON){for(var R=[],M=0,U=0,Z=0,lt=p.length;Z<lt;++Z){var pt=p[Z];if(!Us(h,M,pt,2))R.push(p.slice(U,Z+1));else{if(R.length===0)continue;R[R.length-1].push(p[U])}U=Z+1,M=pt}R.length>1?w=new Ua(h,gr.XY,R):w=new li(h,gr.XY,p)}else w=m===$t.POINT?new kn(h,gr.XY):m===$t.LINE_STRING?new zi(h,gr.XY):m===$t.POLYGON?new li(h,gr.XY,p):m===$t.MULTI_POINT?new Ll(h,gr.XY):m===$t.MULTI_LINE_STRING?new xs(h,gr.XY,p):null;var xt=this.featureClass_;a=new xt,this.geometryName_&&a.setGeometryName(this.geometryName_);var ht=vo(w,!1,i);a.setGeometry(ht),a.setId(c),a.setProperties(s,!0)}return a},r.prototype.getType=function(){return ru.ARRAY_BUFFER},r.prototype.readFeatures=function(t,e){var i=this.layers_,o=this.adaptOptions(e),a=an(o.dataProjection);a.setWorldExtent(o.extent),o.dataProjection=a;var s=new R9.a(t),c=s.readFields(M9,{}),h=[];for(var p in c)if(!(i&&i.indexOf(p)==-1)){var m=c[p],w=m?[0,0,m.extent,m.extent]:null;a.setExtent(w);for(var R=0,M=m.length;R<M;++R){var U=j9(s,m,R),Z=this.createFeature_(s,U,o);Z!==null&&h.push(Z)}}return h},r.prototype.readProjection=function(t){return this.dataProjection},r.prototype.setLayers=function(t){this.layers_=t},r}(ng);function M9(n,r,t){if(n===3){var e={keys:[],values:[],features:[]},i=t.readVarint()+t.pos;t.readFields(N9,e,i),e.length=e.features.length,e.length&&(r[e.name]=e)}}function N9(n,r,t){if(n===15)r.version=t.readVarint();else if(n===1)r.name=t.readString();else if(n===5)r.extent=t.readVarint();else if(n===2)r.features.push(t.pos);else if(n===3)r.keys.push(t.readString());else if(n===4){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;)n=t.readVarint()>>3,e=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;r.values.push(e)}}function F9(n,r,t){if(n==1)r.id=t.readVarint();else if(n==2)for(var e=t.readVarint()+t.pos;t.pos<e;){var i=r.layer.keys[t.readVarint()],o=r.layer.values[t.readVarint()];r.properties[i]=o}else n==3?r.type=t.readVarint():n==4&&(r.geometry=t.pos)}function j9(n,r,t){n.pos=r.features[t];var e=n.readVarint()+n.pos,i={layer:r,type:0,properties:{}};return n.readFields(F9,i,e),i}function D9(n,r){var t;return n===1?t=r===1?$t.POINT:$t.MULTI_POINT:n===2?t=r===1?$t.LINE_STRING:$t.MULTI_LINE_STRING:n===3&&(t=$t.POLYGON),t}var B9=I9,G9=function(){function n(){}return n.prototype.read=function(r){if(r)if(typeof r=="string"){var t=Bu(r);return this.readFromDocument(t)}else return Du(r)?this.readFromDocument(r):this.readFromNode(r);else return null},n.prototype.readFromDocument=function(r){for(var t=r.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},n.prototype.readFromNode=function(r){},n}(),r5=G9,U9="http://www.w3.org/1999/xlink";function fp(n){return n.getAttributeNS(U9,"href")}var k9=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cs=[null,"http://www.opengis.net/ows/1.1"],z9=Ke(Cs,{ServiceIdentification:ee(dG),ServiceProvider:ee(vG),OperationsMetadata:ee(fG)}),V9=function(n){k9(r,n);function r(){return n.call(this)||this}return r.prototype.readFromNode=function(t){var e=sr({},z9,t,[]);return e||null},r}(r5),W9=Ke(Cs,{DeliveryPoint:ee(fr),City:ee(fr),AdministrativeArea:ee(fr),PostalCode:ee(fr),Country:ee(fr),ElectronicMailAddress:ee(fr)}),Y9=Ke(Cs,{Value:eo(gG)}),H9=Ke(Cs,{AllowedValues:ee(iG)}),X9=Ke(Cs,{Phone:ee(hG),Address:ee(nG)}),K9=Ke(Cs,{HTTP:ee(uG)}),$9=Ke(Cs,{Get:eo(lG),Post:void 0}),Z9=Ke(Cs,{DCP:ee(sG)}),q9=Ke(Cs,{Operation:cG}),J9=Ke(Cs,{Voice:ee(fr),Facsimile:ee(fr)}),Q9=Ke(Cs,{Constraint:eo(oG)}),tG=Ke(Cs,{IndividualName:ee(fr),PositionName:ee(fr),ContactInfo:ee(aG)}),eG=Ke(Cs,{Abstract:ee(fr),AccessConstraints:ee(fr),Fees:ee(fr),Title:ee(fr),ServiceTypeVersion:ee(fr),ServiceType:ee(fr)}),rG=Ke(Cs,{ProviderName:ee(fr),ProviderSite:ee(fp),ServiceContact:ee(pG)});function nG(n,r){return sr({},W9,n,r)}function iG(n,r){return sr({},Y9,n,r)}function oG(n,r){var t=n.getAttribute("name");if(!!t)return sr({name:t},H9,n,r)}function aG(n,r){return sr({},X9,n,r)}function sG(n,r){return sr({},K9,n,r)}function lG(n,r){var t=fp(n);if(!!t)return sr({href:t},Q9,n,r)}function uG(n,r){return sr({},$9,n,r)}function cG(n,r){var t=n.getAttribute("name"),e=sr({},Z9,n,r);if(!!e){var i=r[r.length-1];i[t]=e}}function fG(n,r){return sr({},q9,n,r)}function hG(n,r){return sr({},J9,n,r)}function dG(n,r){return sr({},eG,n,r)}function pG(n,r){return sr({},tG,n,r)}function vG(n,r){return sr({},rG,n,r)}function gG(n,r){return fr(n)}var fO=V9;function hO(n,r,t,e,i,o){var a,s;i!==void 0?(a=i,s=o!==void 0?o:0):(a=[],s=0);for(var c=r;c<t;){var h=n[c++];a[s++]=n[c++],a[s++]=h;for(var p=2;p<e;++p)a[s++]=n[c++]}return a.length=s,a}var yG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mG=function(n){yG(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.dataProjection=an("EPSG:4326"),e.factor_=i.factor?i.factor:1e5,e.geometryLayout_=i.geometryLayout?i.geometryLayout:gr.XY,e}return r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);return new Xr(i)},r.prototype.readFeaturesFromText=function(t,e){var i=this.readFeatureFromText(t,e);return[i]},r.prototype.readGeometryFromText=function(t,e){var i=wu(this.geometryLayout_),o=EG(t,i,this.factor_);hO(o,0,o.length,i,o);var a=Qi(o,0,o.length,i),s=new zi(a,this.geometryLayout_);return vo(s,!1,this.adaptOptions(e))},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):(qt(!1,40),"")},r.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},r.prototype.writeGeometryText=function(t,e){t=vo(t,!0,this.adaptOptions(e));var i=t.getFlatCoordinates(),o=t.getStride();return hO(i,0,i.length,o,i),_G(i,o,this.factor_)},r}(Y2);function _G(n,r,t){var e=t||1e5,i,o=new Array(r);for(i=0;i<r;++i)o[i]=0;for(var a=0,s=n.length;a<s;)for(i=0;i<r;++i,++a){var c=n[a],h=c-o[i];o[i]=c,n[a]=h}return xG(n,e)}function EG(n,r,t){var e=t||1e5,i,o=new Array(r);for(i=0;i<r;++i)o[i]=0;for(var a=SG(n,e),s=0,c=a.length;s<c;)for(i=0;i<r;++i,++s)o[i]+=a[s],a[s]=o[i];return a}function xG(n,r){for(var t=r||1e5,e=0,i=n.length;e<i;++e)n[e]=Math.round(n[e]*t);return wG(n)}function SG(n,r){for(var t=r||1e5,e=OG(n),i=0,o=e.length;i<o;++i)e[i]/=t;return e}function wG(n){for(var r=0,t=n.length;r<t;++r){var e=n[r];n[r]=e<0?~(e<<1):e<<1}return TG(n)}function OG(n){for(var r=bG(n),t=0,e=r.length;t<e;++t){var i=r[t];r[t]=i&1?~(i>>1):i>>1}return r}function TG(n){for(var r="",t=0,e=n.length;t<e;++t)r+=CG(n[t]);return r}function bG(n){for(var r=[],t=0,e=0,i=0,o=n.length;i<o;++i){var a=n.charCodeAt(i)-63;t|=(a&31)<<e,a<32?(r.push(t),t=0,e=0):e+=5}return r}function CG(n){for(var r,t="";n>=32;)r=(32|n&31)+63,t+=String.fromCharCode(r),n>>=5;return r=n+63,t+=String.fromCharCode(r),t}var AG=mG,LG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),RG=function(n){LG(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.layerName_=i.layerName,e.layers_=i.layers?i.layers:null,e.dataProjection=an(i.dataProjection?i.dataProjection:"EPSG:4326"),e}return r.prototype.readFeaturesFromObject=function(t,e){if(t.type=="Topology"){var i=t,o=void 0,a=null,s=null;i.transform&&(o=i.transform,a=o.scale,s=o.translate);var c=i.arcs;o&&GG(c,a,s);var h=[],p=i.objects,m=this.layerName_,w=void 0;for(var R in p)this.layers_&&this.layers_.indexOf(R)==-1||(p[R].type==="GeometryCollection"?(w=p[R],h.push.apply(h,BG(w,c,a,s,m,R,e))):(w=p[R],h.push(dO(w,c,a,s,m,R,e))));return h}else return[]},r.prototype.readProjectionFromObject=function(t){return this.dataProjection},r}(I2),PG={Point:IG,LineString:NG,Polygon:jG,MultiPoint:MG,MultiLineString:FG,MultiPolygon:DG};function B0(n,r){for(var t=[],e,i=0,o=n.length;i<o;++i)if(e=n[i],i>0&&t.pop(),e>=0)for(var a=r[e],s=0,c=a.length;s<c;++s)t.push(a[s].slice(0));else for(var a=r[~e],s=a.length-1;s>=0;--s)t.push(a[s].slice(0));return t}function IG(n,r,t){var e=n.coordinates;return r&&t&&n5(e,r,t),new kn(e)}function MG(n,r,t){var e=n.coordinates;if(r&&t)for(var i=0,o=e.length;i<o;++i)n5(e[i],r,t);return new Ll(e)}function NG(n,r){var t=B0(n.arcs,r);return new zi(t)}function FG(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=B0(n.arcs[e],r);return new xs(t)}function jG(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e)t[e]=B0(n.arcs[e],r);return new li(t)}function DG(n,r){for(var t=[],e=0,i=n.arcs.length;e<i;++e){for(var o=n.arcs[e],a=[],s=0,c=o.length;s<c;++s)a[s]=B0(o[s],r);t[e]=a}return new Ua(t)}function BG(n,r,t,e,i,o,a){for(var s=n.geometries,c=[],h=0,p=s.length;h<p;++h)c[h]=dO(s[h],r,t,e,i,o,a);return c}function dO(n,r,t,e,i,o,a){var s=null,c=n.type;if(c){var h=PG[c];c==="Point"||c==="MultiPoint"?s=h(n,t,e):s=h(n,r),s=vo(s,!1,a)}var p=new Xr({geometry:s});n.id!==void 0&&p.setId(n.id);var m=n.properties;return i&&(m||(m={}),m[i]=o),m&&p.setProperties(m,!0),p}function GG(n,r,t){for(var e=0,i=n.length;e<i;++e)UG(n[e],r,t)}function UG(n,r,t){for(var e=0,i=0,o=0,a=n.length;o<a;++o){var s=n[o];e+=s[0],i+=s[1],s[0]=e,s[1]=i,n5(s,r,t)}}function n5(n,r,t){n[0]=n[0]*r[0]+t[0],n[1]=n[1]*r[1]+t[1]}var kG=RG,zG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mi=function(n){zG(r,n);function r(t){var e=this,i=t||{};return e=n.call(this,i)||this,e.schemaLocation=i.schemaLocation?i.schemaLocation:e.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",e}return r}(Zn);Mi.prototype.namespace="http://www.opengis.net/gml/3.2",Mi.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:gn(Zn.prototype.readFlatPos),posList:gn(Zn.prototype.readFlatPosList),coordinates:gn(lp.prototype.readFlatCoordinates)}},Mi.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:Zn.prototype.interiorParser,exterior:Zn.prototype.exteriorParser}},Mi.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:gn(ni.prototype.readPoint),MultiPoint:gn(ni.prototype.readMultiPoint),LineString:gn(ni.prototype.readLineString),MultiLineString:gn(ni.prototype.readMultiLineString),LinearRing:gn(ni.prototype.readLinearRing),Polygon:gn(ni.prototype.readPolygon),MultiPolygon:gn(ni.prototype.readMultiPolygon),Surface:gn(Mi.prototype.readSurface),MultiSurface:gn(Zn.prototype.readMultiSurface),Curve:gn(Mi.prototype.readCurve),MultiCurve:gn(Zn.prototype.readMultiCurve),Envelope:gn(Mi.prototype.readEnvelope)}},Mi.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:en(Zn.prototype.curveMemberParser),curveMembers:en(Zn.prototype.curveMemberParser)}},Mi.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:en(Zn.prototype.surfaceMemberParser),surfaceMembers:en(Zn.prototype.surfaceMemberParser)}},Mi.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:en(ni.prototype.readLineString),Curve:en(Zn.prototype.readCurve)}},Mi.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:en(ni.prototype.readPolygon),Surface:en(Zn.prototype.readSurface)}},Mi.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:gn(Zn.prototype.readPatch)}},Mi.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:gn(Zn.prototype.readSegment)}},Mi.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:en(Zn.prototype.readFlatPosList),upperCorner:en(Zn.prototype.readFlatPosList)}},Mi.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:gn(Zn.prototype.readPolygonPatch)}},Mi.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:gn(Zn.prototype.readLineStringSegment)}},Mi.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:en(ni.prototype.pointMemberParser),pointMembers:en(ni.prototype.pointMemberParser)}},Mi.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:en(ni.prototype.lineStringMemberParser),lineStringMembers:en(ni.prototype.lineStringMemberParser)}},Mi.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:en(ni.prototype.polygonMemberParser),polygonMembers:en(ni.prototype.polygonMemberParser)}},Mi.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:en(ni.prototype.readFlatCoordinatesFromNode)}},Mi.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:en(ni.prototype.readLineString)}},Mi.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:en(ni.prototype.readPolygon)}},Mi.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:gn(ni.prototype.readFlatLinearRing)}},Mi.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:ie(Zn.prototype.writeRing),interior:ie(Zn.prototype.writeRing)}},Mi.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:ie(On),upperCorner:ie(On)}},Mi.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:ie(Zn.prototype.writeSurfaceOrPolygonMember),polygonMember:ie(Zn.prototype.writeSurfaceOrPolygonMember)}},Mi.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:ie(Zn.prototype.writePointMember)}},Mi.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:ie(Zn.prototype.writeLineStringOrCurveMember),curveMember:ie(Zn.prototype.writeLineStringOrCurveMember)}},Mi.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:ie(Zn.prototype.writeCurveOrLineString),MultiCurve:ie(Zn.prototype.writeMultiCurveOrLineString),Point:ie(Mi.prototype.writePoint),MultiPoint:ie(Zn.prototype.writeMultiPoint),LineString:ie(Zn.prototype.writeCurveOrLineString),MultiLineString:ie(Zn.prototype.writeMultiCurveOrLineString),LinearRing:ie(Zn.prototype.writeLinearRing),Polygon:ie(Zn.prototype.writeSurfaceOrPolygon),MultiPolygon:ie(Zn.prototype.writeMultiSurfaceOrPolygon),Surface:ie(Zn.prototype.writeSurfaceOrPolygon),MultiSurface:ie(Zn.prototype.writeMultiSurfaceOrPolygon),Envelope:ie(Zn.prototype.writeEnvelope)}};var i5=Mi,VG=function(){function n(r){this.tagName_=r}return n.prototype.getTagName=function(){return this.tagName_},n}(),hp=VG,WG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YG=function(n){WG(r,n);function r(t,e){var i=n.call(this,t)||this;return i.conditions=e,qt(i.conditions.length>=2,57),i}return r}(hp),pO=YG,HG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XG=function(n){HG(r,n);function r(t){return n.call(this,"And",Array.prototype.slice.call(arguments))||this}return r}(pO),KG=XG,$G=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ZG=function(n){$G(r,n);function r(t,e,i){var o=n.call(this,"BBOX")||this;if(o.geometryName=t,o.extent=e,e.length!==4)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=i,o}return r}(hp),qG=ZG,JG=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QG=function(n){JG(r,n);function r(t,e,i,o){var a=n.call(this,t)||this;return a.geometryName=e||"the_geom",a.geometry=i,a.srsName=o,a}return r}(hp),fg=QG,tU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){tU(r,n);function r(t,e,i){return n.call(this,"Contains",t,e,i)||this}return r})(fg);var eU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){eU(r,n);function r(t,e,i,o,a){var s=n.call(this,"DWithin",t,e,a)||this;return s.distance=i,s.unit=o,s}return r})(fg);var rU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){rU(r,n);function r(t,e,i){return n.call(this,"Disjoint",t,e,i)||this}return r})(fg);var nU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iU=function(n){nU(r,n);function r(t,e){var i=n.call(this,t)||this;return i.propertyName=e,i}return r}(hp),hg=iU,oU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){oU(r,n);function r(t,e,i){var o=n.call(this,"During",t)||this;return o.begin=e,o.end=i,o}return r})(hg);var aU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sU=function(n){aU(r,n);function r(t,e,i,o){var a=n.call(this,t,e)||this;return a.expression=i,a.matchCase=o,a}return r}(hg),dp=sU,lU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){lU(r,n);function r(t,e,i){return n.call(this,"PropertyIsEqualTo",t,e,i)||this}return r})(dp);var uU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){uU(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThan",t,e)||this}return r})(dp);var cU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){cU(r,n);function r(t,e){return n.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)||this}return r})(dp);var fU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){fU(r,n);function r(t,e,i){return n.call(this,"Intersects",t,e,i)||this}return r})(fg);var hU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){hU(r,n);function r(t,e,i){var o=n.call(this,"PropertyIsBetween",t)||this;return o.lowerBoundary=e,o.upperBoundary=i,o}return r})(hg);var dU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){dU(r,n);function r(t,e,i,o,a,s){var c=n.call(this,"PropertyIsLike",t)||this;return c.pattern=e,c.wildCard=i!==void 0?i:"*",c.singleChar=o!==void 0?o:".",c.escapeChar=a!==void 0?a:"!",c.matchCase=s,c}return r})(hg);var pU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){pU(r,n);function r(t){return n.call(this,"PropertyIsNull",t)||this}return r})(hg);var vU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){vU(r,n);function r(t,e){return n.call(this,"PropertyIsLessThan",t,e)||this}return r})(dp);var gU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){gU(r,n);function r(t,e){return n.call(this,"PropertyIsLessThanOrEqualTo",t,e)||this}return r})(dp);var yU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){yU(r,n);function r(t){var e=n.call(this,"Not")||this;return e.condition=t,e}return r})(hp);var mU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){mU(r,n);function r(t,e,i){return n.call(this,"PropertyIsNotEqualTo",t,e,i)||this}return r})(dp);var _U=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){_U(r,n);function r(t){return n.call(this,"Or",Array.prototype.slice.call(arguments))||this}return r})(pO);var EU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){EU(r,n);function r(t){var e=n.call(this,"ResourceId")||this;return e.rid=t,e}return r})(hp);var xU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();(function(n){xU(r,n);function r(t,e,i){return n.call(this,"Within",t,e,i)||this}return r})(fg);function SU(n){var r=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(KG,r))}function wU(n,r,t){return new qG(n,r,t)}var OU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vO={"http://www.opengis.net/gml":{boundedBy:ee(ni.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:en(ni.prototype.readFeaturesInternal)}},TU={"http://www.opengis.net/wfs":{totalInserted:ee(Vo),totalUpdated:ee(Vo),totalDeleted:ee(Vo)},"http://www.opengis.net/wfs/2.0":{totalInserted:ee(Vo),totalUpdated:ee(Vo),totalDeleted:ee(Vo)}},bU={"http://www.opengis.net/wfs":{TransactionSummary:ee(_O,"transactionSummary"),InsertResults:ee(xO,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:ee(_O,"transactionSummary"),InsertResults:ee(xO,"insertIds")}},CU={"http://www.opengis.net/wfs":{PropertyName:ie(On)},"http://www.opengis.net/wfs/2.0":{PropertyName:ie(On)}},gO={"http://www.opengis.net/wfs":{Insert:ie(SO),Update:ie(TO),Delete:ie(OO),Property:ie(bO),Native:ie(CO)},"http://www.opengis.net/wfs/2.0":{Insert:ie(SO),Update:ie(TO),Delete:ie(OO),Property:ie(bO),Native:ie(CO)}},yO="feature",o5="http://www.w3.org/2000/xmlns/",a5={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},s5={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},l5={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},mO={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},u5={"2.0.0":i5,"1.1.0":Zn,"1.0.0":lp},AU="1.1.0",LU=function(n){OU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.version_=i.version?i.version:AU,e.featureType_=i.featureType,e.featureNS_=i.featureNS,e.gmlFormat_=i.gmlFormat?i.gmlFormat:new u5[e.version_],e.schemaLocation_=i.schemaLocation?i.schemaLocation:mO[e.version_],e}return r.prototype.getFeatureType=function(){return this.featureType_},r.prototype.setFeatureType=function(t){this.featureType_=t},r.prototype.readFeaturesFromNode=function(t,e){var i={node:t};Object(Ir.a)(i,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(Ir.a)(i,this.getReadOptions(t,e||{}));var o=[i],a;this.version_==="2.0.0"?a=vO:a=this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var s=sr([],a,t,o,this.gmlFormat_);return s||(s=[]),s},r.prototype.readTransactionResponse=function(t){if(t)if(typeof t=="string"){var e=Bu(t);return this.readTransactionResponseFromDocument(e)}else return Du(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t);else return},r.prototype.readFeatureCollectionMetadata=function(t){if(t)if(typeof t=="string"){var e=Bu(t);return this.readFeatureCollectionMetadataFromDocument(e)}else return Du(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t);else return},r.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},r.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},i=hc(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=i,sr(e,vO,t,[],this.gmlFormat_)},r.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},r.prototype.readTransactionResponseFromNode=function(t){return sr({},bU,t,[])},r.prototype.writeGetFeature=function(t){var e=this,i=Rn(s5[this.version_],"GetFeature");i.setAttribute("service","WFS"),i.setAttribute("version",this.version_),t.handle&&i.setAttribute("handle",t.handle),t.outputFormat&&i.setAttribute("outputFormat",t.outputFormat),t.maxFeatures!==void 0&&i.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&i.setAttribute("resultType",t.resultType),t.startIndex!==void 0&&i.setAttribute("startIndex",String(t.startIndex)),t.count!==void 0&&i.setAttribute("count",String(t.count)),t.viewParams!==void 0&&i.setAttribute("viewParams",t.viewParams),i.setAttributeNS(Ih,"xsi:schemaLocation",this.schemaLocation_);var o={node:i};if(Object(Ir.a)(o,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),qt(Array.isArray(t.featureTypes),11),typeof t.featureTypes[0]=="string"){var a=t.filter;t.bbox&&(qt(t.geometryName,12),a=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,a)),Object(Ir.a)(o,{geometryName:t.geometryName,filter:a}),DO(i,t.featureTypes,[o])}else t.featureTypes.forEach(function(s){var c=e.combineBboxAndFilter(s.geometryName,s.bbox,t.srsName,t.filter);Object(Ir.a)(o,{geometryName:s.geometryName,filter:c}),DO(i,[s.name],[o])});return i},r.prototype.combineBboxAndFilter=function(t,e,i,o){var a=wU(t,e,i);return o?SU(o,a):a},r.prototype.writeTransaction=function(t,e,i,o){var a=[],s=o.version?o.version:this.version_,c=Rn(s5[s],"Transaction");c.setAttribute("service","WFS"),c.setAttribute("version",s);var h;o&&(h=o.gmlOptions?o.gmlOptions:{},o.handle&&c.setAttribute("handle",o.handle)),c.setAttributeNS(Ih,"xsi:schemaLocation",mO[s]);var p=RU(c,h,s,o);return t&&G0("Insert",t,a,p),e&&G0("Update",e,a,p),i&&G0("Delete",i,a,p),o.nativeElements&&G0("Native",o.nativeElements,a,p),c},r.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},r.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(!(e.childNodes.length===0||e.childNodes.length===1&&e.firstChild.nodeType===3)){var i=[{}];return this.gmlFormat_.readGeometryElement(e,i),an(i.pop().srsName)}}return null},r}(og);function RU(n,r,t,e){var i=e.featurePrefix?e.featurePrefix:yO,o;t==="1.0.0"?o=2:t==="1.1.0"?o=3:t==="2.0.0"&&(o=3.2);var a=Object(Ir.a)({node:n},{version:t,featureNS:e.featureNS,featureType:e.featureType,featurePrefix:i,gmlVersion:o,hasZ:e.hasZ,srsName:e.srsName},r);return a}function G0(n,r,t,e){An(e,gO,xo(n),r,t)}function _O(n,r){return sr({},TU,n,r)}var PU={"http://www.opengis.net/ogc":{FeatureId:en(function(n,r){return n.getAttribute("fid")})},"http://www.opengis.net/ogc/1.1":{FeatureId:en(function(n,r){return n.getAttribute("fid")})}};function EO(n,r){Ts(PU,n,r)}var IU={"http://www.opengis.net/wfs":{Feature:EO},"http://www.opengis.net/wfs/2.0":{Feature:EO}};function xO(n,r){return sr([],IU,n,r)}function SO(n,r,t){var e=t[t.length-1],i=e.featureType,o=e.featureNS,a=e.gmlVersion,s=Rn(o,i);n.appendChild(s),a===2?lp.prototype.writeFeatureElement(s,r,t):a===3?Zn.prototype.writeFeatureElement(s,r,t):i5.prototype.writeFeatureElement(s,r,t)}function wO(n,r,t){var e=t[t.length-1],i=e.version,o=a5[i],a=Rn(o,"Filter"),s=Rn(o,"FeatureId");a.appendChild(s),s.setAttribute("fid",r),n.appendChild(a)}function c5(n,r){n=n||yO;var t=n+":";return r.indexOf(t)===0?r:t+r}function OO(n,r,t){var e=t[t.length-1];qt(r.getId()!==void 0,26);var i=e.featureType,o=e.featurePrefix,a=e.featureNS,s=c5(o,i);n.setAttribute("typeName",s),n.setAttributeNS(o5,"xmlns:"+o,a);var c=r.getId();c!==void 0&&wO(n,c,t)}function TO(n,r,t){var e=t[t.length-1];qt(r.getId()!==void 0,27);var i=e.version,o=e.featureType,a=e.featurePrefix,s=e.featureNS,c=c5(a,o),h=r.getGeometryName();n.setAttribute("typeName",c),n.setAttributeNS(o5,"xmlns:"+a,s);var p=r.getId();if(p!==void 0){for(var m=r.getKeys(),w=[],R=0,M=m.length;R<M;R++){var U=r.get(m[R]);if(U!==void 0){var Z=m[R];U&&typeof U.getSimplifiedGeometry=="function"&&(Z=h),w.push({name:Z,value:U})}}An({version:i,gmlVersion:e.gmlVersion,node:n,hasZ:e.hasZ,srsName:e.srsName},gO,xo("Property"),w,t),wO(n,p,t)}}function bO(n,r,t){var e=t[t.length-1],i=e.version,o=s5[i],a=Rn(o,"Name"),s=e.gmlVersion;if(n.appendChild(a),On(a,r.name),r.value!==void 0&&r.value!==null){var c=Rn(o,"Value");n.appendChild(c),r.value&&typeof r.value.getSimplifiedGeometry=="function"?s===2?lp.prototype.writeGeometryElement(c,r.value,t):s===3?Zn.prototype.writeGeometryElement(c,r.value,t):i5.prototype.writeGeometryElement(c,r.value,t):On(c,r.value)}}function CO(n,r,t){r.vendorId&&n.setAttribute("vendorId",r.vendorId),r.safeToIgnore!==void 0&&n.setAttribute("safeToIgnore",String(r.safeToIgnore)),r.value!==void 0&&On(n,r.value)}var U0={"http://www.opengis.net/wfs":{Query:ie(AO)},"http://www.opengis.net/wfs/2.0":{Query:ie(AO)},"http://www.opengis.net/ogc":{During:ie(PO),And:ie(k0),Or:ie(k0),Not:ie(IO),BBOX:ie(LO),Contains:ie(mf),Intersects:ie(mf),Within:ie(mf),DWithin:ie(RO),PropertyIsEqualTo:ie(Rl),PropertyIsNotEqualTo:ie(Rl),PropertyIsLessThan:ie(Rl),PropertyIsLessThanOrEqualTo:ie(Rl),PropertyIsGreaterThan:ie(Rl),PropertyIsGreaterThanOrEqualTo:ie(Rl),PropertyIsNull:ie(MO),PropertyIsBetween:ie(NO),PropertyIsLike:ie(FO)},"http://www.opengis.net/fes/2.0":{During:ie(PO),And:ie(k0),Or:ie(k0),Not:ie(IO),BBOX:ie(LO),Contains:ie(mf),Disjoint:ie(mf),Intersects:ie(mf),ResourceId:ie(NU),Within:ie(mf),DWithin:ie(RO),PropertyIsEqualTo:ie(Rl),PropertyIsNotEqualTo:ie(Rl),PropertyIsLessThan:ie(Rl),PropertyIsLessThanOrEqualTo:ie(Rl),PropertyIsGreaterThan:ie(Rl),PropertyIsGreaterThanOrEqualTo:ie(Rl),PropertyIsNull:ie(MO),PropertyIsBetween:ie(NO),PropertyIsLike:ie(FO)}};function AO(n,r,t){var e=t[t.length-1],i=e.version,o=e.featurePrefix,a=e.featureNS,s=e.propertyNames,c=e.srsName,h;o?h=c5(o,r):h=r;var p;i==="2.0.0"?p="typeNames":p="typeName",n.setAttribute(p,h),c&&n.setAttribute("srsName",c),a&&n.setAttributeNS(o5,"xmlns:"+o,a);var m=Object(Ir.a)({},e);m.node=n,An(m,CU,xo("PropertyName"),s,t);var w=e.filter;if(w){var R=Rn(W0(i),"Filter");n.appendChild(R),MU(R,w,t)}}function MU(n,r,t){var e=t[t.length-1],i={node:n};Object(Ir.a)(i,{context:e}),An(i,U0,xo(r.getTagName()),[r],t)}function LO(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;e.srsName=r.srsName;var a=u5[o];pp(o,n,r.geometryName),a.prototype.writeGeometryElement(n,r.extent,t)}function NU(n,r,t){n.setAttribute("rid",r.rid)}function mf(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;e.srsName=r.srsName;var a=u5[o];pp(o,n,r.geometryName),a.prototype.writeGeometryElement(n,r.geometry,t)}function RO(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;mf(n,r,t);var a=Rn(W0(o),"Distance");On(a,r.distance.toString()),o==="2.0.0"?a.setAttribute("uom",r.unit):a.setAttribute("units",r.unit),n.appendChild(a)}function PO(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;z0(l5[o],"ValueReference",n,r.propertyName);var a=Rn(cc,"TimePeriod");n.appendChild(a);var s=Rn(cc,"begin");a.appendChild(s),jO(s,r.begin);var c=Rn(cc,"end");a.appendChild(c),jO(c,r.end)}function k0(n,r,t){var e=t[t.length-1],i=e.context,o={node:n};Object(Ir.a)(o,{context:i});for(var a=r.conditions,s=0,c=a.length;s<c;++s){var h=a[s];An(o,U0,xo(h.getTagName()),[h],t)}}function IO(n,r,t){var e=t[t.length-1],i=e.context,o={node:n};Object(Ir.a)(o,{context:i});var a=r.condition;An(o,U0,xo(a.getTagName()),[a],t)}function Rl(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),pp(o,n,r.propertyName),V0(o,n,""+r.expression)}function MO(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;pp(o,n,r.propertyName)}function NO(n,r,t){var e=t[t.length-1],i=e.context,o=i.version,a=W0(o);pp(o,n,r.propertyName);var s=Rn(a,"LowerBoundary");n.appendChild(s),V0(o,s,""+r.lowerBoundary);var c=Rn(a,"UpperBoundary");n.appendChild(c),V0(o,c,""+r.upperBoundary)}function FO(n,r,t){var e=t[t.length-1],i=e.context,o=i.version;n.setAttribute("wildCard",r.wildCard),n.setAttribute("singleChar",r.singleChar),n.setAttribute("escapeChar",r.escapeChar),r.matchCase!==void 0&&n.setAttribute("matchCase",r.matchCase.toString()),pp(o,n,r.propertyName),V0(o,n,""+r.pattern)}function z0(n,r,t,e){var i=Rn(n,r);On(i,e),t.appendChild(i)}function V0(n,r,t){z0(W0(n),"Literal",r,t)}function pp(n,r,t){n==="2.0.0"?z0(l5[n],"ValueReference",r,t):z0(a5[n],"PropertyName",r,t)}function jO(n,r){var t=Rn(cc,"TimeInstant");n.appendChild(t);var e=Rn(cc,"timePosition");t.appendChild(e),On(e,r)}function DO(n,r,t){var e=t[t.length-1],i=Object(Ir.a)({},e);i.node=n,An(i,U0,xo("Query"),r,t)}function W0(n){var r;return n==="2.0.0"?r=l5[n]:r=a5[n],r}var FU=LU,jU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bi={POINT:1,LINE_STRING:2,POLYGON:3,MULTI_POINT:4,MULTI_LINE_STRING:5,MULTI_POLYGON:6,GEOMETRY_COLLECTION:7,POLYHEDRAL_SURFACE:15,TIN:16,TRIANGLE:17},BO=function(){function n(r){this.view_=r,this.pos_=0,this.initialized_=!1,this.isLittleEndian_=!1,this.hasZ_=!1,this.hasM_=!1,this.srid_=null,this.layout_=gr.XY}return n.prototype.readUint8=function(){return this.view_.getUint8(this.pos_++)},n.prototype.readUint32=function(r){return this.view_.getUint32((this.pos_+=4)-4,r!==void 0?r:this.isLittleEndian_)},n.prototype.readDouble=function(r){return this.view_.getFloat64((this.pos_+=8)-8,r!==void 0?r:this.isLittleEndian_)},n.prototype.readPoint=function(){var r=[];return r.push(this.readDouble()),r.push(this.readDouble()),this.hasZ_&&r.push(this.readDouble()),this.hasM_&&r.push(this.readDouble()),r},n.prototype.readLineString=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readPoint());return t},n.prototype.readPolygon=function(){for(var r=this.readUint32(),t=[],e=0;e<r;e++)t.push(this.readLineString());return t},n.prototype.readWkbHeader=function(r){var t=this.readUint8(),e=t>0,i=this.readUint32(e),o=Math.floor((i&268435455)/1e3),a=Boolean(i&2147483648)||o===1||o===3,s=Boolean(i&1073741824)||o===2||o===3,c=Boolean(i&536870912),h=(i&268435455)%1e3,p=["XY",a?"Z":"",s?"M":""].join(""),m=c?this.readUint32(e):null;if(r!==void 0&&r!==h)throw new Error("Unexpected WKB geometry type "+h);if(this.initialized_){if(this.isLittleEndian_!==e)throw new Error("Inconsistent endian");if(this.layout_!==p)throw new Error("Inconsistent geometry layout");if(m&&this.srid_!==m)throw new Error("Inconsistent coordinate system (SRID)")}else this.isLittleEndian_=e,this.hasZ_=a,this.hasM_=s,this.layout_=p,this.srid_=m,this.initialized_=!0;return h},n.prototype.readWkbPayload=function(r){switch(r){case Bi.POINT:return this.readPoint();case Bi.LINE_STRING:return this.readLineString();case Bi.POLYGON:case Bi.TRIANGLE:return this.readPolygon();case Bi.MULTI_POINT:return this.readMultiPoint();case Bi.MULTI_LINE_STRING:return this.readMultiLineString();case Bi.MULTI_POLYGON:case Bi.POLYHEDRAL_SURFACE:case Bi.TIN:return this.readMultiPolygon();case Bi.GEOMETRY_COLLECTION:return this.readGeometryCollection();default:throw new Error("Unsupported WKB geometry type "+r+" is found")}},n.prototype.readWkbBlock=function(r){return this.readWkbPayload(this.readWkbHeader(r))},n.prototype.readWkbCollection=function(r,t){for(var e=this.readUint32(),i=[],o=0;o<e;o++){var a=r.call(this,t);a&&i.push(a)}return i},n.prototype.readMultiPoint=function(){return this.readWkbCollection(this.readWkbBlock,Bi.POINT)},n.prototype.readMultiLineString=function(){return this.readWkbCollection(this.readWkbBlock,Bi.LINE_STRING)},n.prototype.readMultiPolygon=function(){return this.readWkbCollection(this.readWkbBlock,Bi.POLYGON)},n.prototype.readGeometryCollection=function(){return this.readWkbCollection(this.readGeometry)},n.prototype.readGeometry=function(){var r=this.readWkbHeader(),t=this.readWkbPayload(r);switch(r){case Bi.POINT:return new kn(t,this.layout_);case Bi.LINE_STRING:return new zi(t,this.layout_);case Bi.POLYGON:case Bi.TRIANGLE:return new li(t,this.layout_);case Bi.MULTI_POINT:return new Ll(t,this.layout_);case Bi.MULTI_LINE_STRING:return new xs(t,this.layout_);case Bi.MULTI_POLYGON:case Bi.POLYHEDRAL_SURFACE:case Bi.TIN:return new Ua(t,this.layout_);case Bi.GEOMETRY_COLLECTION:return new ka(t);default:return null}},n.prototype.getSrid=function(){return this.srid_},n}(),DU=function(){function n(r){r=r||{},this.layout_=r.layout,this.isLittleEndian_=r.littleEndian!==!1,this.isEWKB_=r.ewkb!==!1,this.writeQueue_=[],this.nodata_=Object(Ir.a)({X:0,Y:0,Z:0,M:0},r.nodata)}return n.prototype.writeUint8=function(r){this.writeQueue_.push([1,r])},n.prototype.writeUint32=function(r){this.writeQueue_.push([4,r])},n.prototype.writeDouble=function(r){this.writeQueue_.push([8,r])},n.prototype.writePoint=function(r,t){for(var e=Ir.a.apply(null,t.split("").map(function(s,c){var h;return h={},h[s]=r[c],h})),i=0,o=this.layout_;i<o.length;i++){var a=o[i];this.writeDouble(a in e?e[a]:this.nodata_[a])}},n.prototype.writeLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writePoint(r[e],t)},n.prototype.writePolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeLineString(r[e],t)},n.prototype.writeWkbHeader=function(r,t){r%=1e3,this.layout_.indexOf("Z")>=0&&(r+=this.isEWKB_?2147483648:1e3),this.layout_.indexOf("M")>=0&&(r+=this.isEWKB_?1073741824:2e3),this.isEWKB_&&Number.isInteger(t)&&(r|=536870912),this.writeUint8(this.isLittleEndian_?1:0),this.writeUint32(r),this.isEWKB_&&Number.isInteger(t)&&this.writeUint32(t)},n.prototype.writeMultiPoint=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(1),this.writePoint(r[e],t)},n.prototype.writeMultiLineString=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(2),this.writeLineString(r[e],t)},n.prototype.writeMultiPolygon=function(r,t){this.writeUint32(r.length);for(var e=0;e<r.length;e++)this.writeWkbHeader(3),this.writePolygon(r[e],t)},n.prototype.writeGeometryCollection=function(r){this.writeUint32(r.length);for(var t=0;t<r.length;t++)this.writeGeometry(r[t])},n.prototype.findMinimumLayout=function(r,t){t===void 0&&(t=gr.XYZM);var e=function(a,s){return a===s?a:a===gr.XYZM?s:s===gr.XYZM?a:gr.XY};if(r instanceof ma)return e(r.getLayout(),t);if(r instanceof ka)for(var i=r.getGeometriesArray(),o=0;o<i.length&&t!==gr.XY;o++)t=this.findMinimumLayout(i[o],t);return t},n.prototype.writeGeometry=function(r,t){var e,i,o=(e={},e[$t.POINT]=Bi.POINT,e[$t.LINE_STRING]=Bi.LINE_STRING,e[$t.POLYGON]=Bi.POLYGON,e[$t.MULTI_POINT]=Bi.MULTI_POINT,e[$t.MULTI_LINE_STRING]=Bi.MULTI_LINE_STRING,e[$t.MULTI_POLYGON]=Bi.MULTI_POLYGON,e[$t.GEOMETRY_COLLECTION]=Bi.GEOMETRY_COLLECTION,e),a=r.getType(),s=o[a];if(!s)throw new Error("GeometryType "+a+" is not supported");if(this.layout_||(this.layout_=this.findMinimumLayout(r)),this.writeWkbHeader(s,t),r instanceof ma){var c=(i={},i[$t.POINT]=this.writePoint,i[$t.LINE_STRING]=this.writeLineString,i[$t.POLYGON]=this.writePolygon,i[$t.MULTI_POINT]=this.writeMultiPoint,i[$t.MULTI_LINE_STRING]=this.writeMultiLineString,i[$t.MULTI_POLYGON]=this.writeMultiPolygon,i);c[a].call(this,r.getCoordinates(),r.getLayout())}else r instanceof ka&&this.writeGeometryCollection(r.getGeometriesArray())},n.prototype.getBuffer=function(){var r=this,t=this.writeQueue_.reduce(function(a,s){return a+s[0]},0),e=new ArrayBuffer(t),i=new DataView(e),o=0;return this.writeQueue_.forEach(function(a){switch(a[0]){case 1:i.setUint8(o,a[1]);break;case 4:i.setUint32(o,a[1],r.isLittleEndian_);break;case 8:i.setFloat64(o,a[1],r.isLittleEndian_);break}o+=a[0]}),e},n}(),BU=function(n){jU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection=Boolean(i.splitCollection),e.viewCache_=null,e.hex_=i.hex!==!1,e.littleEndian_=i.littleEndian!==!1,e.ewkb_=i.ewkb!==!1,e.layout_=i.geometryLayout,e.nodataZ_=i.nodataZ||0,e.nodataM_=i.nodataM||0,e.srid_=i.srid,e}return r.prototype.getType=function(){return this.hex_?ru.TEXT:ru.ARRAY_BUFFER},r.prototype.readFeature=function(t,e){return new Xr({geometry:this.readGeometry(t,e)})},r.prototype.readFeatures=function(t,e){var i=[],o=this.readGeometry(t,e);return this.splitCollection&&o instanceof ka?i=o.getGeometriesArray():i=[o],i.map(function(a){return new Xr({geometry:a})})},r.prototype.readGeometry=function(t,e){var i=GO(t);if(!i)return null;var o=new BO(i),a=o.readGeometry();this.viewCache_=i;var s=this.getReadOptions(t,e);return this.viewCache_=null,vo(a,!1,s)},r.prototype.readProjection=function(t){var e=this.viewCache_||GO(t);if(!!e){var i=new BO(e);return i.readWkbHeader(),i.getSrid()&&an("EPSG:"+i.getSrid())||void 0}},r.prototype.writeFeature=function(t,e){return this.writeGeometry(t.getGeometry(),e)},r.prototype.writeFeatures=function(t,e){return this.writeGeometry(new ka(t.map(function(i){return i.getGeometry()})),e)},r.prototype.writeGeometry=function(t,e){var i=this.adaptOptions(e),o=new DU({layout:this.layout_,littleEndian:this.littleEndian_,ewkb:this.ewkb_,nodata:{Z:this.nodataZ_,M:this.nodataM_}}),a=Number.isInteger(this.srid_)?Number(this.srid_):null;if(this.srid_!==!1&&!Number.isInteger(this.srid_)){var s=i.dataProjection&&an(i.dataProjection);if(s){var c=s.getCode();c.indexOf("EPSG:")===0&&(a=Number(c.substring(5)))}}o.writeGeometry(vo(t,!0,i),a);var h=o.getBuffer();return this.hex_?GU(h):h},r}(ng);function GU(n){var r=new Uint8Array(n);return Array.from(r.values()).map(function(t){return(t<16?"0":"")+Number(t).toString(16).toUpperCase()}).join("")}function UU(n){for(var r=new Uint8Array(n.length/2),t=0;t<n.length/2;t++)r[t]=parseInt(n.substr(t*2,2),16);return new DataView(r.buffer)}function GO(n){return typeof n=="string"?UU(n):ArrayBuffer.isView(n)?n instanceof DataView?n:new DataView(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new DataView(n):null}var kU=BU,zU=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VU={POINT:kn,LINESTRING:zi,POLYGON:li,MULTIPOINT:Ll,MULTILINESTRING:xs,MULTIPOLYGON:Ua},UO="EMPTY",kO="Z",zO="M",WU="ZM",Ni={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},YU={};for(var VO in $t)YU[VO]=$t[VO].toUpperCase();var HU=function(){function n(r){this.wkt=r,this.index_=-1}return n.prototype.isAlpha_=function(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"},n.prototype.isNumeric_=function(r,t){var e=t!==void 0?t:!1;return r>="0"&&r<="9"||r=="."&&!e},n.prototype.isWhiteSpace_=function(r){return r==" "||r=="	"||r=="\r"||r==`
`},n.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},n.prototype.nextToken=function(){var r=this.nextChar_(),t=this.index_,e=r,i;if(r=="(")i=Ni.LEFT_PAREN;else if(r==",")i=Ni.COMMA;else if(r==")")i=Ni.RIGHT_PAREN;else if(this.isNumeric_(r)||r=="-")i=Ni.NUMBER,e=this.readNumber_();else if(this.isAlpha_(r))i=Ni.TEXT,e=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(r==="")i=Ni.EOF;else throw new Error("Unexpected character: "+r)}return{position:t,value:e,type:i}},n.prototype.readNumber_=function(){var r,t=this.index_,e=!1,i=!1;do r=="."?e=!0:(r=="e"||r=="E")&&(i=!0),r=this.nextChar_();while(this.isNumeric_(r,e)||!i&&(r=="e"||r=="E")||i&&(r=="-"||r=="+"));return parseFloat(this.wkt.substring(t,this.index_--))},n.prototype.readText_=function(){var r,t=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(t,this.index_--).toUpperCase()},n}(),XU=function(){function n(r){this.lexer_=r,this.token_={position:0,type:Ni.START},this.layout_=gr.XY}return n.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},n.prototype.isTokenType=function(r){return this.token_.type==r},n.prototype.match=function(r){var t=this.isTokenType(r);return t&&this.consume_(),t},n.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},n.prototype.parseGeometryLayout_=function(){var r=gr.XY,t=this.token_;if(this.isTokenType(Ni.TEXT)){var e=t.value;e===kO?r=gr.XYZ:e===zO?r=gr.XYM:e===WU&&(r=gr.XYZM),r!==gr.XY&&this.consume_()}return r},n.prototype.parseGeometryCollectionText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=[];do r.push(this.parseGeometry_());while(this.match(Ni.COMMA));if(this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePointText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=this.parsePoint_();if(this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseLineStringText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=this.parsePointList_();if(this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePolygonText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPointText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=void 0;if(this.token_.type==Ni.LEFT_PAREN?r=this.parsePointTextList_():r=this.parsePointList_(),this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiLineStringText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=this.parseLineStringTextList_();if(this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parseMultiPolygonText_=function(){if(this.match(Ni.LEFT_PAREN)){var r=this.parsePolygonTextList_();if(this.match(Ni.RIGHT_PAREN))return r}throw new Error(this.formatErrorMessage_())},n.prototype.parsePoint_=function(){for(var r=[],t=this.layout_.length,e=0;e<t;++e){var i=this.token_;if(this.match(Ni.NUMBER))r.push(i.value);else break}if(r.length==t)return r;throw new Error(this.formatErrorMessage_())},n.prototype.parsePointList_=function(){for(var r=[this.parsePoint_()];this.match(Ni.COMMA);)r.push(this.parsePoint_());return r},n.prototype.parsePointTextList_=function(){for(var r=[this.parsePointText_()];this.match(Ni.COMMA);)r.push(this.parsePointText_());return r},n.prototype.parseLineStringTextList_=function(){for(var r=[this.parseLineStringText_()];this.match(Ni.COMMA);)r.push(this.parseLineStringText_());return r},n.prototype.parsePolygonTextList_=function(){for(var r=[this.parsePolygonText_()];this.match(Ni.COMMA);)r.push(this.parsePolygonText_());return r},n.prototype.isEmptyGeometry_=function(){var r=this.isTokenType(Ni.TEXT)&&this.token_.value==UO;return r&&this.consume_(),r},n.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},n.prototype.parseGeometry_=function(){var r=this.token_;if(this.match(Ni.TEXT)){var t=r.value;this.layout_=this.parseGeometryLayout_();var e=this.isEmptyGeometry_();if(t=="GEOMETRYCOLLECTION"){if(e)return new ka([]);var i=this.parseGeometryCollectionText_();return new ka(i)}else{var o=VU[t];if(!o)throw new Error("Invalid geometry type: "+t);var a=void 0;if(e)t=="POINT"?a=[NaN,NaN]:a=[];else switch(t){case"POINT":{a=this.parsePointText_();break}case"LINESTRING":{a=this.parseLineStringText_();break}case"POLYGON":{a=this.parsePolygonText_();break}case"MULTIPOINT":{a=this.parseMultiPointText_();break}case"MULTILINESTRING":{a=this.parseMultiLineStringText_();break}case"MULTIPOLYGON":{a=this.parseMultiPolygonText_();break}}return new o(a,this.layout_)}}throw new Error(this.formatErrorMessage_())},n}(),KU=function(n){zU(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.splitCollection_=i.splitCollection!==void 0?i.splitCollection:!1,e}return r.prototype.parse_=function(t){var e=new HU(t),i=new XU(e);return i.parse()},r.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e),o=new Xr;return o.setGeometry(i),o},r.prototype.readFeaturesFromText=function(t,e){var i=[],o=this.readGeometryFromText(t,e);this.splitCollection_&&o.getType()==$t.GEOMETRY_COLLECTION?i=o.getGeometriesArray():i=[o];for(var a=[],s=0,c=i.length;s<c;++s){var h=new Xr;h.setGeometry(i[s]),a.push(h)}return a},r.prototype.readGeometryFromText=function(t,e){var i=this.parse_(t);return vo(i,!1,e)},r.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):""},r.prototype.writeFeaturesText=function(t,e){if(t.length==1)return this.writeFeatureText(t[0],e);for(var i=[],o=0,a=t.length;o<a;++o)i.push(t[o].getGeometry());var s=new ka(i);return this.writeGeometryText(s,e)},r.prototype.writeGeometryText=function(t,e){return HO(vo(t,!0,e))},r}(Y2);function WO(n){var r=n.getCoordinates();return r.length===0?"":r.join(" ")}function $U(n){for(var r=[],t=n.getPoints(),e=0,i=t.length;e<i;++e)r.push("("+WO(t[e])+")");return r.join(",")}function ZU(n){for(var r=[],t=n.getGeometries(),e=0,i=t.length;e<i;++e)r.push(HO(t[e]));return r.join(",")}function f5(n){for(var r=n.getCoordinates(),t=[],e=0,i=r.length;e<i;++e)t.push(r[e].join(" "));return t.join(",")}function qU(n){for(var r=[],t=n.getLineStrings(),e=0,i=t.length;e<i;++e)r.push("("+f5(t[e])+")");return r.join(",")}function YO(n){for(var r=[],t=n.getLinearRings(),e=0,i=t.length;e<i;++e)r.push("("+f5(t[e])+")");return r.join(",")}function JU(n){for(var r=[],t=n.getPolygons(),e=0,i=t.length;e<i;++e)r.push("("+YO(t[e])+")");return r.join(",")}function QU(n){var r=n.getLayout(),t="";return(r===gr.XYZ||r===gr.XYZM)&&(t+=kO),(r===gr.XYM||r===gr.XYZM)&&(t+=zO),t}var tk={Point:WO,LineString:f5,Polygon:YO,MultiPoint:$U,MultiLineString:qU,MultiPolygon:JU,GeometryCollection:ZU};function HO(n){var r=n.getType(),t=tk[r],e=t(n);if(r=r.toUpperCase(),typeof n.getFlatCoordinates=="function"){var i=QU(n);i.length>0&&(r+=" "+i)}return e.length===0?r+" "+UO:r+"("+e+")"}var ek=KU,rk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oa=[null,"http://www.opengis.net/wms"],nk=Ke(Oa,{Service:ee(Ok),Capability:ee(wk)}),ik=Ke(Oa,{Request:ee(Pk),Exception:ee(Ak),Layer:ee(Lk)}),ok=function(n){rk(r,n);function r(){var t=n.call(this)||this;return t.version=void 0,t}return r.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=sr({version:this.version},nk,t,[]);return e||null},r}(r5),ak=Ke(Oa,{Name:ee(fr),Title:ee(fr),Abstract:ee(fr),KeywordList:ee(ZO),OnlineResource:ee(fp),ContactInformation:ee(Tk),Fees:ee(fr),AccessConstraints:ee(fr),LayerLimit:ee(Vo),MaxWidth:ee(Vo),MaxHeight:ee(Vo)}),sk=Ke(Oa,{ContactPersonPrimary:ee(bk),ContactPosition:ee(fr),ContactAddress:ee(Ck),ContactVoiceTelephone:ee(fr),ContactFacsimileTelephone:ee(fr),ContactElectronicMailAddress:ee(fr)}),lk=Ke(Oa,{ContactPerson:ee(fr),ContactOrganization:ee(fr)}),uk=Ke(Oa,{AddressType:ee(fr),Address:ee(fr),City:ee(fr),StateOrProvince:ee(fr),PostCode:ee(fr),Country:ee(fr)}),ck=Ke(Oa,{Format:en(fr)}),XO=Ke(Oa,{Name:ee(fr),Title:ee(fr),Abstract:ee(fr),KeywordList:ee(ZO),CRS:eo(fr),EX_GeographicBoundingBox:ee(Sk),BoundingBox:eo(xk),Dimension:eo(Rk),Attribution:ee(Ek),AuthorityURL:eo(Nk),Identifier:eo(fr),MetadataURL:eo(Fk),DataURL:eo(pc),FeatureListURL:eo(pc),Style:eo(jk),MinScaleDenominator:ee(Ci),MaxScaleDenominator:ee(Ci),Layer:eo(KO)}),fk=Ke(Oa,{Title:ee(fr),OnlineResource:ee(fp),LogoURL:ee($O)}),hk=Ke(Oa,{westBoundLongitude:ee(Ci),eastBoundLongitude:ee(Ci),southBoundLatitude:ee(Ci),northBoundLatitude:ee(Ci)}),dk=Ke(Oa,{GetCapabilities:ee(h5),GetMap:ee(h5),GetFeatureInfo:ee(h5)}),pk=Ke(Oa,{Format:eo(fr),DCPType:eo(Ik)}),vk=Ke(Oa,{HTTP:ee(Mk)}),gk=Ke(Oa,{Get:ee(pc),Post:ee(pc)}),yk=Ke(Oa,{Name:ee(fr),Title:ee(fr),Abstract:ee(fr),LegendURL:eo($O),StyleSheetURL:ee(pc),StyleURL:ee(pc)}),mk=Ke(Oa,{Format:ee(fr),OnlineResource:ee(fp)}),_k=Ke(Oa,{Keyword:en(fr)});function Ek(n,r){return sr({},fk,n,r)}function xk(n,r){var t=[fc(n.getAttribute("minx")),fc(n.getAttribute("miny")),fc(n.getAttribute("maxx")),fc(n.getAttribute("maxy"))],e=[fc(n.getAttribute("resx")),fc(n.getAttribute("resy"))];return{crs:n.getAttribute("CRS"),extent:t,res:e}}function Sk(n,r){var t=sr({},hk,n,r);if(!!t){var e=t.westBoundLongitude,i=t.southBoundLatitude,o=t.eastBoundLongitude,a=t.northBoundLatitude;if(!(e===void 0||i===void 0||o===void 0||a===void 0))return[e,i,o,a]}}function wk(n,r){return sr({},ik,n,r)}function Ok(n,r){return sr({},ak,n,r)}function Tk(n,r){return sr({},sk,n,r)}function bk(n,r){return sr({},lk,n,r)}function Ck(n,r){return sr({},uk,n,r)}function Ak(n,r){return sr([],ck,n,r)}function Lk(n,r){var t=sr({},XO,n,r);return t.Layer===void 0?Object.assign(t,KO(n,r)):t}function KO(n,r){var t=r[r.length-1],e=sr({},XO,n,r);if(!!e){var i=Mh(n.getAttribute("queryable"));i===void 0&&(i=t.queryable),e.queryable=i!==void 0?i:!1;var o=hc(n.getAttribute("cascaded"));o===void 0&&(o=t.cascaded),e.cascaded=o;var a=Mh(n.getAttribute("opaque"));a===void 0&&(a=t.opaque),e.opaque=a!==void 0?a:!1;var s=Mh(n.getAttribute("noSubsets"));s===void 0&&(s=t.noSubsets),e.noSubsets=s!==void 0?s:!1;var c=fc(n.getAttribute("fixedWidth"));c||(c=t.fixedWidth),e.fixedWidth=c;var h=fc(n.getAttribute("fixedHeight"));h||(h=t.fixedHeight),e.fixedHeight=h;var p=["Style","CRS","AuthorityURL"];p.forEach(function(w){if(w in t){var R=e[w]||[];e[w]=R.concat(t[w])}});var m=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return m.forEach(function(w){if(!(w in e)){var R=t[w];e[w]=R}}),e}}function Rk(n,r){var t={name:n.getAttribute("name"),units:n.getAttribute("units"),unitSymbol:n.getAttribute("unitSymbol"),default:n.getAttribute("default"),multipleValues:Mh(n.getAttribute("multipleValues")),nearestValue:Mh(n.getAttribute("nearestValue")),current:Mh(n.getAttribute("current")),values:fr(n)};return t}function pc(n,r){return sr({},mk,n,r)}function Pk(n,r){return sr({},dk,n,r)}function Ik(n,r){return sr({},vk,n,r)}function Mk(n,r){return sr({},gk,n,r)}function h5(n,r){return sr({},pk,n,r)}function $O(n,r){var t=pc(n,r);if(t){var e=[hc(n.getAttribute("width")),hc(n.getAttribute("height"))];return t.size=e,t}}function Nk(n,r){var t=pc(n,r);if(t)return t.name=n.getAttribute("name"),t}function Fk(n,r){var t=pc(n,r);if(t)return t.type=n.getAttribute("type"),t}function jk(n,r){return sr({},yk,n,r)}function ZO(n,r){return sr([],_k,n,r)}var Dk=ok,Bk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gk="_feature",Uk="_layer",kk=function(n){Bk(r,n);function r(t){var e=n.call(this)||this,i=t||{};return e.featureNS_="http://mapserver.gis.umn.edu/mapserver",e.gmlFormat_=new lp,e.layers_=i.layers?i.layers:null,e}return r.prototype.getLayers=function(){return this.layers_},r.prototype.setLayers=function(t){this.layers_=t},r.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var i=t.localName,o=[];if(t.childNodes.length===0)return o;if(i=="msGMLOutput")for(var a=0,s=t.childNodes.length;a<s;a++){var c=t.childNodes[a];if(c.nodeType===Node.ELEMENT_NODE){var h=c,p=e[0],m=Uk,w=h.localName.replace(m,"");if(!(this.layers_&&!Object(br.f)(this.layers_,w))){var R=w+Gk;p.featureType=R,p.featureNS=this.featureNS_;var M={};M[R]=en(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var U=Ke([p.featureNS,null],M);h.setAttribute("namespaceURI",this.featureNS_);var Z=sr([],U,h,e,this.gmlFormat_);Z&&Object(br.c)(o,Z)}}}if(i=="FeatureCollection"){var lt=sr([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);lt&&(o=lt)}return o},r.prototype.readFeaturesFromNode=function(t,e){var i={};return e&&Object(Ir.a)(i,this.getReadOptions(t,e)),this.readFeatures_(t,[i])},r}(og),zk=kk,Vk=function(){var n=function(r,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},n(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gu=[null,"http://www.opengis.net/wmts/1.0"],vp=[null,"http://www.opengis.net/ows/1.1"],Wk=Ke(Gu,{Contents:ee(rz)}),Yk=function(n){Vk(r,n);function r(){var t=n.call(this)||this;return t.owsParser_=new fO,t}return r.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var i=this.owsParser_.readFromNode(t);return i?(i.version=e,i=sr(i,Wk,t,[]),i||null):null},r}(r5),Hk=Ke(Gu,{Layer:eo(nz),TileMatrixSet:eo(iz)}),Xk=Ke(Gu,{Style:eo(oz),Format:eo(fr),TileMatrixSetLink:eo(az),Dimension:eo(sz),ResourceURL:eo(lz)},Ke(vp,{Title:ee(fr),Abstract:ee(fr),WGS84BoundingBox:ee(qO),Identifier:ee(fr)})),Kk=Ke(Gu,{LegendURL:eo(uz)},Ke(vp,{Title:ee(fr),Identifier:ee(fr)})),$k=Ke(Gu,{TileMatrixSet:ee(fr),TileMatrixSetLimits:ee(fz)}),Zk=Ke(Gu,{TileMatrixLimits:en(hz)}),qk=Ke(Gu,{TileMatrix:ee(fr),MinTileRow:ee(Vo),MaxTileRow:ee(Vo),MinTileCol:ee(Vo),MaxTileCol:ee(Vo)}),Jk=Ke(Gu,{Default:ee(fr),Value:eo(fr)},Ke(vp,{Identifier:ee(fr)})),Qk=Ke(vp,{LowerCorner:en(d5),UpperCorner:en(d5)}),tz=Ke(Gu,{WellKnownScaleSet:ee(fr),TileMatrix:eo(cz)},Ke(vp,{SupportedCRS:ee(fr),Identifier:ee(fr),BoundingBox:ee(qO)})),ez=Ke(Gu,{TopLeftCorner:ee(d5),ScaleDenominator:ee(Ci),TileWidth:ee(Vo),TileHeight:ee(Vo),MatrixWidth:ee(Vo),MatrixHeight:ee(Vo)},Ke(vp,{Identifier:ee(fr)}));function rz(n,r){return sr({},Hk,n,r)}function nz(n,r){return sr({},Xk,n,r)}function iz(n,r){return sr({},tz,n,r)}function oz(n,r){var t=sr({},Kk,n,r);if(!!t){var e=n.getAttribute("isDefault")==="true";return t.isDefault=e,t}}function az(n,r){return sr({},$k,n,r)}function sz(n,r){return sr({},Jk,n,r)}function lz(n,r){var t=n.getAttribute("format"),e=n.getAttribute("template"),i=n.getAttribute("resourceType"),o={};return t&&(o.format=t),e&&(o.template=e),i&&(o.resourceType=i),o}function qO(n,r){var t=sr([],Qk,n,r);if(t.length==2)return Lt(t)}function uz(n,r){var t={};return t.format=n.getAttribute("format"),t.href=fp(n),t}function d5(n,r){var t=fr(n).split(/\s+/);if(!(!t||t.length!=2)){var e=+t[0],i=+t[1];if(!(isNaN(e)||isNaN(i)))return[e,i]}}function cz(n,r){return sr({},ez,n,r)}function fz(n,r){return sr([],Zk,n,r)}function hz(n,r){return sr({},qk,n,r)}var dz=Yk;function Y0(n){if(Y0.installed){console.error("OPENLAYERS MAP ALREADY INSTALLED");return}Y0.installed=!0,n.use(O),n.use(D),n.use(F),n.use(L),n.use(B),n.use(H),n.use(W),n.use($),n.provide("ol-feature",Xr),n.provide("ol-geom",q),n.provide("ol-animations",y),n.provide("ol-format",tt),n.provide("ol-loadingstrategy",b),n.provide("ol-selectconditions",_),n.provide("ol-extent",v)}d.default=Y0},fb6a:function(f,d,u){var v=u("23e7"),y=u("da84"),_=u("e8b5"),O=u("68ee"),b=u("861d"),D=u("23cb"),F=u("07fa"),L=u("fc6a"),B=u("8418"),H=u("b622"),W=u("1dde"),$=u("f36a"),q=W("slice"),tt=H("species"),J=y.Array,_t=Math.max;v({target:"Array",proto:!0,forced:!q},{slice:function(I,Et){var bt=L(this),Nt=F(bt),ct=D(I,Nt),jt=D(Et===void 0?Nt:Et,Nt),gt,St,Dt;if(_(bt)&&(gt=bt.constructor,O(gt)&&(gt===J||_(gt.prototype))?gt=void 0:b(gt)&&(gt=gt[tt],gt===null&&(gt=void 0)),gt===J||gt===void 0))return $(bt,ct,jt);for(St=new(gt===void 0?J:gt)(_t(jt-ct,0)),Dt=0;ct<jt;ct++,Dt++)ct in bt&&B(St,Dt,bt[ct]);return St.length=Dt,St}})},fc6a:function(f,d,u){var v=u("44ad"),y=u("1d80");f.exports=function(_){return v(y(_))}},fce3:function(f,d,u){var v=u("d039"),y=u("da84"),_=y.RegExp;f.exports=v(function(){var O=_(".","s");return!(O.dotAll&&O.exec(`
`)&&O.flags==="s")})},fdbc:function(f,d){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(f,d,u){var v=u("4930");f.exports=v&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}})})(bA);var CZ=aX(bA.exports);const AZ=YC(WY);AZ.use(CZ).use(HE).mount("#app");
